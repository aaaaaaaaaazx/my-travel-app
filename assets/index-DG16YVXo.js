(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ad={exports:{}},dl={};var w_;function hb(){if(w_)return dl;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var R_;function fb(){return R_||(R_=1,Ad.exports=hb()),Ad.exports}var M=fb(),wd={exports:{}},Tt={};var C_;function db(){if(C_)return Tt;C_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function dt(O,X,st){this.props=O,this.context=X,this.refs=et,this.updater=st||Z}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function mt(){}mt.prototype=dt.prototype;function pt(O,X,st){this.props=O,this.context=X,this.refs=et,this.updater=st||Z}var Gt=pt.prototype=new mt;Gt.constructor=pt,nt(Gt,dt.prototype),Gt.isPureReactComponent=!0;var ee=Array.isArray;function Ct(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,X,st){var at=st.ref;return{$$typeof:r,type:O,key:X,ref:at!==void 0?at:null,props:st}}function V(O,X){return I(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return X[st]})}var R=/\/+/g;function ne(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function W(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,X,st,at,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case b:return Ut=O._init,B(Ut(O._payload),X,st,at,_t)}}if(Ut)return _t=_t(O),Ut=at===""?"."+ne(O,0):at,ee(_t)?(st="",Ut!=null&&(st=Ut.replace(R,"$&/")+"/"),B(_t,X,st,"",function(sr){return sr})):_t!=null&&(D(_t)&&(_t=V(_t,st+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Ut)),X.push(_t)),1;Ut=0;var xe=at===""?".":at+":";if(ee(O))for(var oe=0;oe<O.length;oe++)at=O[oe],wt=xe+ne(at,oe),Ut+=B(at,X,st,wt,_t);else if(oe=G(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(at=O.next()).done;)at=at.value,wt=xe+ne(at,oe++),Ut+=B(at,X,st,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return B(W(O),X,st,at,_t);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function K(O,X,st){if(O==null)return O;var at=[],_t=0;return B(O,at,"","",function(wt){return X.call(st,wt,_t++)}),at}function it(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Pt={map:K,forEach:function(O,X,st){K(O,function(){X.apply(this,arguments)},st)},count:function(O){var X=0;return K(O,function(){X++}),X},toArray:function(O){return K(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=A,Tt.Children=Pt,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=pt,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,X,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=nt({},O.props),_t=O.key;if(X!=null)for(wt in X.key!==void 0&&(_t=""+X.key),X)!S.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(at[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)at.children=st;else if(1<wt){for(var Ut=Array(wt),xe=0;xe<wt;xe++)Ut[xe]=arguments[xe+2];at.children=Ut}return I(O.type,_t,at)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,X,st){var at,_t={},wt=null;if(X!=null)for(at in X.key!==void 0&&(wt=""+X.key),X)S.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=X[at]);var Ut=arguments.length-2;if(Ut===1)_t.children=st;else if(1<Ut){for(var xe=Array(Ut),oe=0;oe<Ut;oe++)xe[oe]=arguments[oe+2];_t.children=xe}if(O&&O.defaultProps)for(at in Ut=O.defaultProps,Ut)_t[at]===void 0&&(_t[at]=Ut[at]);return I(O,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:g,render:O}},Tt.isValidElement=D,Tt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:it}},Tt.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},Tt.startTransition=function(O){var X=N.T,st={};N.T=st;try{var at=O(),_t=N.S;_t!==null&&_t(st,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,vt)}catch(wt){vt(wt)}finally{X!==null&&st.types!==null&&(X.types=st.types),N.T=X}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(O){return N.H.use(O)},Tt.useActionState=function(O,X,st){return N.H.useActionState(O,X,st)},Tt.useCallback=function(O,X){return N.H.useCallback(O,X)},Tt.useContext=function(O){return N.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,X){return N.H.useDeferredValue(O,X)},Tt.useEffect=function(O,X){return N.H.useEffect(O,X)},Tt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(O,X,st){return N.H.useImperativeHandle(O,X,st)},Tt.useInsertionEffect=function(O,X){return N.H.useInsertionEffect(O,X)},Tt.useLayoutEffect=function(O,X){return N.H.useLayoutEffect(O,X)},Tt.useMemo=function(O,X){return N.H.useMemo(O,X)},Tt.useOptimistic=function(O,X){return N.H.useOptimistic(O,X)},Tt.useReducer=function(O,X,st){return N.H.useReducer(O,X,st)},Tt.useRef=function(O){return N.H.useRef(O)},Tt.useState=function(O){return N.H.useState(O)},Tt.useSyncExternalStore=function(O,X,st){return N.H.useSyncExternalStore(O,X,st)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.4",Tt}var I_;function gm(){return I_||(I_=1,wd.exports=db()),wd.exports}var Yt=gm(),Rd={exports:{}},ml={},Cd={exports:{}},Id={};var N_;function mb(){return N_||(N_=1,(function(r){function t(B,K){var it=B.length;B.push(K);t:for(;0<it;){var vt=it-1>>>1,Pt=B[vt];if(0<l(Pt,K))B[vt]=K,B[it]=Pt,it=vt;else break t}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var K=B[0],it=B.pop();if(it!==K){B[0]=it;t:for(var vt=0,Pt=B.length,O=Pt>>>1;vt<O;){var X=2*(vt+1)-1,st=B[X],at=X+1,_t=B[at];if(0>l(st,it))at<Pt&&0>l(_t,st)?(B[vt]=_t,B[at]=it,vt=at):(B[vt]=st,B[X]=it,vt=X);else if(at<Pt&&0>l(_t,it))B[vt]=_t,B[at]=it,vt=at;else break t}}return K}function l(B,K){var it=B.sortIndex-K.sortIndex;return it!==0?it:B.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,A=null,w=3,G=!1,Z=!1,nt=!1,et=!1,dt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Gt(B){for(var K=i(y);K!==null;){if(K.callback===null)a(y);else if(K.startTime<=B)a(y),K.sortIndex=K.expirationTime,t(v,K);else break;K=i(y)}}function ee(B){if(nt=!1,Gt(B),!Z)if(i(v)!==null)Z=!0,Ct||(Ct=!0,U());else{var K=i(y);K!==null&&W(ee,K.startTime-B)}}var Ct=!1,N=-1,S=5,I=-1;function V(){return et?!0:!(r.unstable_now()-I<S)}function D(){if(et=!1,Ct){var B=r.unstable_now();I=B;var K=!0;try{t:{Z=!1,nt&&(nt=!1,mt(N),N=-1),G=!0;var it=w;try{e:{for(Gt(B),A=i(v);A!==null&&!(A.expirationTime>B&&V());){var vt=A.callback;if(typeof vt=="function"){A.callback=null,w=A.priorityLevel;var Pt=vt(A.expirationTime<=B);if(B=r.unstable_now(),typeof Pt=="function"){A.callback=Pt,Gt(B),K=!0;break e}A===i(v)&&a(v),Gt(B)}else a(v);A=i(v)}if(A!==null)K=!0;else{var O=i(y);O!==null&&W(ee,O.startTime-B),K=!1}}break t}finally{A=null,w=it,G=!1}K=void 0}}finally{K?U():Ct=!1}}}var U;if(typeof pt=="function")U=function(){pt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=D,U=function(){ne.postMessage(null)}}else U=function(){dt(D,0)};function W(B,K){N=dt(function(){B(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(B){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var it=w;w=K;try{return B()}finally{w=it}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var it=w;w=B;try{return K()}finally{w=it}},r.unstable_scheduleCallback=function(B,K,it){var vt=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?vt+it:vt):it=vt,B){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=it+Pt,B={id:b++,callback:K,priorityLevel:B,startTime:it,expirationTime:Pt,sortIndex:-1},it>vt?(B.sortIndex=it,t(y,B),i(v)===null&&B===i(y)&&(nt?(mt(N),N=-1):nt=!0,W(ee,it-vt))):(B.sortIndex=Pt,t(v,B),Z||G||(Z=!0,Ct||(Ct=!0,U()))),B},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(B){var K=w;return function(){var it=w;w=K;try{return B.apply(this,arguments)}finally{w=it}}}})(Id)),Id}var x_;function pb(){return x_||(x_=1,Cd.exports=mb()),Cd.exports}var Nd={exports:{}},Ye={};var D_;function gb(){if(D_)return Ye;D_=1;var r=gm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:G}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:w,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var O_;function yb(){if(O_)return Nd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=gb(),Nd.exports}var M_;function _b(){if(M_)return ml;M_=1;var r=pb(),t=gm(),i=yb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case et:return"StrictMode";case ee:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case pt:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var W=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},vt=[],Pt=-1;function O(e){return{current:e}}function X(e){0>Pt||(e.current=vt[Pt],vt[Pt]=null,Pt--)}function st(e,n){Pt++,vt[Pt]=e.current,e.current=n}var at=O(null),_t=O(null),wt=O(null),Ut=O(null);function xe(e,n){switch(st(wt,n),st(_t,e),st(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yy(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),st(at,e)}function oe(){X(at),X(_t),X(wt)}function sr(e){e.memoizedState!==null&&st(Ut,e);var n=at.current,s=Xy(n,e.type);n!==s&&(st(_t,e),st(at,s))}function Qr(e){_t.current===e&&(X(at),X(_t)),Ut.current===e&&(X(Ut),ul._currentValue=it)}var Kr,Yr;function Wn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Yr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Yr}var lo=!1;function rr(e,n){if(!e||lo)return"";lo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return Wn("Activity");default:return""}}function co(e){try{var n="",s=null;do n+=uo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,wh=r.unstable_shouldYield,$l=r.unstable_requestPaint,tn=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,fo=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Rh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Zl=r.log,Wl=r.unstable_setDisableYieldValue,Pn=null,ze=null;function Sn(e){if(typeof Zl=="function"&&Wl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var de=Math.clz32?Math.clz32:eu,tu=Math.log,Xr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Xr|0)|0}var ti=256,or=262144,ve=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=o&~f,E!==0?h=ei(E):p!==0?h=ei(p):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-de(s),Y=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function jn(e,n){var s=K.p;try{return K.p=e,n()}finally{K.p=s}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,ke="__reactProps$"+Bn,si="__reactContainer$"+Bn,$r="__reactEvents$"+Bn,Nh="__reactListeners$"+Bn,su="__reactHandles$"+Bn,ru="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Jr(e){delete e[Ee],delete e[ke],delete e[$r],delete e[Nh],delete e[su]}function ai(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=n_(e);e!==null;){if(s=e[Ee])return s;e=n_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[Ee]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ri]=!0}var go=new Set,yo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(yo[e]=n,e=0;e<n.length;e++)go.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function au(e){return _e.call(Eo,e)?!0:_e.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function Zr(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=os(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function sn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?bo(e,p,Ue(n)):s!=null?bo(e,p,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function bo(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function us(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(W(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ao(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var wo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,hi=null;function dr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));Wr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var na=!1;function fs(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(hs!==null||hi!==null)&&(ic(),hs&&(n=hs,e=hi,hi=hs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){mr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{mr=!1}var fi=null,Ro=null,pr=null;function Co(){if(pr)return pr;var e,n=Ro,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return pr=h.slice(e,1<o?1-o:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Gn(){return!1}function je(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Oi),ds=A({},Oi,{view:0,detail:0}),Io=je(ds),ms,ia,mi,sa=A({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ms=e.screenX-mi.screenX,ia=e.screenY-mi.screenY):ia=ms=0,mi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),No=je(sa),yr=A({},sa,{dataTransfer:0}),hu=je(yr),fu=A({},ds,{relatedTarget:0}),_r=je(fu),xo=A({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=je(xo),ra=A({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=je(ra),pu=A({},Oi,{data:0}),pi=je(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function ps(){return vu}var en=A({},ds,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=je(en),Tu=A({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=je(Tu),u=A({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=je(u),_=A({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=A({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(L),tt=A({},Oi,{newState:0,oldState:0}),St=je(tt),me=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,le=null;Rn&&"documentMode"in document&&(le=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!le,gi=Rn&&(!Bt||le&&8<le&&11>=le),Fn=" ",Qn=!1;function vr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function kE(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function UE(e,n){if(oa)return e==="compositionend"||!Bt&&vr(e,n)?(e=Co(),pr=Ro=fi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var LE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!LE[e.type]:n==="textarea"}function ap(e,n,s,o){hs?hi?hi.push(o):hi=[o]:hs=o,n=cc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Do=null,Oo=null;function PE(e){qy(e,0)}function bu(e){var n=dn(e);if(hr(n))return e}function op(e,n){if(e==="change")return n}var lp=!1;if(Rn){var xh;if(Rn){var Dh="oninput"in document;if(!Dh){var up=document.createElement("div");up.setAttribute("oninput","return;"),Dh=typeof up.oninput=="function"}xh=Dh}else xh=!1;lp=xh&&(!document.documentMode||9<document.documentMode)}function cp(){Do&&(Do.detachEvent("onpropertychange",hp),Oo=Do=null)}function hp(e){if(e.propertyName==="value"&&bu(Oo)){var n=[];ap(n,Oo,e,wn(e)),fs(PE,n)}}function zE(e,n,s){e==="focusin"?(cp(),Do=n,Oo=s,Do.attachEvent("onpropertychange",hp)):e==="focusout"&&cp()}function jE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Oo)}function BE(e,n){if(e==="click")return bu(n)}function qE(e,n){if(e==="input"||e==="change")return bu(n)}function HE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:HE;function Mo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,n){var s=fp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=fp(s)}}function mp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var GE=Rn&&"documentMode"in document&&11>=document.documentMode,la=null,Mh=null,Vo=null,Vh=!1;function gp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vh||la==null||la!==ci(o)||(o=la,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=cc(Mh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},kh={},yp={};Rn&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Tr(e){if(kh[e])return kh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in yp)return kh[e]=n[s];return e}var _p=Tr("animationend"),vp=Tr("animationiteration"),Ep=Tr("animationstart"),FE=Tr("transitionrun"),QE=Tr("transitionstart"),KE=Tr("transitioncancel"),Tp=Tr("transitionend"),bp=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Kn(e,n){bp.set(e,n),li(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ca=0,Lh=0;function Au(){for(var e=ca,n=Lh=ca=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Sp(s,h,f)}}function wu(e,n,s,o){In[ca++]=e,In[ca++]=n,In[ca++]=s,In[ca++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,s,o){return wu(e,n,s,o),Ru(e)}function br(e,n){return wu(e,null,null,n),Ru(e)}function Sp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<nl)throw nl=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function YE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new YE(e,n,s,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ap(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")zh(e)&&(p=1);else if(typeof e=="string")p=WT(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return Sr(s.children,h,f,n);case et:p=8,h|=24;break;case dt:return e=gn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ee:return e=gn(13,s,n,h),e.elementType=ee,e.lanes=f,e;case Ct:return e=gn(19,s,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case mt:p=9;break t;case Gt:p=11;break t;case N:p=14;break t;case S:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function jh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function wp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Rp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:co(n)},Rp.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var fa=[],da=0,Iu=null,ko=0,xn=[],Dn=0,gs=null,yi=1,_i="";function ki(e,n){fa[da++]=ko,fa[da++]=Iu,Iu=e,ko=n}function Cp(e,n,s){xn[Dn++]=yi,xn[Dn++]=_i,xn[Dn++]=gs,gs=e;var o=yi;e=_i;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-de(n)+h|s<<h|o,_i=f+e}else yi=1<<f|s<<h|o,_i=e}function qh(e){e.return!==null&&(ki(e,1),Cp(e,1,0))}function Hh(e){for(;e===Iu;)Iu=fa[--da],fa[da]=null,ko=fa[--da],fa[da]=null;for(;e===gs;)gs=xn[--Dn],xn[Dn]=null,_i=xn[--Dn],xn[Dn]=null,yi=xn[--Dn],xn[Dn]=null}function Ip(e,n){xn[Dn++]=yi,xn[Dn++]=_i,xn[Dn++]=gs,yi=n.id,_i=n.overflow,gs=e}var Be=null,ie=null,kt=!1,ys=null,On=!1,Gh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Nn(n,e)),Gh}function Np(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[ke]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<sl.length;s++)Nt(sl[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),us(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Qy(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_s(e,!0)}function xp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ma(e){if(e!==Be)return!1;if(!kt)return xp(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ud(e.type,e.memoizedProps)),s=!s),s&&ie&&_s(e),xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=e_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=e_(e)}else n===27?(n=ie,Os(e.type)?(e=md,md=null,ie=e):ie=n):ie=Be?Vn(e.stateNode.nextSibling):null;return!0}function Ar(){ie=Be=null,kt=!1}function Fh(){var e=ys;return e!==null&&(un===null?un=e:un.push.apply(un,e),ys=null),e}function Uo(e){ys===null?ys=[e]:ys.push(e)}var Qh=O(null),wr=null,Ui=null;function vs(e,n,s){st(Qh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Qh.current,X(Qh)}function Kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Kh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Dp(wr,e)}function xu(e,n){return wr===null&&Rr(e),Dp(e,n)}function Dp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var XE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},$E=r.unstable_scheduleCallback,JE=r.unstable_NormalPriority,Se={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new XE,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&$E(JE,function(){e.controller.abort()})}var Po=null,$h=0,ga=0,ya=null;function ZE(e,n){if(Po===null){var s=Po=[];$h=0,ga=td(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return $h++,n.then(Op,Op),n}function Op(){if(--$h===0&&Po!==null){ya!==null&&(ya.status="fulfilled");var e=Po;Po=null,ga=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function WE(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Mp=B.S;B.S=function(e,n){gy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZE(e,n),Mp!==null&&Mp(e,n)};var Cr=O(null);function Jh(){var e=Cr.current;return e!==null?e:te.pooledCache}function Du(e,n){n===null?st(Cr,Cr.current):st(Cr,n.pool)}function Vp(){var e=Jh();return e===null?null:{parent:Se._currentValue,pool:e}}var _a=Error(a(460)),Zh=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Up(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pp(e),e}throw Nr=n,_a}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,_a):s}}var Nr=null;function Lp(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function Pp(e){if(e===_a||e===Ou)throw Error(a(483))}var va=null,zo=0;function Vu(e){var n=zo;return zo+=1,va===null&&(va=[]),Up(va,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zp(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function s(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Vi(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,P,Q){return x===null||x.tag!==6?(x=jh(P,k.mode,Q),x.return=k,x):(x=h(x,P),x.return=k,x)}function C(k,x,P,Q){var ct=P.type;return ct===nt?F(k,x,P.props.children,Q,P.key):x!==null&&(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ir(ct)===x.type)?(x=h(x,P.props),jo(x,P),x.return=k,x):(x=Cu(P.type,P.key,P.props,null,k.mode,Q),jo(x,P),x.return=k,x)}function z(k,x,P,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Bh(P,k.mode,Q),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function F(k,x,P,Q,ct){return x===null||x.tag!==7?(x=Sr(P,k.mode,Q,ct),x.return=k,x):(x=h(x,P),x.return=k,x)}function Y(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=jh(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case G:return P=Cu(x.type,x.key,x.props,null,k.mode,P),jo(P,x),P.return=k,P;case Z:return x=Bh(x,k.mode,P),x.return=k,x;case S:return x=Ir(x),Y(k,x,P)}if(W(x)||U(x))return x=Sr(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return Y(k,Vu(x),P);if(x.$$typeof===pt)return Y(k,xu(k,x),P);ku(k,x)}return null}function j(k,x,P,Q){var ct=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(k,x,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ct?C(k,x,P,Q):null;case Z:return P.key===ct?z(k,x,P,Q):null;case S:return P=Ir(P),j(k,x,P,Q)}if(W(P)||U(P))return ct!==null?null:F(k,x,P,Q,null);if(typeof P.then=="function")return j(k,x,Vu(P),Q);if(P.$$typeof===pt)return j(k,x,xu(k,P),Q);ku(k,P)}return null}function H(k,x,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(x,k,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,C(x,k,Q,ct);case Z:return k=k.get(Q.key===null?P:Q.key)||null,z(x,k,Q,ct);case S:return Q=Ir(Q),H(k,x,P,Q,ct)}if(W(Q)||U(Q))return k=k.get(P)||null,F(x,k,Q,ct,null);if(typeof Q.then=="function")return H(k,x,P,Vu(Q),ct);if(Q.$$typeof===pt)return H(k,x,P,xu(x,Q),ct);ku(x,Q)}return null}function ot(k,x,P,Q){for(var ct=null,zt=null,lt=x,Rt=x=0,Dt=null;lt!==null&&Rt<P.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var jt=j(k,lt,P[Rt],Q);if(jt===null){lt===null&&(lt=Dt);break}e&&lt&&jt.alternate===null&&n(k,lt),x=f(jt,x,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt,lt=Dt}if(Rt===P.length)return s(k,lt),kt&&ki(k,Rt),ct;if(lt===null){for(;Rt<P.length;Rt++)lt=Y(k,P[Rt],Q),lt!==null&&(x=f(lt,x,Rt),zt===null?ct=lt:zt.sibling=lt,zt=lt);return kt&&ki(k,Rt),ct}for(lt=o(lt);Rt<P.length;Rt++)Dt=H(lt,k,Rt,P[Rt],Q),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),x=f(Dt,x,Rt),zt===null?ct=Dt:zt.sibling=Dt,zt=Dt);return e&&lt.forEach(function(Ls){return n(k,Ls)}),kt&&ki(k,Rt),ct}function ft(k,x,P,Q){if(P==null)throw Error(a(151));for(var ct=null,zt=null,lt=x,Rt=x=0,Dt=null,jt=P.next();lt!==null&&!jt.done;Rt++,jt=P.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var Ls=j(k,lt,jt.value,Q);if(Ls===null){lt===null&&(lt=Dt);break}e&&lt&&Ls.alternate===null&&n(k,lt),x=f(Ls,x,Rt),zt===null?ct=Ls:zt.sibling=Ls,zt=Ls,lt=Dt}if(jt.done)return s(k,lt),kt&&ki(k,Rt),ct;if(lt===null){for(;!jt.done;Rt++,jt=P.next())jt=Y(k,jt.value,Q),jt!==null&&(x=f(jt,x,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return kt&&ki(k,Rt),ct}for(lt=o(lt);!jt.done;Rt++,jt=P.next())jt=H(lt,k,Rt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?Rt:jt.key),x=f(jt,x,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(cb){return n(k,cb)}),kt&&ki(k,Rt),ct}function Wt(k,x,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ct=P.key;x!==null;){if(x.key===ct){if(ct=P.type,ct===nt){if(x.tag===7){s(k,x.sibling),Q=h(x,P.props.children),Q.return=k,k=Q;break t}}else if(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ir(ct)===x.type){s(k,x.sibling),Q=h(x,P.props),jo(Q,P),Q.return=k,k=Q;break t}s(k,x);break}else n(k,x);x=x.sibling}P.type===nt?(Q=Sr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Cu(P.type,P.key,P.props,null,k.mode,Q),jo(Q,P),Q.return=k,k=Q)}return p(k);case Z:t:{for(ct=P.key;x!==null;){if(x.key===ct)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){s(k,x.sibling),Q=h(x,P.children||[]),Q.return=k,k=Q;break t}else{s(k,x);break}else n(k,x);x=x.sibling}Q=Bh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return P=Ir(P),Wt(k,x,P,Q)}if(W(P))return ot(k,x,P,Q);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),ft(k,x,P,Q)}if(typeof P.then=="function")return Wt(k,x,Vu(P),Q);if(P.$$typeof===pt)return Wt(k,x,xu(k,P),Q);ku(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(s(k,x.sibling),Q=h(x,P),Q.return=k,k=Q):(s(k,x),Q=jh(P,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,x)}return function(k,x,P,Q){try{zo=0;var ct=Wt(k,x,P,Q);return va=null,ct}catch(lt){if(lt===_a||lt===Ou)throw lt;var zt=gn(29,lt,null,k.mode);return zt.lanes=Q,zt.return=k,zt}}}var xr=zp(!0),jp=zp(!1),Es=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Sp(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}function ef(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var nf=!1;function qo(){if(nf){var e=ya;if(e!==null)throw e}}function Ho(e,n,s,o){nf=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(xt&j)===j:(o&j)===j){j!==0&&j===ga&&(nf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,ft=E;j=n;var Wt=s;switch(ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){Y=ot.call(Wt,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,j=typeof ot=="function"?ot.call(Wt,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:Es=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=Y):F=F.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=p,e.lanes=p,e.memoizedState=Y}}function Bp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bp(s[e],n)}var Ea=O(null),Uu=O(0);function Hp(e,n){e=Qi,st(Uu,e),st(Ea,n),Qi=e|n.baseLanes}function sf(){st(Uu,Qi),st(Ea,Ea.current)}function rf(){Qi=Uu.current,X(Ea),X(Uu)}var yn=O(null),Mn=null;function Ss(e){var n=e.alternate;st(pe,pe.current&1),st(yn,e),Mn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Mn=e)}function af(e){st(pe,pe.current),st(yn,e),Mn===null&&(Mn=e)}function Gp(e){e.tag===22?(st(pe,pe.current),st(yn,e),Mn===null&&(Mn=e)):As()}function As(){st(pe,pe.current),st(yn,yn.current)}function _n(e){X(yn),Mn===e&&(Mn=null),X(pe)}var pe=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fd(s)||dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Jt=null,Ae=null,Pu=!1,Ta=!1,Dr=!1,zu=0,Go=0,ba=null,tT=0;function he(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function lf(e,n,s,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?Cg:Sf,Dr=!1,f=s(o,h),Dr=!1,Ta&&(f=Qp(n,s,o,h)),Fp(e),f}function Fp(e){B.H=Ko;var n=Jt!==null&&Jt.next!==null;if(Pi=0,Ae=Jt=At=null,Pu=!1,Go=0,ba=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function Qp(e,n,s,o){At=e;var h=0;do{if(Ta&&(ba=null),Go=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Ig,f=n(s,o)}while(Ta);return f}function eT(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(At.flags|=1024),n}function uf(){var e=zu!==0;return zu=0,e}function cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Pi=0,Ae=Jt=At=null,Ta=!1,Go=zu=0,ba=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Jt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,ba===null&&(ba=[]),e=Up(ba,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Cg:Sf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===pt)return qe(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=ge();return df(n,Jt,e)}function df(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(Pi&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ga&&(F=!0);else if((Pi&j)===j){z=z.next,j===ga&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Y,p=f):C=C.next=Y,At.lanes|=j,Cs|=j;Y=z.action,Dr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,At.lanes|=Y,Cs|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=E,!pn(f,e.memoizedState)&&(we=!0,F&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Kp(e,n,s){var o=At,h=ge(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Jt||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,yf($p.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Xp.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(Pi&127)!==0||Yp(o,n,s)}return s}function Yp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=ju(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Xp(e,n,s,o){n.value=s,n.getSnapshot=o,Jp(n)&&Zp(e)}function $p(e,n,s){return s(function(){Jp(n)&&Zp(e)})}function Jp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function Zp(e){var n=br(e,2);n!==null&&cn(n,e,2)}function pf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Dr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function Wp(e,n,s,o){return e.baseState=s,df(e,Jt,typeof o=="function"?o:zi)}function nT(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};B.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,tg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function tg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=B.T,p={};B.T=p;try{var E=s(h,o),C=B.S;C!==null&&C(p,E),eg(e,n,E)}catch(z){gf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),B.T=f}}else try{f=s(h,o),eg(e,n,f)}catch(z){gf(e,n,z)}}function eg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ng(e,n,o)},function(o){return gf(e,n,o)}):ng(e,n,s)}function ng(e,n,s){n.status="fulfilled",n.value=s,ig(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,tg(e,s)))}function gf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ig(n),n=n.next;while(n!==o)}e.action=null}function ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sg(e,n){return n}function rg(e,n){if(kt){var s=te.formState;if(s!==null){t:{var o=At;if(kt){if(ie){e:{for(var h=ie,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Vn(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},s.queue=o,s=Ag.bind(null,At,o),o.dispatch=s,o=pf(!1),f=bf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=nT.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function ag(e){var n=ge();return og(n,Jt,e)}function og(e,n,s){if(n=df(e,n,sg)[0],e=qu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(p){throw p===_a?Ou:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Sa(9,{destroy:void 0},iT.bind(null,h,s),null)),[o,f,e]}function iT(e,n){e.action=n}function lg(e){var n=ge(),s=Jt;if(s!==null)return og(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=ju(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ug(){return ge().memoizedState}function Hu(e,n,s,o){var h=nn();At.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&of(o,Jt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(At.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function cg(e,n){Hu(8390656,8,e,n)}function yf(e,n){Gu(2048,8,e,n)}function sT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=ju(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function hg(e){var n=ge().memoizedState;return sT({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function fg(e,n){return Gu(4,2,e,n)}function dg(e,n){return Gu(4,4,e,n)}function mg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pg(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,mg.bind(null,n,e),s)}function _f(){}function gg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function yg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Dr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function vf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=_y(),At.lanes|=e,Cs|=e,s)}function _g(e,n,s,o){return pn(s,n)?s:Ea.current!==null?(e=vf(e,s,o),pn(e,n)||(we=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(xt&261930)===0?(we=!0,e.memoizedState=s):(e=_y(),At.lanes|=e,Cs|=e,n)}function vg(e,n,s,o,h){var f=K.p;K.p=f!==0&&8>f?f:8;var p=B.T,E={};B.T=E,bf(e,!1,n,s);try{var C=h(),z=B.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=WE(C,o);Qo(e,n,F,Tn(e))}else Qo(e,n,o,Tn(e))}catch(Y){Qo(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{K.p=f,p!==null&&E.types!==null&&(p.types=E.types),B.T=p}}function rT(){}function Ef(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Eg(e).queue;vg(e,h,n,it,s===null?rT:function(){return Tg(e),s(o)})}function Eg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:it},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tg(e){var n=Eg(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},Tn())}function Tf(){return qe(ul)}function bg(){return ge().memoizedState}function Sg(){return ge().memoizedState}function aT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ts(s);var o=bs(n,e,s);o!==null&&(cn(o,n,s),Bo(o,n,s)),n={cache:Xh()},e.payload=n;return}n=n.return}}function oT(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?wg(n,s):(s=Ph(e,n,s,o),s!==null&&(cn(s,e,o),Rg(s,n,o)))}function Ag(e,n,s){var o=Tn();Qo(e,n,s,o)}function Qo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))wg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return wu(e,n,h,0),te===null&&Au(),!1}catch{}if(s=Ph(e,n,h,o),s!==null)return cn(s,e,o),Rg(s,n,o),!0}return!1}function bf(e,n,s,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=Ph(e,s,o,2),n!==null&&cn(n,e,2)}function Fu(e){var n=e.alternate;return e===At||n!==null&&n===At}function wg(e,n){Ta=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Rg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}var Ko={readContext:qe,use:Bu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Ko.useEffectEvent=he;var Cg={readContext:qe,use:Bu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:cg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,mg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Dr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Dr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=oT.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,s=Ag.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(e,n){var s=nn();return vf(s,e,n)},useTransition:function(){var e=pf(!1);return e=vg.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=nn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(xt&127)!==0||Yp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,cg($p.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Xp.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(kt){var s=_i,o=yi;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=tT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:rg,useActionState:rg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return nn().memoizedState=aT.bind(null,At)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Sf={readContext:qe,use:Bu,useCallback:gg,useContext:qe,useEffect:yf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:qu,useRef:ug,useState:function(){return qu(zi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=ge();return _g(s,Jt.memoizedState,e,n)},useTransition:function(){var e=qu(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Kp,useId:bg,useHostTransitionStatus:Tf,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var s=ge();return Wp(s,Jt,e,n)},useMemoCache:ff,useCacheRefresh:Sg};Sf.useEffectEvent=hg;var Ig={readContext:qe,use:Bu,useCallback:gg,useContext:qe,useEffect:yf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:mf,useRef:ug,useState:function(){return mf(zi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=ge();return Jt===null?vf(s,e,n):_g(s,Jt.memoizedState,e,n)},useTransition:function(){var e=mf(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Kp,useId:bg,useHostTransitionStatus:Tf,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var s=ge();return Jt!==null?Wp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Sg};Ig.useEffectEvent=hg;function Af(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ts(o);h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,o),n!==null&&(cn(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ts(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,o),n!==null&&(cn(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Ts(s);o.tag=2,n!=null&&(o.callback=n),n=bs(e,o,s),n!==null&&(cn(n,e,s),Bo(n,e,s))}};function Ng(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,f):!0}function xg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Dg(e){Su(e)}function Og(e){console.error(e)}function Mg(e){Su(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function kg(e){return e=Ts(e),e.tag=3,e}function Ug(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Vg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Vg(n,s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function lT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?sc():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Jf(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Jf(e,o,h)),!1}throw Error(a(435,s.tag))}return Jf(e,o,h),sc(),!1}if(kt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),Uo(Nn(e,s)))):(o!==Gh&&(n=Error(a(423),{cause:o}),Uo(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Rf(e.stateNode,o,h),ef(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),el===null?el=[f]:el.push(f),fe!==4&&(fe=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,o,e),ef(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=kg(h),Ug(h,e,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var Cf=Error(a(461)),we=!1;function He(e,n,s,o){n.child=e===null?jp(n,null,s,o):xr(n,e.child,s,o)}function Lg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Rr(n),o=lf(e,n,s,p,f,h),E=uf(),e!==null&&!we?(cf(e,n,h),ji(e,n,h)):(kt&&E&&qh(n),n.flags|=1,He(e,n,o,h),n.child)}function Pg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,zg(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(p,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function zg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,kf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return If(e,n,s,o,h)}function jg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Bg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Hp(n,f):sf(),Gp(n);else return o=n.lanes=536870912,Bg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Hp(n,f),As(),n.memoizedState=null):(e!==null&&Du(n,null),sf(),As());return He(e,n,h,s),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bg(e,n,s,o,h){var f=Jh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),sf(),Gp(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qg(e,n,s){return xr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function uT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Yo(null,e);if(af(n),(e=ie)?(e=t_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=wp(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||pa(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=te,o!==null&&(p=po(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,br(e,p),cn(o,e,p),Cf;sc(),n=qg(e,n,s)}else e=f.treeContext,ie=Vn(p.nextSibling),Be=n,kt=!0,ys=null,On=!1,e!==null&&Ip(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return Rr(n),s=lf(e,n,s,o,void 0,h),o=uf(),e!==null&&!we?(cf(e,n,h),ji(e,n,h)):(kt&&o&&qh(n),n.flags|=1,He(e,n,s,h),n.child)}function Hg(e,n,s,o,h,f){return Rr(n),n.updateQueue=null,s=Qp(n,o,s,h),Fp(e),o=uf(),e!==null&&!we?(cf(e,n,f),ji(e,n,f)):(kt&&o&&qh(n),n.flags|=1,He(e,n,s,f),n.child)}function Gg(e,n,s,o,h){if(Rr(n),n.stateNode===null){var f=ha,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ha,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Af(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&wf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Or(s,E);f.props=C;var z=f.context,F=s.contextType;p=ha,typeof F=="object"&&F!==null&&(p=qe(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&xg(n,f,o,p),Es=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||Es?(typeof Y=="function"&&(Af(n,s,Y,o),z=n.memoizedState),(C=Es||Ng(n,s,C,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),p=n.memoizedProps,F=Or(s,p),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,C=ha,typeof z=="object"&&z!==null&&(C=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==C)&&xg(n,f,o,C),Es=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var H=n.memoizedState;p!==Y||j!==H||Es||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Af(n,s,E,o),H=n.memoizedState),(F=Es||Ng(n,s,F,o,j,H,C)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=xr(n,e.child,null,h),n.child=xr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Fg(e,n,s,o){return Ar(),n.flags|=256,He(e,n,s,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Vp()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function Qg(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ss(n):As(),(e=ie)?(e=t_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=wp(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw _s(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Sr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Df(e,p,s),n.memoizedState=Nf,Yo(null,o)):(Ss(n),Of(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Sr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,xr(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Df(e,p,s),n.memoizedState=Nf,n=Yo(null,o));else if(Ss(n),dd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Uo({value:o,source:null,stack:null}),n=Mf(e,n,s)}else if(we||pa(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=te,p!==null&&(o=po(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,br(e,o),cn(p,e,o),Cf;fd(E)||sc(),n=Mf(e,n,s)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ie=Vn(E.nextSibling),Be=n,kt=!0,ys=null,On=!1,e!==null&&Ip(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Vi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Sr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(C=Se._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Vp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,p,s),n.memoizedState=Nf,Yo(e.child,o)):(Ss(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Mf(e,n,s){return xr(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,s)}function Vf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Yg(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,st(pe,p),He(e,n,o,s),o=kt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,s,n);else if(e.tag===19)Kg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Vf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Vf(n,!0,s,null,f,o);break;case"together":Vf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function cT(e,n,s){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),vs(n,Se,e.memoizedState.cache),Ar();break;case 27:case 5:sr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Qg(e,n,s):(Ss(n),e=ji(e,n,s),e!==null?e.sibling:null);Ss(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Yg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(pe,pe.current),o)break;return null;case 22:return n.lanes=0,jg(e,n,s,n.pendingProps);case 24:vs(n,Se,e.memoizedState.cache)}return ji(e,n,s)}function Xg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!kf(e,s)&&(n.flags&128)===0)return we=!1,cT(e,n,s);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Cp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=Or(e,o),n.tag=1,n=Gg(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Gt){n.tag=11,n=Lg(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Pg(null,n,e,o,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Or(o,n.pendingProps),Gg(e,n,o,h,s);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Ho(n,o,null,s);var p=n.memoizedState;if(o=p.cache,vs(n,Se,o),o!==f.cache&&Yh(n,[Se],s,!0),qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fg(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),Uo(h),n=Fg(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Vn(e.firstChild),Be=n,kt=!0,ys=null,On=!0,s=jp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ar(),o===h){n=ji(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=a_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=hc(wt.current).createElement(s),o[Ee]=n,o[ke]=e,Ge(o,s,e),Te(o),n.stateNode=o):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(o=n.stateNode=i_(n.type,n.pendingProps,wt.current),Be=n,On=!0,h=ie,Os(n.type)?(md=h,ie=Vn(o.firstChild)):ie=h),He(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ie)&&(o=jT(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,ie=Vn(o.firstChild),On=!1,h=!0):h=!1),h||_s(n)),sr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:p!==null&&ud(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,eT,null,null,s),ul._currentValue=h),Yu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ie)&&(s=BT(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,ie=null,e=!0):e=!1),e||_s(n)),null;case 13:return Qg(e,n,s);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Lg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Pg(e,n,n.type,n.pendingProps,s);case 15:return zg(e,n,n.type,n.pendingProps,s);case 19:return Yg(e,n,s);case 31:return uT(e,n,s);case 22:return jg(e,n,s,n.pendingProps);case 24:return Rr(n),o=qe(Se),e===null?(h=Jh(),h===null&&(h=te,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),vs(n,Se,h)):((e.lanes&s)!==0&&(tf(e,n),Ho(n,null,null,s),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Se,o)):(o=f.cache,vs(n,Se,o),o!==h.cache&&Yh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Uf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(by())e.flags|=8192;else throw Nr=Mu,Zh}else e.flags&=-16777217}function $g(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h_(n))if(by())e.flags|=8192;else throw Nr=Mu,Zh}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Ca|=n)}function Xo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function hT(e,n,s){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Se),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(se(n),$g(n,f)):(se(n),Uf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),se(n),$g(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),se(n),Uf(n,h,e,o,s)),null;case 27:if(Qr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=at.current,ma(n)?Np(n):(e=i_(h,o,s),n.stateNode=e,Bi(n))}return se(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=at.current,ma(n))Np(n);else{var p=hc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return se(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Qy(e.nodeValue,s)),e||_s(n,!0)}else e=hc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),se(n),null);case 4:return oe(),e===null&&sd(n.stateNode.containerInfo),se(n),null;case 10:return Li(n.type),se(n),null;case 19:if(X(pe),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ap(s,e),s=s.sibling;return st(pe,pe.current&1|2),kt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ec&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return se(n),null}else 2*tn()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=pe.current,st(pe,h?s&1|2:s&1),kt&&ki(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return _n(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function fT(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Se),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(pe),null;case 4:return oe(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),rf(),e!==null&&X(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Se),null;case 25:return null;default:return null}}function Jg(e,n){switch(Hh(n),n.tag){case 3:Li(Se),oe();break;case 26:case 27:case 5:Qr(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:X(pe);break;case 10:Li(n.type);break;case 22:case 23:_n(n),rf(),e!==null&&X(Cr);break;case 24:Li(Se)}}function $o(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function ws(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){Kt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Kt(n,n.return,F)}}function Zg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{qp(n,s)}catch(o){Kt(e,e.return,o)}}}function Wg(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function ty(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Lf(e,n,s){try{var o=e.stateNode;VT(o,e.type,s,n),o[ke]=n}catch(h){Kt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,s),e=e.sibling;e!==null;)zf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function ny(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[Ee]=e,n[ke]=s}catch(f){Kt(e,e.return,f)}}var qi=!1,Re=!1,jf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function dT(e,n){if(e=e.containerInfo,od=_c,e=pp(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,C=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(C=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++F===o&&(C=p),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},_c=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Or(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Kt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function sy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),o&4&&$o(5,s);break;case 1:if(Gi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(s,s.return,p)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(s,s.return,p)}}o&64&&Zg(s),o&512&&Jo(s,s.return);break;case 3:if(Gi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qp(e,n)}catch(p){Kt(s,s.return,p)}}break;case 27:n===null&&o&4&&ny(s);case 26:case 5:Gi(e,s),n===null&&o&4&&ty(s),o&512&&Jo(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),o&4&&oy(e,s);break;case 13:Gi(e,s),o&4&&ly(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bT.bind(null,s),qT(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Re,h=qi;var f=Re;qi=o,(Re=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=h,Re=f}break;case 30:break;default:Gi(e,s)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,an=!1;function Hi(e,n,s){for(s=s.child;s!==null;)ay(e,n,s),s=s.sibling}function ay(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:Re||vi(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||vi(s,n);var o=ue,h=an;Os(s.type)&&(ue=s.stateNode,an=!1),Hi(e,n,s),al(s.stateNode),ue=o,an=h;break;case 5:Re||vi(s,n);case 6:if(o=ue,h=an,ue=null,Hi(e,n,s),ue=o,an=h,ue!==null)if(an)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ue!==null&&(an?(e=ue,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ka(e)):Zy(ue,s.stateNode));break;case 4:o=ue,h=an,ue=s.stateNode.containerInfo,an=!0,Hi(e,n,s),ue=o,an=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),Re||ws(4,s,n),Hi(e,n,s);break;case 1:Re||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Wg(s,n,o)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Hi(e,n,s),Re=o;break;default:Hi(e,n,s)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(s){Kt(n,n.return,s)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(s){Kt(n,n.return,s)}}function mT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=mT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ST.bind(null,e,o);o.then(h,h)}})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ue=E.stateNode,an=!1;break t}break;case 5:ue=E.stateNode,an=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ue===null)throw Error(a(160));ay(f,p,h),ue=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var Yn=null;function uy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(ws(3,e,e.return),$o(3,e),ws(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||s===null||vi(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(Re||s===null||vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var p=u_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(p=u_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else c_(h,e.type,e.stateNode);else e.stateNode=l_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?c_(h,e.type,e.stateNode):l_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||s===null||vi(s,s.return)),s!==null&&o&4&&Lf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Kt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Kt(e,e.return,ot)}}break;case 3:if(mc=null,h=Yn,Yn=fc(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(ot){Kt(e,e.return,ot)}jf&&(jf=!1,cy(e));break;case 4:o=Yn,Yn=fc(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=qi,F=Re;if(qi=z||h,Re=F||C,on(n,e),Re=F,qi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||qi||Re||Mr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Kt(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){Kt(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?Wy(H,!0):Wy(C.stateNode,!1)}catch(ot){Kt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ey(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Pf(e);Ju(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=Pf(e);Ju(e,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Pf(e);zf(e,z,C);break;default:throw Error(a(161))}}catch(F){Kt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Mr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Wg(n,n.return,s),Mr(n);break;case 27:al(n.stateNode);case 26:case 5:vi(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),$o(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Bp(C[h],E)}catch(z){Kt(o,o.return,z)}}s&&p&64&&Zg(f),Jo(f,f.return);break;case 27:ny(f);case 26:case 5:Fi(h,f,s),s&&o===null&&p&4&&ty(f),Jo(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&p&4&&oy(h,f);break;case 13:Fi(h,f,s),s&&p&4&&ly(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Jo(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lo(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Xn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,s,o),n=n.sibling}function hy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,o),h&2048&&$o(9,n);break;case 1:Xn(e,n,s,o);break;case 3:Xn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Xn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else Xn(e,n,s,o);break;case 31:Xn(e,n,s,o);break;case 13:Xn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,o):Zo(e,n):f._visibility&2?Xn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(p,n);break;case 24:Xn(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:Xn(e,n,s,o)}}function Aa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,C=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(f,p,E,C,h),$o(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Aa(f,p,E,C,h):Zo(f,p):(F._visibility|=2,Aa(f,p,E,C,h)),h&&z&2048&&Bf(p.alternate,p);break;case 24:Aa(f,p,E,C,h),h&&z&2048&&qf(p.alternate,p);break;default:Aa(f,p,E,C,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(s,o),h&2048&&Bf(o.alternate,o);break;case 24:Zo(s,o),h&2048&&qf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var Wo=8192;function wa(e,n,s){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)fy(e,n,s),e=e.sibling}function fy(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&Wo&&e.memoizedState!==null&&tb(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var o=Yn;Yn=fc(e.stateNode.containerInfo),wa(e,n,s),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,wa(e,n,s),Wo=o):wa(e,n,s));break;default:wa(e,n,s)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,py(o,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&ws(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):tl(e);break;default:tl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,py(o,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function py(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(ry(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var pT={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},gT=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,It=null,xt=0,Qt=0,vn=null,Rs=!1,Ra=!1,Hf=!1,Qi=0,fe=0,Cs=0,Vr=0,Gf=0,En=0,Ca=0,el=null,un=null,Ff=!1,tc=0,gy=0,ec=1/0,nc=null,Is=null,Oe=0,Ns=null,Ia=null,Ki=0,Qf=0,Kf=null,yy=null,nl=0,Yf=null;function Tn(){return(qt&2)!==0&&xt!==0?xt&-xt:B.T!==null?td():iu()}function _y(){if(En===0)if((xt&536870912)===0||kt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),xs(e,xt,En,!1)),lr(e,s),((qt&2)===0||e!==te)&&(e===te&&((qt&2)===0&&(Vr|=s),fe===4&&xs(e,xt,En,!1)),Ei(e))}function vy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?vT(e,n):$f(e,n,!0),f=o;do{if(h===0){Ra&&!o&&xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!yT(s)){h=$f(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=el;var C=E.current.memoizedState.isDehydrated;if(C&&(Na(E,p).flags|=256),p=$f(E,p,!1),p!==2){if(Hf&&!C){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),xs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xs(o,n,En,!Rs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-tn(),10<h)){if(xs(o,n,En,!Rs),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=$y(Ey.bind(null,o,s,un,nc,Ff,n,En,Vr,Ca,Rs,f,"Throttled",-0,0),h);break t}Ey(o,s,un,nc,Ff,n,En,Vr,Ca,Rs,f,null,-0,0)}}break}while(!0);Ei(e)}function Ey(e,n,s,o,h,f,p,E,C,z,F,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},fy(n,f,Y);var ot=(f&62914560)===f?tc-tn():(f&4194048)===f?gy-tn():0;if(ot=eb(Y,ot),ot!==null){Ki=f,e.cancelPendingCommit=ot(Iy.bind(null,e,n,f,s,o,h,p,E,C,F,Y,null,j,H)),xs(e,f,p,!z);return}}Iy(e,n,f,s,o,h,p,E,C)}function yT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(e,n,s,o){n&=~Gf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&ur(e,s,n)}function ic(){return(qt&6)===0?(il(0),!1):!0}function Xf(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Ui=wr=null,hf(e),va=null,zo=0,e=It;for(;e!==null;)Jg(e.alternate,e),e=e.return;It=null}}function Na(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,LT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,Xf(),te=e,It=s=Vi(e.current,null),xt=n,Qt=0,vn=null,Rs=!1,Ra=zn(e,n),Hf=!1,Ca=En=Gf=Vr=Cs=fe=0,un=el=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Au(),s}function Ty(e,n){At=null,B.H=Ko,n===_a||n===Ou?(n=Lp(),Qt=3):n===Zh?(n=Lp(),Qt=4):Qt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(fe=1,Qu(e,Nn(n,e.current)))}function by(){var e=yn.current;return e===null?!0:(xt&4194048)===xt?Mn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Mn:!1}function Sy(){var e=B.H;return B.H=Ko,e===null?Ko:e}function Ay(){var e=B.A;return B.A=pT,e}function sc(){fe=4,Rs||(xt&4194048)!==xt&&yn.current!==null||(Ra=!0),(Cs&134217727)===0&&(Vr&134217727)===0||te===null||xs(te,xt,En,!1)}function $f(e,n,s){var o=qt;qt|=2;var h=Sy(),f=Ay();(te!==e||xt!==n)&&(nc=null,Na(e,n)),n=!1;var p=fe;t:do try{if(Qt!==0&&It!==null){var E=It,C=vn;switch(Qt){case 8:Xf(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Qt;if(Qt=0,vn=null,xa(e,E,C,z),s&&Ra){p=0;break t}break;default:z=Qt,Qt=0,vn=null,xa(e,E,C,z)}}_T(),p=fe;break}catch(F){Ty(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ui=wr=null,qt=o,B.H=h,B.A=f,It===null&&(te=null,xt=0,Au()),p}function _T(){for(;It!==null;)wy(It)}function vT(e,n){var s=qt;qt|=2;var o=Sy(),h=Ay();te!==e||xt!==n?(nc=null,ec=tn()+500,Na(e,n)):Ra=zn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(kp(f)){Qt=0,vn=null,Ry(n);break}n=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),Ei(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:kp(f)?(Qt=0,vn=null,Ry(n)):(Qt=0,vn=null,xa(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?h_(p):E.stateNode.complete){Qt=0,vn=null;var C=E.sibling;if(C!==null)It=C;else{var z=E.return;z!==null?(It=z,rc(z)):It=null}break e}}Qt=0,vn=null,xa(e,n,f,5);break;case 6:Qt=0,vn=null,xa(e,n,f,6);break;case 8:Xf(),fe=6;break t;default:throw Error(a(462))}}ET();break}catch(F){Ty(e,F)}while(!0);return Ui=wr=null,B.H=o,B.A=h,qt=s,It!==null?0:(te=null,xt=0,Au(),fe)}function ET(){for(;It!==null&&!wh();)wy(It)}function wy(e){var n=Xg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Ry(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Hg(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Hg(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:hf(n);default:Jg(s,n),n=It=Ap(n,Qi),n=Xg(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function xa(e,n,s,o){Ui=wr=null,hf(n),va=null,zo=0;var h=n.return;try{if(lT(e,h,n,s,xt)){fe=1,Qu(e,Nn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;fe=1,Qu(e,Nn(s,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Ra||(xt&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Cy(n,Rs);return}e=n.return;var s=hT(n.alternate,n,Qi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);fe===0&&(fe=5)}function Cy(e,n){do{var s=fT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);fe=6,It=null}function Iy(e,n,s,o,h,f,p,E,C){e.cancelPendingCommit=null;do ac();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ih(e,s,f,p,E,C),e===te&&(It=te=null,xt=0),Ia=n,Ns=e,Ki=s,Qf=f,Kf=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,AT(as,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=K.p,K.p=2,p=qt,qt|=4;try{dT(e,n,s)}finally{qt=p,K.p=h,B.T=o}}Oe=1,Ny(),xy(),Dy()}}function Ny(){if(Oe===1){Oe=0;var e=Ns,n=Ia,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=K.p;K.p=2;var h=qt;qt|=4;try{uy(n,e);var f=ld,p=pp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&mp(E.ownerDocument.documentElement,E)){if(C!==null&&Oh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),ot=E.textContent.length,ft=Math.min(C.start,ot),Wt=C.end===void 0?ft:Math.min(C.end,ot);!H.extend&&ft>Wt&&(p=Wt,Wt=ft,ft=p);var k=dp(E,ft),x=dp(E,Wt);if(k&&x&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),ft>Wt?(H.addRange(P),H.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!od,ld=od=null}finally{qt=h,K.p=o,B.T=s}}e.current=n,Oe=2}}function xy(){if(Oe===2){Oe=0;var e=Ns,n=Ia,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=K.p;K.p=2;var h=qt;qt|=4;try{sy(e,n.alternate,n)}finally{qt=h,K.p=o,B.T=s}}Oe=3}}function Dy(){if(Oe===4||Oe===3){Oe=0,$l();var e=Ns,n=Ia,s=Ki,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ia=Ns=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),xi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,h=K.p,K.p=2,B.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{B.T=n,K.p=h}}(Ki&3)!==0&&ac(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?nl++:(nl=0,Yf=e):nl=0,il(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function ac(){return Ny(),xy(),Dy(),My()}function My(){if(Oe!==5)return!1;var e=Ns,n=Qf;Qf=0;var s=xi(Ki),o=B.T,h=K.p;try{K.p=32>s?32:s,B.T=null,s=Kf,Kf=null;var f=Ns,p=Ki;if(Oe=0,Ia=Ns=null,Ki=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,my(f.current),hy(f,f.current,p,s),qt=E,il(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{K.p=h,B.T=o,Oy(e,n)}}function Vy(e,n,s){n=Nn(s,n),n=Rf(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(lr(e,2),Ei(e))}function Kt(e,n,s){if(e.tag===3)Vy(e,e,s);else for(;n!==null;){if(n.tag===3){Vy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Nn(s,e),s=kg(2),o=bs(n,s,2),o!==null&&(Ug(s,o,n,e),lr(o,2),Ei(o));break}}n=n.return}}function Jf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new gT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=TT.bind(null,e,n,s),n.then(e,e))}function TT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(xt&s)===s&&(fe===4||fe===3&&(xt&62914560)===xt&&300>tn()-tc?(qt&2)===0&&Na(e,0):Gf|=s,Ca===xt&&(Ca=0)),Ei(e)}function ky(e,n){n===0&&(n=nu()),e=br(e,n),e!==null&&(lr(e,n),Ei(e))}function bT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ky(e,s)}function ST(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ky(e,s)}function AT(e,n){return De(e,n)}var oc=null,Da=null,Zf=!1,lc=!1,Wf=!1,Ds=0;function Ei(e){e!==Da&&e.next===null&&(Da===null?oc=Da=e:Da=Da.next=e),lc=!0,Zf||(Zf=!0,RT())}function il(e,n){if(!Wf&&lc){Wf=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,zy(o,f))}else f=xt,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,zy(o,f));o=o.next}while(s);Wf=!1}}function wT(){Uy()}function Uy(){lc=Zf=!1;var e=0;Ds!==0&&UT()&&(e=Ds);for(var n=tn(),s=null,o=oc;o!==null;){var h=o.next,f=Ly(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Da=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Oe!==0&&Oe!==5||il(e),Ds!==0&&(Ds=0)}function Ly(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Ch(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=xt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&rs(o),xi(s)){case 2:case 8:s=fo;break;case 32:s=as;break;case 268435456:s=Jl;break;default:s=as}return o=Py.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&rs(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=xt;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vy(e,o,n),Ly(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Py.bind(null,e):null)}function zy(e,n){if(ac())return null;vy(e,n,!0)}function RT(){PT(function(){(qt&6)!==0?De(ho,wT):Uy()})}function td(){if(Ds===0){var e=ga;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ds=e}return Ds}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function By(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function CT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=jy((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?jy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var C=p?By(h,p):new FormData(h);Ef(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?By(h,p):new FormData(h),Ef(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ed=0;ed<Uh.length;ed++){var nd=Uh[ed],IT=nd.toLowerCase(),NT=nd[0].toUpperCase()+nd.slice(1);Kn(IT,"on"+NT)}Kn(_p,"onAnimationEnd"),Kn(vp,"onAnimationIteration"),Kn(Ep,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(FE,"onTransitionRun"),Kn(QE,"onTransitionStart"),Kn(KE,"onTransitionCancel"),Kn(Tp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=C}}}}function Nt(e,n){var s=n[$r];s===void 0&&(s=n[$r]=new Set);var o=e+"__bubble";s.has(o)||(Hy(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),Hy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[uc]){e[uc]=!0,go.forEach(function(s){s!=="selectionchange"&&(xT.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,id("selectionchange",!1,n))}}function Hy(e,n,s,o){switch(__(n)){case 2:var h=sb;break;case 8:h=rb;break;default:h=vd}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function rd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}E=E.parentNode}}o=o.return}fs(function(){var z=f,F=wn(s),Y=[];t:{var j=bp.get(e);if(j!==void 0){var H=di,ot=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":H=Eu;break;case"focusin":ot="focus",H=_r;break;case"focusout":ot="blur",H=_r;break;case"beforeblur":case"afterblur":H=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case _p:case vp:case Ep:H=du;break;case Tp:H=T;break;case"scroll":case"scrollend":H=Io;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=St}var ft=(n&4)!==0,Wt=!ft&&(e==="scroll"||e==="scrollend"),k=ft?j!==null?j+"Capture":null:j;ft=[];for(var x=z,P;x!==null;){var Q=x;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Hn(x,k),Q!=null&&ft.push(rl(x,Q,P))),Wt)break;x=x.return}0<ft.length&&(j=new H(j,ot,null,s,F),Y.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==wo&&(ot=s.relatedTarget||s.fromElement)&&(ai(ot)||ot[si]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=z,ot=ot?ai(ot):null,ot!==null&&(Wt=c(ot),ft=ot.tag,ot!==Wt||ft!==5&&ft!==27&&ft!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(ft=No,Q="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Mi,Q="onPointerLeave",k="onPointerEnter",x="pointer"),Wt=H==null?j:dn(H),P=ot==null?j:dn(ot),j=new ft(Q,x+"leave",H,s,F),j.target=Wt,j.relatedTarget=P,Q=null,ai(F)===z&&(ft=new ft(k,x+"enter",ot,s,F),ft.target=P,ft.relatedTarget=Wt,Q=ft),Wt=Q,H&&ot)e:{for(ft=DT,k=H,x=ot,P=0,Q=k;Q;Q=ft(Q))P++;Q=0;for(var ct=x;ct;ct=ft(ct))Q++;for(;0<P-Q;)k=ft(k),P--;for(;0<Q-P;)x=ft(x),Q--;for(;P--;){if(k===x||x!==null&&k===x.alternate){ft=k;break e}k=ft(k),x=ft(x)}ft=null}else ft=null;H!==null&&Gy(Y,j,H,ft,!1),ot!==null&&Wt!==null&&Gy(Y,Wt,ot,ft,!0)}}t:{if(j=z?dn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var zt=op;else if(rp(j))if(lp)zt=qE;else{zt=jE;var lt=zE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ta(z.elementType)&&(zt=op):zt=BE;if(zt&&(zt=zt(e,z))){ap(Y,zt,s,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bo(j,"number",j.value)}switch(lt=z?dn(z):window,e){case"focusin":(rp(lt)||lt.contentEditable==="true")&&(la=lt,Mh=z,Vo=null);break;case"focusout":Vo=Mh=la=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,gp(Y,s,F);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":gp(Y,s,F)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else oa?vr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(gi&&s.locale!=="ko"&&(oa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&oa&&(Rt=Co()):(fi=F,Ro="value"in fi?fi.value:fi.textContent,oa=!0)),lt=cc(z,Dt),0<lt.length&&(Dt=new pi(Dt,e,null,s,F),Y.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=aa(s),Rt!==null&&(Dt.data=Rt)))),(Rt=Cn?kE(e,s):UE(e,s))&&(Dt=cc(z,"onBeforeInput"),0<Dt.length&&(lt=new pi("onBeforeInput","beforeinput",null,s,F),Y.push({event:lt,listeners:Dt}),lt.data=Rt)),CT(Y,e,z,s,F)}qy(Y,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&o.unshift(rl(e,h,f)),h=Hn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function DT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Hn(s,f),z!=null&&p.unshift(rl(s,z,C))):h||(z=Hn(s,f),z!=null&&p.push(rl(s,z,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(OT,`
`).replace(MT,"")}function Qy(e,n){return n=Fy(n),Fy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,Zr(e,s,o))}}function ad(e,n,s,o,h,f){switch(s){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,p,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(e,n,o,F,s,null)}}ou(e,f,E,C,z,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?ls(e,!!o,n,!1):s!=null&&ls(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,p,E,s,null)}us(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,C,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Nt(sl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,o,s,null)}return;default:if(ta(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ad(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function VT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,z=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(H)||Zt(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Zt(e,n,j,H,o,Y)}}Wr(e,p,E,C,z,F,f,h);return;case"select":H=p=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Zt(e,n,h,f,o,C)}n=E,s=p,o=H,j!=null?ls(e,!!s,j,!1):!!o!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,p,h,o,f)}lu(e,j,H);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Zt(e,n,ot,null,o,j));for(C in o)j=o[C],H=s[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,n,C,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)j=s[ft],s.hasOwnProperty(ft)&&j!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,z,j,o,H)}return;default:if(ta(n)){for(var Wt in s)j=s[Wt],s.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&ad(e,n,Wt,void 0,o,j);for(F in o)j=o[F],H=s[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||ad(e,n,F,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||Zt(e,n,Y,j,o,H)}function Ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Ky(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var F=C.transferSize,Y=C.initiatorType;F&&Ky(Y)&&(C=C.responseEnd,p+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function UT(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,PT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(zT)}:$y;function zT(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Zy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")al(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,al(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&al(e.ownerDocument.body);s=h}while(s);ka(n)}function Wy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function jT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function BT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function t_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function e_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function n_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function i_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var kn=new Map,s_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=K.d;K.d={f:HT,r:GT,D:FT,C:QT,L:KT,m:YT,X:$T,S:XT,M:JT};function HT(){var e=Yi.f(),n=ic();return e||n}function GT(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Yi.r(e)}var Oa=typeof document>"u"?null:document;function r_(e,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function FT(e){Yi.D(e),r_("dns-prefetch",e,null)}function QT(e,n){Yi.C(e,n),r_("preconnect",e,n)}function KT(e,n,s){Yi.L(e,n,s);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Va(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function YT(e,n){Yi.m(e,n);var s=Oa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(f)))return}o=s.createElement("link"),Ge(o,"link",e),Te(o),s.head.appendChild(o)}}}function XT(e,n,s){Yi.S(e,n,s);var o=Oa;if(o&&e){var h=oi(o).hoistableStyles,f=Ma(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ol(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&pd(e,s);var C=p=o.createElement("link");Te(C),Ge(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function $T(e,n){Yi.X(e,n);var s=Oa;if(s&&e){var o=oi(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&gd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function JT(e,n){Yi.M(e,n);var s=Oa;if(s&&e){var o=oi(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&gd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function a_(e,n,s,o){var h=(h=wt.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=oi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ol(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||ZT(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+sn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ZT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),Te(n),e.head.appendChild(n))}function Va(e){return'[src="'+sn(e)+'"]'}function ll(e){return"script[async]"+e}function l_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ma(s.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=o_(s),(h=kn.get(h))&&pd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Ge(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(ll(f)))?(n.instance=h,Te(h),h):(o=s,(h=kn.get(f))&&(o=A({},s),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function u_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function c_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function WT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ma(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=o_(o),(h=kn.get(h))&&pd(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=pc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var yd=0;function eb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*kT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(nb,e),gc=null,pc.call(e))}function nb(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:pt,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function ib(e,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function f_(e,n,s,o,h,f,p,E,C,z,F,Y){return e=new ib(e,n,s,p,C,z,F,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function d_(e){return e?(e=ha,e):ha}function m_(e,n,s,o,h,f){h=d_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=bs(e,o,n),s!==null&&(cn(s,e,n),Bo(s,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=br(e,67108864);n!==null&&cn(n,e,67108864),_d(e,67108864)}}function y_(e){if(e.tag===13||e.tag===31){var n=Tn();n=cr(n);var s=br(e,n);s!==null&&cn(s,e,n),_d(e,n)}}var _c=!0;function sb(e,n,s,o){var h=B.T;B.T=null;var f=K.p;try{K.p=2,vd(e,n,s,o)}finally{K.p=f,B.T=h}}function rb(e,n,s,o){var h=B.T;B.T=null;var f=K.p;try{K.p=8,vd(e,n,s,o)}finally{K.p=f,B.T=h}}function vd(e,n,s,o){if(_c){var h=Ed(o);if(h===null)rd(e,n,o,vc,s),v_(e,o);else if(ob(h,e,n,s,o))o.stopPropagation();else if(v_(e,o),n&4&&-1<ab.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-de(p);E.entanglements[1]|=C,p&=~C}Ei(f),(qt&6)===0&&(ec=tn()+500,il(0))}}break;case 31:case 13:E=br(f,2),E!==null&&cn(E,f,2),ic(),_d(f,2)}if(f=Ed(o),f===null&&rd(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,s)}}function Ed(e){return e=wn(e),Td(e)}var vc=null;function Td(e){if(vc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case ho:return 2;case fo:return 8;case as:case Rh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var bd=!1,Ms=null,Vs=null,ks=null,cl=new Map,hl=new Map,Us=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ob(e,n,s,o,h){switch(n){case"focusin":return Ms=fl(Ms,e,n,s,o,h),!0;case"dragenter":return Vs=fl(Vs,e,n,s,o,h),!0;case"mouseover":return ks=fl(ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,s,o,h)),!0}return!1}function E_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wo=o,s.target.dispatchEvent(o),wo=null}else return n=An(s),n!==null&&g_(n),e.blockedOn=s,!1;n.shift()}return!0}function T_(e,n,s){Ec(e)&&s.delete(n)}function lb(){bd=!1,Ms!==null&&Ec(Ms)&&(Ms=null),Vs!==null&&Ec(Vs)&&(Vs=null),ks!==null&&Ec(ks)&&(ks=null),cl.forEach(T_),hl.forEach(T_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lb)))}var bc=null;function b_(e){bc!==e&&(bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ka(e){function n(C){return Tc(C,e)}Ms!==null&&Tc(Ms,e),Vs!==null&&Tc(Vs,e),ks!==null&&Tc(ks,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)E_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[ke]||null;if(typeof f=="function")p||b_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Td(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),b_(s)}}}function S_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Sd(e){this._internalRoot=e}Sc.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();m_(s,o,e,n,null,null)},Sc.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m_(e.current,2,null,e,null,null),ic(),n[si]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&E_(e)}};var A_=t.version;if(A_!=="19.2.4")throw Error(a(527,A_,"19.2.4"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ub={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Pn=Ac.inject(ub),ze=Ac}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Dg,f=Og,p=Mg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=f_(e,1,!1,null,null,s,o,null,h,f,p,S_),e[si]=n.current,sd(e),new Sd(n)},ml.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dg,p=Og,E=Mg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=f_(e,1,!0,n,s??null,o,h,C,f,p,E,S_),n.context=d_(null),s=n.current,o=Tn(),o=cr(o),h=Ts(o),h.callback=null,bs(s,h,o),s=o,n.current.lanes=s,lr(n,s),Ei(n),e[si]=n.current,sd(e),new Sc(n)},ml.version="19.2.4",ml}var V_;function vb(){if(V_)return Rd.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=_b(),Rd.exports}var Eb=vb();const Tb=()=>{};var k_={};const f0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},d0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,G=y&63;v||(G=64,d||(w=64)),a.push(i[b],i[A],i[w],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(f0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):bb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new Sb;const w=c<<2|g>>4;if(a.push(w),y!==64){const G=g<<4&240|y>>2;if(a.push(G),A!==64){const Z=y<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(r){const t=f0(r);return d0.encodeByteArray(t,!0)},Bc=function(r){return Ab(r).replace(/\./g,"")},m0=function(r){try{return d0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rb=()=>wb().__FIREBASE_DEFAULTS__,Cb=()=>{if(typeof process>"u"||typeof k_>"u")return;const r=k_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ib=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&m0(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return Tb()||Rb()||Cb()||Ib()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},p0=r=>ah()?.emulatorHosts?.[r],Nb=r=>{const t=p0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},g0=()=>ah()?.config,y0=r=>ah()?.[`_${r}`];class xb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _0(r){return(await fetch(r,{credentials:"include"})).ok}function Db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Tl={};function Ob(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function Mb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let U_=!1;function v0(r,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Tl[r]===t||Tl[r]||U_)return;Tl[r]=t;function i(w){return`__firebase__banner__${w}`}const a="__firebase__banner",c=Ob().prod.length>0;function d(){const w=document.getElementById(a);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function v(w,G){w.setAttribute("width","24"),w.setAttribute("id",G),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{U_=!0,d()},w}function b(w,G){w.setAttribute("id",G),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=Mb(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),mt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const pt=w.element;g(pt),b(et,nt);const Gt=y();v(mt,dt),pt.append(mt,Z,et,Gt),document.body.appendChild(pt)}c?(Z.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function kb(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function qb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Hb="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Hb,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Gb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ss(l,g,a)}}function Gb(r,t){return r.replace(Fb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Fb=/\{\$([^}]+)}/g;function Qb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(L_(c)&&L_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function L_(r){return r!==null&&typeof r=="object"}function zl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Kb(r,t){const i=new Yb(r,t);return i.subscribe.bind(i)}class Yb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Xb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function We(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class $b{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new xb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zb(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Jb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jb(r){return r===kr?void 0:r}function Zb(r){return r.instantiationMode==="EAGER"}class Wb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new $b(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const tS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},eS=Ot.INFO,nS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},iS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=nS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=eS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const sS=(r,t)=>t.some(i=>r instanceof i);let P_,z_;function rS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Fd=new WeakMap,T0=new WeakMap,Dd=new WeakMap,_m=new WeakMap;function oS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&E0.set(i,r)}).catch(()=>{}),_m.set(t,r),t}function lS(r){if(Fd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Fd.set(r,t)}let Qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Fd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||T0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function uS(r){Qd=r(Qd)}function cS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Od(this),t,...i);return T0.set(a,t.sort?t.sort():[t]),Gs(a)}:aS().includes(r)?function(...t){return r.apply(Od(this),t),Gs(E0.get(this))}:function(...t){return Gs(r.apply(Od(this),t))}}function hS(r){return typeof r=="function"?cS(r):(r instanceof IDBTransaction&&lS(r),sS(r,rS())?new Proxy(r,Qd):r)}function Gs(r){if(r instanceof IDBRequest)return oS(r);if(Dd.has(r))return Dd.get(r);const t=hS(r);return t!==r&&(Dd.set(r,t),_m.set(t,r)),t}const Od=r=>_m.get(r);function fS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const dS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],Md=new Map;function j_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=mS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||dS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Md.set(t,c),c}uS(r=>({...r,get:(t,i,a)=>j_(t,i)||r.get(t,i,a),has:(t,i)=>!!j_(t,i)||r.has(t,i)}));class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function gS(r){return r.getComponent()?.type==="VERSION"}const Kd="@firebase/app",B_="0.14.7";const Zi=new ym("@firebase/app"),yS="@firebase/app-compat",_S="@firebase/analytics-compat",vS="@firebase/analytics",ES="@firebase/app-check-compat",TS="@firebase/app-check",bS="@firebase/auth",SS="@firebase/auth-compat",AS="@firebase/database",wS="@firebase/data-connect",RS="@firebase/database-compat",CS="@firebase/functions",IS="@firebase/functions-compat",NS="@firebase/installations",xS="@firebase/installations-compat",DS="@firebase/messaging",OS="@firebase/messaging-compat",MS="@firebase/performance",VS="@firebase/performance-compat",kS="@firebase/remote-config",US="@firebase/remote-config-compat",LS="@firebase/storage",PS="@firebase/storage-compat",zS="@firebase/firestore",jS="@firebase/ai",BS="@firebase/firestore-compat",qS="firebase",HS="12.8.0";const Yd="[DEFAULT]",GS={[Kd]:"fire-core",[yS]:"fire-core-compat",[vS]:"fire-analytics",[_S]:"fire-analytics-compat",[TS]:"fire-app-check",[ES]:"fire-app-check-compat",[bS]:"fire-auth",[SS]:"fire-auth-compat",[AS]:"fire-rtdb",[wS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[CS]:"fire-fn",[IS]:"fire-fn-compat",[NS]:"fire-iid",[xS]:"fire-iid-compat",[DS]:"fire-fcm",[OS]:"fire-fcm-compat",[MS]:"fire-perf",[VS]:"fire-perf-compat",[kS]:"fire-rc",[US]:"fire-rc-compat",[LS]:"fire-gcs",[PS]:"fire-gcs-compat",[zS]:"fire-fst",[BS]:"fire-fst-compat",[jS]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};const Cl=new Map,FS=new Map,Xd=new Map;function q_(r,t){try{r.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if(Xd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,r);for(const i of Cl.values())q_(i,r);for(const i of FS.values())q_(i,r);return!0}function vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Pl("app","Firebase",QS);class KS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const no=HS;function b0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Yd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=g0()),!i)throw Fs.create("no-options");const c=Cl.get(l);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new Wb(l);for(const v of Xd.values())d.addComponent(v);const g=new KS(i,a,d);return Cl.set(l,g),g}function Em(r=Yd){const t=Cl.get(r);if(!t&&r===Yd&&g0())return b0();if(!t)throw Fs.create("no-app",{appName:r});return t}function YS(){return Array.from(Cl.values())}function Qs(r,t,i){let a=GS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ya(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const XS="firebase-heartbeat-database",$S=1,Il="firebase-heartbeat-store";let Vd=null;function S0(){return Vd||(Vd=fS(XS,$S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function JS(r){try{const i=(await S0()).transaction(Il),a=await i.objectStore(Il).get(A0(r));return await i.done,a}catch(t){if(t instanceof ss)Zi.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function H_(r,t){try{const a=(await S0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,A0(r)),await a.done}catch(i){if(i instanceof ss)Zi.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}const ZS=1024,WS=30;class tA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WS){const l=iA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:a}=eA(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function eA(r,t=ZS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function iA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function sA(r){Ya(new jr("platform-logger",t=>new pS(t),"PRIVATE")),Ya(new jr("heartbeat",t=>new tA(t),"PRIVATE")),Qs(Kd,B_,r),Qs(Kd,B_,"esm2020"),Qs("fire-js","")}sA("");var rA="firebase",aA="12.8.0";Qs(rA,aA,"app");function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oA=w0,R0=new Pl("auth","Firebase",w0());const qc=new ym("@firebase/auth");function lA(r,...t){qc.logLevel<=Ot.WARN&&qc.warn(`Auth (${no}): ${r}`,...t)}function Dc(r,...t){qc.logLevel<=Ot.ERROR&&qc.error(`Auth (${no}): ${r}`,...t)}function Wi(r,...t){throw Tm(r,...t)}function bi(r,...t){return Tm(r,...t)}function C0(r,t,i){const a={...oA(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:r.name})}function Ji(r){return C0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return R0.create(r,...t)}function yt(r,t,...i){if(!r)throw Tm(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function ts(r,t){r||Xi(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function uA(){return Q_()==="http:"||Q_()==="https:"}function Q_(){return typeof self<"u"&&self.location?.protocol||null}function cA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uA()||Lb()||"connection"in navigator)?navigator.onLine:!0}function hA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=Vb()||Pb()}get(){return cA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bm(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class I0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mA=new jl(3e4,6e4);function Bl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function io(r,t,i,a,l={}){return N0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=zl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Ub()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&eo(r.emulatorConfig.host)&&(y.credentials="include"),I0.fetch()(await x0(r,r.config.apiHost,i,g),y)})}async function N0(r,t,i){r._canInitEmulator=!1;const a={...fA,...t};try{const l=new pA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw wc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw C0(r,b,y);Wi(r,b)}}catch(l){if(l instanceof ss)throw l;Wi(r,"network-request-failed",{message:String(l)})}}async function Sm(r,t,i,a,l={}){const c=await io(r,t,i,a,l);return"mfaPendingCredential"in c&&Wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function x0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?bm(r.config,l):`${r.config.apiScheme}://${l}`;return dA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class pA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),mA.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(r,t,a);return l.customData._tokenResponse=i,l}async function gA(r,t){return io(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return io(r,"POST","/v1/accounts:lookup",t)}function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yA(r,t=!1){const i=We(r),a=await i.getIdToken(t),l=Am(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(kd(l.auth_time)),issuedAtTime:bl(kd(l.iat)),expirationTime:bl(kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(r){return Number(r)*1e3}function Am(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=m0(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function K_(r){const t=Am(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&_A(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function _A({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(r){const t=r.auth,i=await r.getIdToken(),a=await Nl(r,Hc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?D0(l.providerUserInfo):[],d=TA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=g?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function EA(r){const t=We(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function D0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bA(r,t){const i=await N0(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await x0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&eo(r.emulatorConfig.host)&&(v.credentials="include"),I0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function SA(r,t){return io(r,"POST","/v2/accounts:revokeToken",Bl(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):K_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=K_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await bA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ps(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new vA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yA(this,t)}reload(){return EA(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Nl(this,gA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:G,providerData:Z,stsTokenManager:nt}=i;yt(A&&nt,t,"internal-error");const et=qa.fromJSON(this.name,nt);yt(typeof A=="string",t,"internal-error"),Ps(a,t.name),Ps(l,t.name),yt(typeof w=="boolean",t,"internal-error"),yt(typeof G=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(g,t.name),Ps(v,t.name),Ps(y,t.name),Ps(b,t.name);const dt=new Jn({uid:A,auth:t,email:l,emailVerified:w,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:et,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(dt.providerData=Z.map(mt=>({...mt}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?D0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new qa;g.updateFromIdToken(a);const v=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Y_=new Map;function $i(r){ts(r instanceof Function,"Expected a class definition");let t=Y_.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Y_.set(r,t),t)}class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}O0.type="NONE";const X_=O0;function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha($i(X_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||$i(X_);const d=Oc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const w=await Hc(t,{idToken:b}).catch(()=>{});if(!w)break;A=await Jn._fromGetAccountInfoResponse(t,w,b)}else A=Jn._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ha(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function $_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P0(t))return"Blackberry";if(z0(t))return"Webos";if(V0(t))return"Safari";if((t.includes("chrome/")||k0(t))&&!t.includes("edge/"))return"Chrome";if(L0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function M0(r=Ze()){return/firefox\//i.test(r)}function V0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function k0(r=Ze()){return/crios\//i.test(r)}function U0(r=Ze()){return/iemobile/i.test(r)}function L0(r=Ze()){return/android/i.test(r)}function P0(r=Ze()){return/blackberry/i.test(r)}function z0(r=Ze()){return/webos/i.test(r)}function wm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AA(r=Ze()){return wm(r)&&!!window.navigator?.standalone}function wA(){return zb()&&document.documentMode===10}function j0(r=Ze()){return wm(r)||L0(r)||z0(r)||P0(r)||/windows phone/i.test(r)||U0(r)}function B0(r,t=[]){let i;switch(r){case"Browser":i=$_(Ze());break;case"Worker":i=`${$_(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class RA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function CA(r,t={}){return io(r,"GET","/v2/passwordPolicy",Bl(r,t))}const IA=6;class NA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??IA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class xA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new RA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Ji(this));const i=t?We(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CA(this),i=new NA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await SA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return We(r)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kb(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DA(r){Rm=r}function OA(r){return Rm.loadJS(r)}function MA(){return Rm.gapiScript}function VA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function kA(r,t){const i=vm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function UA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function LA(r,t,i){const a=ql(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=q0(t),{host:d,port:g}=PA(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(zr(y,a.config.emulator)&&zr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(_0(`${c}//${d}${v}`),v0("Auth",!0)):zA()}function q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function PA(r){const t=q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Z_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Z_(d)}}}function Z_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class H0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Ga(r,t){return Sm(r,"POST","/v1/accounts:signInWithIdp",Bl(r,t))}const jA="http://localhost";class Br extends H0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Br(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:jA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}class G0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Hl{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class js extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Bs extends Hl{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function BA(r,t){return Sm(r,"POST","/v1/accounts:signUp",Bl(r,t))}class es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=W_(a);return new es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=W_(a);return new es({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function W_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function qA(r){if(Un(r.app))return Promise.reject(Ji(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new es({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await BA(t,{returnSecureToken:!0}),a=await es._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Fc extends ss{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Fc(t,i,a,l)}}function F0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,a):c})}async function HA(r,t,i=!1){const a=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return es._forOperation(r,"link",a)}async function GA(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Ji(a));const l="reauthenticate";try{const c=await Nl(r,F0(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=Am(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(r.uid===g,a,"user-mismatch"),es._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function FA(r,t,i=!1){if(Un(r.app))return Promise.reject(Ji(r));const a="signIn",l=await F0(r,a,t),c=await es._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function QA(r,t){return Sm(r,"POST","/v1/accounts:signInWithCustomToken",Bl(r,t))}async function KA(r,t){if(Un(r.app))return Promise.reject(Ji(r));const i=ql(r),a=await QA(i,{token:t,returnSecureToken:!0}),l=await es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function YA(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function XA(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function $A(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Qc="__sak";class Q0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const JA=1e3,ZA=10;class K0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ZA):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}K0.type="LOCAL";const WA=K0;class Y0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Y0.type="SESSION";const X0=Y0;function t2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await t2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class e2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Cm("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function n2(r){Si().location.href=r}function $0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){return navigator?.serviceWorker?.controller||null}function r2(){return $0()?self:null}const J0="firebaseLocalStorageDb",a2=1,Kc="firebaseLocalStorage",Z0="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(r,t){return r.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function o2(){const r=indexedDB.deleteDatabase(J0);return new Gl(r).toPromise()}function Zd(){const r=indexedDB.open(J0,a2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kc,{keyPath:Z0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kc)?t(a):(a.close(),await o2(),t(await Zd()))})})}async function tv(r,t,i){const a=lh(r,!0).put({[Z0]:t,value:i});return new Gl(a).toPromise()}async function l2(r,t){const i=lh(r,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function ev(r,t){const i=lh(r,!0).delete(t);return new Gl(i).toPromise()}const u2=800,c2=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>c2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(r2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await tv(t,Qc,"1"),await ev(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>l2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const h2=W0;new jl(3e4,6e4);function f2(r,t){return t?$i(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Im extends H0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function d2(r){return FA(r.auth,new Im(r),r.bypassAuthState)}function m2(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),GA(i,new Im(r),r.bypassAuthState)}async function p2(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),HA(i,new Im(r),r.bypassAuthState)}class t1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return p2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const g2=new jl(2e3,1e4);class Ba extends t1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,g2.get())};t()}}Ba.currentPopupAction=null;const y2="pendingRedirect",Mc=new Map;class _2 extends t1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await v2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(r,t){const i=b2(t),a=T2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function E2(r,t){Mc.set(r._key(),t)}function T2(r){return $i(r._redirectPersistence)}function b2(r){return Oc(y2,r.config.apiKey,r.name)}async function S2(r,t,i=!1){if(Un(r.app))return Promise.reject(Ji(r));const a=ql(r),l=f2(a,t),d=await new _2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const A2=600*1e3;class w2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!R2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!e1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=A2&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(t))}saveEventToCache(t){this.cachedEventUids.add(nv(t)),this.lastProcessedEventTime=Date.now()}}function nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function e1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function R2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(r);default:return!1}}async function C2(r,t={}){return io(r,"GET","/v1/projects",t)}const I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;async function x2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await C2(r);for(const i of t)try{if(D2(i))return}catch{}Wi(r,"unauthorized-domain")}function D2(r){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!N2.test(i))return!1;if(I2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const O2=new jl(3e4,6e4);function iv(){const r=Si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function M2(r){return new Promise((t,i)=>{function a(){iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iv(),i(bi(r,"network-request-failed"))},timeout:O2.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=VA("iframefcb");return Si()[l]=()=>{gapi.load?a():i(bi(r,"network-request-failed"))},OA(`${MA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function V2(r){return Vc=Vc||M2(r),Vc}const k2=new jl(5e3,15e3),U2="__/auth/iframe",L2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?bm(t,L2):`https://${r.config.authDomain}/${U2}`,a={apiKey:t.apiKey,appName:r.name,v:no},l=z2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function B2(r){const t=await V2(r),i=Si().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:j2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),g=Si().setTimeout(()=>{c(d)},k2.get());function v(){Si().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,G2=600,F2="_blank",Q2="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,t,i,a=H2,l=G2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...q2,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=k0(y)?F2:i),M0(y)&&(t=t||Q2,v.scrollbars="yes");const b=Object.entries(v).reduce((w,[G,Z])=>`${w}${G}=${Z},`,"");if(AA(y)&&g!=="_self")return Y2(t||"",g),new sv(null);const A=window.open(t||"",g,b);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new sv(A)}function Y2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const X2="__/auth/handler",$2="emulator/auth/handler",J2=encodeURIComponent("fac");async function rv(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof G0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Qb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Hl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${J2}=${encodeURIComponent(v)}`:"";return`${Z2(r)}?${zl(g).slice(1)}${y}`}function Z2({config:r}){return r.emulator?bm(r,$2):`https://${r.authDomain}/${X2}`}const Ud="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X0,this._completeRedirectFn=S2,this._overrideRedirectResult=E2}async _openPopup(t,i,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rv(t,i,a,$d(),l);return K2(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await rv(t,i,a,$d(),l);return n2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await B2(t),a=new w2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const c=l?.[0]?.[Ud];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=x2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return j0()||V0()||wm()}}const tw=W2;var av="@firebase/auth",ov="1.12.0";class ew{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iw(r){Ya(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},y=new xA(a,l,c,v);return UA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new jr("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new ew(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(av,ov,nw(r)),Qs(av,ov,"esm2020")}const sw=300,rw=y0("authIdTokenMaxAge")||sw;let lv=null;const aw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>rw)return;const l=i?.token;lv!==l&&(lv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ow(r=Em()){const t=vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=kA(r,{popupRedirectResolver:tw,persistence:[h2,WA,X0]}),a=y0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=aw(c.toString());XA(i,d,()=>d(i.currentUser)),YA(i,g=>d(g))}}const l=p0("auth");return l&&LA(i,`http://${l}`),i}function lw(){return document.getElementsByTagName("head")?.[0]??document}DA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",lw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iw("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,n1;(function(){var r;function t(N,S){function I(){}I.prototype=S.prototype,N.F=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,U){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],D=N.g[2];let U=N.g[3],R;R=S+(U^I&(D^U))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(I^D))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(I^D^U)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(D^(I|~U))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const I=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=N[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[S++]=this.g[I]>>>V&255;return N};function c(N,S){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function d(N,S){this.h=S;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==S||(I[D]=U,V=!1)}this.g=I}var g={};function v(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return et(y(-N));const S=[];let I=1;for(let V=0;N>=I;V++)S[V]=N/I|0,I*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return et(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var A=v(0),w=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(nt(this))return-et(this).m();let N=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+et(this).toString(N);const S=y(Math.pow(N,6));var I=this;let V="";for(;;){const D=Gt(I,S).g;I=dt(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=dt(this,N),nt(N)?-1:Z(N)?0:1};function et(N){const S=N.g.length,I=[];for(let V=0;V<S;V++)I[V]=~N.g[V];return new d(I,~N.h).add(w)}r.abs=function(){return nt(this)?et(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(N,S){return N.add(et(S))}r.j=function(N){if(Z(this)||Z(N))return A;if(nt(this))return nt(N)?et(this).j(et(N)):et(et(this).j(N));if(nt(N))return et(this.j(et(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,ne=N.i(D)>>>16,W=N.i(D)&65535;I[2*V+2*D]+=R*W,mt(I,2*V+2*D),I[2*V+2*D+1]+=U*W,mt(I,2*V+2*D+1),I[2*V+2*D+1]+=R*ne,mt(I,2*V+2*D+1),I[2*V+2*D+2]+=U*ne,mt(I,2*V+2*D+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new d(I,0)};function mt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function pt(N,S){this.g=N,this.h=S}function Gt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new pt(A,A);if(nt(N))return S=Gt(et(N),S),new pt(et(S.g),et(S.h));if(nt(S))return S=Gt(N,et(S)),new pt(et(S.g),S.h);if(N.g.length>30){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=S;V.l(N)<=0;)I=ee(I),V=ee(V);var D=Ct(I,1),U=Ct(V,1);for(V=Ct(V,2),I=Ct(I,2);!Z(V);){var R=U.add(V);R.l(N)<=0&&(D=D.add(I),U=R),V=Ct(V,1),I=Ct(I,1)}return S=dt(N,D.j(S)),new pt(D,S)}for(D=A;N.l(S)>=0;){for(I=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),R=U.j(S);nt(R)||R.l(N)>0;)I-=V,U=y(I),R=U.j(S);Z(U)&&(U=w),D=D.add(U),N=dt(N,R)}return new pt(D,N)}r.B=function(N){return Gt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function ee(N){const S=N.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ct(N,S){const I=S>>5;S%=32;const V=N.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=S>0?N.i(U+I)>>>S|N.i(U+I+1)<<32-S:N.i(U+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,n1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Ks=d}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i1,yl,s1,kc,Wd,r1,a1,o1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[L].apply(T,tt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const q=L.length||0;u.length=_+q;for(let tt=0;tt<q;tt++)u[_+tt]=L[tt]}else u.push(L)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,_){const T=pt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new nt(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Ct=!1,N=new mt,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){et(_)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ne,D),ne.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),B=0;function K(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++B,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function vt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Pt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let q=0;q<X.length;q++)_=X[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=wt(u,m,T,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new K(m,this.src,q,!!T,L),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(it(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),xe={};function oe(u,m,_,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)oe(u,m[q],_,T,L);return null}return _=co(_),u&&u[W]?u.J(m,_,g(T)?!!T.capture:!1,L):sr(u,m,_,!1,T,L)}function sr(u,m,_,T,L,q){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let St=rr(u);if(St||(u[Ut]=St=new at(u)),_=St.add(m,_,T,tt,q),_.proxy)return _;if(T=Qr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qr(){function u(_){return m.call(u.src,u.listener,_)}const m=lo;return u}function Kr(u,m,_,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Kr(u,m[q],_,T,L);else T=g(T)?!!T.capture:!!T,_=co(_),u&&u[W]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=wt(m,_,T,L),_>-1&&(it(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,L)),(_=u>-1?m[u]:null)&&Yr(_))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[W])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Wn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=rr(m))?(_t(_,u),_.h==0&&(_.src=null,m[Ut]=null)):it(u)}}}function Wn(u){return u in xe?xe[u]:xe[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new ne(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=_.call(T,m)}return u}function rr(u){return u=u[Ut],u instanceof at?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function _e(){V.call(this),this.i=new at(this),this.M=this,this.G=null}A(_e,V),_e.prototype[W]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Kr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),st(m,L)}L=!0;let q,tt;if(_)for(tt=_.length-1;tt>=0;tt--)q=m.g=_[tt],L=rs(q,T,!0,m)&&L;if(q=m.g=u,L=rs(q,T,!0,m)&&L,L=rs(q,T,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)q=m.g=_[tt],L=rs(q,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)it(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function rs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==_){const St=tt.listener,me=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=St.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){V.call(this),this.h=u,this.g={}}A(ar,V);var ho=[];function fo(u){vt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Yr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),fo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Rh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Wl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}A(ze,D);function Sn(){D.call(this,"c")}A(Sn,D);var de={},tu=null;function Xr(){return tu=tu||new _e}de.Ia="serverreachability";function eu(u){D.call(this,de.Ia,u)}A(eu,D);function ti(u){const m=Xr();De(m,new eu(m))}de.STAT_EVENT="statevent";function or(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}A(or,D);function ve(u){const m=Xr();De(m,new or(m,u))}de.Ja="timingevent";function ei(u,m){D.call(this,de.Ja,u),this.size=m}A(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Ch(u,m,_,T,L,q){u.info(function(){if(u.g)if(q){var tt="",St=q.split("&");for(let Bt=0;Bt<St.length;Bt++){var me=St[Bt].split("=");if(me.length>1){const le=me[0];me=me[1];const Cn=le.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(le+"="+me+"&"):tt+(le+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function nu(u,m,_,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+q+" "+tt})}function ii(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,_)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return as(q)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function cr(){}A(cr,Zl),cr.prototype.g=function(){return new XMLHttpRequest},po=new cr;function xi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function si(u,m,_){u.M=1,u.A=hr(be(m)),u.u=_,u.R=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),ri(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Bn,u.g=_u(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let q=0;q<L.length;q++){const tt=oe(_,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Gn(this.g),me=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||me==7||(me==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var _=Nh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),An(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<_.length;)if(le=ru(this,_),le==ke){St==4&&(this.m=4,ve(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ii(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,le,null),oi(this,le);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xo(tt),tt.P=!0,ve(11))}}else ii(this.i,this.l,_,null),oi(this,_);St==4&&dn(this),this.o&&!this.K&&(St==4?mu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),An(this)}}}catch{}};function Nh(u){if(!su(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ti(),ve(17)),dn(this),this.m=2,An(this)):Jr(this,this.T-u)};function An(u){u.j.I==0||u.K||mu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ra(_),ms(_);else break t;_r(_),ve(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(y(_.Va,_),6e3));li(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&ra(_),!R(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const le=Bt[0];if(!(le<=_.K))if(_.K=le,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const gi=Bt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const vr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var q=T.h;q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_o(q,q.h),q.h=null))}if(T.G){const aa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Ft(T.J,T.G,aa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=yu(T,T.L?T.ba:null,T.W),tt.L){vo(T.h,tt);var St=tt,me=T.O;me&&(St.H=me),St.D&&(ai(St),ri(St)),T.g=tt}else fu(T);_.i.length>0&&mi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||pi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?pi(_,7):Io(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}ti(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,q=null;T>=0?(L=u[_].substring(0,T),q=u[_].substring(T+1)):L=u[_],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,To(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),os(this,m[4]),this.h=ci(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,Wr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,Wr,!0),"@"),u.push(xi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(fr(_,_.charAt(0)=="/"?bo:ou,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",fr(_,lu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)os(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const St=L[tt++];St=="."?T&&tt==L.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==L.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?To(m,cu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function Ue(u,m,_){u.j=_?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,_){m instanceof us?(u.i=m,ea(u.i,u.l)):(_||(m=fr(m,ls)),u.i=new us(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function hr(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,ou=/[#\?:]/g,bo=/[#\?]/g,ls=/[#\?@]/g,lu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=us.prototype,r.add=function(u,m){rn(this),this.i=null,u=cs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function uu(u,m){rn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return rn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ao(u,m){rn(u);let _=[];if(typeof m=="string")So(u,m)&&(_=_.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=cs(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,_){uu(u,m),_.length>0&&(u.i=null,u.g.set(cs(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=xi(_);_=Ao(this,_);for(let q=0;q<_.length;q++){let tt=L;_[q]!==""&&(tt+="="+xi(_[q])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(uu(this,T),ta(this,L,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=b(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const _=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function hs(){this.g=new Jl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(hi,Zl),hi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(dr,_e),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Hn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return vt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function mr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&xi(_):Ft(u,m,_))}function $t(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,_e);var fi=/^https?$/i,Ro=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){pr(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of _)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){pr(this,q)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),Di(u)}function Co(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},r.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=q===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!fi.test(tt?tt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Co(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=iu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[L]||[];m[L]=q,q.push(_)}Pt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),mi(this)};function Io(u){if(ia(u),u.I==3){var m=u.V++,_=be(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),yr(u,_),m=new jn(u,u.j,m),m.M=2,m.A=hr(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}gu(u)}function ms(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function ia(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||S(),Ct||(ee(),Ct=!0),N.add(m,u),u.D=0}}function sa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),_=be(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),yr(this,_),q&&(this.R?m="headers="+xi(Rn(q))+"&"+m:this.u&&mr(_,this.u,q)),_o(this.h,L),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),L.U=!0,si(L,_,null)):si(L,_,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),_=new jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,_),si(_,T,m)}function yr(u,m){u.H&&vt(u.H,function(_,T){Ft(m,T,_)}),u.l&&vt({},function(_,T){Ft(m,T,_)})}function hu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const me=["count="+_];St==-1?_>0?(St=L[0].g,me.push("ofs="+St)):St=0:me.push("ofs="+St);let Bt=!0;for(let le=0;le<_;le++){var q=L[le].g;const Cn=L[le].map;if(q-=St,q<0)St=Math.max(0,L[le].g-100),Bt=!1;else try{q="req"+q+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[gi,Fn]of tt){let Qn=Fn;g(Fn)&&(Qn=as(Fn)),me.push(q+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw me.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Cn)}}if(Bt){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||S(),Ct||(ee(),Ct=!0),N.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ms(this),du(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=hr(be(m)),_.u=null,_.R=!0,$r(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),_r(this),ve(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var _=null;if(u.g==m){ra(u),xo(u),u.g=null;var T=2}else if(ui(u.h,m))_=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Xr(),De(T,new ei(T,_)),mi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&_r(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function pu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),hr(T),L?qn(T.toString(),_):wo(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),gu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,_){var T=_ instanceof mn?be(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new mn(null);T&&Ue(q,T),m&&(q.g=m),L&&os(q,L),_&&(q.h=_),T=q}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),yr(u,T),T}function _u(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new hi({ab:_})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}A(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Io(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=as(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,en.Z.N.call(this)};function Eu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Eu,ze);function Tu(){Sn.call(this),this.status=1}A(Tu,Sn);function Mi(u){this.g=u}A(Mi,vu),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new Eu(u))},Mi.prototype.pa=function(u){De(this.g,new Tu)},Mi.prototype.oa=function(){De(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,o1=function(){return new ps},a1=function(){return Xr()},r1=de,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,kc=ur,mo.COMPLETE="complete",s1=mo,Wl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,yl=Wl,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,i1=$t}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let so="12.8.0";function uw(r){so=r}const qr=new ym("@firebase/firestore");function La(){return qr.logLevel}function rt(r,...t){if(qr.logLevel<=Ot.DEBUG){const i=t.map(Nm);qr.debug(`Firestore (${so}): ${r}`,...i)}}function ns(r,...t){if(qr.logLevel<=Ot.ERROR){const i=t.map(Nm);qr.error(`Firestore (${so}): ${r}`,...i)}}function Xa(r,...t){if(qr.logLevel<=Ot.WARN){const i=t.map(Nm);qr.warn(`Firestore (${so}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,l1(r,a,i)}function l1(r,t,i){let a=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||l1(t,l,a)}function bt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class u1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class hw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new u1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class dw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new dw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function tm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Mt(l,c):Ld(l)?1:-1}return Mt(r.length,t.length)}const yw=55296,_w=57343;function Ld(r){const t=r.charCodeAt(0);return t>=yw&&t<=_w}function $a(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const hv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class re extends Ti{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return vw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new Qe([hv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(re.fromString(t))}static fromName(t){return new ht(re.fromString(t).popFirst(5))}static empty(){return new ht(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new re(t.slice()))}}function c1(r,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Ew(r,t,i,a){if(t===!0&&a===!0)throw new ut(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function fv(r){if(!ht.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dv(r){if(ht.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function h1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Ys(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!h1(r))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const mv=-62135596800,pv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*pv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<mv)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ie("string",ae._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ae(0,0))}static max(){return new Et(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function Tw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new $s(l,ht.empty(),t)}function bw(r){return new $s(r.readTime,r.key,xl)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(Et.min(),ht.empty(),xl)}static max(){return new $s(Et.max(),ht.empty(),xl)}}function Sw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const Aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Aw)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Rw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Om=-1;function ch(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function Cw(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const f1="";function Iw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=gv(t)),t=Nw(r.get(i),t);return gv(t)}function Nw(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case f1:i+="";break;default:i+=c}}return i}function gv(r){return r+f1+""}function yv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function nr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function d1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(t){return new _v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class _v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new m1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=xw.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const p1="server_timestamp",g1="__type__",y1="__previous_value__",_1="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[g1]?.stringValue===p1}function hh(r){const t=r.mapValue.fields[y1];return Mm(t)?hh(t):t}function Dl(r){const t=Js(r.mapValue.fields[_1].timestampValue);return new ae(t.seconds,t.nanos)}class Dw{constructor(t,i,a,l,c,d,g,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Xc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function Ow(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(r.options.projectId,t)}const v1="__type__",Mw="__max__",Ic={mapValue:{}},E1="__vector__",$c="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:kw(r)?9007199254740991:Vw(r)?10:11:gt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Ws(r);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Js(l.timestampValue),g=Js(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(yv(d)!==yv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ii(d[v],g[v])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Ml(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=Ws(r),a=Ws(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return vv(r.timestampValue,t.timestampValue);case 4:return vv(Dl(r),Dl(t));case 5:return tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zs(c),v=Zs(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Mt(g[y],v[y]);if(b!==0)return b}return Mt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(ye(c.latitude),ye(d.latitude));return g!==0?g:Mt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Ev(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[$c]?.arrayValue,b=v[$c]?.arrayValue,A=Mt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:Ev(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const w=tm(v[A],b[A]);if(w!==0)return w;const G=Ja(g[v[A]],y[b[A]]);if(G!==0)return G}return Mt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Js(r),a=Js(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function Ev(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Za(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Js(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Uc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return nr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function nm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Tv(r){return!!r&&"nullValue"in r}function bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function Vw(r){return(r?.mapValue?.fields||{})[v1]?.stringValue===E1}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return nr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function kw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Mw}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Sl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new fn(Sl(this.value))}}function T1(r){const t=[];return nr(r.fields,((i,a)=>{const l=new Qe([i]);if(Lc(a)){const c=T1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}class Je{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function Sv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Uw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class b1{}class Me extends b1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Pw(t,i,a):i==="array-contains"?new Bw(t,a):i==="in"?new qw(t,a):i==="not-in"?new Hw(t,a):i==="array-contains-any"?new Gw(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new zw(t,a):new jw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends b1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return S1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S1(r){return r.op==="and"}function A1(r){return Lw(r)&&S1(r)}function Lw(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function im(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(A1(r))return r.filters.map((t=>im(t))).join(",");{const t=r.filters.map((i=>im(i))).join(",");return`${r.op}(${t})`}}function w1(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(r,t):r instanceof Ni?(function(a,l){return l instanceof Ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&w1(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function R1(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(R1).join(" ,")+"}"})(r):"Filter"}class Pw extends Me{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class zw extends Me{constructor(t,i){super(t,"in",i),this.keys=C1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class jw extends Me{constructor(t,i){super(t,"not-in",i),this.keys=C1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function C1(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class Bw extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Ml(i.arrayValue,this.value)}}class qw extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class Hw extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class Gw extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}class Fw{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function wv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Fw(r,t,i,a,l,c,d)}function km(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Uw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!w1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Av(r.startAt,t.startAt)&&Av(r.endAt,t.endAt)}function sm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Qw(r,t,i,a,l,c,d,g){return new fh(r,t,i,a,l,c,d,g)}function Lm(r){return new fh(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Kw(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Yw(r){return r.collectionGroup!==null}function Al(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Zc(Qe.keyField(),a))}return t.Ie}function Ai(r){const t=bt(r);return t.Ee||(t.Ee=Xw(t,Al(r))),t.Ee}function Xw(r,t){if(r.limitType==="F")return wv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zc(l.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return wv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function rm(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function dh(r,t){return Um(Ai(r),Ai(t))&&r.limitType===t.limitType}function I1(r){return`${km(Ai(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>R1(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=Sv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,v){const y=Sv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Al(a),l))})(r,t)}function $w(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N1(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const c=Jw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Jw(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Ja(v,y):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}const Zw=new ce(ht.comparator);function is(){return Zw}const x1=new ce(ht.comparator);function _l(...r){let t=x1;for(const i of r)t=t.insert(i.key,i);return t}function D1(r){let t=x1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ur(){return wl()}function O1(){return wl()}function wl(){return new Gr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Ww=new ce(ht.comparator),tR=new Ve(ht.comparator);function Vt(...r){let t=tR;for(const i of r)t=t.add(i);return t}const eR=new Ve(Mt);function nR(){return eR}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function M1(r){return{integerValue:""+r}}function iR(r,t){return Cw(t)?M1(t):Pm(r,t)}class ph{constructor(){this._=void 0}}function sR(r,t,i){return r instanceof Wc?(function(l,c){const d={fields:{[g1]:{stringValue:p1},[_1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=hh(c)),c&&(d.fields[y1]=c),{mapValue:d}})(i,t):r instanceof Vl?k1(r,t):r instanceof kl?U1(r,t):(function(l,c){const d=V1(l,c),g=Cv(d)+Cv(l.Ae);return nm(d)&&nm(l.Ae)?M1(g):Pm(l.serializer,g)})(r,t)}function rR(r,t,i){return r instanceof Vl?k1(r,t):r instanceof kl?U1(r,t):i}function V1(r,t){return r instanceof th?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Wc extends ph{}class Vl extends ph{constructor(t){super(),this.elements=t}}function k1(r,t){const i=L1(t);for(const a of r.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends ph{constructor(t){super(),this.elements=t}}function U1(r,t){let i=L1(t);for(const a of r.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class th extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Cv(r){return ye(r.integerValue||r.doubleValue)}function L1(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function aR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Vl&&l instanceof Vl||a instanceof kl&&l instanceof kl?$a(a.elements,l.elements,Ii):a instanceof th&&l instanceof th?Ii(a.Ae,l.Ae):a instanceof Wc&&l instanceof Wc})(r.transform,t.transform)}class oR{constructor(t,i){this.version=t,this.transformResults=i}}class wi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function P1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new j1(r.key,wi.none()):new Ql(r.key,r.data,wi.none());{const i=r.data,a=fn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ir(r.key,a,new bn(l.toArray()),wi.none())}}function lR(r,t,i){r instanceof Ql?(function(l,c,d){const g=l.value.clone(),v=Nv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ir?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Nv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(z1(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Ql?(function(c,d,g,v){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),b=xv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ir?(function(c,d,g,v){if(!Pc(c.precondition,d))return g;const y=xv(c.fieldTransforms,v,d),b=d.data;return b.setAll(z1(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function uR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=V1(a.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function Iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$a(a,l,((c,d)=>aR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ir extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function z1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Nv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,rR(d,g,i[l]))}return a}function xv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,sR(c,d,t))}return a}class j1 extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&lR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=O1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=P1(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>Iv(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>Iv(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Ww})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class fR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Lt;function mR(r){switch(r){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function B1(r){if(r===void 0)return ns("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ce.OK:return J.OK;case Ce.CANCELLED:return J.CANCELLED;case Ce.UNKNOWN:return J.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return J.INTERNAL;case Ce.UNAVAILABLE:return J.UNAVAILABLE;case Ce.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ce.NOT_FOUND:return J.NOT_FOUND;case Ce.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ce.ABORTED:return J.ABORTED;case Ce.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ce.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:r})}}(Lt=Ce||(Ce={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function pR(){return new TextEncoder}const gR=new Ks([4294967295,4294967295],0);function Dv(r){const t=pR().encode(r),i=new n1;return i.update(t),new Uint8Array(i.digest())}function Ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([i,a],0),new Ks([l,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ks.fromNumber(a)));return l.compare(gR)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(Et.min(),l,new ce(Mt),is(),Vt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Vt(),Vt(),Vt())}}class zc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class q1{constructor(t,i){this.targetId=t,this.Ce=i}}class H1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Mv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Vv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yR{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.He=Nc(),this.Je=Nc(),this.Ze=new ce(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new ht(c.path);this.et(i,d,Je.newNoDocument(d,Et.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zs(a).toUint8Array()}catch(v){if(v instanceof m1)return Xa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new jm(d,l,c)}catch(v){return Xa(v instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&sm(g.target)){const v=new ht(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ze,this.je,a);return this.je=is(),this.He=Nc(),this.Je=Nc(),this.Ze=new ce(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Mv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ce(ht.comparator)}function Vv(){return new ce(ht.comparator)}const _R={asc:"ASCENDING",desc:"DESCENDING"},vR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ER={and:"AND",or:"OR"};class TR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function G1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function bR(r,t){return eh(r,t.toTimestamp())}function Ri(r){return Ht(!!r,49232),Et.fromTimestamp((function(i){const a=Js(i);return new ae(a.seconds,a.nanos)})(r))}function Bm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function F1(r){const t=re.fromString(r);return Ht($1(t),10190,{key:t.toString()}),t}function lm(r,t){return Bm(r.databaseId,t.path)}function Pd(r,t){const i=F1(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(K1(i))}function Q1(r,t){return Bm(r.databaseId,t)}function SR(r){const t=F1(r);return t.length===4?re.emptyPath():K1(t)}function um(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function K1(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kv(r,t,i){return{name:lm(r,t),fields:i.value.mapValue.fields}}function AR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:B1(y.code);return new ut(b,y.message||"")})(d);i=new H1(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):Et.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new zc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(r,a.document),c=a.readTime?Ri(a.readTime):Et.min(),d=Je.newNoDocument(l,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new dR(l,c),g=a.targetId;i=new q1(g,d)}}return i}function wR(r,t){let i;if(t instanceof Ql)i={update:kv(r,t.key,t.value)};else if(t instanceof j1)i={delete:lm(r,t.key)};else if(t instanceof ir)i={update:kv(r,t.key,t.data),updateMask:VR(t.fieldMask)};else{if(!(t instanceof cR))return gt(16599,{dt:t.type});i={verify:lm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof th)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:bR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function RR(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(Et.min())&&(d=Ri(c)),new oR(d,l.transformResults||[])})(i,t)))):[]}function CR(r,t){return{documents:[Q1(r,t.path)]}}function IR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Q1(r,l);const c=(function(y){if(y.length!==0)return X1(Ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(w){return{field:za(w.field),direction:DR(w.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=am(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function NR(r){let t=SR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const w=Y1(A);return w instanceof Ni&&A1(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((w=>(function(Z){return new Zc(ja(Z.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let w;return w=typeof A=="object"?A.value:A,ch(w)?null:w})(i.limit));let v=null;i.startAt&&(v=(function(A){const w=!!A.before,G=A.values||[];return new Jc(G,w)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const w=!A.before,G=A.values||[];return new Jc(G,w)})(i.endAt)),Qw(t,l,d,c,g,"F",v,y)}function xR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Y1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>Y1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function DR(r){return _R[r]}function OR(r){return vR[r]}function MR(r){return ER[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Qe.fromServerFormat(r.fieldPath)}function X1(r){return r instanceof Me?(function(i){if(i.op==="=="){if(bv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(Tv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(bv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(Tv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:OR(i.op),value:i.value}}})(r):r instanceof Ni?(function(i){const a=i.getFilters().map((l=>X1(l)));return a.length===1?a[0]:{compositeFilter:{op:MR(i.op),filters:a}}})(r):gt(54877,{filter:r})}function VR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function $1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function J1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Hs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kR{constructor(t){this.yt=t}}function UR(r){const t=NR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}class LR{constructor(){this.Sn=new PR}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve($s.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class PR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(re.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z1=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Z1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Wa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wa(0)}static ar(){return new Wa(-1)}}const Lv="LruGarbageCollector",zR=1048576;function Pv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class jR{constructor(t){this.Pr=t,this.buffer=new Ve(Pv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?rt(Lv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Ar(3e5)}))}}class qR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(uh.ce);const a=new jR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),La()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function HR(r,t){return new qR(r,t)}class GR{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class QR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,bn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Ur();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ur();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=is();const d=wl(),g=(function(){return wl()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof ir)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Rl(b.mutation,y,b.mutation.getFieldMask(),ae.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new FR(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new ce(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||bn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const A=(l.get(g.batchId)||Vt()).add(v);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,A=O1();b.forEach((w=>{if(!c.has(w)){const G=P1(i.get(w),a.get(w));G!==null&&A.set(w,G),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Kw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Yw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Ur());let g=xl,v=c;return d.next((y=>$.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((w=>{v=v.insert(b,w)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((b=>({batchId:g,changes:D1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(v=>{const y=(function(A,w){return new fh(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,w)=>{d=d.insert(A,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=_l();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Rl(b.mutation,y,bn.empty(),ae.now()),mh(i,y)&&(g=g.insert(v,y))})),g}))}}class KR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:UR(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),$.resolve()}}class YR{constructor(){this.overlays=new ce(ht.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ur();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Ur(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Ur(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Ur(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new fR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class XR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class qm{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new re([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new re([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class $R{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Om:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Mt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ht(c),0);let g=new Ve(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JR{constructor(t){this.ti=t,this.docs=(function(){return new ce(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=is();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=is();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Sw(bw(b),a)<=0||(l.has(b.key)||mh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new ZR(this)}getSize(t){return $.resolve(this.size)}}class ZR extends GR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class WR{constructor(t){this.persistence=t,this.ri=new Gr((i=>km(i)),Um),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new qm,this.targetCount=0,this.oi=Wa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class W1{constructor(t,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new XR,this.referenceDelegate=t(this),this.li=new WR(this),this.indexManager=new LR,this.remoteDocumentCache=(function(l){return new JR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new kR(i),this.Pi=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new YR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new $R(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new tC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class tC extends ww{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Ai=null}static Vi(t){return new Hm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.fi=new Gr((a=>Iw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=HR(this,i)}static Vi(t,i){return new nh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jb()?8:Rw(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new eC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(La()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(La()<=Ot.DEBUG&&rt("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(La()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):$.resolve())}gs(t,i){if(Rv(i))return $.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return Rv(i)||l.isEqual(Et.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(La()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.Ds(t,d,i,Tw(l,xl)).next((g=>g)))}))}bs(t,i){let a=new Ve(N1(t));return i.forEach(((l,c)=>{mh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return La()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.fs.getDocumentsMatchingQuery(t,i,$s.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",iC=3e8;class sC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ce(Mt),this.Fs=new Gr((c=>km(c)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function rC(r,t,i,a){return new sC(r,t,i,a)}async function tE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Vt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function aC(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const A=y.batch,w=A.keys();let G=$.resolve();return w.forEach((Z=>{G=G.next((()=>b.getEntry(v,Z))).next((nt=>{const et=y.docVersions.get(Z);Ht(et!==null,48541),nt.version.compareTo(et)<0&&(A.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),b.addEntry(nt)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function eE(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function oC(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((b,A)=>{const w=l.get(A);if(!w)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let G=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),l=l.insert(A,G),(function(nt,et,dt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=iC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(w,G,b)&&g.push(i.li.updateTargetData(c,G))}));let v=is(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(lC(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function lC(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=is();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):rt(Fm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function uC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function cC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Hs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function cm(r,t,i){const a=bt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;rt(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function zv(r,t,i){const a=bt(r);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=bt(v),w=A.Fs.get(b);return w!==void 0?$.resolve(A.vs.get(w)):A.li.getTargetData(y,b)})(a,d,Ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((g=>(hC(a,$w(t),g),{documents:g,ks:c})))))}function hC(r,t,i){let a=r.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class jv{constructor(){this.activeTargetIds=nR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fC{constructor(){this.vo=new jv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new jv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dC{Mo(t){}shutdown(){}}const Bv="ConnectivityMonitor";class qv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Bv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function hm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const zd="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=hm(),g=this.Qo(t,i.toUriEncodedString());rt(zd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),b=eo(y);return this.zo(t,g,v,a,b).then((A=>(rt(zd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Xa(zd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=mC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class gC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",pl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends pC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fa.c_){const t=a1();pl(t,r1.STAT_EVENT,(i=>{i.stat===Wd.PROXY?rt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&rt(Xe,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(t,i,a,l,c){const d=hm();return new Promise(((g,v)=>{const y=new i1;y.setWithCredentials(!0),y.listenOnce(s1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const A=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case kc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),v(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const w=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const nt=(function(dt){const mt=dt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(mt)>=0?mt:J.UNKNOWN})(Z.status);v(new ut(nt,Z.message))}else v(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ut(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let A=!1,w=!1;const G=new gC({Ho:Z=>{w?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return pl(b,yl.EventType.OPEN,(()=>{w||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),pl(b,yl.EventType.CLOSE,(()=>{w||(w=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(b))})),pl(b,yl.EventType.ERROR,(Z=>{w||(w=!0,Xa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),pl(b,yl.EventType.MESSAGE,(Z=>{if(!w){const nt=Z.data[0];Ht(!!nt,16349);const et=nt,dt=et?.error||et[0]?.error;if(dt){rt(Xe,`RPC '${t}' stream ${l} received error:`,dt);const mt=dt.status;let pt=(function(Ct){const N=Ce[Ct];if(N!==void 0)return B1(N)})(mt),Gt=dt.message;pt===void 0&&(pt=J.INTERNAL,Gt="Unknown error status: "+mt+" with message "+dt.message),w=!0,G.o_(new ut(pt,Gt)),b.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,nt),G.__(nt)}})),Fa.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return o1()}}function yC(r){return new Fa(r)}function jd(){return typeof document<"u"?document:null}function _h(r){return new TR(r,!0)}Fa.c_=!1;class nE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Hv="PersistentStream";class iE{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _C extends iE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ri(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=sm(v)?{documents:CR(c,v)}:{query:IR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=G1(c,d.resumeToken);const y=am(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=eh(c,d.snapshotVersion.toTimestamp());const y=am(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=xR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.K_(i)}}class vC extends iE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=RR(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>wR(this.serializer,a)))};this.K_(i)}}class EC{}class TC extends EC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,om(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bC(r,t,i,a){return new TC(r,t,i,a)}class SC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class AC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(rt(Hr,"Restarting streams for network reachability change."),await(async function(v){const y=bt(v);y.Ea.add(4),await Yl(y),y.Va.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Va=new SC(a,l)}}async function vh(r){if(Fr(r))for(const t of r.Ra)await t(!0)}async function Yl(r){for(const t of r.Ra)await t(!1)}function sE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):oo(i).O_()&&Km(i,t))}function Qm(r,t){const i=bt(r),a=oo(i);i.Ia.delete(t),a.O_()&&rE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Va.set("Unknown"))}function Km(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(r).Z_(t)}function rE(r,t){r.da.$e(t),oo(r).X_(t)}function Ym(r){r.da=new yR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.Va.ua()}function Xm(r){return Fr(r)&&!oo(r).x_()&&r.Ia.size>0}function Fr(r){return bt(r).Ea.size===0}function aE(r){r.da=void 0}async function wC(r){r.Va.set("Online")}async function RC(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function CC(r,t){aE(r),Xm(r)?(r.Va.ha(t),Ym(r)):r.Va.set("Unknown")}async function IC(r,t,i){if(r.Va.set("Online"),t instanceof H1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,t)}catch(a){rt(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ih(r,a)}else if(t instanceof zc?r.da.Xe(t):t instanceof q1?r.da.st(t):r.da.tt(t),!i.isEqual(Et.min()))try{const a=await eE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),rE(c,v);const A=new Hs(b.target,v,y,b.sequenceNumber);Km(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Hr,"Failed to raise snapshot:",a),await ih(r,a)}}async function ih(r,t,i){if(!ao(t))throw t;r.Ea.add(1),await Yl(r),r.Va.set("Offline"),i||(i=()=>eE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vh(r)}))}function oE(r,t){return t().catch((i=>ih(r,i,t)))}async function Eh(r){const t=bt(r),i=tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;NC(t);)try{const l=await uC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,xC(t,l)}catch(l){await ih(t,l)}lE(t)&&uE(t)}function NC(r){return Fr(r)&&r.Ta.length<10}function xC(r,t){r.Ta.push(t);const i=tr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function lE(r){return Fr(r)&&!tr(r).x_()&&r.Ta.length>0}function uE(r){tr(r).start()}async function DC(r){tr(r).ra()}async function OC(r){const t=tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function MC(r,t,i){const a=r.Ta.shift(),l=zm.from(a,t,i);await oE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Eh(r)}async function VC(r,t){t&&tr(r).Y_&&await(async function(a,l){if((function(d){return mR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();tr(a).B_(),await oE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(a)}})(r,t),lE(r)&&uE(r)}async function Gv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),rt(Hr,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await Yl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function kC(r,t){const i=bt(r);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Yl(i),i.Va.set("Unknown"))}function oo(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new _C(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:wC.bind(null,r),Yo:RC.bind(null,r),t_:CC.bind(null,r),J_:IC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Xm(r)?Ym(r):r.Va.set("Unknown")):(await r.ma.stop(),aE(r))}))),r.ma}function tr(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new vC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:DC.bind(null,r),t_:VC.bind(null,r),ta:OC.bind(null,r),na:MC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new $m(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(ns("AsyncQueue",`${t}: ${r}`),ao(r))return new ut(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Fv{constructor(){this.ga=new ce(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class UC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class LC{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=Qv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function Qv(){return new Gr((r=>I1(r)),dh)}async function PC(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new UC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function zC(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function jC(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Zm(i)}function BC(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Zm(r){r.Ca.forEach((t=>{t.next()}))}var fm,Kv;(Kv=fm||(fm={})).Ma="default",Kv.Cache="cache";class qC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class cE{constructor(t){this.key=t}}class hE{constructor(t){this.key=t}}class HC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=N1(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const w=l.get(b),G=mh(this.query,A)?A:null,Z=!!w&&this.mutatedKeys.has(w.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let et=!1;w&&G?w.data.isEqual(G.data)?Z!==nt&&(a.track({type:3,doc:G}),et=!0):this.su(w,G)||(a.track({type:2,doc:G}),et=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(g=!0)):!w&&G?(a.track({type:0,doc:G}),et=!0):w&&!G&&(a.track({type:1,doc:w}),et=!0,(v||y)&&(g=!0)),et&&(G?(d=d.add(G),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(G,Z){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:et})}};return nt(G)-nt(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new hE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new cE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class GC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class FC{constructor(t){this.key=t,this.hu=!1}}class QC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((g=>I1(g)),dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(ht.comparator),this.Au=new Map,this.Vu=new qm,this.du={},this.mu=new Map,this.fu=Wa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KC(r,t,i=!0){const a=yE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await fE(a,t,i,!0),l}async function YC(r,t){const i=yE(r);await fE(i,t,!0,!1)}async function fE(r,t,i,a){const l=await cC(r.localStore,Ai(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await XC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&sE(r.remoteStore,l),g}async function XC(r,t,i,a,l){r.pu=(A,w,G)=>(async function(nt,et,dt,mt){let pt=et.view.ru(dt);pt.Ss&&(pt=await zv(nt.localStore,et.query,!1).then((({documents:N})=>et.view.ru(N,pt))));const Gt=mt&&mt.targetChanges.get(et.targetId),ee=mt&&mt.targetMismatches.get(et.targetId)!=null,Ct=et.view.applyChanges(pt,nt.isPrimaryClient,Gt,ee);return Xv(nt,et.targetId,Ct.au),Ct.snapshot})(r,A,w,G);const c=await zv(r.localStore,t,!0),d=new HC(t,c.ks),g=d.ru(c.documents),v=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,v);Xv(r,i,y.au);const b=new GC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function $C(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(ro)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function JC(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function ZC(r,t,i){const a=rI(r);try{const l=await(function(d,g){const v=bt(d),y=ae.now(),b=g.reduce(((G,Z)=>G.add(Z.key)),Vt());let A,w;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=is(),nt=Vt();return v.xs.getEntries(G,b).next((et=>{Z=et,Z.forEach(((dt,mt)=>{mt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Z))).next((et=>{A=et;const dt=[];for(const mt of g){const pt=uR(mt,A.get(mt.key).overlayedDocument);pt!=null&&dt.push(new ir(mt.key,pt,T1(pt.value.mapValue),wi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,dt,g)})).next((et=>{w=et;const dt=et.applyToLocalDocumentSet(A,nt);return v.documentOverlayCache.saveOverlays(G,et.batchId,dt)}))})).then((()=>({batchId:w.batchId,changes:D1(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ce(Mt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Xl(a,l.changes),await Eh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function dE(r,t){const i=bt(r);try{const a=await oC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await ro(a)}}function Yv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=bt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,A)=>{for(const w of A.ba)w.va(g)&&(y=!0)})),y&&Zm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function WC(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(ht.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const g=Vt().add(c),v=new yh(Et.min(),new Map,new ce(Mt),d,g);await dE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),tp(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(ro)}async function tI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await aC(i.localStore,t);pE(i,a,null),mE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await ro(l)}}async function eI(r,t,i){const a=bt(r);try{const l=await(function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ht(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);pE(a,t,i),mE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await ro(l)}}function mE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function pE(r,t,i){const a=bt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function dm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||gE(r,a)}))}function gE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Qm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),tp(r))}function Xv(r,t,i){for(const a of i)a instanceof cE?(r.Vu.addReference(a.key,t),nI(r,a)):a instanceof hE?(rt(Wm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||gE(r,a.key)):gt(19791,{wu:a})}function nI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(rt(Wm,"New document in limbo: "+i),r.Eu.add(a),tp(r))}function tp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(re.fromString(t)),a=r.fu.next();r.Au.set(a,new FC(i)),r.Ru=r.Ru.insert(i,a),sE(r.remoteStore,new Hs(Ai(Lm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Xl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Gm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(w=>$.forEach(w.Ts,(G=>b.persistence.referenceDelegate.addReference(A,w.targetId,G))).next((()=>$.forEach(w.Is,(G=>b.persistence.referenceDelegate.removeReference(A,w.targetId,G)))))))))}catch(A){if(!ao(A))throw A;rt(Fm,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const G=b.vs.get(w),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(w,nt)}}})(a.localStore,c))}async function iI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){rt(Wm,"User change. New user:",t.toKey());const a=await tE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ns)}}function sI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function yE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=dE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WC.bind(null,t),t.Pu.J_=jC.bind(null,t.eventManager),t.Pu.yu=BC.bind(null,t.eventManager),t}function rI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return rC(this.persistence,new nC,t.initialUser,this.serializer)}Cu(t){return new W1(Hm.Vi,this.serializer)}Du(t){return new fC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class aI extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new BR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new W1((a=>nh.Vi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LC})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=yC(t.databaseInfo);return bC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new AC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Yv(this.syncEngine,i,0)),(function(){return qv.v()?new qv:new dC})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,b){const A=new QC(l,c,d,g,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);rt(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class oI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const er="FirestoreClient";class lI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await tE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function $v(r,t){r.asyncQueue.verifyOperationInProgress();const i=await uI(r);rt(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Gv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Gv(t.remoteStore,l))),r._onlineComponents=t}async function uI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(er,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Bd(r,new sh)}}else rt(er,"Using default OfflineComponentProvider"),await Bd(r,new aI(void 0));return r._offlineComponents}async function _E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(er,"Using user provided OnlineComponentProvider"),await $v(r,r._uninitializedComponentsProvider._online)):(rt(er,"Using default OnlineComponentProvider"),await $v(r,new mm))),r._onlineComponents}function cI(r){return _E(r).then((t=>t.syncEngine))}async function Jv(r){const t=await _E(r),i=t.eventManager;return i.onListen=KC.bind(null,t.syncEngine),i.onUnlisten=$C.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=YC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=JC.bind(null,t.syncEngine),i}function hI(r,t,i,a){const l=new oI(a),c=new qC(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>PC(await Jv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>zC(await Jv(r),c)))}}function fI(r,t){const i=new Lr;return r.asyncQueue.enqueueAndForget((async()=>ZC(await cI(r),t,i))),i.promise}function vE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const dI="ComponentProvider",Zv=new Map;function mI(r,t,i,a,l){return new Dw(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,vE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const EE="firestore.googleapis.com",Wv=!0;class t0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EE,this.ssl=Wv}else this.host=t.host,this.ssl=t.ssl??Wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zR)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ew("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new cw;switch(a.type){case"firstParty":return new mw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(rt(dI,"Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function pI(r,t,i,a={}){r=Ys(r,Th);const l=eo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(_0(`https://${g}`),v0("Firestore",!0)),c.host!==EE&&c.host!==g&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!zr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=Db(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(A)}r._authCredentials=new hw(new u1(y,b))}}class bh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class Ne{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Ne._jsonSchema))return new Ne(t,a||null,new ht(re.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ie("string",Ne._jsonSchemaVersion),referencePath:Ie("string")};class Xs extends bh{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ht(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function gI(r,t,...i){if(r=We(r),c1("collection","path",t),r instanceof Th){const a=re.fromString(t,...i);return dv(a),new Xs(r,null,a)}{if(!(r instanceof Ne||r instanceof Xs))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return dv(a),new Xs(r.firestore,null,a)}}function gl(r,t,...i){if(r=We(r),arguments.length===1&&(t=xm.newId()),c1("doc","path",t),r instanceof Th){const a=re.fromString(t,...i);return fv(a),new Ne(r,null,new ht(a))}{if(!(r instanceof Ne||r instanceof Xs))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return fv(a),new Ne(r.firestore,r instanceof Xs?r.converter:null,new ht(a))}}const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nE(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&rt(e0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;rt(e0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",i0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:i0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function i0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ul extends Th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new n0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function yI(r,t){const i=typeof r=="object"?r:Em(),a=typeof r=="string"?r:Xc,l=vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Nb("firestore");c&&pI(l,...c)}return l}function TE(r){if(r._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_I(r),r._firestoreClient}function _I(r){const t=r._freezeSettings(),i=mI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new lI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class ep{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class np{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ie("string",Zn._jsonSchemaVersion),vectorValues:Ie("object")};const vI=/^__.*__$/;class EI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class bE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function SE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class ip{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ip({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return rh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(SE(this.dataSource)&&vI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class TI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}createContext(t,i,a,l=!1){return new ip({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AE(r){const t=r._freezeSettings(),i=_h(r._databaseId);return new TI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function bI(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);sp("Data must be an object, but it was:",d,a);const g=wE(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const w=Ll(t,A,i);if(!d.contains(w))throw new ut(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);IE(b,w)||b.push(w)}v=new bn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new EI(new fn(g),v,y)}class Sh extends np{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sh}}function SI(r,t,i,a){const l=r.createContext(1,t,i);sp("Data must be an object, but it was:",l,a);const c=[],d=fn.empty();nr(a,((v,y)=>{const b=CE(t,v,i);y=We(y);const A=l.childContextForFieldPath(b);if(y instanceof Sh)c.push(b);else{const w=Ah(y,A);w!=null&&(c.push(b),d.set(b,w))}}));const g=new bn(c);return new bE(d,g,l.fieldTransforms)}function AI(r,t,i,a,l,c){const d=r.createContext(1,t,i),g=[Ll(t,a,i)],v=[l];if(c.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Ll(t,c[w])),v.push(c[w+1]);const y=[],b=fn.empty();for(let w=g.length-1;w>=0;--w)if(!IE(y,g[w])){const G=g[w];let Z=v[w];Z=We(Z);const nt=d.childContextForFieldPath(G);if(Z instanceof Sh)y.push(G);else{const et=Ah(Z,nt);et!=null&&(y.push(G),b.set(G,et))}}const A=new bn(y);return new bE(b,A,d.fieldTransforms)}function Ah(r,t){if(RE(r=We(r)))return sp("Unsupported field value:",t,r),wE(r,t);if(r instanceof np)return(function(a,l){if(!SE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Ah(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:eh(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:G1(l.serializer,a._byteString)};if(a instanceof Ne){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,g){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[v1]:{stringValue:E1},[$c]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Pm(g.serializer,b)}))}}}}}})(a,l);if(J1(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dm(a)}`)})(r,t)}function wE(r,t){const i={};return d1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(r,((a,l)=>{const c=Ah(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function RE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Ci||r instanceof Ln||r instanceof Ne||r instanceof np||r instanceof Zn||J1(r))}function sp(r,t,i){if(!RE(i)||!h1(i)){const a=Dm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Ll(r,t,i){if((t=We(t))instanceof ep)return t._internalPath;if(typeof t=="string")return CE(r,t);throw rh("Field path arguments must be of type string or ",r,!1,void 0,i)}const wI=new RegExp("[~\\*/\\[\\]]");function CE(r,t,i){if(t.search(wI)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ep(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function rh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ut(J.INVALID_ARGUMENT,g+r+v)}function IE(r,t){return r.some((i=>i.isEqual(t)))}class RI{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Ci(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=Js(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Ht($1(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class NE extends RI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}const s0="@firebase/firestore",r0="4.10.0";function a0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class xE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ll("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CI extends xE{data(){return super.data()}}function II(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function NI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends xE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ll("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ie("string",Pr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class jc extends Pr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:xI(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ie("string",Ka._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function o0(r,t,i){r=Ys(r,Ne);const a=Ys(r.firestore,Ul),l=NI(r.converter,t),c=AE(a);return DE(a,[bI(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,wi.none())])}function DI(r,t,i,...a){r=Ys(r,Ne);const l=Ys(r.firestore,Ul),c=AE(l);let d;return d=typeof(t=We(t))=="string"||t instanceof ep?AI(c,"updateDoc",r._key,t,i,a):SI(c,"updateDoc",r._key,t),DE(l,[d.toMutation(r._key,wi.exists(!0))])}function qd(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||a0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(a0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ne)d=Ys(r.firestore,Ul),g=Lm(r._key.path),c={next:y=>{t[a]&&t[a](OI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ys(r,bh);d=Ys(y.firestore,Ul),g=y._query;const b=new NE(d);c={next:A=>{t[a]&&t[a](new Ka(d,b,y,A))},error:t[a+1],complete:t[a+2]},II(r._query)}const v=TE(d);return hI(v,g,l,c)}function DE(r,t){const i=TE(r);return fI(i,t)}function OI(r,t,i){const a=i.docs.get(t._key),l=new NE(r);return new Pr(r,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){uw(no),Ya(new jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Ul(new fw(a.getProvider("auth-internal")),new pw(d,a.getProvider("app-check-internal")),Ow(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Qs(s0,r0,t),Qs(s0,r0,"esm2020")})();const OE=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const MI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const VI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const l0=r=>{const t=VI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var kI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const LI=Yt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>Yt.createElement("svg",{ref:v,...kI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:OE("lucide",l),...!c&&!UI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Yt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Xt=(r,t)=>{const i=Yt.forwardRef(({className:a,...l},c)=>Yt.createElement(LI,{ref:c,iconNode:t,className:OE(`lucide-${MI(l0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=l0(r),i};const PI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zI=Xt("arrow-left",PI);const jI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],BI=Xt("arrow-right",jI);const qI=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],HI=Xt("bath",qI);const GI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hd=Xt("calendar",GI);const FI=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],QI=Xt("car",FI);const KI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YI=Xt("chevron-right",KI);const XI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$I=Xt("circle-check-big",XI);const JI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ZI=Xt("ellipsis",JI);const WI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tN=Xt("external-link",WI);const eN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nN=Xt("eye-off",eN);const iN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sN=Xt("eye",iN);const rN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aN=Xt("file-text",rN);const oN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lN=Xt("globe",oN);const uN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],cN=Xt("house",uN);const hN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fN=Xt("loader-circle",hN);const dN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],mN=Xt("package",dN);const pN=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],gN=Xt("pill",pN);const yN=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],u0=Xt("plane",yN);const _N=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pm=Xt("plus",_N);const vN=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],EN=Xt("shirt",vN);const TN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],bN=Xt("shopping-bag",TN);const SN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],AN=Xt("smartphone",SN);const wN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],RN=Xt("sparkles",wN);const CN=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],IN=Xt("sticky-note",CN);const NN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xN=Xt("sun",NN);const DN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ME=Xt("trash-2",DN);const ON=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],MN=Xt("utensils",ON);const VN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],kN=Xt("wallet",VN);const UN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LN=Xt("x",UN),PN=" V2.13 - 2026/02/06 22:15",c0=[{id:"food",name:"",icon:MN,color:"text-orange-500",bg:"bg-orange-50"},{id:"stay",name:"",icon:cN,color:"text-indigo-500",bg:"bg-indigo-50"},{id:"transport",name:"",icon:QI,color:"text-blue-500",bg:"bg-blue-50"},{id:"shopping",name:"",icon:bN,color:"text-pink-500",bg:"bg-pink-50"},{id:"play",name:"",icon:RN,color:"text-yellow-600",bg:"bg-yellow-50"},{id:"other",name:"",icon:ZI,color:"text-slate-500",bg:"bg-slate-50"}],zN=[{id:"cat_3c",name:"3C ",icon:AN,items:["","","","",""]},{id:"cat_clothing",name:"",icon:EN,items:["","","","",""]},{id:"cat_toiletries",name:"",icon:HI,items:["","","",""]},{id:"cat_medicine",name:"",icon:gN,items:["","","OK "]},{id:"cat_docs",name:"",icon:aN,items:["","","",""]},{id:"cat_others",name:"",icon:mN,items:["","","",""]}],jN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65"},VE=YS().length>0?Em():b0(jN),Gd=ow(VE),$n=yI(VE),Ua=typeof __app_id<"u"?__app_id:"travel-yeh",h0=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}))}catch{return""}},BN=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{weekday:"long"}))}catch{return""}},qN=r=>{if(!r)return null;const t=/(https?:\/\/[^\s]+)/g;return r.split(t).map((a,l)=>a.match(t)?M.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",children:[a," ",M.jsx(tN,{size:12})]},l):a)},HN=({itineraryData:r,updateItinField:t})=>{const i=r?.expenses||[],[a,l]=Yt.useState(""),[c,d]=Yt.useState(""),[g,v]=Yt.useState("food"),y=Yt.useMemo(()=>i.reduce((w,G)=>w+(parseFloat(G.amount)||0),0),[i]),b=Yt.useMemo(()=>{const w={};return i.forEach(G=>{w[G.category]=(w[G.category]||0)+(parseFloat(G.amount)||0)}),w},[i]),A=async w=>{if(w.preventDefault(),!a||!c)return;const G={id:Date.now().toString(),item:a,amount:c,category:g,date:new Date().toISOString()};await t("expenses",[...i,G]),l(""),d("")};return M.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[M.jsxs("div",{className:"md:col-span-2 bg-white p-10 rounded-[3.5rem] shadow-xl border border-slate-100 flex flex-col justify-center",children:[M.jsx("h3",{className:"text-slate-400 font-black text-xs uppercase tracking-widest mb-2 ml-1",children:""}),M.jsxs("div",{className:"flex items-baseline gap-2",children:[M.jsxs("span",{className:"text-6xl font-black text-slate-900 tracking-tighter",children:["$",y.toLocaleString()]}),M.jsx("span",{className:"text-slate-300 font-bold text-xs uppercase tracking-widest",children:"twd"})]})]}),M.jsxs("div",{className:"bg-slate-900 p-8 rounded-[3rem] shadow-xl text-white",children:[M.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:""}),M.jsx("div",{className:"space-y-3",children:c0.map(w=>{const G=b[w.id]||0,Z=y>0?Math.round(G/y*100):0;return M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(w.icon,{size:14,className:w.color}),M.jsx("span",{className:"text-xs font-bold text-slate-300",children:w.name})]}),M.jsxs("span",{className:"text-xs font-mono font-bold text-slate-100",children:["$",G.toLocaleString()," (",Z,"%)"]})]},w.id)})})]})]}),M.jsx("div",{className:"bg-white p-8 rounded-[4rem] shadow-lg border border-slate-100",children:M.jsxs("form",{onSubmit:A,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[M.jsxs("div",{className:"flex-1 space-y-1",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,placeholder:"",value:a,onChange:w=>l(w.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none"})]}),M.jsxs("div",{className:"w-full md:w-48 space-y-1",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,type:"number",value:c,onChange:w=>d(w.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none"})]}),M.jsxs("div",{className:"w-full md:w-40 space-y-1",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),M.jsx("select",{value:g,onChange:w=>v(w.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-black outline-none",children:c0.map(w=>M.jsx("option",{value:w.id,children:w.name},w.id))})]}),M.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-4 rounded-2xl shadow-xl transition-all active:scale-95",children:M.jsx(pm,{size:28})})]})}),M.jsx("div",{className:"bg-white rounded-[3rem] shadow-xl border border-slate-50 overflow-hidden",children:M.jsxs("table",{className:"w-full text-left",children:[M.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase font-black",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-8 py-5",children:""}),M.jsx("th",{className:"px-8 py-5",children:""}),M.jsx("th",{className:"px-8 py-5 text-right",children:""}),M.jsx("th",{className:"px-8 py-5 text-center",children:""})]})}),M.jsx("tbody",{className:"divide-y divide-slate-50",children:i.length>0?[...i].reverse().map(w=>M.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[M.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:w.item}),M.jsx("td",{className:"px-8 py-5",children:M.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 text-[10px] font-black",children:w.category})}),M.jsxs("td",{className:"px-8 py-5 text-right font-mono font-black text-slate-800",children:["$",parseFloat(w.amount).toLocaleString()]}),M.jsx("td",{className:"px-8 py-5 text-center",children:M.jsx("button",{onClick:async()=>await t("expenses",i.filter(G=>G.id!==w.id)),className:"text-slate-300 hover:text-red-500 transition-colors",children:M.jsx(ME,{size:18})})})]},w.id)):M.jsx("tr",{children:M.jsx("td",{colSpan:"4",className:"px-8 py-20 text-center text-slate-300 font-bold italic tracking-widest",children:""})})})]})})]})},GN=()=>{const[r,t]=Yt.useState("home"),[i,a]=Yt.useState("itinerary"),[l,c]=Yt.useState(null),[d,g]=Yt.useState(null),[v,y]=Yt.useState([]),[b,A]=Yt.useState(!0),[w,G]=Yt.useState(1),[Z,nt]=Yt.useState({country:"",city:"",startDate:"",duration:3}),[et,dt]=Yt.useState({days:{},checklist:[],expenses:[]}),[mt,pt]=Yt.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[Gt,ee]=Yt.useState({type:"",message:""}),[Ct,N]=Yt.useState(!1),[S,I]=Yt.useState({}),[V,D]=Yt.useState(1);Yt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await KA(Gd,__initial_auth_token):await qA(Gd)}catch(K){console.error("Auth init error",K)}})();const B=$A(Gd,K=>{K&&(c(K),A(!1))});return()=>B()},[]),Yt.useEffect(()=>{if(!l||!$n)return;const W=gI($n,"artifacts",Ua,"public","data","trips");return qd(W,B=>{y(B.docs.map(K=>({id:K.id,...K.data()})).sort((K,it)=>new Date(it.createdAt)-new Date(K.createdAt)))},B=>{console.error("Firestore Error:",B),B.code==="permission-denied"&&ee({type:"error",message:""})})},[l]),Yt.useEffect(()=>{if(!l||!d||!$n)return;const W=gl($n,"artifacts",Ua,"public","data","itineraries",d),B=qd(W,vt=>{if(vt.exists()){const Pt=vt.data();dt({days:Pt.days||{},checklist:Pt.checklist||[],expenses:Pt.expenses||[]}),t("editor")}},vt=>console.error("Itinerary Error:",vt)),K=gl($n,"artifacts",Ua,"public","data","trips",d),it=qd(K,vt=>{vt.exists()&&nt(vt.data())});return()=>{B(),it()}},[l,d]);const U=async(W,B)=>{if(!(!l||!d||!$n))try{await DI(gl($n,"artifacts",Ua,"public","data","itineraries",d),{[W]:B})}catch(K){console.error(K)}},R=async W=>{if(!l||!d||!$n)return;const B={...et.days},K=w+W;if(K<1||K>parseInt(Z.duration||"0"))return;const it=B[w],vt=B[K];B[w]=vt,B[K]=it,await U("days",B),G(K),ee({type:"success",message:""})},ne=async W=>{if(W.preventDefault(),!l||!$n)return;A(!0);const B=crypto.randomUUID(),K={};for(let it=1;it<=Math.max(1,parseInt(Z.duration));it++)K[it]={spots:[],title:""};try{await o0(gl($n,"artifacts",Ua,"public","data","trips",B),{...Z,creator:l.uid,createdAt:new Date().toISOString()}),await o0(gl($n,"artifacts",Ua,"public","data","itineraries",B),{days:K,checklist:[],expenses:[]}),g(B)}catch(it){console.error(it)}finally{A(!1)}};return Yt.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const K=document.createElement("script");K.id="tailwind-cdn",K.src="https://cdn.tailwindcss.com",document.head.appendChild(K)}const W=document.createElement("style");W.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { min-height: 100vh !important; width: 100% !important; background-color: #f8fafc; font-family: 'Noto Sans TC', sans-serif; margin: 0; padding: 0; }
      #root { display: flex; flex-direction: column; align-items: center; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(W),(()=>{let K=document.querySelector("link[rel~='icon']");K||(K=document.createElement("link"),K.rel="icon",document.head.appendChild(K)),K.href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232563eb'%3E%3Cpath d='M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z'/%3E%3C/svg%3E"})()},[]),b?M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[M.jsx(fN,{className:"animate-spin text-blue-600 mb-2",size:48}),M.jsx("p",{className:"text-slate-500 font-bold italic",children:"..."})]}):M.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen",children:[Gt.message&&M.jsxs("div",{className:"fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl bg-white border border-red-100 text-red-600 animate-fade-in flex items-center gap-3",children:[" ",M.jsx("span",{className:"font-bold text-sm",children:Gt.message}),M.jsx("button",{onClick:()=>ee({type:"",message:""}),children:M.jsx(LN,{size:14})})," "]}),r==="home"?M.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 animate-fade-in",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0",children:M.jsx(u0,{size:48})}),M.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase",children:"Travel Planner"}),M.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center",children:"-"})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start",children:[M.jsxs("div",{className:"space-y-6",children:[M.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[M.jsx(pm,{className:"text-blue-600"})," "]}),M.jsxs("form",{onSubmit:ne,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm",value:Z.country,onChange:W=>nt({...Z,country:W.target.value})})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm",value:Z.city,onChange:W=>nt({...Z,city:W.target.value})})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm",value:Z.startDate,onChange:W=>nt({...Z,startDate:W.target.value})})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm",value:Z.duration,onChange:W=>nt({...Z,duration:W.target.value})})]})]}),M.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all",children:""})]})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[M.jsx(Hd,{className:"text-blue-600"}),"  (",v.length,")"]}),M.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:v.map(W=>M.jsxs("div",{onClick:()=>g(W.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-5",children:[M.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm",children:M.jsx(lN,{size:24})}),M.jsxs("div",{children:[M.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[W.city," "]}),M.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1",children:[W.country,"  ",W.startDate]})]})]}),M.jsx(YI,{className:"text-slate-200 group-hover:text-blue-600"})]},W.id))})]})]}),M.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:PN})]}):M.jsxs("div",{className:"w-full animate-fade-in flex flex-col items-center",children:[M.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50",children:[M.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[M.jsx(u0,{size:24,className:"rotate-45"}),M.jsx("span",{className:"tracking-tighter uppercase font-black",children:"Traveler"})]}),M.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:["itinerary","weather","expenses","checklist","currency"].map(W=>M.jsx("button",{onClick:()=>a(W),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i===W?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:W==="itinerary"?"":W==="weather"?"":W==="expenses"?"":W==="checklist"?"":""},W))}),M.jsxs("div",{className:"text-right font-black text-slate-800",children:[Z.city," "]})]}),M.jsx("main",{className:"w-full max-w-5xl p-6 md:p-12",children:i==="itinerary"?M.jsxs("div",{className:"space-y-12",children:[M.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(et?.days||{}).map(W=>M.jsxs("button",{onClick:()=>{G(parseInt(W))},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${w===parseInt(W)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[M.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),M.jsx("span",{className:"text-3xl leading-none",children:W}),M.jsx("span",{className:"text-[10px] mt-1 font-bold",children:h0(Z.startDate,parseInt(W)).slice(5)})]},W))}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none",children:["Day ",w]}),M.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200",children:[M.jsx("button",{onClick:()=>R(-1),disabled:w===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:M.jsx(zI,{size:20})}),M.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),M.jsx("button",{onClick:()=>R(1),disabled:w===parseInt(Z.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:M.jsx(BI,{size:20})})]})]}),M.jsxs("div",{className:"flex-1",children:[M.jsxs("span",{className:"text-lg text-slate-400 font-bold ml-1 mb-1 block",children:["(",h0(Z.startDate,w)," ",BN(Z.startDate,w),")"]}),M.jsx("input",{className:"text-3xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 w-full",placeholder:"...",value:et?.days?.[w]?.title||"",onChange:W=>U(`days.${w}.title`,W.target.value)})]})]}),M.jsxs("button",{onClick:()=>N(!Ct),className:"flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border bg-white text-slate-500 hover:bg-slate-50 active:scale-95",children:[Ct?M.jsx(nN,{size:16}):M.jsx(sN,{size:16})," ",Ct?"":""]})]}),M.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[M.jsxs("form",{onSubmit:async W=>{W.preventDefault();const B=et?.days?.[w]?.spots||[];await U(`days.${w}.spots`,[...B,{...mt,id:Date.now().toString()}]),pt({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[M.jsxs("div",{className:"flex gap-3",children:[M.jsx("input",{type:"time",value:mt.time,onChange:W=>pt({...mt,time:W.target.value}),className:"p-3 bg-white border rounded-xl font-black"}),M.jsx("input",{placeholder:"",required:!0,value:mt.spot,onChange:W=>pt({...mt,spot:W.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none"})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("input",{placeholder:"",value:mt.imageUrl,onChange:W=>pt({...mt,imageUrl:W.target.value}),className:"w-1/3 p-3 bg-white border rounded-xl font-bold"}),M.jsx("textarea",{placeholder:"...",value:mt.note,onChange:W=>pt({...mt,note:W.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm"}),M.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black active:scale-95",children:M.jsx(pm,{size:24})})]})]}),M.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full",children:[(et?.days?.[w]?.spots||[]).map((W,B)=>{const K=Ct||!!S[W.id];return M.jsxs("div",{className:"relative pl-20",children:[M.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:M.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md transition-transform group-hover:scale-110",children:W.time})}),M.jsx("div",{onClick:()=>I(it=>({...it,[W.id]:!it[W.id]})),className:`p-10 bg-white border rounded-[3rem] transition-all cursor-pointer hover:shadow-2xl ${K?"border-blue-100 shadow-lg":"border-slate-100"}`,children:M.jsxs("div",{className:"flex justify-between items-start gap-4",children:[M.jsxs("div",{className:"space-y-4 flex-1",children:[M.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[M.jsx("h4",{className:"text-3xl font-black text-slate-800 leading-tight tracking-tight",children:W.spot}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(W.spot)}`,target:"_blank",rel:"noreferrer",onClick:it=>it.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-xl text-xs font-black",children:""}),(W.note||W.imageUrl)&&M.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1 text-[10px] font-black ${K?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[M.jsx(IN,{size:12})," ",K?"":""]})]})]}),K&&M.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100 space-y-4 animate-fade-in",onClick:it=>it.stopPropagation(),children:[W.imageUrl&&M.jsx("img",{src:W.imageUrl,alt:W.spot,className:"w-full max-w-md h-auto rounded-2xl shadow-sm border border-white",onError:it=>it.target.style.display="none"}),M.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:qN(W.note)||""})]})]}),M.jsx("button",{onClick:async it=>{it.stopPropagation(),confirm("")&&await U(`days.${w}.spots`,et.days[w].spots.filter(vt=>vt.id!==W.id))},className:"text-slate-200 hover:text-red-500 transition-colors",children:M.jsx(ME,{size:20})})]})})]},W.id)}),!et?.days?.[w]?.spots?.length&&M.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[M.jsx(Hd,{className:"text-slate-100 mx-auto mb-6",size:80}),M.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}):i==="weather"?M.jsx(WeatherMaster,{tripInfo:Z}):i==="checklist"?M.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-8 animate-fade-in pb-10",children:[M.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-xl border border-slate-100 text-center",children:[M.jsx("h3",{className:"text-2xl font-black text-slate-800",children:""}),M.jsx("p",{className:"text-slate-400 font-bold mt-1 tracking-widest italic",children:" - "})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:zN.map(W=>M.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-lg border border-slate-50",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[M.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:M.jsx(W.icon,{size:24})}),M.jsx("h4",{className:"text-xl font-black text-slate-800",children:W.name})]}),M.jsx("div",{className:"space-y-3",children:W.items.map((B,K)=>M.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl font-bold text-slate-600",children:[M.jsx($I,{size:16,className:"text-slate-200"}),B]},K))})]},W.id))})]}):i==="expenses"?M.jsx(HN,{itineraryData:et,updateItinField:U}):M.jsx(CurrencyMaster,{parentAmount:V,setParentAmount:D})}),M.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[M.jsx("button",{onClick:()=>a("itinerary"),className:`p-4 rounded-2xl transition-all ${i==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:M.jsx(Hd,{size:20})}),M.jsx("button",{onClick:()=>a("weather"),className:`p-4 rounded-2xl transition-all ${i==="weather"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:M.jsx(xN,{size:20})}),M.jsx("button",{onClick:()=>a("expenses"),className:`p-4 rounded-2xl transition-all ${i==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:M.jsx(kN,{size:20})}),M.jsx("button",{onClick:()=>a("checklist"),className:`p-4 rounded-2xl transition-all ${i==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:M.jsx(ListChecks,{size:20})}),M.jsx("button",{onClick:()=>a("currency"),className:`p-4 rounded-2xl transition-all ${i==="currency"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:M.jsx(Coins,{size:20})})]})]})]})};Eb.createRoot(document.getElementById("root")).render(M.jsx(Yt.StrictMode,{children:M.jsx(GN,{})}));
