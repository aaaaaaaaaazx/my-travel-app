(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},dl={};var x_;function pb(){if(x_)return dl;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var O_;function gb(){return O_||(O_=1,Rd.exports=pb()),Rd.exports}var M=gb(),Cd={exports:{}},Tt={};var V_;function yb(){if(V_)return Tt;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function X(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,nt={};function pt(I,q,H){this.props=I,this.context=q,this.refs=nt,this.updater=H||W}pt.prototype.isReactComponent={},pt.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},pt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function wt(){}wt.prototype=pt.prototype;function Et(I,q,H){this.props=I,this.context=q,this.refs=nt,this.updater=H||W}var Jt=Et.prototype=new wt;Jt.constructor=Et,st(Jt,pt.prototype),Jt.isPureReactComponent=!0;var oe=Array.isArray;function It(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(I,q,H){var tt=H.ref;return{$$typeof:r,type:I,key:q,ref:tt!==void 0?tt:null,props:H}}function V(I,q){return w(I.type,q,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(H){return q[H]})}var R=/\/+/g;function Zt(I,q){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):q.toString(36)}function he(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(It,It):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function F(I,q,H,tt,lt){var gt=typeof I;(gt==="undefined"||gt==="boolean")&&(I=null);var Ct=!1;if(I===null)Ct=!0;else switch(gt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(I.$$typeof){case r:case t:Ct=!0;break;case b:return Ct=I._init,F(Ct(I._payload),q,H,tt,lt)}}if(Ct)return lt=lt(I),Ct=tt===""?"."+Zt(I,0):tt,oe(lt)?(H="",Ct!=null&&(H=Ct.replace(R,"$&/")+"/"),F(lt,q,H,"",function(sr){return sr})):lt!=null&&(O(lt)&&(lt=V(lt,H+(lt.key==null||I&&I.key===lt.key?"":(""+lt.key).replace(R,"$&/")+"/")+Ct)),q.push(lt)),1;Ct=0;var Ne=tt===""?".":tt+":";if(oe(I))for(var se=0;se<I.length;se++)tt=I[se],gt=Ne+Zt(tt,se),Ct+=F(tt,q,H,gt,lt);else if(se=X(I),typeof se=="function")for(I=se.call(I),se=0;!(tt=I.next()).done;)tt=tt.value,gt=Ne+Zt(tt,se++),Ct+=F(tt,q,H,gt,lt);else if(gt==="object"){if(typeof I.then=="function")return F(he(I),q,H,tt,lt);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function it(I,q,H){if(I==null)return I;var tt=[],lt=0;return F(I,tt,"","",function(gt){return q.call(H,gt,lt++)}),tt}function K(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(H){(I._status===0||I._status===-1)&&(I._status=1,I._result=H)},function(H){(I._status===0||I._status===-1)&&(I._status=2,I._result=H)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},rt={map:it,forEach:function(I,q,H){it(I,function(){q.apply(this,arguments)},H)},count:function(I){var q=0;return it(I,function(){q++}),q},toArray:function(I){return it(I,function(q){return q})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Tt.Activity=A,Tt.Children=rt,Tt.Component=pt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=Et,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Tt.cache=function(I){return function(){return I.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(I,q,H){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var tt=st({},I.props),lt=I.key;if(q!=null)for(gt in q.key!==void 0&&(lt=""+q.key),q)!S.call(q,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&q.ref===void 0||(tt[gt]=q[gt]);var gt=arguments.length-2;if(gt===1)tt.children=H;else if(1<gt){for(var Ct=Array(gt),Ne=0;Ne<gt;Ne++)Ct[Ne]=arguments[Ne+2];tt.children=Ct}return w(I.type,lt,tt)},Tt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Tt.createElement=function(I,q,H){var tt,lt={},gt=null;if(q!=null)for(tt in q.key!==void 0&&(gt=""+q.key),q)S.call(q,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(lt[tt]=q[tt]);var Ct=arguments.length-2;if(Ct===1)lt.children=H;else if(1<Ct){for(var Ne=Array(Ct),se=0;se<Ct;se++)Ne[se]=arguments[se+2];lt.children=Ne}if(I&&I.defaultProps)for(tt in Ct=I.defaultProps,Ct)lt[tt]===void 0&&(lt[tt]=Ct[tt]);return w(I,gt,lt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(I){return{$$typeof:g,render:I}},Tt.isValidElement=O,Tt.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:K}},Tt.memo=function(I,q){return{$$typeof:y,type:I,compare:q===void 0?null:q}},Tt.startTransition=function(I){var q=N.T,H={};N.T=H;try{var tt=I(),lt=N.S;lt!==null&&lt(H,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(It,at)}catch(gt){at(gt)}finally{q!==null&&H.types!==null&&(q.types=H.types),N.T=q}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(I){return N.H.use(I)},Tt.useActionState=function(I,q,H){return N.H.useActionState(I,q,H)},Tt.useCallback=function(I,q){return N.H.useCallback(I,q)},Tt.useContext=function(I){return N.H.useContext(I)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(I,q){return N.H.useDeferredValue(I,q)},Tt.useEffect=function(I,q){return N.H.useEffect(I,q)},Tt.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(I,q,H){return N.H.useImperativeHandle(I,q,H)},Tt.useInsertionEffect=function(I,q){return N.H.useInsertionEffect(I,q)},Tt.useLayoutEffect=function(I,q){return N.H.useLayoutEffect(I,q)},Tt.useMemo=function(I,q){return N.H.useMemo(I,q)},Tt.useOptimistic=function(I,q){return N.H.useOptimistic(I,q)},Tt.useReducer=function(I,q,H){return N.H.useReducer(I,q,H)},Tt.useRef=function(I){return N.H.useRef(I)},Tt.useState=function(I){return N.H.useState(I)},Tt.useSyncExternalStore=function(I,q,H){return N.H.useSyncExternalStore(I,q,H)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.4",Tt}var M_;function Sm(){return M_||(M_=1,Cd.exports=yb()),Cd.exports}var Wt=Sm(),Id={exports:{}},ml={},Nd={exports:{}},Dd={};var k_;function _b(){return k_||(k_=1,(function(r){function t(F,it){var K=F.length;F.push(it);t:for(;0<K;){var at=K-1>>>1,rt=F[at];if(0<l(rt,it))F[at]=it,F[K]=rt,K=at;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var it=F[0],K=F.pop();if(K!==it){F[0]=K;t:for(var at=0,rt=F.length,I=rt>>>1;at<I;){var q=2*(at+1)-1,H=F[q],tt=q+1,lt=F[tt];if(0>l(H,K))tt<rt&&0>l(lt,H)?(F[at]=lt,F[tt]=K,at=tt):(F[at]=H,F[q]=K,at=q);else if(tt<rt&&0>l(lt,K))F[at]=lt,F[tt]=K,at=tt;else break t}}return it}function l(F,it){var K=F.sortIndex-it.sortIndex;return K!==0?K:F.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,A=null,x=3,X=!1,W=!1,st=!1,nt=!1,pt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Jt(F){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=F)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function oe(F){if(st=!1,Jt(F),!W)if(i(v)!==null)W=!0,It||(It=!0,U());else{var it=i(y);it!==null&&he(oe,it.startTime-F)}}var It=!1,N=-1,S=5,w=-1;function V(){return nt?!0:!(r.unstable_now()-w<S)}function O(){if(nt=!1,It){var F=r.unstable_now();w=F;var it=!0;try{t:{W=!1,st&&(st=!1,wt(N),N=-1),X=!0;var K=x;try{e:{for(Jt(F),A=i(v);A!==null&&!(A.expirationTime>F&&V());){var at=A.callback;if(typeof at=="function"){A.callback=null,x=A.priorityLevel;var rt=at(A.expirationTime<=F);if(F=r.unstable_now(),typeof rt=="function"){A.callback=rt,Jt(F),it=!0;break e}A===i(v)&&a(v),Jt(F)}else a(v);A=i(v)}if(A!==null)it=!0;else{var I=i(y);I!==null&&he(oe,I.startTime-F),it=!1}}break t}finally{A=null,x=K,X=!1}it=void 0}}finally{it?U():It=!1}}}var U;if(typeof Et=="function")U=function(){Et(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Zt=R.port2;R.port1.onmessage=O,U=function(){Zt.postMessage(null)}}else U=function(){pt(O,0)};function he(F,it){N=pt(function(){F(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var K=x;x=it;try{return F()}finally{x=K}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=x;x=F;try{return it()}finally{x=K}},r.unstable_scheduleCallback=function(F,it,K){var at=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?at+K:at):K=at,F){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=K+rt,F={id:b++,callback:it,priorityLevel:F,startTime:K,expirationTime:rt,sortIndex:-1},K>at?(F.sortIndex=K,t(y,F),i(v)===null&&F===i(y)&&(st?(wt(N),N=-1):st=!0,he(oe,K-at))):(F.sortIndex=rt,t(v,F),W||X||(W=!0,It||(It=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var it=x;return function(){var K=x;x=it;try{return F.apply(this,arguments)}finally{x=K}}}})(Dd)),Dd}var U_;function vb(){return U_||(U_=1,Nd.exports=_b()),Nd.exports}var xd={exports:{}},Ye={};var L_;function Eb(){if(L_)return Ye;L_=1;var r=Sm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,X=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:X}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:x,fetchPriority:X,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var P_;function Tb(){if(P_)return xd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=Eb(),xd.exports}var z_;function bb(){if(z_)return ml;z_=1;var r=vb(),t=Sm(),i=Tb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case pt:return"Profiler";case nt:return"StrictMode";case oe:return"Suspense";case It:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case Et:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var he=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},at=[],rt=-1;function I(e){return{current:e}}function q(e){0>rt||(e.current=at[rt],at[rt]=null,rt--)}function H(e,n){rt++,at[rt]=e.current,e.current=n}var tt=I(null),lt=I(null),gt=I(null),Ct=I(null);function Ne(e,n){switch(H(gt,n),H(lt,e),H(tt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(tt),H(tt,e)}function se(){q(tt),q(lt),q(gt)}function sr(e){e.memoizedState!==null&&H(Ct,e);var n=tt.current,s=e_(n,e.type);n!==s&&(H(lt,e),H(tt,s))}function Qr(e){lt.current===e&&(q(tt),q(lt)),Ct.current===e&&(q(Ct),ul._currentValue=K)}var Kr,Yr;function Zn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Yr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Yr}var lo=!1;function rr(e,n){if(!e||lo)return"";lo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var j=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){j=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){j=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return Zn("Activity");default:return""}}function co(e){try{var n="",s=null;do n+=uo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Xl=r.unstable_requestPaint,tn=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,fo=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,$l=r.log,Zl=r.unstable_setDisableYieldValue,Pn=null,ze=null;function Sn(e){if(typeof $l=="function"&&Zl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:tu,Wl=Math.log,Xr=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Xr|0)|0}var Wn=256,or=262144,_e=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(p&=E,p!==0?h=ti(p):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):p!==0?h=ti(p):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-fe(s),J=1<<Q;E[Q]=0,C[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var G=j[Q];G!==null&&(G.lane&=-536870913)}s&=~J}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-fe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function jn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,ke="__reactProps$"+Bn,ii="__reactContainer$"+Bn,Jr="__reactEvents$"+Bn,xh="__reactListeners$"+Bn,iu="__reactHandles$"+Bn,su="__reactResources$"+Bn,si="__reactMarker$"+Bn;function $r(e){delete e[ve],delete e[ke],delete e[Jr],delete e[xh],delete e[iu]}function ri(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[ve])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[ve]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[si]=!0}var go=new Set,yo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(yo[e]=n,e=0;e<n.length;e++)go.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ru(e){return ye.call(Eo,e)?!0:ye.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function Zr(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function sn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?bo(e,p,Ue(n)):s!=null?bo(e,p,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ht(e)}function bo(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ht(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ao(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var wo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function dr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));Wr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hr(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var na=!1;function hs(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(cs!==null||ci!==null)&&(nc(),cs&&(n=cs,e=ci,ci=cs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{mr=!1}var hi=null,Ro=null,pr=null;function Co(){if(pr)return pr;var e,n=Ro,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return pr=h.slice(e,1<o?1-o:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Gn(){return!1}function je(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=je(xi),fs=A({},xi,{view:0,detail:0}),Io=je(fs),ds,ia,di,sa=A({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,ia=e.screenY-di.screenY):ia=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),No=je(sa),yr=A({},sa,{dataTransfer:0}),cu=je(yr),hu=A({},fs,{relatedTarget:0}),_r=je(hu),Do=A({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=je(Do),ra=A({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=je(ra),mu=A({},xi,{data:0}),mi=je(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ms(){return _u}var en=A({},fs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=je(en),Eu=A({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=je(Eu),u=A({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=je(u),_=A({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=A({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),et=A({},xi,{newState:0,oldState:0}),St=je(et),de=[9,13,27,32],jt=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!re,pi=Rn&&(!jt||re&&8<re&&11>=re),Fn=" ",Qn=!1;function vr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function zT(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function jT(e,n){if(oa)return e==="compositionend"||!jt&&vr(e,n)?(e=Co(),pr=Ro=hi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!BT[e.type]:n==="textarea"}function fp(e,n,s,o){cs?ci?ci.push(o):ci=[o]:cs=o,n=uc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Oo=null;function qT(e){Yy(e,0)}function Tu(e){var n=dn(e);if(hr(n))return e}function dp(e,n){if(e==="change")return n}var mp=!1;if(Rn){var Oh;if(Rn){var Vh="oninput"in document;if(!Vh){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Vh=typeof pp.oninput=="function"}Oh=Vh}else Oh=!1;mp=Oh&&(!document.documentMode||9<document.documentMode)}function gp(){xo&&(xo.detachEvent("onpropertychange",yp),Oo=xo=null)}function yp(e){if(e.propertyName==="value"&&Tu(Oo)){var n=[];fp(n,Oo,e,wn(e)),hs(qT,n)}}function HT(e,n,s){e==="focusin"?(gp(),xo=n,Oo=s,xo.attachEvent("onpropertychange",yp)):e==="focusout"&&gp()}function GT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Oo)}function FT(e,n){if(e==="click")return Tu(n)}function QT(e,n){if(e==="input"||e==="change")return Tu(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:KT;function Vo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,n){var s=_p(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_p(s)}}function Ep(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ep(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YT=Rn&&"documentMode"in document&&11>=document.documentMode,la=null,kh=null,Mo=null,Uh=!1;function bp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||la==null||la!==ui(o)||(o=la,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=uc(kh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Lh={},Sp={};Rn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Tr(e){if(Lh[e])return Lh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sp)return Lh[e]=n[s];return e}var Ap=Tr("animationend"),wp=Tr("animationiteration"),Rp=Tr("animationstart"),XT=Tr("transitionrun"),JT=Tr("transitionstart"),$T=Tr("transitioncancel"),Cp=Tr("transitionend"),Ip=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Kn(e,n){Ip.set(e,n),oi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ca=0,zh=0;function Su(){for(var e=ca,n=zh=ca=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Np(s,h,f)}}function Au(e,n,s,o){In[ca++]=e,In[ca++]=n,In[ca++]=s,In[ca++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,s,o){return Au(e,n,s,o),wu(e)}function br(e,n){return Au(e,null,null,n),wu(e)}function Np(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<nl)throw nl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function ZT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new ZT(e,n,s,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=ib(e,s,tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=gn(31,s,n,h),e.elementType=w,e.lanes=f,e;case st:return Sr(s.children,h,f,n);case nt:p=8,h|=24;break;case pt:return e=gn(12,s,n,h|2),e.elementType=pt,e.lanes=f,e;case oe:return e=gn(13,s,n,h),e.elementType=oe,e.lanes=f,e;case It:return e=gn(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:p=10;break t;case wt:p=9;break t;case Jt:p=11;break t;case N:p=14;break t;case S:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function qh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function xp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Op=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Op.get(e);return s!==void 0?s:(n={value:e,source:n,stack:co(n)},Op.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var fa=[],da=0,Cu=null,ko=0,Dn=[],xn=0,ps=null,gi=1,yi="";function Mi(e,n){fa[da++]=ko,fa[da++]=Cu,Cu=e,ko=n}function Vp(e,n,s){Dn[xn++]=gi,Dn[xn++]=yi,Dn[xn++]=ps,ps=e;var o=gi;e=yi;var h=32-fe(o)-1;o&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,gi=1<<32-fe(n)+h|s<<h|o,yi=f+e}else gi=1<<f|s<<h|o,yi=e}function Gh(e){e.return!==null&&(Mi(e,1),Vp(e,1,0))}function Fh(e){for(;e===Cu;)Cu=fa[--da],fa[da]=null,ko=fa[--da],fa[da]=null;for(;e===ps;)ps=Dn[--xn],Dn[xn]=null,yi=Dn[--xn],Dn[xn]=null,gi=Dn[--xn],Dn[xn]=null}function Mp(e,n){Dn[xn++]=gi,Dn[xn++]=yi,Dn[xn++]=ps,gi=n.id,yi=n.overflow,ps=e}var Be=null,te=null,Ut=!1,gs=null,On=!1,Qh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Nn(n,e)),Qh}function kp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<sl.length;s++)Dt(sl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Zy(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||ys(e,!0)}function Up(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ma(e){if(e!==Be)return!1;if(!Ut)return Up(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&te&&ys(e),Up(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=o_(e)}else n===27?(n=te,xs(e.type)?(e=gd,gd=null,te=e):te=n):te=Be?Mn(e.stateNode.nextSibling):null;return!0}function Ar(){te=Be=null,Ut=!1}function Kh(){var e=gs;return e!==null&&(un===null?un=e:un.push.apply(un,e),gs=null),e}function Uo(e){gs===null?gs=[e]:gs.push(e)}var Yh=I(null),wr=null,ki=null;function _s(e,n,s){H(Yh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Yh.current,q(Yh)}function Xh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Xh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Lp(wr,e)}function Nu(e,n){return wr===null&&Rr(e),Lp(e,n)}function Lp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},t1=r.unstable_scheduleCallback,e1=r.unstable_NormalPriority,be={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new WT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&t1(e1,function(){e.controller.abort()})}var Po=null,Zh=0,ga=0,ya=null;function n1(e,n){if(Po===null){var s=Po=[];Zh=0,ga=nd(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Zh++,n.then(Pp,Pp),n}function Pp(){if(--Zh===0&&Po!==null){ya!==null&&(ya.status="fulfilled");var e=Po;Po=null,ga=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function i1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var zp=F.S;F.S=function(e,n){by=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(e,n),zp!==null&&zp(e,n)};var Cr=I(null);function Wh(){var e=Cr.current;return e!==null?e:$t.pooledCache}function Du(e,n){n===null?H(Cr,Cr.current):H(Cr,n.pool)}function jp(){var e=Wh();return e===null?null:{parent:be._currentValue,pool:e}}var _a=Error(a(460)),tf=Error(a(474)),xu=Error(a(542)),Ou={then:function(){}};function Bp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gp(e),e}throw Nr=n,_a}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,_a):s}}var Nr=null;function Hp(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function Gp(e){if(e===_a||e===xu)throw Error(a(483))}var va=null,zo=0;function Vu(e){var n=zo;return zo+=1,va===null&&(va=[]),qp(va,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fp(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Vi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Y){return D===null||D.tag!==6?(D=qh(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Y){var ft=P.type;return ft===st?Q(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ir(ft)===D.type)?(D=h(D,P.props),jo(D,P),D.return=k,D):(D=Ru(P.type,P.key,P.props,null,k.mode,Y),jo(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Hh(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,Y,ft){return D===null||D.tag!==7?(D=Sr(P,k.mode,Y,ft),D.return=k,D):(D=h(D,P),D.return=k,D)}function J(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return P=Ru(D.type,D.key,D.props,null,k.mode,P),jo(P,D),P.return=k,P;case W:return D=Hh(D,k.mode,P),D.return=k,D;case S:return D=Ir(D),J(k,D,P)}if(he(D)||U(D))return D=Sr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return J(k,Vu(D),P);if(D.$$typeof===Et)return J(k,Nu(k,D),P);Mu(k,D)}return null}function j(k,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case X:return P.key===ft?C(k,D,P,Y):null;case W:return P.key===ft?z(k,D,P,Y):null;case S:return P=Ir(P),j(k,D,P,Y)}if(he(P)||U(P))return ft!==null?null:Q(k,D,P,Y,null);if(typeof P.then=="function")return j(k,D,Vu(P),Y);if(P.$$typeof===Et)return j(k,D,Nu(k,P),Y);Mu(k,P)}return null}function G(k,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(D,k,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return k=k.get(Y.key===null?P:Y.key)||null,C(D,k,Y,ft);case W:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,ft);case S:return Y=Ir(Y),G(k,D,P,Y,ft)}if(he(Y)||U(Y))return k=k.get(P)||null,Q(D,k,Y,ft,null);if(typeof Y.then=="function")return G(k,D,P,Vu(Y),ft);if(Y.$$typeof===Et)return G(k,D,P,Nu(D,Y),ft);Mu(D,Y)}return null}function ut(k,D,P,Y){for(var ft=null,Pt=null,ct=D,Rt=D=0,Ot=null;ct!==null&&Rt<P.length;Rt++){ct.index>Rt?(Ot=ct,ct=null):Ot=ct.sibling;var zt=j(k,ct,P[Rt],Y);if(zt===null){ct===null&&(ct=Ot);break}e&&ct&&zt.alternate===null&&n(k,ct),D=f(zt,D,Rt),Pt===null?ft=zt:Pt.sibling=zt,Pt=zt,ct=Ot}if(Rt===P.length)return s(k,ct),Ut&&Mi(k,Rt),ft;if(ct===null){for(;Rt<P.length;Rt++)ct=J(k,P[Rt],Y),ct!==null&&(D=f(ct,D,Rt),Pt===null?ft=ct:Pt.sibling=ct,Pt=ct);return Ut&&Mi(k,Rt),ft}for(ct=o(ct);Rt<P.length;Rt++)Ot=G(ct,k,Rt,P[Rt],Y),Ot!==null&&(e&&Ot.alternate!==null&&ct.delete(Ot.key===null?Rt:Ot.key),D=f(Ot,D,Rt),Pt===null?ft=Ot:Pt.sibling=Ot,Pt=Ot);return e&&ct.forEach(function(Us){return n(k,Us)}),Ut&&Mi(k,Rt),ft}function mt(k,D,P,Y){if(P==null)throw Error(a(151));for(var ft=null,Pt=null,ct=D,Rt=D=0,Ot=null,zt=P.next();ct!==null&&!zt.done;Rt++,zt=P.next()){ct.index>Rt?(Ot=ct,ct=null):Ot=ct.sibling;var Us=j(k,ct,zt.value,Y);if(Us===null){ct===null&&(ct=Ot);break}e&&ct&&Us.alternate===null&&n(k,ct),D=f(Us,D,Rt),Pt===null?ft=Us:Pt.sibling=Us,Pt=Us,ct=Ot}if(zt.done)return s(k,ct),Ut&&Mi(k,Rt),ft;if(ct===null){for(;!zt.done;Rt++,zt=P.next())zt=J(k,zt.value,Y),zt!==null&&(D=f(zt,D,Rt),Pt===null?ft=zt:Pt.sibling=zt,Pt=zt);return Ut&&Mi(k,Rt),ft}for(ct=o(ct);!zt.done;Rt++,zt=P.next())zt=G(ct,k,Rt,zt.value,Y),zt!==null&&(e&&zt.alternate!==null&&ct.delete(zt.key===null?Rt:zt.key),D=f(zt,D,Rt),Pt===null?ft=zt:Pt.sibling=zt,Pt=zt);return e&&ct.forEach(function(mb){return n(k,mb)}),Ut&&Mi(k,Rt),ft}function Xt(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case X:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===st){if(D.tag===7){s(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ir(ft)===D.type){s(k,D.sibling),Y=h(D,P.props),jo(Y,P),Y.return=k,k=Y;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===st?(Y=Sr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Ru(P.type,P.key,P.props,null,k.mode,Y),jo(Y,P),Y.return=k,k=Y)}return p(k);case W:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Y=Hh(P,k.mode,Y),Y.return=k,k=Y}return p(k);case S:return P=Ir(P),Xt(k,D,P,Y)}if(he(P))return ut(k,D,P,Y);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),mt(k,D,P,Y)}if(typeof P.then=="function")return Xt(k,D,Vu(P),Y);if(P.$$typeof===Et)return Xt(k,D,Nu(k,P),Y);Mu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(s(k,D),Y=qh(P,k.mode,Y),Y.return=k,k=Y),p(k)):s(k,D)}return function(k,D,P,Y){try{zo=0;var ft=Xt(k,D,P,Y);return va=null,ft}catch(ct){if(ct===_a||ct===xu)throw ct;var Pt=gn(29,ct,null,k.mode);return Pt.lanes=Y,Pt.return=k,Pt}}}var Dr=Fp(!0),Qp=Fp(!1),vs=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Np(e,null,s),n}return Au(e,o,n,s),wu(e)}function Bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}function sf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function qo(){if(rf){var e=ya;if(e!==null)throw e}}function Ho(e,n,s,o){rf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;p=0,Q=z=C=null,E=f;do{var j=E.lane&-536870913,G=j!==E.lane;if(G?(xt&j)===j:(o&j)===j){j!==0&&j===ga&&(rf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,mt=E;j=n;var Xt=s;switch(mt.tag){case 1:if(ut=mt.payload,typeof ut=="function"){J=ut.call(Xt,J,j);break t}J=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=mt.payload,j=typeof ut=="function"?ut.call(Xt,J,j):ut,j==null)break t;J=A({},J,j);break t;case 2:vs=!0}}j=E.callback,j!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[j]:G.push(j))}else G={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=G,C=J):Q=Q.next=G,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(C=J),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Rs|=p,e.lanes=p,e.memoizedState=J}}function Kp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Kp(s[e],n)}var Ea=I(null),ku=I(0);function Xp(e,n){e=Fi,H(ku,e),H(Ea,n),Fi=e|n.baseLanes}function af(){H(ku,Fi),H(Ea,Ea.current)}function of(){Fi=ku.current,q(Ea),q(ku)}var yn=I(null),Vn=null;function bs(e){var n=e.alternate;H(me,me.current&1),H(yn,e),Vn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Vn=e)}function lf(e){H(me,me.current),H(yn,e),Vn===null&&(Vn=e)}function Jp(e){e.tag===22?(H(me,me.current),H(yn,e),Vn===null&&(Vn=e)):Ss()}function Ss(){H(me,me.current),H(yn,yn.current)}function _n(e){q(yn),Vn===e&&(Vn=null),q(me)}var me=I(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||md(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Kt=null,Se=null,Lu=!1,Ta=!1,xr=!1,Pu=0,Go=0,ba=null,s1=0;function ue(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function cf(e,n,s,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Vg:wf,xr=!1,f=s(o,h),xr=!1,Ta&&(f=Zp(n,s,o,h)),$p(e),f}function $p(e){F.H=Ko;var n=Kt!==null&&Kt.next!==null;if(Li=0,Se=Kt=At=null,Lu=!1,Go=0,ba=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Iu(e)&&(Ae=!0))}function Zp(e,n,s,o){At=e;var h=0;do{if(Ta&&(ba=null),Go=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Se=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mg,f=n(s,o)}while(Ta);return f}function r1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(At.flags|=1024),n}function hf(){var e=Pu!==0;return Pu=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Li=0,Se=Kt=At=null,Ta=!1,Go=Pu=0,ba=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Kt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Kt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,ba===null&&(ba=[]),e=qp(ba,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Vg:wf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===Et)return qe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=pe();return pf(n,Kt,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,z=n,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(xt&J)===J:(Li&J)===J){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===ga&&(Q=!0);else if((Li&j)===j){z=z.next,j===ga&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=J,p=f):C=C.next=J,At.lanes|=j,Rs|=j;J=z.action,xr&&s(f,J),f=z.hasEagerState?z.eagerState:s(f,J)}else j={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,At.lanes|=J,Rs|=J;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=E,!pn(f,e.memoizedState)&&(Ae=!0,Q&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Wp(e,n,s){var o=At,h=pe(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Kt||h).memoizedState,s);if(p&&(h.memoizedState=s,Ae=!0),h=h.queue,vf(ng.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},eg.bind(null,o,h,s,n),null),$t===null)throw Error(a(349));f||(Li&127)!==0||tg(o,n,s)}return s}function tg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function eg(e,n,s,o){n.value=s,n.getSnapshot=o,ig(n)&&sg(e)}function ng(e,n,s){return s(function(){ig(n)&&sg(e)})}function ig(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function sg(e){var n=br(e,2);n!==null&&cn(n,e,2)}function yf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),xr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function rg(e,n,s,o){return e.baseState=s,pf(e,Kt,typeof o=="function"?o:Pi)}function a1(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ag(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ag(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,o),C=F.S;C!==null&&C(p,E),og(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,o),og(e,n,f)}catch(z){_f(e,n,z)}}function og(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){lg(e,n,o)},function(o){return _f(e,n,o)}):lg(e,n,s)}function lg(e,n,s){n.status="fulfilled",n.value=s,ug(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ag(e,s)))}function _f(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ug(n),n=n.next;while(n!==o)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(Ut){var s=$t.formState;if(s!==null){t:{var o=At;if(Ut){if(te){e:{for(var h=te,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Mn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},s.queue=o,s=Dg.bind(null,At,o),o.dispatch=s,o=yf(!1),f=Af.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=a1.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function fg(e){var n=pe();return dg(n,Kt,e)}function dg(e,n,s){if(n=pf(e,n,cg)[0],e=Bu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(p){throw p===_a?xu:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Sa(9,{destroy:void 0},o1.bind(null,h,s),null)),[o,f,e]}function o1(e,n){e.action=n}function mg(e){var n=pe(),s=Kt;if(s!==null)return dg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pg(){return pe().memoizedState}function qu(e,n,s,o){var h=nn();At.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&uf(o,Kt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(At.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function gg(e,n){qu(8390656,8,e,n)}function vf(e,n){Hu(2048,8,e,n)}function l1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function yg(e){var n=pe().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _g(e,n){return Hu(4,2,e,n)}function vg(e,n){return Hu(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,Eg.bind(null,n,e),s)}function Ef(){}function bg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Sg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function Tf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),At.lanes|=e,Rs|=e,s)}function Ag(e,n,s,o){return pn(s,n)?s:Ea.current!==null?(e=Tf(e,s,o),pn(e,n)||(Ae=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(xt&261930)===0?(Ae=!0,e.memoizedState=s):(e=Ay(),At.lanes|=e,Rs|=e,n)}function wg(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Af(e,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=i1(C,o);Qo(e,n,Q,Tn(e))}else Qo(e,n,o,Tn(e))}catch(J){Qo(e,n,{then:function(){},status:"rejected",reason:J},Tn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function u1(){}function bf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Rg(e).queue;wg(e,h,n,K,s===null?u1:function(){return Cg(e),s(o)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:K},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=Rg(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},Tn())}function Sf(){return qe(ul)}function Ig(){return pe().memoizedState}function Ng(){return pe().memoizedState}function c1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Es(s);var o=Ts(n,e,s);o!==null&&(cn(o,n,s),Bo(o,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function h1(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?xg(n,s):(s=jh(e,n,s,o),s!==null&&(cn(s,e,o),Og(s,n,o)))}function Dg(e,n,s){var o=Tn();Qo(e,n,s,o)}function Qo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Au(e,n,h,0),$t===null&&Su(),!1}catch{}if(s=jh(e,n,h,o),s!==null)return cn(s,e,o),Og(s,n,o),!0}return!1}function Af(e,n,s,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=jh(e,s,o,2),n!==null&&cn(n,e,2)}function Gu(e){var n=e.alternate;return e===At||n!==null&&n===At}function xg(e,n){Ta=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Og(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}var Ko={readContext:qe,use:ju,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ko.useEffectEvent=ue;var Vg={readContext:qe,use:ju,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:gg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,Eg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(xr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=h1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=Dg.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=nn();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=wg.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=nn();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(xt&127)!==0||tg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,gg(ng.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},eg.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=$t.identifierPrefix;if(Ut){var s=yi,o=gi;s=(o&~(1<<32-fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=s1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Af.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return nn().memoizedState=c1.bind(null,At)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:qe,use:ju,useCallback:bg,useContext:qe,useEffect:vf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Bu,useRef:pg,useState:function(){return Bu(Pi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=pe();return Ag(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Bu(Pi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Sf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=pe();return rg(s,Kt,e,n)},useMemoCache:mf,useCacheRefresh:Ng};wf.useEffectEvent=yg;var Mg={readContext:qe,use:ju,useCallback:bg,useContext:qe,useEffect:vf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:gf,useRef:pg,useState:function(){return gf(Pi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=pe();return Kt===null?Tf(s,e,n):Ag(s,Kt.memoizedState,e,n)},useTransition:function(){var e=gf(Pi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Sf,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var s=pe();return Kt!==null?rg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Ng};Mg.useEffectEvent=yg;function Rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(cn(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(cn(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(cn(n,e,s),Bo(n,e,s))}};function kg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vo(s,o)||!Vo(h,f):!0}function Ug(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lg(e){bu(e)}function Pg(e){console.error(e)}function zg(e){bu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function jg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Bg(e){return e=Es(e),e.tag=3,e}function qg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){jg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){jg(n,s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function f1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?ic():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Wf(e,o,h)),!1}throw Error(a(435,s.tag))}return Wf(e,o,h),ic(),!1}if(Ut)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),Uo(Nn(e,s)))):(o!==Qh&&(n=Error(a(423),{cause:o}),Uo(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=If(e.stateNode,o,h),sf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),el===null?el=[f]:el.push(f),ce!==4&&(ce=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,o,e),sf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bg(h),qg(h,e,s,o),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Ae=!1;function He(e,n,s,o){n.child=e===null?Qp(n,null,s,o):Dr(n,e.child,s,o)}function Hg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Rr(n),o=cf(e,n,s,p,f,h),E=hf(),e!==null&&!Ae?(ff(e,n,h),zi(e,n,h)):(Ut&&E&&Gh(n),n.flags|=1,He(e,n,o,h),n.child)}function Gg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Fg(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(p,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Df(e,n,s,o,h)}function Qg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Xp(n,f):af(),Jp(n);else return o=n.lanes=536870912,Kg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Xp(n,f),Ss(),n.memoizedState=null):(e!==null&&Du(n,null),af(),Ss());return He(e,n,h,s),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kg(e,n,s,o,h){var f=Wh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),af(),Jp(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yg(e,n,s){return Dr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function d1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Yo(null,e);if(lf(n),(e=te)?(e=a_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=xp(e),s.return=n,n.child=s,Be=n,te=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Yg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(p=po(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,br(e,p),cn(o,e,p),Nf;ic(),n=Yg(e,n,s)}else e=f.treeContext,te=Mn(p.nextSibling),Be=n,Ut=!0,gs=null,On=!1,e!==null&&Mp(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,o,h){return Rr(n),s=cf(e,n,s,o,void 0,h),o=hf(),e!==null&&!Ae?(ff(e,n,h),zi(e,n,h)):(Ut&&o&&Gh(n),n.flags|=1,He(e,n,s,h),n.child)}function Xg(e,n,s,o,h,f){return Rr(n),n.updateQueue=null,s=Zp(n,o,s,h),$p(e),o=hf(),e!==null&&!Ae?(ff(e,n,f),zi(e,n,f)):(Ut&&o&&Gh(n),n.flags|=1,He(e,n,s,f),n.child)}function Jg(e,n,s,o,h){if(Rr(n),n.stateNode===null){var f=ha,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ha,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Or(s,E);f.props=C;var z=f.context,Q=s.contextType;p=ha,typeof Q=="object"&&Q!==null&&(p=qe(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Ug(n,f,o,p),vs=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||vs?(typeof J=="function"&&(Rf(n,s,J,o),z=n.memoizedState),(C=vs||kg(n,s,C,o,j,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,Q=Or(s,p),f.props=Q,J=n.pendingProps,j=f.context,z=s.contextType,C=ha,typeof z=="object"&&z!==null&&(C=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==J||j!==C)&&Ug(n,f,o,C),vs=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var G=n.memoizedState;p!==J||j!==G||vs||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,o),G=n.memoizedState),(Q=vs||kg(n,s,Q,o,j,G,C)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function $g(e,n,s,o){return Ar(),n.flags|=256,He(e,n,s,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:jp()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function Zg(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?bs(n):Ss(),(e=te)?(e=a_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=xp(e),s.return=n,n.child=s,Be=n,te=null)):e=null,e===null)throw ys(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Sr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(s),o.childLanes=Vf(e,p,s),n.memoizedState=xf,Yo(null,o)):(bs(n),Mf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=kf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Sr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Dr(n,e.child,null,s),o=n.child,o.memoizedState=Of(s),o.childLanes=Vf(e,p,s),n.memoizedState=xf,n=Yo(null,o));else if(bs(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Uo({value:o,source:null,stack:null}),n=kf(e,n,s)}else if(Ae||pa(e,n,s,!1),p=(s&e.childLanes)!==0,Ae||p){if(p=$t,p!==null&&(o=po(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,br(e,o),cn(p,e,o),Nf;md(E)||ic(),n=kf(e,n,s)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=Mn(E.nextSibling),Be=n,Ut=!0,gs=null,On=!1,e!==null&&Mp(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Vi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Sr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=jp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(e,p,s),n.memoizedState=xf,Yo(e.child,o)):(bs(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Mf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function kf(e,n,s){return Dr(n,e.child,null,s),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,s)}function Uf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ty(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,H(me,p),He(e,n,o,s),o=Ut?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,s,n);else if(e.tag===19)Wg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Uf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(n,!0,s,null,f,o);break;case"together":Uf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function m1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),_s(n,be,e.memoizedState.cache),Ar();break;case 27:case 5:sr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zg(e,n,s):(bs(n),e=zi(e,n,s),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),H(me,me.current),o)break;return null;case 22:return n.lanes=0,Qg(e,n,s,n.pendingProps);case 24:_s(n,be,e.memoizedState.cache)}return zi(e,n,s)}function ey(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return Ae=!1,m1(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&Vp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Or(e,o),n.tag=1,n=Jg(null,n,e,o,s)):(n.tag=0,n=Df(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Jt){n.tag=11,n=Hg(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Gg(null,n,e,o,s);break t}}throw n=Zt(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Or(o,n.pendingProps),Jg(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Ho(n,o,null,s);var p=n.memoizedState;if(o=p.cache,_s(n,be,o),o!==f.cache&&Jh(n,[be],s,!0),qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),Uo(h),n=$g(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Mn(e.firstChild),Be=n,Ut=!0,gs=null,On=!0,s=Qp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ar(),o===h){n=zi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=f_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=cc(gt.current).createElement(s),o[ve]=n,o[ke]=e,Ge(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&Ut&&(o=n.stateNode=u_(n.type,n.pendingProps,gt.current),Be=n,On=!0,h=te,xs(n.type)?(gd=h,te=Mn(o.firstChild)):te=h),He(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=te)&&(o=G1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,te=Mn(o.firstChild),On=!1,h=!0):h=!1),h||ys(n)),sr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,r1,null,null,s),ul._currentValue=h),Ku(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=te)&&(s=F1(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,te=null,e=!0):e=!1),e||ys(n)),null;case 13:return Zg(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Dr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Gg(e,n,n.type,n.pendingProps,s);case 15:return Fg(e,n,n.type,n.pendingProps,s);case 19:return ty(e,n,s);case 31:return d1(e,n,s);case 22:return Qg(e,n,s,n.pendingProps);case 24:return Rr(n),o=qe(be),e===null?(h=Wh(),h===null&&(h=$t,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},ef(n),_s(n,be,h)):((e.lanes&s)!==0&&(nf(e,n),Ho(n,null,null,s),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,be,o)):(o=f.cache,_s(n,be,o),o!==h.cache&&Jh(n,[be],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function Pf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Nr=Ou,tf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Iy())e.flags|=8192;else throw Nr=Ou,tf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ca|=n)}function Xo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function p1(e,n,s){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(be),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ee(n),ny(n,f)):(ee(n),Pf(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),ee(n),ny(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ee(n),Pf(n,h,e,o,s)),null;case 27:if(Qr(n),s=gt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=tt.current,ma(n)?kp(n):(e=u_(h,o,s),n.stateNode=e,ji(n))}return ee(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=tt.current,ma(n))kp(n);else{var p=cc(gt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ee(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=gt.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||ys(n,!0)}else e=cc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&ad(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(q(me),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dp(s,e),s=s.sibling;return H(me,me.current&1|2),Ut&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>tc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ee(n),null}else 2*tn()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=me.current,H(me,h?s&1|2:s&1),Ut&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return _n(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&q(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(be),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function g1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(be),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(me),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),of(),e!==null&&q(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(be),null;case 25:return null;default:return null}}function iy(e,n){switch(Fh(n),n.tag){case 3:Ui(be),se();break;case 26:case 27:case 5:Qr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:q(me);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),of(),e!==null&&q(Cr);break;case 24:Ui(be)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Ft(n,n.return,E)}}function As(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(Q){Ft(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){Ft(n,n.return,Q)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yp(n,s)}catch(o){Ft(e,e.return,o)}}}function ry(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Ft(e,n,o)}}function $o(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Ft(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Ft(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ft(e,n,h)}else s.current=null}function ay(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Ft(e,e.return,h)}}function zf(e,n,s){try{var o=e.stateNode;P1(o,e.type,s,n),o[ke]=n}catch(h){Ft(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function ly(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[ve]=e,n[ke]=s}catch(f){Ft(e,e.return,f)}}var Bi=!1,we=!1,qf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function y1(e,n){if(e=e.containerInfo,ud=yc,e=Tp(e),Mh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,C=-1,z=0,Q=0,J=e,j=null;e:for(;;){for(var G;J!==s||h!==0&&J.nodeType!==3||(E=p+h),J!==f||o!==0&&J.nodeType!==3||(C=p+o),J.nodeType===3&&(p+=J.nodeValue.length),(G=J.firstChild)!==null;)j=J,J=G;for(;;){if(J===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++Q===o&&(C=p),(G=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=G}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},yc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ut=Or(s.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Ft(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function cy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Jo(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Ft(s,s.return,p)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ft(s,s.return,p)}}o&64&&sy(s),o&512&&$o(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yp(e,n)}catch(p){Ft(s,s.return,p)}}break;case 27:n===null&&o&4&&ly(s);case 26:case 5:Hi(e,s),n===null&&o&4&&ay(s),o&512&&$o(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&dy(e,s);break;case 13:Hi(e,s),o&4&&my(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=R1.bind(null,s),Q1(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||we,h=Bi;var f=we;Bi=o,(we=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,we=f}break;case 30:break;default:Hi(e,s)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function qi(e,n,s){for(s=s.child;s!==null;)fy(e,n,s),s=s.sibling}function fy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:we||_i(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||_i(s,n);var o=ae,h=an;xs(s.type)&&(ae=s.stateNode,an=!1),qi(e,n,s),al(s.stateNode),ae=o,an=h;break;case 5:we||_i(s,n);case 6:if(o=ae,h=an,ae=null,qi(e,n,s),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Ft(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Ft(s,n,f)}break;case 18:ae!==null&&(an?(e=ae,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ka(e)):s_(ae,s.stateNode));break;case 4:o=ae,h=an,ae=s.stateNode.containerInfo,an=!0,qi(e,n,s),ae=o,an=h;break;case 0:case 11:case 14:case 15:As(2,s,n),we||As(4,s,n),qi(e,n,s);break;case 1:we||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ry(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,qi(e,n,s),we=o;break;default:qi(e,n,s)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(s){Ft(n,n.return,s)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(s){Ft(n,n.return,s)}}function _1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=_1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=C1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(a(160));fy(f,p,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Yn=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(As(3,e,e.return),Jo(3,e),As(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||s===null||_i(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(we||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var p=p_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(p=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=m_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?g_(h,e.type,e.stateNode):m_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||s===null||_i(s,s.return)),s!==null&&o&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){Ft(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){Ft(e,e.return,ut)}}break;case 3:if(dc=null,h=Yn,Yn=hc(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(ut){Ft(e,e.return,ut)}qf&&(qf=!1,gy(e));break;case 4:o=Yn,Yn=hc(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Bi,Q=we;if(Bi=z||h,we=Q||C,on(n,e),we=Q,Bi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Bi||we||Vr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Ft(C,C.return,ut)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ut){Ft(C,C.return,ut)}}}else if(n.tag===18){if(s===null){C=n;try{var G=C.stateNode;h?r_(G,!0):r_(C.stateNode,!1)}catch(ut){Ft(C,C.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(oy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Ju(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=jf(e);Ju(e,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,z=jf(e);Bf(e,z,C);break;default:throw Error(a(161))}}catch(Q){Ft(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Vr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Vr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ry(n,n.return,s),Vr(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Jo(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ft(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Kp(C[h],E)}catch(z){Ft(o,o.return,z)}}s&&p&64&&sy(f),$o(f,f.return);break;case 27:ly(f);case 26:case 5:Gi(h,f,s),s&&o===null&&p&4&&ay(f),$o(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&p&4&&dy(h,f);break;case 13:Gi(h,f,s),s&&p&4&&my(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),$o(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lo(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Xn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,s,o),n=n.sibling}function yy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Xn(e,n,s,o);break;case 3:Xn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Xn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ft(n,n.return,C)}}else Xn(e,n,s,o);break;case 31:Xn(e,n,s,o);break;case 13:Xn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,o):Zo(e,n):f._visibility&2?Xn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(p,n);break;case 24:Xn(e,n,s,o),h&2048&&Gf(n.alternate,n);break;default:Xn(e,n,s,o)}}function Aa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,C=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(f,p,E,C,h),Jo(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Aa(f,p,E,C,h):Zo(f,p):(Q._visibility|=2,Aa(f,p,E,C,h)),h&&z&2048&&Hf(p.alternate,p);break;case 24:Aa(f,p,E,C,h),h&&z&2048&&Gf(p.alternate,p);break;default:Aa(f,p,E,C,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(s,o),h&2048&&Hf(o.alternate,o);break;case 24:Zo(s,o),h&2048&&Gf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var Wo=8192;function wa(e,n,s){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)_y(e,n,s),e=e.sibling}function _y(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&Wo&&e.memoizedState!==null&&sb(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var o=Yn;Yn=hc(e.stateNode.containerInfo),wa(e,n,s),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,wa(e,n,s),Wo=o):wa(e,n,s));break;default:wa(e,n,s)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&As(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):tl(e);break;default:tl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ty(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(hy(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var v1={getCacheForType:function(e){var n=qe(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(be).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,$t=null,Nt=null,xt=0,Gt=0,vn=null,ws=!1,Ra=!1,Ff=!1,Fi=0,ce=0,Rs=0,Mr=0,Qf=0,En=0,Ca=0,el=null,un=null,Kf=!1,Wu=0,by=0,tc=1/0,ec=null,Cs=null,xe=0,Is=null,Ia=null,Qi=0,Yf=0,Xf=null,Sy=null,nl=0,Jf=null;function Tn(){return(Bt&2)!==0&&xt!==0?xt&-xt:F.T!==null?nd():nu()}function Ay(){if(En===0)if((xt&536870912)===0||Ut){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===$t&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ns(e,xt,En,!1)),lr(e,s),((Bt&2)===0||e!==$t)&&(e===$t&&((Bt&2)===0&&(Mr|=s),ce===4&&Ns(e,xt,En,!1)),vi(e))}function wy(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?S1(e,n):Zf(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!T1(s)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=el;var C=E.current.memoizedState.isDehydrated;if(C&&(Na(E,p).flags|=256),p=Zf(E,p,!1),p!==2){if(Ff&&!C){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,En,!ws);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Ns(o,n,En,!ws),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=n_(Ry.bind(null,o,s,un,ec,Kf,n,En,Mr,Ca,ws,f,"Throttled",-0,0),h);break t}Ry(o,s,un,ec,Kf,n,En,Mr,Ca,ws,f,null,-0,0)}}break}while(!0);vi(e)}function Ry(e,n,s,o,h,f,p,E,C,z,Q,J,j,G){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},_y(n,f,J);var ut=(f&62914560)===f?Wu-tn():(f&4194048)===f?by-tn():0;if(ut=rb(J,ut),ut!==null){Qi=f,e.cancelPendingCommit=ut(My.bind(null,e,n,f,s,o,h,p,E,C,Q,J,null,j,G)),Ns(e,f,p,!z);return}}My(e,n,f,s,o,h,p,E,C)}function T1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,o){n&=~Qf,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&ur(e,s,n)}function nc(){return(Bt&6)===0?(il(0),!1):!0}function $f(){if(Nt!==null){if(Gt===0)var e=Nt.return;else e=Nt,ki=wr=null,df(e),va=null,zo=0,e=Nt;for(;e!==null;)iy(e.alternate,e),e=e.return;Nt=null}}function Na(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,B1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,$f(),$t=e,Nt=s=Vi(e.current,null),xt=n,Gt=0,vn=null,ws=!1,Ra=zn(e,n),Ff=!1,Ca=En=Qf=Mr=Rs=ce=0,un=el=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,Su(),s}function Cy(e,n){At=null,F.H=Ko,n===_a||n===xu?(n=Hp(),Gt=3):n===tf?(n=Hp(),Gt=4):Gt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Nt===null&&(ce=1,Fu(e,Nn(n,e.current)))}function Iy(){var e=yn.current;return e===null?!0:(xt&4194048)===xt?Vn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Vn:!1}function Ny(){var e=F.H;return F.H=Ko,e===null?Ko:e}function Dy(){var e=F.A;return F.A=v1,e}function ic(){ce=4,ws||(xt&4194048)!==xt&&yn.current!==null||(Ra=!0),(Rs&134217727)===0&&(Mr&134217727)===0||$t===null||Ns($t,xt,En,!1)}function Zf(e,n,s){var o=Bt;Bt|=2;var h=Ny(),f=Dy();($t!==e||xt!==n)&&(ec=null,Na(e,n)),n=!1;var p=ce;t:do try{if(Gt!==0&&Nt!==null){var E=Nt,C=vn;switch(Gt){case 8:$f(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Gt;if(Gt=0,vn=null,Da(e,E,C,z),s&&Ra){p=0;break t}break;default:z=Gt,Gt=0,vn=null,Da(e,E,C,z)}}b1(),p=ce;break}catch(Q){Cy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,ki=wr=null,Bt=o,F.H=h,F.A=f,Nt===null&&($t=null,xt=0,Su()),p}function b1(){for(;Nt!==null;)xy(Nt)}function S1(e,n){var s=Bt;Bt|=2;var o=Ny(),h=Dy();$t!==e||xt!==n?(ec=null,tc=tn()+500,Na(e,n)):Ra=zn(e,n);t:do try{if(Gt!==0&&Nt!==null){n=Nt;var f=vn;e:switch(Gt){case 1:Gt=0,vn=null,Da(e,n,f,1);break;case 2:case 9:if(Bp(f)){Gt=0,vn=null,Oy(n);break}n=function(){Gt!==2&&Gt!==9||$t!==e||(Gt=7),vi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Bp(f)?(Gt=0,vn=null,Oy(n)):(Gt=0,vn=null,Da(e,n,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var E=Nt;if(p?y_(p):E.stateNode.complete){Gt=0,vn=null;var C=E.sibling;if(C!==null)Nt=C;else{var z=E.return;z!==null?(Nt=z,sc(z)):Nt=null}break e}}Gt=0,vn=null,Da(e,n,f,5);break;case 6:Gt=0,vn=null,Da(e,n,f,6);break;case 8:$f(),ce=6;break t;default:throw Error(a(462))}}A1();break}catch(Q){Cy(e,Q)}while(!0);return ki=wr=null,F.H=o,F.A=h,Bt=s,Nt!==null?0:($t=null,xt=0,Su(),ce)}function A1(){for(;Nt!==null&&!Ch();)xy(Nt)}function xy(e){var n=ey(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?sc(e):Nt=n}function Oy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Xg(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Xg(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:df(n);default:iy(s,n),n=Nt=Dp(n,Fi),n=ey(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?sc(e):Nt=n}function Da(e,n,s,o){ki=wr=null,df(n),va=null,zo=0;var h=n.return;try{if(f1(e,h,n,s,xt)){ce=1,Fu(e,Nn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ce=1,Fu(e,Nn(s,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ra||(xt&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,ws);return}e=n.return;var s=p1(n.alternate,n,Fi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ce===0&&(ce=5)}function Vy(e,n){do{var s=g1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ce=6,Nt=null}function My(e,n,s,o,h,f,p,E,C){e.cancelPendingCommit=null;do rc();while(xe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(e,s,f,p,E,C),e===$t&&(Nt=$t=null,xt=0),Ia=n,Is=e,Qi=s,Yf=f,Xf=h,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(rs,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=it.p,it.p=2,p=Bt,Bt|=4;try{y1(e,n,s)}finally{Bt=p,it.p=h,F.T=o}}xe=1,ky(),Uy(),Ly()}}function ky(){if(xe===1){xe=0;var e=Is,n=Ia,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=it.p;it.p=2;var h=Bt;Bt|=4;try{py(n,e);var f=cd,p=Tp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ep(E.ownerDocument.documentElement,E)){if(C!==null&&Mh(E)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var G=j.getSelection(),ut=E.textContent.length,mt=Math.min(C.start,ut),Xt=C.end===void 0?mt:Math.min(C.end,ut);!G.extend&&mt>Xt&&(p=Xt,Xt=mt,mt=p);var k=vp(E,mt),D=vp(E,Xt);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var P=J.createRange();P.setStart(k.node,k.offset),G.removeAllRanges(),mt>Xt?(G.addRange(P),G.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),G.addRange(P))}}}}for(J=[],G=E;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Y=J[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yc=!!ud,cd=ud=null}finally{Bt=h,it.p=o,F.T=s}}e.current=n,xe=2}}function Uy(){if(xe===2){xe=0;var e=Is,n=Ia,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=it.p;it.p=2;var h=Bt;Bt|=4;try{cy(e,n.alternate,n)}finally{Bt=h,it.p=o,F.T=s}}xe=3}}function Ly(){if(xe===4||xe===3){xe=0,Xl();var e=Is,n=Ia,s=Qi,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Ia=Is=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Ni(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=it.p,it.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,it.p=h}}(Qi&3)!==0&&rc(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?nl++:(nl=0,Jf=e):nl=0,il(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function rc(){return ky(),Uy(),Ly(),zy()}function zy(){if(xe!==5)return!1;var e=Is,n=Yf;Yf=0;var s=Ni(Qi),o=F.T,h=it.p;try{it.p=32>s?32:s,F.T=null,s=Xf,Xf=null;var f=Is,p=Qi;if(xe=0,Ia=Is=null,Qi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,Ey(f.current),yy(f,f.current,p,s),Bt=E,il(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{it.p=h,F.T=o,Py(e,n)}}function jy(e,n,s){n=Nn(s,n),n=If(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(lr(e,2),vi(e))}function Ft(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=Nn(s,e),s=Bg(2),o=Ts(n,s,2),o!==null&&(qg(s,o,n,e),lr(o,2),vi(o));break}}n=n.return}}function Wf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=w1.bind(null,e,n,s),n.then(e,e))}function w1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(xt&s)===s&&(ce===4||ce===3&&(xt&62914560)===xt&&300>tn()-Wu?(Bt&2)===0&&Na(e,0):Qf|=s,Ca===xt&&(Ca=0)),vi(e)}function By(e,n){n===0&&(n=eu()),e=br(e,n),e!==null&&(lr(e,n),vi(e))}function R1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function C1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),By(e,s)}function I1(e,n){return De(e,n)}var ac=null,xa=null,td=!1,oc=!1,ed=!1,Ds=0;function vi(e){e!==xa&&e.next===null&&(xa===null?ac=xa=e:xa=xa.next=e),oc=!0,td||(td=!0,D1())}function il(e,n){if(!ed&&oc){ed=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Fy(o,f))}else f=xt,f=ei(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,Fy(o,f));o=o.next}while(s);ed=!1}}function N1(){qy()}function qy(){oc=td=!1;var e=0;Ds!==0&&j1()&&(e=Ds);for(var n=tn(),s=null,o=ac;o!==null;){var h=o.next,f=Hy(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}xe!==0&&xe!==5||il(e),Ds!==0&&(Ds=0)}function Hy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Nh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=xt,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ni(s)){case 2:case 8:s=fo;break;case 32:s=rs;break;case 268435456:s=Jl;break;default:s=rs}return o=Gy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=xt;return o=ei(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Gy.bind(null,e):null)}function Fy(e,n){if(rc())return null;wy(e,n,!0)}function D1(){q1(function(){(Bt&6)!==0?De(ho,N1):qy()})}function nd(){if(Ds===0){var e=ga;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function x1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Qy((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?Qy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var C=p?Ky(h,p):new FormData(h);bf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Ky(h,p):new FormData(h),bf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],O1=sd.toLowerCase(),V1=sd[0].toUpperCase()+sd.slice(1);Kn(O1,"on"+V1)}Kn(Ap,"onAnimationEnd"),Kn(wp,"onAnimationIteration"),Kn(Rp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(XT,"onTransitionRun"),Kn(JT,"onTransitionStart"),Kn($T,"onTransitionCancel"),Kn(Cp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){bu(Q)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){bu(Q)}h.currentTarget=null,f=C}}}}function Dt(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Xy(n,e,2,!1),s.add(o))}function rd(e,n,s){var o=0;n&&(o|=4),Xy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[lc]){e[lc]=!0,go.forEach(function(s){s!=="selectionchange"&&(M1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,rd("selectionchange",!1,n))}}function Xy(e,n,s,o){switch(A_(n)){case 2:var h=lb;break;case 8:h=ub;break;default:h=Td}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ri(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}E=E.parentNode}}o=o.return}hs(function(){var z=f,Q=wn(s),J=[];t:{var j=Ip.get(e);if(j!==void 0){var G=fi,ut=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":G=vu;break;case"focusin":ut="focus",G=_r;break;case"focusout":ut="blur",G=_r;break;case"beforeblur":case"afterblur":G=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Ap:case wp:case Rp:G=fu;break;case Cp:G=T;break;case"scroll":case"scrollend":G=Io;break;case"wheel":G=B;break;case"copy":case"cut":case"paste":G=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Oi;break;case"toggle":case"beforetoggle":G=St}var mt=(n&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Hn(D,k),Y!=null&&mt.push(rl(D,Y,P))),Xt)break;D=D.return}0<mt.length&&(j=new G(j,ut,null,s,Q),J.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",j&&s!==wo&&(ut=s.relatedTarget||s.fromElement)&&(ri(ut)||ut[ii]))break t;if((G||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,G?(ut=s.relatedTarget||s.toElement,G=z,ut=ut?ri(ut):null,ut!==null&&(Xt=c(ut),mt=ut.tag,ut!==Xt||mt!==5&&mt!==27&&mt!==6)&&(ut=null)):(G=null,ut=z),G!==ut)){if(mt=No,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Oi,Y="onPointerLeave",k="onPointerEnter",D="pointer"),Xt=G==null?j:dn(G),P=ut==null?j:dn(ut),j=new mt(Y,D+"leave",G,s,Q),j.target=Xt,j.relatedTarget=P,Y=null,ri(Q)===z&&(mt=new mt(k,D+"enter",ut,s,Q),mt.target=P,mt.relatedTarget=Xt,Y=mt),Xt=Y,G&&ut)e:{for(mt=k1,k=G,D=ut,P=0,Y=k;Y;Y=mt(Y))P++;Y=0;for(var ft=D;ft;ft=mt(ft))Y++;for(;0<P-Y;)k=mt(k),P--;for(;0<Y-P;)D=mt(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;G!==null&&Jy(J,j,G,mt,!1),ut!==null&&Xt!==null&&Jy(J,Xt,ut,mt,!0)}}t:{if(j=z?dn(z):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var Pt=dp;else if(hp(j))if(mp)Pt=QT;else{Pt=GT;var ct=HT}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ta(z.elementType)&&(Pt=dp):Pt=FT;if(Pt&&(Pt=Pt(e,z))){fp(J,Pt,s,Q);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bo(j,"number",j.value)}switch(ct=z?dn(z):window,e){case"focusin":(hp(ct)||ct.contentEditable==="true")&&(la=ct,kh=z,Mo=null);break;case"focusout":Mo=kh=la=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,bp(J,s,Q);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":bp(J,s,Q)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else oa?vr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(pi&&s.locale!=="ko"&&(oa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&oa&&(Rt=Co()):(hi=Q,Ro="value"in hi?hi.value:hi.textContent,oa=!0)),ct=uc(z,Ot),0<ct.length&&(Ot=new mi(Ot,e,null,s,Q),J.push({event:Ot,listeners:ct}),Rt?Ot.data=Rt:(Rt=aa(s),Rt!==null&&(Ot.data=Rt)))),(Rt=Cn?zT(e,s):jT(e,s))&&(Ot=uc(z,"onBeforeInput"),0<Ot.length&&(ct=new mi("onBeforeInput","beforeinput",null,s,Q),J.push({event:ct,listeners:Ot}),ct.data=Rt)),x1(J,e,z,s,Q)}Yy(J,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&o.unshift(rl(e,h,f)),h=Hn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function k1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Hn(s,f),z!=null&&p.unshift(rl(s,z,C))):h||(z=Hn(s,f),z!=null&&p.push(rl(s,z,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var U1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(L1,"")}function Zy(e,n){return n=$y(n),$y(e)===n}function Yt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,Zr(e,s,o))}}function ld(e,n,s,o,h,f){switch(s){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,f,p,s,null)}}h&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=p=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Yt(e,n,o,Q,s,null)}}au(e,f,E,C,z,p,h,!1);return;case"select":Dt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Yt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(e,n,p,E,s,null)}ls(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Yt(e,n,C,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Dt(sl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,z,o,s,null)}return;default:if(ta(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&ld(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Yt(e,n,E,o,s,null))}function P1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,z=null,Q=null;for(G in s){var J=s[G];if(s.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(G)||Yt(e,n,G,null,o,J)}}for(var j in o){var G=o[j];if(J=s[j],o.hasOwnProperty(j)&&(G!=null||J!=null))switch(j){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":p=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==J&&Yt(e,n,j,G,o,J)}}Wr(e,p,E,C,z,Q,f,h);return;case"select":G=p=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Yt(e,n,h,f,o,C)}n=E,s=p,o=G,j!=null?os(e,!!s,j,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":G=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Yt(e,n,p,h,o,f)}ou(e,j,G);return;case"option":for(var ut in s)j=s[ut],s.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Yt(e,n,ut,null,o,j));for(C in o)j=o[C],G=s[C],o.hasOwnProperty(C)&&j!==G&&(j!=null||G!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Yt(e,n,C,j,o,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)j=s[mt],s.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Yt(e,n,mt,null,o,j);for(z in o)if(j=o[z],G=s[z],o.hasOwnProperty(z)&&j!==G&&(j!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Yt(e,n,z,j,o,G)}return;default:if(ta(n)){for(var Xt in s)j=s[Xt],s.hasOwnProperty(Xt)&&j!==void 0&&!o.hasOwnProperty(Xt)&&ld(e,n,Xt,void 0,o,j);for(Q in o)j=o[Q],G=s[Q],!o.hasOwnProperty(Q)||j===G||j===void 0&&G===void 0||ld(e,n,Q,j,o,G);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Yt(e,n,k,null,o,j);for(J in o)j=o[J],G=s[J],!o.hasOwnProperty(J)||j===G||j==null&&G==null||Yt(e,n,J,j,o,G)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Wy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var Q=C.transferSize,J=C.initiatorType;Q&&Wy(J)&&(C=C.responseEnd,p+=Q*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(H1)}:n_;function H1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function s_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")al(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,al(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&al(e.ownerDocument.body);s=h}while(s);ka(n)}function r_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),$r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function G1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function F1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var kn=new Map,c_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=it.d;it.d={f:K1,r:Y1,D:X1,C:J1,L:$1,m:Z1,X:tb,S:W1,M:eb};function K1(){var e=Ki.f(),n=nc();return e||n}function Y1(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Ki.r(e)}var Oa=typeof document>"u"?null:document;function h_(e,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function X1(e){Ki.D(e),h_("dns-prefetch",e,null)}function J1(e,n){Ki.C(e,n),h_("preconnect",e,n)}function $1(e,n,s){Ki.L(e,n,s);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=Ma(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Z1(e,n){Ki.m(e,n);var s=Oa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(f)))return}o=s.createElement("link"),Ge(o,"link",e),Ee(o),s.head.appendChild(o)}}}function W1(e,n,s){Ki.S(e,n,s);var o=Oa;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ol(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&yd(e,s);var C=p=o.createElement("link");Ee(C),Ge(C,"link",e),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function tb(e,n){Ki.X(e,n);var s=Oa;if(s&&e){var o=ai(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&_d(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eb(e,n){Ki.M(e,n);var s=Oa;if(s&&e){var o=ai(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&_d(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function f_(e,n,s,o){var h=(h=gt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ai(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ol(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||nb(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+sn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),Ee(n),e.head.appendChild(n))}function Ma(e){return'[src="'+sn(e)+'"]'}function ll(e){return"script[async]"+e}function m_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=d_(s),(h=kn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Ge(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=Ma(s.src),(h=e.querySelector(ll(f)))?(n.instance=h,Ee(h),h):(o=s,(h=kn.get(f))&&(o=A({},s),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function p_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function g_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ib(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=d_(o),(h=kn.get(h))&&yd(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var vd=0;function rb(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(ab,e),pc=null,mc.call(e))}function ab(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:Et,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function ob(e,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function __(e,n,s,o,h,f,p,E,C,z,Q,J){return e=new ob(e,n,s,p,C,z,Q,J,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},ef(f),e}function v_(e){return e?(e=ha,e):ha}function E_(e,n,s,o,h,f){h=v_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(cn(s,e,n),Bo(s,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=br(e,67108864);n!==null&&cn(n,e,67108864),Ed(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=Tn();n=cr(n);var s=br(e,n);s!==null&&cn(s,e,n),Ed(e,n)}}var yc=!0;function lb(e,n,s,o){var h=F.T;F.T=null;var f=it.p;try{it.p=2,Td(e,n,s,o)}finally{it.p=f,F.T=h}}function ub(e,n,s,o){var h=F.T;F.T=null;var f=it.p;try{it.p=8,Td(e,n,s,o)}finally{it.p=f,F.T=h}}function Td(e,n,s,o){if(yc){var h=bd(o);if(h===null)od(e,n,o,_c,s),w_(e,o);else if(hb(h,e,n,s,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<cb.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ti(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-fe(p);E.entanglements[1]|=C,p&=~C}vi(f),(Bt&6)===0&&(tc=tn()+500,il(0))}}break;case 31:case 13:E=br(f,2),E!==null&&cn(E,f,2),nc(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,s)}}function bd(e){return e=wn(e),Sd(e)}var _c=null;function Sd(e){if(_c=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case ho:return 2;case fo:return 8;case rs:case Ih:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Ad=!1,Os=null,Vs=null,Ms=null,cl=new Map,hl=new Map,ks=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hb(e,n,s,o,h){switch(n){case"focusin":return Os=fl(Os,e,n,s,o,h),!0;case"dragenter":return Vs=fl(Vs,e,n,s,o,h),!0;case"mouseover":return Ms=fl(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,s,o,h)),!0}return!1}function R_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){S_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,jn(e.priority,function(){S_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wo=o,s.target.dispatchEvent(o),wo=null}else return n=An(s),n!==null&&b_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){vc(e)&&s.delete(n)}function fb(){Ad=!1,Os!==null&&vc(Os)&&(Os=null),Vs!==null&&vc(Vs)&&(Vs=null),Ms!==null&&vc(Ms)&&(Ms=null),cl.forEach(C_),hl.forEach(C_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fb)))}var Tc=null;function I_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ka(e){function n(C){return Ec(C,e)}Os!==null&&Ec(Os,e),Vs!==null&&Ec(Vs,e),Ms!==null&&Ec(Ms,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<ks.length;s++){var o=ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)R_(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[ke]||null;if(typeof f=="function")p||I_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Sd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),I_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}bc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();E_(s,o,e,n,null,null)},bc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),nc(),n[ii]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&R_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(a(527,D_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var db={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Pn=Sc.inject(db),ze=Sc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Lg,f=Pg,p=zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=__(e,1,!1,null,null,s,o,null,h,f,p,N_),e[ii]=n.current,ad(e),new wd(n)},ml.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Lg,p=Pg,E=zg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=__(e,1,!0,n,s??null,o,h,C,f,p,E,N_),n.context=v_(null),s=n.current,o=Tn(),o=cr(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,lr(n,s),vi(n),e[ii]=n.current,ad(e),new bc(n)},ml.version="19.2.4",ml}var j_;function Sb(){if(j_)return Id.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=bb(),Id.exports}var Ab=Sb();const wb=()=>{};var B_={};const g0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Rb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let x=(g&15)<<2|y>>6,X=y&63;v||(X=64,d||(x=64)),a.push(i[b],i[A],i[x],i[X])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(g0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Rb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new Cb;const x=c<<2|g>>4;if(a.push(x),y!==64){const X=g<<4&240|y>>2;if(a.push(X),A!==64){const W=y<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ib=function(r){const t=g0(r);return y0.encodeByteArray(t,!0)},qc=function(r){return Ib(r).replace(/\./g,"")},_0=function(r){try{return y0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Db=()=>Nb().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ob=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_0(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return wb()||Db()||xb()||Ob()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>lh()?.emulatorHosts?.[r],Vb=r=>{const t=v0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>lh()?.config,T0=r=>lh()?.[`_${r}`];class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(r){return(await fetch(r,{credentials:"include"})).ok}function kb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Tl={};function Ub(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function Lb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let q_=!1;function S0(r,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Tl[r]===t||Tl[r]||q_)return;Tl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=Ub().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,X){x.setAttribute("width","24"),x.setAttribute("id",X),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{q_=!0,d()},x}function b(x,X){x.setAttribute("id",X),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=Lb(a),X=i("text"),W=document.getElementById(X)||document.createElement("span"),st=i("learnmore"),nt=document.getElementById(st)||document.createElement("a"),pt=i("preprendIcon"),wt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Et=x.element;g(Et),b(nt,st);const Jt=y();v(wt,pt),Et.append(wt,W,nt,Jt),document.body.appendChild(Et)}c?(W.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function zb(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Gb(){return!zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fb(){try{return typeof indexedDB=="object"}catch{return!1}}function Qb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Kb="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Kb,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Yb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new is(l,g,a)}}function Yb(r,t){return r.replace(Xb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Xb=/\{\$([^}]+)}/g;function Jb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(H_(c)&&H_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function $b(r,t){const i=new Zb(r,t);return i.subscribe.bind(i)}class Zb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Wb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function We(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class tS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Mb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nS(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(r){return r===kr?void 0:r}function nS(r){return r.instantiationMode==="EAGER"}class iS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new tS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const sS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},rS=Vt.INFO,aS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},oS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=aS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=rS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const lS=(r,t)=>t.some(i=>r instanceof i);let G_,F_;function uS(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Wd=new WeakMap,w0=new WeakMap,Vd=new WeakMap,wm=new WeakMap;function hS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&A0.set(i,r)}).catch(()=>{}),wm.set(t,r),t}function fS(r){if(Wd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,t)}let tm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function dS(r){tm=r(tm)}function mS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Md(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),Gs(a)}:cS().includes(r)?function(...t){return r.apply(Md(this),t),Gs(A0.get(this))}:function(...t){return Gs(r.apply(Md(this),t))}}function pS(r){return typeof r=="function"?mS(r):(r instanceof IDBTransaction&&fS(r),lS(r,uS())?new Proxy(r,tm):r)}function Gs(r){if(r instanceof IDBRequest)return hS(r);if(Vd.has(r))return Vd.get(r);const t=pS(r);return t!==r&&(Vd.set(r,t),wm.set(t,r)),t}const Md=r=>wm.get(r);function gS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const yS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],kd=new Map;function Q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=_S.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||yS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return kd.set(t,c),c}dS(r=>({...r,get:(t,i,a)=>Q_(t,i)||r.get(t,i,a),has:(t,i)=>!!Q_(t,i)||r.has(t,i)}));class vS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ES(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ES(r){return r.getComponent()?.type==="VERSION"}const em="@firebase/app",K_="0.14.7";const $i=new Am("@firebase/app"),TS="@firebase/app-compat",bS="@firebase/analytics-compat",SS="@firebase/analytics",AS="@firebase/app-check-compat",wS="@firebase/app-check",RS="@firebase/auth",CS="@firebase/auth-compat",IS="@firebase/database",NS="@firebase/data-connect",DS="@firebase/database-compat",xS="@firebase/functions",OS="@firebase/functions-compat",VS="@firebase/installations",MS="@firebase/installations-compat",kS="@firebase/messaging",US="@firebase/messaging-compat",LS="@firebase/performance",PS="@firebase/performance-compat",zS="@firebase/remote-config",jS="@firebase/remote-config-compat",BS="@firebase/storage",qS="@firebase/storage-compat",HS="@firebase/firestore",GS="@firebase/ai",FS="@firebase/firestore-compat",QS="firebase",KS="12.8.0";const nm="[DEFAULT]",YS={[em]:"fire-core",[TS]:"fire-core-compat",[SS]:"fire-analytics",[bS]:"fire-analytics-compat",[wS]:"fire-app-check",[AS]:"fire-app-check-compat",[RS]:"fire-auth",[CS]:"fire-auth-compat",[IS]:"fire-rtdb",[NS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[xS]:"fire-fn",[OS]:"fire-fn-compat",[VS]:"fire-iid",[MS]:"fire-iid-compat",[kS]:"fire-fcm",[US]:"fire-fcm-compat",[LS]:"fire-perf",[PS]:"fire-perf-compat",[zS]:"fire-rc",[jS]:"fire-rc-compat",[BS]:"fire-gcs",[qS]:"fire-gcs-compat",[HS]:"fire-fst",[FS]:"fire-fst-compat",[GS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};const Hc=new Map,XS=new Map,im=new Map;function Y_(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if(im.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,r);for(const i of Hc.values())Y_(i,r);for(const i of XS.values())Y_(i,r);return!0}function Rm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ll("app","Firebase",JS);class $S{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const no=KS;function R0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:nm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=E0()),!i)throw Fs.create("no-options");const c=Hc.get(l);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new iS(l);for(const v of im.values())d.addComponent(v);const g=new $S(i,a,d);return Hc.set(l,g),g}function C0(r=nm){const t=Hc.get(r);if(!t&&r===nm&&E0())return R0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Qs(r,t,i){let a=YS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ya(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ZS="firebase-heartbeat-database",WS=1,Cl="firebase-heartbeat-store";let Ud=null;function I0(){return Ud||(Ud=gS(ZS,WS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function tA(r){try{const i=(await I0()).transaction(Cl),a=await i.objectStore(Cl).get(N0(r));return await i.done,a}catch(t){if(t instanceof is)$i.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function X_(r,t){try{const a=(await I0()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,N0(r)),await a.done}catch(i){if(i instanceof is)$i.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const eA=1024,nA=30;class iA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nA){const l=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=sA(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function sA(r,t=eA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class rA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fb()?Qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function aA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function oA(r){Ya(new jr("platform-logger",t=>new vS(t),"PRIVATE")),Ya(new jr("heartbeat",t=>new iA(t),"PRIVATE")),Qs(em,K_,r),Qs(em,K_,"esm2020"),Qs("fire-js","")}oA("");var lA="firebase",uA="12.8.0";Qs(lA,uA,"app");function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cA=D0,x0=new Ll("auth","Firebase",D0());const Gc=new Am("@firebase/auth");function hA(r,...t){Gc.logLevel<=Vt.WARN&&Gc.warn(`Auth (${no}): ${r}`,...t)}function Oc(r,...t){Gc.logLevel<=Vt.ERROR&&Gc.error(`Auth (${no}): ${r}`,...t)}function Zi(r,...t){throw Cm(r,...t)}function Ti(r,...t){return Cm(r,...t)}function O0(r,t,i){const a={...cA(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function Ji(r){return O0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return x0.create(r,...t)}function _t(r,t,...i){if(!r)throw Cm(t,...i)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function Wi(r,t){r||Yi(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function fA(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function dA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fA()||Bb()||"connection"in navigator)?navigator.onLine:!0}function mA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=Pb()||qb()}get(){return dA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yA=new zl(3e4,6e4);function jl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function io(r,t,i,a,l={}){return M0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Pl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return jb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&eo(r.emulatorConfig.host)&&(y.credentials="include"),V0.fetch()(await k0(r,r.config.apiHost,i,g),y)})}async function M0(r,t,i){r._canInitEmulator=!1;const a={...pA,...t};try{const l=new _A(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ac(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O0(r,b,y);Zi(r,b)}}catch(l){if(l instanceof is)throw l;Zi(r,"network-request-failed",{message:String(l)})}}async function Nm(r,t,i,a,l={}){const c=await io(r,t,i,a,l);return"mfaPendingCredential"in c&&Zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function k0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Im(r.config,l):`${r.config.apiScheme}://${l}`;return gA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class _A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),yA.get())})}}function Ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(r,t,a);return l.customData._tokenResponse=i,l}async function vA(r,t){return io(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return io(r,"POST","/v1/accounts:lookup",t)}function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EA(r,t=!1){const i=We(r),a=await i.getIdToken(t),l=Dm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(Ld(l.auth_time)),issuedAtTime:bl(Ld(l.iat)),expirationTime:bl(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_0(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(r){const t=Dm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&TA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function TA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class bA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Il(r,Fc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?U0(l.providerUserInfo):[],d=AA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=g?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function SA(r){const t=We(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function U0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function wA(r,t){const i=await M0(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await k0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&eo(r.emulatorConfig.host)&&(v.credentials="include"),V0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function RA(r,t){return io(r,"POST","/v2/accounts:revokeToken",jl(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=W_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await wA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ls(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new bA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return EA(this,t)}reload(){return SA(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Il(this,vA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:X,providerData:W,stsTokenManager:st}=i;_t(A&&st,t,"internal-error");const nt=qa.fromJSON(this.name,st);_t(typeof A=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),_t(typeof x=="boolean",t,"internal-error"),_t(typeof X=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(g,t.name),Ls(v,t.name),Ls(y,t.name),Ls(b,t.name);const pt=new Jn({uid:A,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:nt,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(pt.providerData=W.map(wt=>({...wt}))),v&&(pt._redirectEventId=v),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?U0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new qa;g.updateFromIdToken(a);const v=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const tv=new Map;function Xi(r){Wi(r instanceof Function,"Expected a class definition");let t=tv.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,tv.set(r,t),t)}class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}L0.type="NONE";const ev=L0;function Vc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Xi(ev),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Xi(ev);const d=Vc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const x=await Fc(t,{idToken:b}).catch(()=>{});if(!x)break;A=await Jn._fromGetAccountInfoResponse(t,x,b)}else A=Jn._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ha(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function nv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(G0(t))return"Webos";if(z0(t))return"Safari";if((t.includes("chrome/")||j0(t))&&!t.includes("edge/"))return"Chrome";if(q0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function P0(r=Ze()){return/firefox\//i.test(r)}function z0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j0(r=Ze()){return/crios\//i.test(r)}function B0(r=Ze()){return/iemobile/i.test(r)}function q0(r=Ze()){return/android/i.test(r)}function H0(r=Ze()){return/blackberry/i.test(r)}function G0(r=Ze()){return/webos/i.test(r)}function xm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CA(r=Ze()){return xm(r)&&!!window.navigator?.standalone}function IA(){return Hb()&&document.documentMode===10}function F0(r=Ze()){return xm(r)||q0(r)||G0(r)||H0(r)||/windows phone/i.test(r)||B0(r)}function Q0(r,t=[]){let i;switch(r){case"Browser":i=nv(Ze());break;case"Worker":i=`${nv(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class NA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function DA(r,t={}){return io(r,"GET","/v2/passwordPolicy",jl(r,t))}const xA=6;class OA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??xA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class VA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new NA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Ji(this));const i=t?We(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DA(this),i=new OA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await RA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(r){return We(r)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$b(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MA(r){Om=r}function kA(r){return Om.loadJS(r)}function UA(){return Om.gapiScript}function LA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function PA(r,t){const i=Rm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function zA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function jA(r,t,i){const a=Bl(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=K0(t),{host:d,port:g}=BA(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(zr(y,a.config.emulator)&&zr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(b0(`${c}//${d}${v}`),S0("Auth",!0)):qA()}function K0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function BA(r){const t=K0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:sv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:sv(d)}}}function sv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function qA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Y0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Ga(r,t){return Nm(r,"POST","/v1/accounts:signInWithIdp",jl(r,t))}const HA="http://localhost";class Br extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Br(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:HA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class X0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends ql{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class js extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Bs extends ql{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends ql{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function GA(r,t){return Nm(r,"POST","/v1/accounts:signUp",jl(r,t))}class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=rv(a);return new ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=rv(a);return new ts({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function FA(r){if(Un(r.app))return Promise.reject(Ji(r));const t=Bl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await GA(t,{returnSecureToken:!0}),a=await ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function J0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function QA(r,t,i=!1){const a=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ts._forOperation(r,"link",a)}async function KA(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Ji(a));const l="reauthenticate";try{const c=await Il(r,J0(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=Dm(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function YA(r,t,i=!1){if(Un(r.app))return Promise.reject(Ji(r));const a="signIn",l=await J0(r,a,t),c=await ts._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function XA(r,t){return Nm(r,"POST","/v1/accounts:signInWithCustomToken",jl(r,t))}async function JA(r,t){if(Un(r.app))return Promise.reject(Ji(r));const i=Bl(r),a=await XA(i,{token:t,returnSecureToken:!0}),l=await ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function $A(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function ZA(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function WA(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class $0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const tw=1e3,ew=10;class Z0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);IA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ew):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z0.type="LOCAL";const nw=Z0;class W0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}W0.type="SESSION";const tE=W0;function iw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await iw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Vm("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function rw(r){bi().location.href=r}function eE(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ow(){return navigator?.serviceWorker?.controller||null}function lw(){return eE()?self:null}const nE="firebaseLocalStorageDb",uw=1,Xc="firebaseLocalStorage",iE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function cw(){const r=indexedDB.deleteDatabase(nE);return new Hl(r).toPromise()}function am(){const r=indexedDB.open(nE,uw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:iE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await cw(),t(await am()))})})}async function av(r,t,i){const a=ch(r,!0).put({[iE]:t,value:i});return new Hl(a).toPromise()}async function hw(r,t){const i=ch(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function ov(r,t){const i=ch(r,!0).delete(t);return new Hl(i).toPromise()}const fw=800,dw=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(lw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aw(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ow()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await av(t,Yc,"1"),await ov(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>av(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>hw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const mw=sE;new zl(3e4,6e4);function pw(r,t){return t?Xi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends Y0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(r){return YA(r.auth,new Mm(r),r.bypassAuthState)}function yw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),KA(i,new Mm(r),r.bypassAuthState)}async function _w(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),QA(i,new Mm(r),r.bypassAuthState)}class rE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return _w;case"reauthViaPopup":case"reauthViaRedirect":return yw;default:Zi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vw=new zl(2e3,1e4);class Ba extends rE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vw.get())};t()}}Ba.currentPopupAction=null;const Ew="pendingRedirect",Mc=new Map;class Tw extends rE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bw(r,t){const i=ww(t),a=Aw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Sw(r,t){Mc.set(r._key(),t)}function Aw(r){return Xi(r._redirectPersistence)}function ww(r){return Vc(Ew,r.config.apiKey,r.name)}async function Rw(r,t,i=!1){if(Un(r.app))return Promise.reject(Ji(r));const a=Bl(r),l=pw(a,t),d=await new Tw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Cw=600*1e3;class Iw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function aE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Nw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(r);default:return!1}}async function Dw(r,t={}){return io(r,"GET","/v1/projects",t)}const xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ow=/^https?/;async function Vw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Dw(r);for(const i of t)try{if(Mw(i))return}catch{}Zi(r,"unauthorized-domain")}function Mw(r){const t=sm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ow.test(i))return!1;if(xw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const kw=new zl(3e4,6e4);function uv(){const r=bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Uw(r){return new Promise((t,i)=>{function a(){uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uv(),i(Ti(r,"network-request-failed"))},timeout:kw.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const l=LA("iframefcb");return bi()[l]=()=>{gapi.load?a():i(Ti(r,"network-request-failed"))},kA(`${UA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function Lw(r){return kc=kc||Uw(r),kc}const Pw=new zl(5e3,15e3),zw="__/auth/iframe",jw="emulator/auth/iframe",Bw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Im(t,jw):`https://${r.config.authDomain}/${zw}`,a={apiKey:t.apiKey,appName:r.name,v:no},l=qw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function Gw(r){const t=await Lw(r),i=bi().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:Hw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),g=bi().setTimeout(()=>{c(d)},Pw.get());function v(){bi().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const Fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Kw=600,Yw="_blank",Xw="http://localhost";class cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jw(r,t,i,a=Qw,l=Kw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Fw,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=j0(y)?Yw:i),P0(y)&&(t=t||Xw,v.scrollbars="yes");const b=Object.entries(v).reduce((x,[X,W])=>`${x}${X}=${W},`,"");if(CA(y)&&g!=="_self")return $w(t||"",g),new cv(null);const A=window.open(t||"",g,b);_t(A,r,"popup-blocked");try{A.focus()}catch{}return new cv(A)}function $w(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Zw="__/auth/handler",Ww="emulator/auth/handler",t2=encodeURIComponent("fac");async function hv(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof X0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Jb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof ql){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${t2}=${encodeURIComponent(v)}`:"";return`${e2(r)}?${Pl(g).slice(1)}${y}`}function e2({config:r}){return r.emulator?Im(r,Ww):`https://${r.authDomain}/${Zw}`}const Pd="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=Rw,this._overrideRedirectResult=Sw}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hv(t,i,a,sm(),l);return Jw(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await hv(t,i,a,sm(),l);return rw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Gw(t),a=new Iw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Vw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return F0()||z0()||xm()}}const i2=n2;var fv="@firebase/auth",dv="1.12.0";class s2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function r2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(r){Ya(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q0(r)},y=new VA(a,l,c,v);return zA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new jr("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(a=>new s2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(fv,dv,r2(r)),Qs(fv,dv,"esm2020")}const o2=300,l2=T0("authIdTokenMaxAge")||o2;let mv=null;const u2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>l2)return;const l=i?.token;mv!==l&&(mv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function c2(r=C0()){const t=Rm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=PA(r,{popupRedirectResolver:i2,persistence:[mw,nw,tE]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=u2(c.toString());ZA(i,d,()=>d(i.currentUser)),$A(i,g=>d(g))}}const l=v0("auth");return l&&jA(i,`http://${l}`),i}function h2(){return document.getElementsByTagName("head")?.[0]??document}MA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",h2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,oE;(function(){var r;function t(N,S){function w(){}w.prototype=S.prototype,N.F=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(V,O,U){for(var R=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)R[Zt-2]=arguments[Zt];return S.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,w){w||(w=0);const V=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)V[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;O<16;++O)V[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],O=N.g[2];let U=N.g[3],R;R=S+(U^w&(O^U))+V[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^U&(w^O))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^U)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~U))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const w=S-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<S;){if(O==0)for(;U<=w;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<S;)if(V[O++]=N[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)N[S++]=this.g[w]>>>V&255;return N};function c(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;const w=[];let V=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;V&&U==S||(w[O]=U,V=!1)}this.g=w}var g={};function v(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return nt(y(-N));const S=[];let w=1;for(let V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return nt(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+O),S);O<8?(O=y(Math.pow(S,O)),V=V.j(O).add(y(R))):(V=V.j(w),V=V.add(y(R)))}return V}var A=v(0),x=v(1),X=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-nt(this).m();let N=0,S=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(st(this))return"-"+nt(this).toString(N);const S=y(Math.pow(N,6));var w=this;let V="";for(;;){const O=Jt(w,S).g;w=pt(w,O.j(S));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=O,W(w))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=pt(this,N),st(N)?-1:W(N)?0:1};function nt(N){const S=N.g.length,w=[];for(let V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(x)}r.abs=function(){return st(this)?nt(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),w=[];let V=0;for(let O=0;O<=S;O++){let U=V+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,w[O]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function pt(N,S){return N.add(nt(S))}r.j=function(N){if(W(this)||W(N))return A;if(st(this))return st(N)?nt(this).j(nt(N)):nt(nt(this).j(N));if(st(N))return nt(this.j(nt(N)));if(this.l(X)<0&&N.l(X)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,w=[];for(var V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const U=this.i(V)>>>16,R=this.i(V)&65535,Zt=N.i(O)>>>16,he=N.i(O)&65535;w[2*V+2*O]+=R*he,wt(w,2*V+2*O),w[2*V+2*O+1]+=U*he,wt(w,2*V+2*O+1),w[2*V+2*O+1]+=R*Zt,wt(w,2*V+2*O+1),w[2*V+2*O+2]+=U*Zt,wt(w,2*V+2*O+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function wt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function Et(N,S){this.g=N,this.h=S}function Jt(N,S){if(W(S))throw Error("division by zero");if(W(N))return new Et(A,A);if(st(N))return S=Jt(nt(N),S),new Et(nt(S.g),nt(S.h));if(st(S))return S=Jt(N,nt(S)),new Et(nt(S.g),S.h);if(N.g.length>30){if(st(N)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,V=S;V.l(N)<=0;)w=oe(w),V=oe(V);var O=It(w,1),U=It(V,1);for(V=It(V,2),w=It(w,2);!W(V);){var R=U.add(V);R.l(N)<=0&&(O=O.add(w),U=R),V=It(V,1),w=It(w,1)}return S=pt(N,O.j(S)),new Et(O,S)}for(O=A;N.l(S)>=0;){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(w),R=U.j(S);st(R)||R.l(N)>0;)w-=V,U=y(w),R=U.j(S);W(U)&&(U=x),O=O.add(U),N=pt(N,R)}return new Et(O,N)}r.B=function(N){return Jt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function oe(N){const S=N.g.length+1,w=[];for(let V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function It(N,S){const w=S>>5;S%=32;const V=N.g.length-w,O=[];for(let U=0;U<V;U++)O[U]=S>0?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Ks=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,yl,uE,Uc,om,cE,hE,fE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(T,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,_){const T=Et.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Et=new st(()=>new Jt,u=>u.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,It=!1,N=new wt,S=()=>{const u=Promise.resolve(void 0);oe=()=>{u.then(w)}};function w(){for(var u;u=pt();){try{u.h.call(u.g)}catch(_){nt(_)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Zt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Zt,O),Zt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),F=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function K(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function at(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function rt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<q.length;B++)_=q[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function tt(u){this.src=u,this.g={},this.h=0}tt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=gt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function lt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(K(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function gt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,T,L);return null}return _=co(_),u&&u[he]?u.J(m,_,g(T)?!!T.capture:!1,L):sr(u,m,_,!1,T,L)}function sr(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let St=rr(u);if(St||(u[Ct]=St=new tt(u)),_=St.add(m,_,T,et,B),_.proxy)return _;if(T=Qr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qr(){function u(_){return m.call(u.src,u.listener,_)}const m=lo;return u}function Kr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Kr(u,m[B],_,T,L);else T=g(T)?!!T.capture:!!T,_=co(_),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=gt(m,_,T,L),_>-1&&(K(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,_,T,L)),(_=u>-1?m[u]:null)&&Yr(_))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])lt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Zn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=rr(m))?(lt(_,u),_.h==0&&(_.src=null,m[Ct]=null)):K(u)}}}function Zn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new Zt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=_.call(T,m)}return u}function rr(u){return u=u[Ct],u instanceof tt?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function ye(){V.call(this),this.i=new tt(this),this.M=this,this.G=null}A(ye,V),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){Kr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(T,u),H(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=ss(B,T,!0,m)&&L;if(B=m.g=u,L=ss(B,T,!0,m)&&L,L=ss(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=ss(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)K(_[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ss(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const St=et.listener,de=et.ha||et.src;et.fa&&lt(u.i,et),L=St.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){V.call(this),this.h=u,this.g={}}A(ar,V);var ho=[];function fo(u){at(u.g,function(m,_){this.g.hasOwnProperty(_)&&Yr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),fo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Ih=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function Zl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}A(ze,O);function Sn(){O.call(this,"c")}A(Sn,O);var fe={},Wl=null;function Xr(){return Wl=Wl||new ye}fe.Ia="serverreachability";function tu(u){O.call(this,fe.Ia,u)}A(tu,O);function Wn(u){const m=Xr();De(m,new tu(m))}fe.STAT_EVENT="statevent";function or(u,m){O.call(this,fe.STAT_EVENT,u),this.stat=m}A(or,O);function _e(u){const m=Xr();De(m,new or(m,u))}fe.Ja="timingevent";function ti(u,m){O.call(this,fe.Ja,u),this.size=m}A(ti,O);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",St=B.split("&");for(let jt=0;jt<St.length;jt++){var de=St[jt].split("=");if(de.length>1){const re=de[0];de=de[1];const Cn=re.split("_");et=Cn.length>=2&&Cn[1]=="type"?et+(re+"="+de+"&"):et+(re+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function eu(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return rs(B)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function cr(){}A(cr,$l),cr.prototype.g=function(){return new XMLHttpRequest},po=new cr;function Ni(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function ii(u,m,_){u.M=1,u.A=hr(Te(m)),u.u=_,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),si(u),u.B=Te(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Bn,u.g=yu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let B=0;B<L.length;B++){const et=se(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Gn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||de==7||(de==8||jt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=xh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=su(this,_),re==ke){St==4&&(this.m=4,_e(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Do(et),et.P=!0,_e(11))}}else ni(this.i,this.l,_,null),ai(this,_);St==4&&dn(this),this.o&&!this.K&&(St==4?du(this.j,this):(this.o=!1,si(this)))}else xi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),An(this)}}}catch{}};function xh(u){if(!iu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?ve:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function si(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(Wn(),_e(17)),dn(this),this.m=2,An(this)):$r(this,this.T-u)};function An(u){u.j.I==0||u.K||du(u.j,u)}function dn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ra(_),ds(_);else break t;_r(_),_e(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&ra(_),!R(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const re=jt[0];if(!(re<=_.K))if(_.K=re,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const Cn=jt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const pi=jt[4];pi!=null&&(_.za=pi,_.j.info("SVER="+_.za));const Fn=jt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const vr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var B=T.h;B.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const aa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Ht(T.J,T.G,aa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=gu(T,T.L?T.ba:null,T.W),et.L){vo(T.h,et);var St=et,de=T.O;de&&(St.H=de),St.D&&(ri(St),si(St)),T.g=et}else hu(T);_.i.length>0&&di(_)}else jt[0]!="stop"&&jt[0]!="close"||mi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?mi(_,7):Io(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}Wn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return X(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,To(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,Wr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,Wr,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(fr(_,_.charAt(0)=="/"?bo:au,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",fr(_,ou)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?T&&et==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?To(m,uu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Te(u){return new mn(u)}function Ue(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,_){m instanceof ls?(u.i=m,ea(u.i,u.l)):(_||(m=fr(m,os)),u.i=new ls(m,u.l))}function Ht(u,m,_){u.i.set(m,_)}function hr(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,au=/[#\?:]/g,bo=/[#\?]/g,os=/[#\?@]/g,ou=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ls.prototype,r.add=function(u,m){rn(this),this.i=null,u=us(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function lu(u,m){rn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return rn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ao(u,m){rn(u);let _=[];if(typeof m=="string")So(u,m)&&(_=_.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=us(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,_){lu(u,m),_.length>0&&(u.i=null,u.g.set(us(u,m),X(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ni(_);_=Ao(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+Ni(_[B])),u.push(et)}}return this.i=u.join("&")};function uu(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ta(this,L,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=b(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const _=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function cs(){this.g=new Jl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ci,$l),ci.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(dr,ye),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Hn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return at(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function mr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&Ni(_):Ht(u,m,_))}function Qt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Qt,ye);var hi=/^https?$/i,Ro=["POST","PUT"];r=Qt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){pr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){pr(this,B)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),Di(u)}function Co(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},r.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(ru)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!hi.test(et?et.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Co(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=nu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}rt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){_e(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),di(this)};function Io(u){if(ia(u),u.I==3){var m=u.V++,_=Te(u.J);if(Ht(_,"SID",u.M),Ht(_,"RID",m),Ht(_,"TYPE","terminate"),yr(u,_),m=new jn(u,u.j,m),m.M=2,m.A=hr(Te(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}pu(u)}function ds(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ia(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;oe||S(),It||(oe(),It=!0),N.add(m,u),u.D=0}}function sa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=I(B),H(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),_=Te(this.J),Ht(_,"RID",u),Ht(_,"CVER",22),this.G&&Ht(_,"X-HTTP-Session-Id",this.G),yr(this,_),B&&(this.R?m="headers="+Ni(Rn(B))+"&"+m:this.u&&mr(_,this.u,B)),_o(this.h,L),this.Ra&&Ht(_,"TYPE","init"),this.S?(Ht(_,"$req",m),Ht(_,"SID","null"),L.U=!0,ii(L,_,null)):ii(L,_,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var _;m?_=m.l:_=u.V++;const T=Te(u.J);Ht(T,"SID",u.M),Ht(T,"RID",_),Ht(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),_=new jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,_),ii(_,T,m)}function yr(u,m){u.H&&at(u.H,function(_,T){Ht(m,T,_)}),u.l&&at({},function(_,T){Ht(m,T,_)})}function cu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const de=["count="+_];St==-1?_>0?(St=L[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let jt=!0;for(let re=0;re<_;re++){var B=L[re].g;const Cn=L[re].map;if(B-=St,B<0)St=Math.max(0,L[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var et=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Fn]of et){let Qn=Fn;g(Fn)&&(Qn=rs(Fn)),de.push(B+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw de.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Cn)}}if(jt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;oe||S(),It||(oe(),It=!0),N.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ds(this),fu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=hr(Te(m)),_.u=null,_.R=!0,Jr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),_r(this),_e(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){ra(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Xr(),De(T,new ti(T,_)),di(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&_r(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function mu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),hr(T),L?qn(T.toString(),_):wo(T.toString(),_)}else _e(2);u.I=0,u.l&&u.l.pa(m),pu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,_){var T=_ instanceof mn?Te(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);T&&Ue(B,T),m&&(B.g=m),L&&as(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Ht(T,_,m),Ht(T,"VER",u.ka),yr(u,T),T}function yu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new ci({ab:_})):new Qt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}A(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Io(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&di(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,en.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,ze);function Eu(){Sn.call(this),this.status=1}A(Eu,Sn);function Oi(u){this.g=u}A(Oi,_u),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new vu(u))},Oi.prototype.pa=function(u){De(this.g,new Eu)},Oi.prototype.oa=function(){De(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,fE=function(){return new ms},hE=function(){return Xr()},cE=fe,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Uc=ur,mo.COMPLETE="complete",uE=mo,Zl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,yl=Zl,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,lE=Qt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let so="12.8.0";function f2(r){so=r}const qr=new Am("@firebase/firestore");function La(){return qr.logLevel}function ot(r,...t){if(qr.logLevel<=Vt.DEBUG){const i=t.map(km);qr.debug(`Firestore (${so}): ${r}`,...i)}}function es(r,...t){if(qr.logLevel<=Vt.ERROR){const i=t.map(km);qr.error(`Firestore (${so}): ${r}`,...i)}}function Xa(r,...t){if(qr.logLevel<=Vt.WARN){const i=t.map(km);qr.warn(`Firestore (${so}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,dE(r,a,i)}function dE(r,t,i){let a=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||dE(t,l,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class d2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class m2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class p2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new mE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class g2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class y2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function v2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=v2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function lm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Mt(l,c):zd(l)?1:-1}return Mt(r.length,t.length)}const E2=55296,T2=57343;function zd(r){const t=r.charCodeAt(0);return t>=E2&&t<=T2}function Ja(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const yv="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class ne extends Ei{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return b2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Qe([yv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ht(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ht(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function pE(r,t,i){if(!i)throw new ht(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function S2(r,t,i,a){if(t===!0&&a===!0)throw new ht(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!dt.isDocumentKey(r))throw new ht(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vv(r){if(dt.isDocumentKey(r))throw new ht(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Ys(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new ht(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!gE(r))throw new ht(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(Z.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Tv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ev)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function A2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Js(l,dt.empty(),t)}function w2(r){return new Js(r.readTime,r.key,Nl)}class Js{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(vt.min(),dt.empty(),Nl)}static max(){return new Js(vt.max(),dt.empty(),Nl)}}function R2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const C2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==C2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function N2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Pm=-1;function fh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function D2(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yE="";function x2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=bv(t)),t=O2(r.get(i),t);return bv(t)}function O2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function bv(r){return r+yE+""}function Sv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function nr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function _E(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const V2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=V2.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const EE="server_timestamp",TE="__type__",bE="__previous_value__",SE="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function dh(r){const t=r.mapValue.fields[bE];return zm(t)?dh(t):t}function Dl(r){const t=$s(r.mapValue.fields[SE].timestampValue);return new ie(t.seconds,t.nanos)}class M2{constructor(t,i,a,l,c,d,g,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const $c="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}function k2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ht(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(r.options.projectId,t)}const AE="__type__",U2="__max__",Cc={mapValue:{}},wE="__vector__",Zc="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:P2(r)?9007199254740991:L2(r)?10:11:yt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Ws(r);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),g=$s(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Sv(d)!==Sv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ci(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Ol(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=Ws(r),a=Ws(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return wv(r.timestampValue,t.timestampValue);case 4:return wv(Dl(r),Dl(t));case 5:return lm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zs(c),v=Zs(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Mt(g[y],v[y]);if(b!==0)return b}return Mt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(ge(c.latitude),ge(d.latitude));return g!==0?g:Mt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Rv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Zc]?.arrayValue,b=v[Zc]?.arrayValue,A=Mt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:Rv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const x=lm(v[A],b[A]);if(x!==0)return x;const X=$a(g[v[A]],y[b[A]]);if(X!==0)return X}return Mt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function wv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=$s(r),a=$s(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function Rv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=$a(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Za(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Lc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return nr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Cv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function L2(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===wE}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return nr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function P2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Sl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new fn(Sl(this.value))}}function RE(r){const t=[];return nr(r.fields,((i,a)=>{const l=new Qe([i]);if(Pc(a)){const c=RE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Nv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function z2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class CE{}class Oe extends CE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new B2(t,i,a):i==="array-contains"?new G2(t,a):i==="in"?new F2(t,a):i==="not-in"?new Q2(t,a):i==="array-contains-any"?new K2(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new q2(t,a):new H2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends CE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return IE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(r){return r.op==="and"}function NE(r){return j2(r)&&IE(r)}function j2(r){for(const t of r.filters)if(t instanceof Ii)return!1;return!0}function hm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(NE(r))return r.filters.map((t=>hm(t))).join(",");{const t=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${t})`}}function DE(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&DE(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function xE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(r):"Filter"}class B2 extends Oe{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class q2 extends Oe{constructor(t,i){super(t,"in",i),this.keys=OE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class H2 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=OE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class G2 extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Ol(i.arrayValue,this.value)}}class F2 extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class Q2 extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class K2 extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ol(this.value.arrayValue,a)))}}class Y2{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function xv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Y2(r,t,i,a,l,c,d)}function Bm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!z2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!DE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Dv(r.startAt,t.startAt)&&Dv(r.endAt,t.endAt)}function fm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function X2(r,t,i,a,l,c,d,g){return new mh(r,t,i,a,l,c,d,g)}function Hm(r){return new mh(r)}function Ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function J2(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function $2(r){return r.collectionGroup!==null}function Al(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new th(Qe.keyField(),a))}return t.Ie}function Si(r){const t=bt(r);return t.Ee||(t.Ee=Z2(t,Al(r))),t.Ee}function Z2(r,t){if(r.limitType==="F")return xv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function dm(r,t,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return qm(Si(r),Si(t))&&r.limitType===t.limitType}function VE(r){return`${Bm(Si(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>xE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=Nv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,v){const y=Nv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Al(a),l))})(r,t)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ME(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const c=tR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function tR(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?$a(v,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const eR=new le(dt.comparator);function ns(){return eR}const kE=new le(dt.comparator);function _l(...r){let t=kE;for(const i of r)t=t.insert(i.key,i);return t}function UE(r){let t=kE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ur(){return wl()}function LE(){return wl()}function wl(){return new Gr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const nR=new le(dt.comparator),iR=new Ve(dt.comparator);function kt(...r){let t=iR;for(const i of r)t=t.add(i);return t}const sR=new Ve(Mt);function rR(){return sR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function PE(r){return{integerValue:""+r}}function aR(r,t){return D2(t)?PE(t):Gm(r,t)}class yh{constructor(){this._=void 0}}function oR(r,t,i){return r instanceof eh?(function(l,c){const d={fields:{[TE]:{stringValue:EE},[SE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=dh(c)),c&&(d.fields[bE]=c),{mapValue:d}})(i,t):r instanceof Vl?jE(r,t):r instanceof Ml?BE(r,t):(function(l,c){const d=zE(l,c),g=Vv(d)+Vv(l.Ae);return cm(d)&&cm(l.Ae)?PE(g):Gm(l.serializer,g)})(r,t)}function lR(r,t,i){return r instanceof Vl?jE(r,t):r instanceof Ml?BE(r,t):i}function zE(r,t){return r instanceof nh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends yh{}class Vl extends yh{constructor(t){super(),this.elements=t}}function jE(r,t){const i=qE(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends yh{constructor(t){super(),this.elements=t}}function BE(r,t){let i=qE(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class nh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Vv(r){return ge(r.integerValue||r.doubleValue)}function qE(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Vl&&l instanceof Vl||a instanceof Ml&&l instanceof Ml?Ja(a.elements,l.elements,Ci):a instanceof nh&&l instanceof nh?Ci(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(r.transform,t.transform)}class cR{constructor(t,i){this.version=t,this.transformResults=i}}class Ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function HE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new FE(r.key,Ai.none()):new Fl(r.key,r.data,Ai.none());{const i=r.data,a=fn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ir(r.key,a,new bn(l.toArray()),Ai.none())}}function hR(r,t,i){r instanceof Fl?(function(l,c,d){const g=l.value.clone(),v=kv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ir?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=kv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(GE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Fl?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=c.value.clone(),b=Uv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ir?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=Uv(c.fieldTransforms,v,d),b=d.data;return b.setAll(GE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function fR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=zE(a.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>uR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ir extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function kv(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,lR(d,g,i[l]))}return a}function Uv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,oR(c,d,t))}return a}class FE extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&hR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=LE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=HE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return nR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class pR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function yR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function QE(r){if(r===void 0)return es("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function _R(){return new TextEncoder}const vR=new Ks([4294967295,4294967295],0);function Lv(r){const t=_R().encode(r),i=new oE;return i.update(t),new Uint8Array(i.digest())}function Pv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([i,a],0),new Ks([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ks.fromNumber(a)));return l.compare(vR)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Lv(t),[a,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Lv(t),[a,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(vt.min(),l,new le(Mt),ns(),kt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,kt(),kt(),kt())}}class jc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class KE{constructor(t,i){this.targetId=t,this.Ce=i}}class YE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class zv{constructor(){this.ve=0,this.Fe=jv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=jv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ER{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.He=Ic(),this.Je=Ic(),this.Ze=new le(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,vt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zs(a).toUint8Array()}catch(v){if(v instanceof vE)return Xa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Qm(d,l,c)}catch(v){return Xa(v instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&fm(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=kt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ze,this.je,a);return this.je=ns(),this.He=Ic(),this.Je=Ic(),this.Ze=new le(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new zv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new le(dt.comparator)}function jv(){return new le(dt.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},bR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SR={and:"AND",or:"OR"};class AR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function wR(r,t){return ih(r,t.toTimestamp())}function wi(r){return qt(!!r,49232),vt.fromTimestamp((function(i){const a=$s(i);return new ie(a.seconds,a.nanos)})(r))}function Km(r,t){return pm(r,t).canonicalString()}function pm(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function JE(r){const t=ne.fromString(r);return qt(eT(t),10190,{key:t.toString()}),t}function gm(r,t){return Km(r.databaseId,t.path)}function jd(r,t){const i=JE(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(ZE(i))}function $E(r,t){return Km(r.databaseId,t)}function RR(r){const t=JE(r);return t.length===4?ne.emptyPath():ZE(t)}function ym(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bv(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function CR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(qt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:QE(y.code);return new ht(b,y.message||"")})(d);i=new YE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):vt.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=$e.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new jc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(r,a.document),c=a.readTime?wi(a.readTime):vt.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new gR(l,c),g=a.targetId;i=new KE(g,d)}}return i}function IR(r,t){let i;if(t instanceof Fl)i={update:Bv(r,t.key,t.value)};else if(t instanceof FE)i={delete:gm(r,t.key)};else if(t instanceof ir)i={update:Bv(r,t.key,t.data),updateMask:LR(t.fieldMask)};else{if(!(t instanceof dR))return yt(16599,{dt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:wR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function NR(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(vt.min())&&(d=wi(c)),new cR(d,l.transformResults||[])})(i,t)))):[]}function DR(r,t){return{documents:[$E(r,t.path)]}}function xR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=$E(r,l);const c=(function(y){if(y.length!==0)return tT(Ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(x){return{field:za(x.field),direction:MR(x.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=mm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function OR(r){let t=RR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const x=WE(A);return x instanceof Ii&&NE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(W){return new th(ja(W.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let x;return x=typeof A=="object"?A.value:A,fh(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(A){const x=!!A.before,X=A.values||[];return new Wc(X,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const x=!A.before,X=A.values||[];return new Wc(X,x)})(i.endAt)),X2(t,l,d,c,g,"F",v,y)}function VR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>WE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function MR(r){return TR[r]}function kR(r){return bR[r]}function UR(r){return SR[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Qe.fromServerFormat(r.fieldPath)}function tT(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:kR(i.op),value:i.value}}})(r):r instanceof Ii?(function(i){const a=i.getFilters().map((l=>tT(l)));return a.length===1?a[0]:{compositeFilter:{op:UR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function LR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function nT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Hs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PR{constructor(t){this.yt=t}}function zR(r){const t=OR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(t,t.limit,"L"):t}class jR{constructor(){this.Sn=new BR}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Js.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class BR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(iT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Wa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wa(0)}static ar(){return new Wa(-1)}}const Hv="LruGarbageCollector",qR=1048576;function Gv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class HR{constructor(t){this.Pr=t,this.buffer=new Ve(Gv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(Hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?ot(Hv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Ar(3e5)}))}}class FR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(hh.ce);const a=new HR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(qv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),La()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function QR(r,t){return new FR(r,t)}class KR{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class XR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,bn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Ur();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ur();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ns();const d=wl(),g=(function(){return wl()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof ir)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Rl(b.mutation,y,b.mutation.getFieldMask(),ie.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new YR(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new le(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||bn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const A=(l.get(g.batchId)||kt()).add(v);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,A=LE();b.forEach((x=>{if(!c.has(x)){const X=HE(i.get(x),a.get(x));X!==null&&A.set(x,X),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return J2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Ur());let g=Nl,v=c;return d.next((y=>$.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((x=>{v=v.insert(b,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,kt()))).next((b=>({batchId:g,changes:UE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(v=>{const y=(function(A,x){return new mh(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let g=_l();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Rl(b.mutation,y,bn.empty(),ie.now()),gh(i,y)&&(g=g.insert(v,y))})),g}))}}class JR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:zR(l.bundledQuery),readTime:wi(l.readTime)}})(i)),$.resolve()}}class $R{constructor(){this.overlays=new le(dt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ur();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Ur(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Ur(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Ur(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pR(i,a));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class ZR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Ym{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new ne([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new ne([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=kt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class WR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Mt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let g=new Ve(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tC{constructor(t){this.ti=t,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ns();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ns();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||R2(w2(b),a)<=0||(l.has(b.key)||gh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new eC(this)}getSize(t){return $.resolve(this.size)}}class eC extends KR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class nC{constructor(t){this.persistence=t,this.ri=new Gr((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Ym,this.targetCount=0,this.oi=Wa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class sT{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new ZR,this.referenceDelegate=t(this),this.li=new nC(this),this.indexManager=new jR,this.remoteDocumentCache=(function(l){return new tC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new PR(i),this.Pi=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $R,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new WR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new iC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class iC extends I2{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Ym,this.Ai=null}static Vi(t){return new Xm(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Gr((a=>x2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=QR(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(t,i.fromCache,a,l)}}class sC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Gb()?8:N2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(La()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(La()<=Vt.DEBUG&&ot("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(La()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):$.resolve())}gs(t,i){if(Ov(i))return $.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,dm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return Ov(i)||l.isEqual(vt.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(La()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.Ds(t,d,i,A2(l,Nl)).next((g=>g)))}))}bs(t,i){let a=new Ve(ME(t));return i.forEach(((l,c)=>{gh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return La()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.fs.getDocumentsMatchingQuery(t,i,Js.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",aC=3e8;class oC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Mt),this.Fs=new Gr((c=>Bm(c)),qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function lC(r,t,i,a){return new oC(r,t,i,a)}async function rT(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=kt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function uC(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const A=y.batch,x=A.keys();let X=$.resolve();return x.forEach((W=>{X=X.next((()=>b.getEntry(v,W))).next((st=>{const nt=y.docVersions.get(W);qt(nt!==null,48541),st.version.compareTo(nt)<0&&(A.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),b.addEntry(st)))}))})),X.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function aT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function cC(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((b,A)=>{const x=l.get(A);if(!x)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let X=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?X=X.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(b.resumeToken,a)),l=l.insert(A,X),(function(st,nt,pt){return st.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=aC?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(x,X,b)&&g.push(i.li.updateTargetData(c,X))}));let v=ns(),y=kt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(hC(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(vt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function hC(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ns();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):ot($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function fC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function dC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Hs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function _m(r,t,i){const a=bt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;ot($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Fv(r,t,i){const a=bt(r);let l=vt.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=bt(v),x=A.Fs.get(b);return x!==void 0?$.resolve(A.vs.get(x)):A.li.getTargetData(y,b)})(a,d,Si(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:kt()))).next((g=>(mC(a,W2(t),g),{documents:g,ks:c})))))}function mC(r,t,i){let a=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Qv{constructor(){this.activeTargetIds=rR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pC{constructor(){this.vo=new Qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Qv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gC{Mo(t){}shutdown(){}}const Kv="ConnectivityMonitor";class Yv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(Kv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(Kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function vm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Bd="RestConnection",yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _C{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=vm(),g=this.Qo(t,i.toUriEncodedString());ot(Bd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),b=eo(y);return this.zo(t,g,v,a,b).then((A=>(ot(Bd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Xa(Bd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=yC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class vC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",pl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends _C{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fa.c_){const t=hE();pl(t,cE.STAT_EVENT,(i=>{i.stat===om.PROXY?ot(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===om.NOPROXY&&ot(Xe,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(t,i,a,l,c){const d=vm();return new Promise(((g,v)=>{const y=new lE;y.setWithCredentials(!0),y.listenOnce(uE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Uc.TIMEOUT:ot(Xe,`RPC '${t}' ${d} timed out`),v(new ht(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const x=y.getStatus();if(ot(Xe,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let X=y.getResponseJson();Array.isArray(X)&&(X=X[0]);const W=X?.error;if(W&&W.status&&W.message){const st=(function(pt){const wt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(wt)>=0?wt:Z.UNKNOWN})(W.status);v(new ht(st,W.message))}else v(new ht(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ht(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ot(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let A=!1,x=!1;const X=new vC({Ho:W=>{x?ot(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(A||(ot(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),ot(Xe,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return pl(b,yl.EventType.OPEN,(()=>{x||(ot(Xe,`RPC '${t}' stream ${l} transport opened.`),X.i_())})),pl(b,yl.EventType.CLOSE,(()=>{x||(x=!0,ot(Xe,`RPC '${t}' stream ${l} transport closed`),X.o_(),this.E_(b))})),pl(b,yl.EventType.ERROR,(W=>{x||(x=!0,Xa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),X.o_(new ht(Z.UNAVAILABLE,"The operation could not be completed")))})),pl(b,yl.EventType.MESSAGE,(W=>{if(!x){const st=W.data[0];qt(!!st,16349);const nt=st,pt=nt?.error||nt[0]?.error;if(pt){ot(Xe,`RPC '${t}' stream ${l} received error:`,pt);const wt=pt.status;let Et=(function(It){const N=Re[It];if(N!==void 0)return QE(N)})(wt),Jt=pt.message;Et===void 0&&(Et=Z.INTERNAL,Jt="Unknown error status: "+wt+" with message "+pt.message),x=!0,X.o_(new ht(Et,Jt)),b.close()}else ot(Xe,`RPC '${t}' stream ${l} received:`,st),X.__(st)}})),Fa.u_(),setTimeout((()=>{X.s_()}),0),X}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fE()}}function EC(r){return new Fa(r)}function qd(){return typeof document<"u"?document:null}function Eh(r){return new AR(r,!0)}Fa.c_=!1;class oT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Xv="PersistentStream";class lT{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TC extends lT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=CR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?wi(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=fm(v)?{documents:DR(c,v)}:{query:xR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=XE(c,d.resumeToken);const y=mm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=mm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=VR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=ym(this.serializer),i.removeTarget=t,this.K_(i)}}class bC extends lT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=NR(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=ym(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>IR(this.serializer,a)))};this.K_(i)}}class SC{}class AC extends SC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Z.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,pm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function wC(r,t,i,a){return new AC(r,t,i,a)}class RC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class CC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(ot(Hr,"Restarting streams for network reachability change."),await(async function(v){const y=bt(v);y.Ea.add(4),await Kl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Va=new RC(a,l)}}async function Th(r){if(Fr(r))for(const t of r.Ra)await t(!0)}async function Kl(r){for(const t of r.Ra)await t(!1)}function uT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ep(i)?tp(i):oo(i).O_()&&Wm(i,t))}function Zm(r,t){const i=bt(r),a=oo(i);i.Ia.delete(t),a.O_()&&cT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Va.set("Unknown"))}function Wm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(r).Z_(t)}function cT(r,t){r.da.$e(t),oo(r).X_(t)}function tp(r){r.da=new ER({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.Va.ua()}function ep(r){return Fr(r)&&!oo(r).x_()&&r.Ia.size>0}function Fr(r){return bt(r).Ea.size===0}function hT(r){r.da=void 0}async function IC(r){r.Va.set("Online")}async function NC(r){r.Ia.forEach(((t,i)=>{Wm(r,t)}))}async function DC(r,t){hT(r),ep(r)?(r.Va.ha(t),tp(r)):r.Va.set("Unknown")}async function xC(r,t,i){if(r.Va.set("Online"),t instanceof YE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,t)}catch(a){ot(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof jc?r.da.Xe(t):t instanceof KE?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const a=await aT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),cT(c,v);const A=new Hs(b.target,v,y,b.sequenceNumber);Wm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ot(Hr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!ao(t))throw t;r.Ea.add(1),await Kl(r),r.Va.set("Offline"),i||(i=()=>aT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function fT(r,t){return t().catch((i=>rh(r,i,t)))}async function bh(r){const t=bt(r),i=tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;OC(t);)try{const l=await fC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,VC(t,l)}catch(l){await rh(t,l)}dT(t)&&mT(t)}function OC(r){return Fr(r)&&r.Ta.length<10}function VC(r,t){r.Ta.push(t);const i=tr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function dT(r){return Fr(r)&&!tr(r).x_()&&r.Ta.length>0}function mT(r){tr(r).start()}async function MC(r){tr(r).ra()}async function kC(r){const t=tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function UC(r,t,i){const a=r.Ta.shift(),l=Fm.from(a,t,i);await fT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function LC(r,t){t&&tr(r).Y_&&await(async function(a,l){if((function(d){return yR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();tr(a).B_(),await fT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(r,t),dT(r)&&mT(r)}async function Jv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ot(Hr,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await Kl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function PC(r,t){const i=bt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Va.set("Unknown"))}function oo(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new TC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:IC.bind(null,r),Yo:NC.bind(null,r),t_:DC.bind(null,r),J_:xC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),ep(r)?tp(r):r.Va.set("Unknown")):(await r.ma.stop(),hT(r))}))),r.ma}function tr(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new bC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MC.bind(null,r),t_:LC.bind(null,r),ta:kC.bind(null,r),na:UC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class np{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new np(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(r,t){if(es("AsyncQueue",`${t}: ${r}`),ao(r))return new ht(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new le(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class zC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class jC{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=Zv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ht(Z.ABORTED,"Firestore shutting down"))}}function Zv(){return new Gr((r=>VE(r)),ph)}async function BC(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new zC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ip(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sp(i)}async function qC(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function HC(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&sp(i)}function GC(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function sp(r){r.Ca.forEach((t=>{t.next()}))}var Em,Wv;(Wv=Em||(Em={})).Ma="default",Wv.Cache="cache";class FC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class pT{constructor(t){this.key=t}}class gT{constructor(t){this.key=t}}class QC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=ME(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const x=l.get(b),X=gh(this.query,A)?A:null,W=!!x&&this.mutatedKeys.has(x.key),st=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let nt=!1;x&&X?x.data.isEqual(X.data)?W!==st&&(a.track({type:3,doc:X}),nt=!0):this.su(x,X)||(a.track({type:2,doc:X}),nt=!0,(v&&this.eu(X,v)>0||y&&this.eu(X,y)<0)&&(g=!0)):!x&&X?(a.track({type:0,doc:X}),nt=!0):x&&!X&&(a.track({type:1,doc:x}),nt=!0,(v||y)&&(g=!0)),nt&&(X?(d=d.add(X),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(X,W){const st=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:nt})}};return st(X)-st(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new gT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new pT(a))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class KC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class YC{constructor(t){this.key=t,this.hu=!1}}class XC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((g=>VE(g)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(dt.comparator),this.Au=new Map,this.Vu=new Ym,this.du={},this.mu=new Map,this.fu=Wa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(r,t,i=!0){const a=bT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await yT(a,t,i,!0),l}async function $C(r,t){const i=bT(r);await yT(i,t,!0,!1)}async function yT(r,t,i,a){const l=await dC(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await ZC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&uT(r.remoteStore,l),g}async function ZC(r,t,i,a,l){r.pu=(A,x,X)=>(async function(st,nt,pt,wt){let Et=nt.view.ru(pt);Et.Ss&&(Et=await Fv(st.localStore,nt.query,!1).then((({documents:N})=>nt.view.ru(N,Et))));const Jt=wt&&wt.targetChanges.get(nt.targetId),oe=wt&&wt.targetMismatches.get(nt.targetId)!=null,It=nt.view.applyChanges(Et,st.isPrimaryClient,Jt,oe);return e0(st,nt.targetId,It.au),It.snapshot})(r,A,x,X);const c=await Fv(r.localStore,t,!0),d=new QC(t,c.ks),g=d.ru(c.documents),v=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,v);e0(r,i,y.au);const b=new KC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function WC(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(ro)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function tI(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function eI(r,t,i){const a=lI(r);try{const l=await(function(d,g){const v=bt(d),y=ie.now(),b=g.reduce(((X,W)=>X.add(W.key)),kt());let A,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let W=ns(),st=kt();return v.xs.getEntries(X,b).next((nt=>{W=nt,W.forEach(((pt,wt)=>{wt.isValidDocument()||(st=st.add(pt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,W))).next((nt=>{A=nt;const pt=[];for(const wt of g){const Et=fR(wt,A.get(wt.key).overlayedDocument);Et!=null&&pt.push(new ir(wt.key,Et,RE(Et.value.mapValue),Ai.exists(!0)))}return v.mutationQueue.addMutationBatch(X,y,pt,g)})).next((nt=>{x=nt;const pt=nt.applyToLocalDocumentSet(A,st);return v.documentOverlayCache.saveOverlays(X,nt.batchId,pt)}))})).then((()=>({batchId:x.batchId,changes:UE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=ip(l,"Failed to persist write");i.reject(c)}}async function _T(r,t){const i=bt(r);try{const a=await cC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await ro(a)}}function t0(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=bt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,A)=>{for(const x of A.ba)x.va(g)&&(y=!0)})),y&&sp(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function nI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(dt.comparator);d=d.insert(c,$e.newNoDocument(c,vt.min()));const g=kt().add(c),v=new vh(vt.min(),new Map,new le(Mt),d,g);await _T(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),ap(a)}else await _m(a.localStore,t,!1).then((()=>Tm(a,t,i))).catch(ro)}async function iI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await uC(i.localStore,t);ET(i,a,null),vT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await ro(l)}}async function sI(r,t,i){const a=bt(r);try{const l=await(function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((A=>(qt(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);ET(a,t,i),vT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await ro(l)}}function vT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ET(r,t,i){const a=bt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Tm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||TT(r,a)}))}function TT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Zm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),ap(r))}function e0(r,t,i){for(const a of i)a instanceof pT?(r.Vu.addReference(a.key,t),rI(r,a)):a instanceof gT?(ot(rp,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||TT(r,a.key)):yt(19791,{wu:a})}function rI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(ot(rp,"New document in limbo: "+i),r.Eu.add(a),ap(r))}function ap(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(ne.fromString(t)),a=r.fu.next();r.Au.set(a,new YC(i)),r.Ru=r.Ru.insert(i,a),uT(r.remoteStore,new Hs(Si(Hm(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Yl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Jm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(x=>$.forEach(x.Ts,(X=>b.persistence.referenceDelegate.addReference(A,x.targetId,X))).next((()=>$.forEach(x.Is,(X=>b.persistence.referenceDelegate.removeReference(A,x.targetId,X)))))))))}catch(A){if(!ao(A))throw A;ot($m,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const X=b.vs.get(x),W=X.snapshotVersion,st=X.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(x,st)}}})(a.localStore,c))}async function aI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){ot(rp,"User change. New user:",t.toKey());const a=await rT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ht(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ns)}}function oI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function bT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nI.bind(null,t),t.Pu.J_=HC.bind(null,t.eventManager),t.Pu.yu=GC.bind(null,t.eventManager),t}function lI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lC(this.persistence,new rC,t.initialUser,this.serializer)}Cu(t){return new sT(Xm.Vi,this.serializer)}Du(t){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class uI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new GR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new sT((a=>sh.Vi(a,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>t0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await PC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=EC(t.databaseInfo);return wC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new CC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>t0(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new gC})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,b){const A=new XC(l,c,d,g,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);ot(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class cI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const er="FirestoreClient";class hI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await rT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function n0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await fI(r);ot(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Jv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Jv(t.remoteStore,l))),r._onlineComponents=t}async function fI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(er,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new ah)}}else ot(er,"Using default OfflineComponentProvider"),await Hd(r,new uI(void 0));return r._offlineComponents}async function ST(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(er,"Using user provided OnlineComponentProvider"),await n0(r,r._uninitializedComponentsProvider._online)):(ot(er,"Using default OnlineComponentProvider"),await n0(r,new bm))),r._onlineComponents}function dI(r){return ST(r).then((t=>t.syncEngine))}async function i0(r){const t=await ST(r),i=t.eventManager;return i.onListen=JC.bind(null,t.syncEngine),i.onUnlisten=WC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$C.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=tI.bind(null,t.syncEngine),i}function mI(r,t,i,a){const l=new cI(a),c=new FC(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>BC(await i0(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>qC(await i0(r),c)))}}function pI(r,t){const i=new Lr;return r.asyncQueue.enqueueAndForget((async()=>eI(await dI(r),t,i))),i.promise}function AT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const gI="ComponentProvider",s0=new Map;function yI(r,t,i,a,l){return new M2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,AT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const wT="firestore.googleapis.com",r0=!0;class a0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=r0}else this.host=t.host,this.ssl=t.ssl??r0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qR)throw new ht(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}S2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new d2;switch(a.type){case"firstParty":return new y2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=s0.get(i);a&&(ot(gI,"Removing Datastore"),s0.delete(i),a.terminate())})(this),Promise.resolve()}}function _I(r,t,i,a={}){r=Ys(r,Sh);const l=eo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(b0(`https://${g}`),S0("Firestore",!0)),c.host!==wT&&c.host!==g&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!zr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Je.MOCK_USER;else{y=kb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ht(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(A)}r._authCredentials=new m2(new mE(y,b))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Ie._jsonSchema))return new Ie(t,a||null,new dt(ne.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class Xs extends Ah{constructor(t,i,a){super(t,i,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new dt(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function vI(r,t,...i){if(r=We(r),pE("collection","path",t),r instanceof Sh){const a=ne.fromString(t,...i);return vv(a),new Xs(r,null,a)}{if(!(r instanceof Ie||r instanceof Xs))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return vv(a),new Xs(r.firestore,null,a)}}function gl(r,t,...i){if(r=We(r),arguments.length===1&&(t=Um.newId()),pE("doc","path",t),r instanceof Sh){const a=ne.fromString(t,...i);return _v(a),new Ie(r,null,new dt(a))}{if(!(r instanceof Ie||r instanceof Xs))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return _v(a),new Ie(r.firestore,r instanceof Xs?r.converter:null,new dt(a))}}const o0="AsyncQueue";class l0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&ot(o0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;ot(o0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",u0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=np.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:u0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function u0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class kl extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new l0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l0(t),this._firestoreClient=void 0,await t}}}function EI(r,t){const i=typeof r=="object"?r:C0(),a=typeof r=="string"?r:$c,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Vb("firestore");c&&_I(l,...c)}return l}function RT(r){if(r._terminated)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TI(r),r._firestoreClient}function TI(r){const t=r._freezeSettings(),i=yI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new hI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ht(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class op{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lp{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class $n{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,$n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new $n(t.vectorValues);throw new ht(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ce("string",$n._jsonSchemaVersion),vectorValues:Ce("object")};const bI=/^__.*__$/;class SI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class CT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function IT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class up{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(IT(this.dataSource)&&bI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class AI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,l=!1){return new up({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new AI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function wI(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);cp("Data must be an object, but it was:",d,a);const g=DT(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const x=Ul(t,A,i);if(!d.contains(x))throw new ht(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);VT(b,x)||b.push(x)}v=new bn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new SI(new fn(g),v,y)}class wh extends lp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}function RI(r,t,i,a){const l=r.createContext(1,t,i);cp("Data must be an object, but it was:",l,a);const c=[],d=fn.empty();nr(a,((v,y)=>{const b=OT(t,v,i);y=We(y);const A=l.childContextForFieldPath(b);if(y instanceof wh)c.push(b);else{const x=Rh(y,A);x!=null&&(c.push(b),d.set(b,x))}}));const g=new bn(c);return new CT(d,g,l.fieldTransforms)}function CI(r,t,i,a,l,c){const d=r.createContext(1,t,i),g=[Ul(t,a,i)],v=[l];if(c.length%2!=0)throw new ht(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(Ul(t,c[x])),v.push(c[x+1]);const y=[],b=fn.empty();for(let x=g.length-1;x>=0;--x)if(!VT(y,g[x])){const X=g[x];let W=v[x];W=We(W);const st=d.childContextForFieldPath(X);if(W instanceof wh)y.push(X);else{const nt=Rh(W,st);nt!=null&&(y.push(X),b.set(X,nt))}}const A=new bn(y);return new CT(b,A,d.fieldTransforms)}function Rh(r,t){if(xT(r=We(r)))return cp("Unsupported field value:",t,r),DT(r,t);if(r instanceof lp)return(function(a,l){if(!IT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Rh(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:XE(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $n)return(function(d,g){const v=d instanceof $n?d.toArray():d;return{mapValue:{fields:{[AE]:{stringValue:wE},[Zc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Gm(g.serializer,b)}))}}}}}})(a,l);if(nT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Lm(a)}`)})(r,t)}function DT(r,t){const i={};return _E(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(r,((a,l)=>{const c=Rh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Ln||r instanceof Ie||r instanceof lp||r instanceof $n||nT(r))}function cp(r,t,i){if(!xT(i)||!gE(i)){const a=Lm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Ul(r,t,i){if((t=We(t))instanceof op)return t._internalPath;if(typeof t=="string")return OT(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const II=new RegExp("[~\\*/\\[\\]]");function OT(r,t,i){if(t.search(II)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new op(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ht(Z.INVALID_ARGUMENT,g+r+v)}function VT(r,t){return r.some((i=>i.isEqual(t)))}class NI{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new $n(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=$s(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);qt(eT(a),9688,{name:t});const l=new xl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class MT extends NI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}const c0="@firebase/firestore",h0="4.10.0";function f0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class kT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ul("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends kT{data(){return super.data()}}function xI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function OI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends kT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ul("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ce("string",Pr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Bc extends Pr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:VI(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ce("string",Ka._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function d0(r,t,i){r=Ys(r,Ie);const a=Ys(r.firestore,kl),l=OI(r.converter,t),c=NT(a);return UT(a,[wI(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ai.none())])}function MI(r,t,i,...a){r=Ys(r,Ie);const l=Ys(r.firestore,kl),c=NT(l);let d;return d=typeof(t=We(t))=="string"||t instanceof op?CI(c,"updateDoc",r._key,t,i,a):RI(c,"updateDoc",r._key,t),UT(l,[d.toMutation(r._key,Ai.exists(!0))])}function Gd(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||f0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(f0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ie)d=Ys(r.firestore,kl),g=Hm(r._key.path),c={next:y=>{t[a]&&t[a](kI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ys(r,Ah);d=Ys(y.firestore,kl),g=y._query;const b=new MT(d);c={next:A=>{t[a]&&t[a](new Ka(d,b,y,A))},error:t[a+1],complete:t[a+2]},xI(r._query)}const v=RT(d);return mI(v,g,l,c)}function UT(r,t){const i=RT(r);return pI(i,t)}function kI(r,t,i){const a=i.docs.get(t._key),l=new MT(r);return new Pr(r,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){f2(no),Ya(new jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new kl(new p2(a.getProvider("auth-internal")),new _2(d,a.getProvider("app-check-internal")),k2(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Qs(c0,h0,t),Qs(c0,h0,"esm2020")})();const LT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const UI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const LI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const m0=r=>{const t=LI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var PI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const jI=Wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>Wt.createElement("svg",{ref:v,...PI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:LT("lucide",l),...!c&&!zI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Wt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Me=(r,t)=>{const i=Wt.forwardRef(({className:a,...l},c)=>Wt.createElement(jI,{ref:c,iconNode:t,className:LT(`lucide-${UI(m0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=m0(r),i};const BI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],qI=Me("arrow-down",BI);const HI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GI=Me("arrow-right",HI);const FI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],QI=Me("arrow-up",FI);const KI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fd=Me("calendar",KI);const YI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XI=Me("chevron-right",YI);const JI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$I=Me("clock",JI);const ZI=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],WI=Me("cloud",ZI);const tN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Dc=Me("coins",tN);const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nN=Me("globe",eN);const iN=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Qd=Me("list-checks",iN);const sN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xc=Me("loader-circle",sN);const rN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aN=Me("map-pin",rN);const oN=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]],p0=Me("plane-takeoff",oN);const lN=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Kd=Me("plane",lN);const uN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yd=Me("plus",uN);const cN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xd=Me("sparkles",cN);const hN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fN=Me("square-check-big",hN);const dN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jd=Me("sun",dN);const mN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$d=Me("trash-2",mN),pN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(r){console.error("Canvas Config ",r)}try{const r=`{
  "apiKey": "AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",
  "authDomain": "travel-yeh.firebaseapp.com",
  "projectId": "travel-yeh",
  "storageBucket": "travel-yeh.firebasestorage.app",
  "messagingSenderId": "62005891712",
  "appId": "1:62005891712:web:4653c17db0c38f981d0c65",
  "measurementId": "G-46DG11FWVQ"
}`;if(r)return JSON.parse(r)}catch{}return{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65",measurementId:"G-46DG11FWVQ"}},gN=pN(),PT=R0(gN),Zd=c2(PT),Ps=EI(PT),yN=typeof __app_id<"u"?__app_id:"travel-yeh",Ua=yN.replace(/\//g,"_"),_N="",vN=()=>{const[r,t]=Wt.useState("home"),[i,a]=Wt.useState("itinerary"),[l,c]=Wt.useState(null),[d,g]=Wt.useState(null),[v,y]=Wt.useState([]),[b,A]=Wt.useState(!1),[x,X]=Wt.useState(1),[W,st]=Wt.useState({country:"",city:"",startDate:"",duration:3}),[nt,pt]=Wt.useState({days:{},checklist:[],currencyInfo:null}),[wt,Et]=Wt.useState(null),[Jt,oe]=Wt.useState({}),[It,N]=Wt.useState(!1),S=async(K,at,rt=5,I=1e3)=>{try{const q=await fetch(K,at);if(!q.ok)throw new Error(`HTTP ${q.status}`);return await q.json()}catch(q){if(rt>0)return await new Promise(H=>setTimeout(H,I)),S(K,at,rt-1,I*2);throw q}};Wt.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const at=document.createElement("script");at.id="tailwind-cdn",at.src="https://cdn.tailwindcss.com",document.head.appendChild(at)}const K=document.createElement("style");K.innerHTML=`
      html, body, #root { min-height: 100% !important; width: 100% !important; margin: 0 !important; padding: 0 !important; background-color: #f8fafc; }
      #root { display: flex !important; flex-direction: column !important; align-items: center !important; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
    `,document.head.appendChild(K)},[]),Wt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await JA(Zd,__initial_auth_token):await FA(Zd)}catch(rt){console.error("Auth failed",rt)}})();const at=WA(Zd,c);return()=>at()},[]),Wt.useEffect(()=>{if(!l||!Ps)return;const K=vI(Ps,"artifacts",Ua,"public","data","trips");return Gd(K,at=>{const rt=at.docs.map(I=>({id:I.id,...I.data()}));y(rt.sort((I,q)=>new Date(q.createdAt)-new Date(I.createdAt)))})},[l]),Wt.useEffect(()=>{if(!l||!d||!Ps)return;const K=gl(Ps,"artifacts",Ua,"public","data","itineraries",d),at=Gd(K,q=>{if(q.exists()){const H=q.data();pt({days:H.days||{},checklist:H.checklist||[],currencyInfo:H.currencyInfo||null}),t("trip")}}),rt=gl(Ps,"artifacts",Ua,"public","data","trips",d),I=Gd(rt,q=>{q.exists()&&st(q.data())});return()=>{at(),I()}},[l,d]);const w=async(K,at)=>{!l||!d||await MI(gl(Ps,"artifacts",Ua,"public","data","itineraries",d),{[K]:at})},V=(K,at)=>{if(!K)return"";const rt=new Date(K);return rt.setDate(rt.getDate()+(at-1)),rt.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},O=async K=>{if(K.preventDefault(),!l)return;A(!0);const at=crypto.randomUUID(),rt={};for(let I=1;I<=Math.max(1,parseInt(W.duration));I++)rt[I]={spots:[],flights:[],weather:null};try{await d0(gl(Ps,"artifacts",Ua,"public","data","trips",at),{...W,creator:l.uid,createdAt:new Date().toISOString()}),await d0(gl(Ps,"artifacts",Ua,"public","data","itineraries",at),{days:rt,checklist:[{id:"1",text:"",done:!1},{id:"2",text:"",done:!1}]}),g(at),a("itinerary")}finally{A(!1)}},U=async(K,at=!1)=>{N(!0);try{const rt={contents:[{parts:[{text:K}]}],tools:[{google_search:{}}]};return at&&(rt.generationConfig={responseMimeType:"application/json"}),(await S(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${_N}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(rt)})).candidates?.[0]?.content?.parts?.[0]?.text}catch(rt){return console.error(rt),null}finally{N(!1)}},R=()=>{const[K,at]=Wt.useState({time:"09:00",spot:"",note:""}),rt=nt.days[x]||{spots:[]},I=async H=>{H.preventDefault();const tt=[...rt.spots||[],{...K,id:Date.now().toString()}];await w(`days.${x}.spots`,tt),at({time:"09:00",spot:"",note:""})},q=async(H,tt)=>{const lt=[...rt.spots],gt=H+tt;gt<0||gt>=lt.length||([lt[H],lt[gt]]=[lt[gt],lt[H]],await w(`days.${x}.spots`,lt))};return M.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[M.jsx("div",{className:"flex gap-3 overflow-x-auto pb-6 mb-8 scrollbar-hide",children:Object.keys(nt.days).map(H=>M.jsxs("button",{onClick:()=>X(parseInt(H)),className:`shrink-0 px-8 py-4 rounded-2xl font-black transition-all border ${x===parseInt(H)?"bg-blue-600 text-white shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:["D",H,"  ",V(W.startDate,parseInt(H)).split("/").slice(1).join("/")]},H))}),M.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[3.5rem] shadow-sm border border-slate-100",children:[M.jsxs("div",{className:"flex justify-between items-end mb-10",children:[M.jsxs("div",{children:[M.jsxs("h2",{className:"text-5xl font-black text-slate-900 italic tracking-tighter",children:["Day ",x]}),M.jsx("p",{className:"text-slate-400 font-bold uppercase text-xs mt-1 tracking-widest",children:V(W.startDate,x)})]}),M.jsx("div",{className:"w-16 h-1.5 bg-blue-600 rounded-full mb-2"})]}),M.jsxs("form",{onSubmit:I,className:"mb-10 space-y-3 bg-slate-50 p-6 rounded-3xl border",children:[M.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[M.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto",children:[M.jsx($I,{size:18,className:"text-blue-500"}),M.jsx("input",{type:"time",value:K.time,onChange:H=>at({...K,time:H.target.value}),className:"bg-transparent font-black outline-none w-24"})]}),M.jsx("input",{placeholder:"",required:!0,value:K.spot,onChange:H=>at({...K,spot:H.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none"})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("textarea",{placeholder:" ()...",value:K.note,onChange:H=>at({...K,note:H.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium outline-none h-20 resize-none text-sm"}),M.jsxs("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black flex flex-col items-center justify-center gap-1 active:scale-95",children:[M.jsx(Yd,{size:24}),M.jsx("span",{className:"text-[10px]",children:""})]})]})]}),M.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[27px] before:top-4 before:bottom-4 before:w-1 before:bg-slate-50",children:[rt.spots?.map((H,tt)=>M.jsxs("div",{className:"relative pl-16 group",children:[M.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex flex-col items-center",children:[M.jsx("button",{onClick:()=>q(tt,-1),className:"text-slate-200 hover:text-blue-500 opacity-0 group-hover:opacity-100",children:M.jsx(QI,{size:14})}),M.jsx("div",{className:"w-14 h-14 bg-white border-4 border-slate-50 rounded-2xl flex items-center justify-center text-[10px] font-black text-blue-600 shadow-md",children:H.time}),M.jsx("button",{onClick:()=>q(tt,1),className:"text-slate-200 hover:text-blue-500 opacity-0 group-hover:opacity-100",children:M.jsx(qI,{size:14})})]}),M.jsxs("div",{className:"p-8 bg-white border border-slate-100 rounded-[2.5rem] flex justify-between items-start hover:shadow-xl transition-all border-l-8 hover:border-l-blue-600 shadow-sm",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("h4",{className:"text-2xl font-black text-slate-800",children:H.spot}),M.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(H.spot)}`,target:"_blank",rel:"noreferrer",className:"p-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black flex items-center gap-1 hover:bg-blue-600 hover:text-white transition-all",children:[M.jsx(aN,{size:12})," "]})]}),M.jsx("p",{className:"text-slate-500 text-sm italic",children:H.note||"..."})]}),M.jsx("button",{onClick:async()=>{const lt=rt.spots.filter(gt=>gt.id!==H.id);await w(`days.${x}.spots`,lt)},className:"text-slate-200 hover:text-red-500 opacity-0 group-hover:opacity-100 p-2",children:M.jsx($d,{size:18})})]})]},H.id)),(!rt.spots||rt.spots.length===0)&&M.jsx("div",{className:"py-20 text-center border-4 border-dashed border-slate-100 rounded-[3rem] text-slate-300 font-bold italic",children:""})]})]})]})},Zt=()=>{const[K,at]=Wt.useState({flightNo:"",time:"08:00",type:""}),rt=nt.days[x]||{flights:[]},I=async H=>{H.preventDefault();const tt=[...rt.flights||[],{...K,id:Date.now().toString()}];await w(`days.${x}.flights`,tt),at({flightNo:"",time:"08:00",type:""})},q=async(H,tt)=>{const lt=await U(` Google ${tt}`);if(!lt)return;const gt=rt.flights.map(Ct=>Ct.id===H?{...Ct,aiInfo:lt}:Ct);await w(`days.${x}.flights`,gt)};return M.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-sm border animate-in fade-in duration-500",children:[M.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-2",children:[M.jsx(Kd,{className:"text-blue-600"}),"   Day ",x]}),M.jsx("div",{className:"space-y-4 mb-8",children:rt.flights?.map(H=>M.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border group",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"bg-blue-600 text-white text-[10px] font-black px-2 py-0.5 rounded-full",children:H.type}),M.jsx("span",{className:"text-xl font-black text-slate-800",children:H.flightNo}),M.jsx("span",{className:"text-slate-400 font-bold text-sm",children:H.time})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:()=>q(H.id,H.flightNo),className:"p-2 bg-white text-blue-600 rounded-xl hover:shadow-md transition-all",children:M.jsx(Xd,{size:16})}),M.jsx("button",{onClick:async()=>{const tt=rt.flights.filter(lt=>lt.id!==H.id);await w(`days.${x}.flights`,tt)},className:"p-2 text-slate-200 hover:text-red-500",children:M.jsx($d,{size:16})})]})]}),H.aiInfo&&M.jsx("p",{className:"text-xs text-slate-500 italic bg-white p-3 rounded-xl border border-slate-100",children:H.aiInfo})]},H.id))}),M.jsxs("form",{onSubmit:I,className:"flex gap-3 bg-slate-50 p-4 rounded-2xl border",children:[M.jsx("input",{required:!0,placeholder:" (: BR198)",value:K.flightNo,onChange:H=>at({...K,flightNo:H.target.value.toUpperCase()}),className:"flex-1 p-3 rounded-xl border outline-none font-bold text-sm"}),M.jsx("input",{type:"time",value:K.time,onChange:H=>at({...K,time:H.target.value}),className:"p-3 rounded-xl border outline-none font-bold text-sm w-32"}),M.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 rounded-xl font-black hover:bg-blue-700 transition-all",children:""})]})]})},he=()=>{const K=nt.days[x]?.weather,at=async()=>{const rt=` Google ${W.city}${V(W.startDate,x)} JSON: {"temp": "", "condition": "", "tips": ""}`,I=await U(rt,!0);if(I)try{const q=JSON.parse(I);await w(`days.${x}.weather`,q)}catch{}};return M.jsxs("div",{className:"bg-white p-12 rounded-[4rem] shadow-sm border text-center animate-in fade-in duration-500 relative overflow-hidden",children:[M.jsx("div",{className:"absolute top-0 right-0 p-10 text-blue-50/50 -z-10",children:M.jsx(WI,{size:180})}),M.jsxs("h3",{className:"text-2xl font-black mb-10 flex items-center justify-center gap-2",children:[M.jsx(Jd,{className:"text-yellow-500"})," "]}),K?M.jsxs("div",{className:"space-y-6",children:[M.jsx("div",{className:"text-8xl font-black text-slate-900 tracking-tighter",children:K.temp}),M.jsx("div",{className:"text-2xl font-black text-blue-600",children:K.condition}),M.jsx("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100 max-w-md mx-auto",children:M.jsx("p",{className:"text-blue-700 font-bold text-sm leading-relaxed",children:K.tips})}),M.jsx("button",{onClick:at,className:"text-slate-300 text-xs font-bold underline mt-4",children:""})]}):M.jsxs("div",{className:"py-10",children:[M.jsxs("button",{onClick:at,disabled:It,className:"bg-blue-600 text-white px-10 py-5 rounded-[2rem] font-black shadow-xl flex items-center gap-3 mx-auto hover:scale-105 transition-all",children:[It?M.jsx(xc,{className:"animate-spin",size:24}):M.jsx(Xd,{size:24}),"  Google "]}),M.jsxs("p",{className:"text-slate-400 font-bold text-xs mt-6 uppercase tracking-widest",children:[W.city,"  ",V(W.startDate,x)]})]})]})},F=()=>{const[K,at]=Wt.useState(""),rt=nt.checklist||[],I=async H=>{if(H.preventDefault(),!K)return;const tt=[...rt,{id:Date.now().toString(),text:K,done:!1}];await w("checklist",tt),at("")},q=async H=>{const tt=rt.map(lt=>lt.id===H?{...lt,done:!lt.done}:lt);await w("checklist",tt)};return M.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-sm border animate-in fade-in duration-500",children:[M.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-2",children:[M.jsx(Qd,{className:"text-green-500"})," "]}),M.jsxs("form",{onSubmit:I,className:"flex gap-2 mb-8",children:[M.jsx("input",{placeholder:"",value:K,onChange:H=>at(H.target.value),className:"flex-1 p-4 bg-slate-50 border rounded-2xl outline-none font-bold"}),M.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-2xl font-black active:scale-95",children:""})]}),M.jsx("div",{className:"space-y-3",children:rt.map(H=>M.jsxs("div",{onClick:()=>q(H.id),className:`flex items-center justify-between p-5 rounded-2xl border cursor-pointer transition-all ${H.done?"bg-slate-50 opacity-50":"bg-white hover:border-green-500"}`,children:[M.jsxs("div",{className:"flex items-center gap-4",children:[H.done?M.jsx(fN,{className:"text-green-500"}):M.jsx("div",{className:"w-6 h-6 border-2 border-slate-200 rounded-lg"}),M.jsx("span",{className:`font-bold ${H.done?"line-through text-slate-400":"text-slate-700"}`,children:H.text})]}),M.jsx("button",{onClick:tt=>{tt.stopPropagation(),w("checklist",rt.filter(lt=>lt.id!==H.id))},className:"text-slate-200 hover:text-red-500",children:M.jsx($d,{size:16})})]},H.id))})]})},it=()=>{const[K,at]=Wt.useState("1000"),rt=nt.currencyInfo,I=async()=>{const q=` Google  TWD${W.country}  JSON: {"rate": "", "currencyName": "", "tips": ""}`,H=await U(q,!0);if(H)try{const tt=JSON.parse(H);await w("currencyInfo",tt)}catch{}};return M.jsxs("div",{className:"bg-white p-12 rounded-[4rem] shadow-sm border text-center animate-in fade-in duration-500",children:[M.jsxs("h3",{className:"text-2xl font-black mb-10 flex items-center justify-center gap-2",children:[M.jsx(Dc,{className:"text-yellow-600"})," "]}),rt?M.jsxs("div",{className:"space-y-8",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-6 items-center max-w-md mx-auto",children:[M.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border",children:[M.jsx("p",{className:"text-xs font-black text-slate-400 mb-1",children:"TWD"}),M.jsx("input",{type:"number",value:K,onChange:q=>at(q.target.value),className:"bg-transparent text-2xl font-black w-full text-center outline-none"})]}),M.jsx("div",{className:"text-blue-600",children:M.jsx(GI,{className:"mx-auto"})}),M.jsxs("div",{className:"p-6 bg-blue-600 text-white rounded-3xl shadow-xl col-span-2",children:[M.jsx("p",{className:"text-xs font-black opacity-60 mb-1",children:rt.currencyName}),M.jsx("div",{className:"text-4xl font-black",children:(parseFloat(K)*parseFloat(rt.rate)).toLocaleString()}),M.jsxs("p",{className:"text-[10px] mt-2 opacity-80 font-bold",children:[": 1 TWD = ",rt.rate," ",rt.currencyName]})]})]}),M.jsx("div",{className:"bg-slate-50 p-6 rounded-3xl border text-left italic text-sm text-slate-500 font-bold leading-relaxed",children:rt.tips}),M.jsx("button",{onClick:I,className:"text-slate-300 text-xs font-bold underline",children:""})]}):M.jsxs("div",{className:"py-10",children:[M.jsx(Xd,{className:"text-blue-200 mx-auto mb-6",size:64}),M.jsxs("p",{className:"text-slate-400 font-bold mb-8",children:["",W.country,"..."]}),M.jsxs("button",{onClick:I,disabled:It,className:"bg-blue-600 text-white px-10 py-5 rounded-[2rem] font-black shadow-xl flex items-center gap-3 mx-auto hover:scale-105 transition-all",children:[It?M.jsx(xc,{className:"animate-spin",size:24}):M.jsx(Dc,{size:24})," "]})]})]})};return M.jsx("div",{className:"w-full flex flex-col items-center min-h-screen",children:l?r==="home"?M.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-in fade-in duration-700",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0",children:M.jsx(Kd,{size:48})}),M.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase",children:"Travel Planner"}),M.jsx("p",{className:"text-slate-400 font-bold tracking-widest uppercase text-sm italic",children:""})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start",children:[M.jsxs("div",{className:"space-y-6",children:[M.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[M.jsx(Yd,{className:"text-blue-600"})," "]}),M.jsxs("form",{onSubmit:O,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,placeholder:"",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all",value:W.country,onChange:K=>st({...W,country:K.target.value})})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,placeholder:"",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all",value:W.city,onChange:K=>st({...W,city:K.target.value})})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all",value:W.startDate,onChange:K=>st({...W,startDate:K.target.value})})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),M.jsx("input",{required:!0,type:"number",min:"1",max:"14",placeholder:"",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10",value:W.duration,onChange:K=>st({...W,duration:K.target.value})})]})]}),M.jsx("button",{disabled:b,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all active:scale-95 flex items-center justify-center gap-2",children:b?M.jsx(xc,{className:"animate-spin",size:24}):M.jsxs(M.Fragment,{children:[M.jsx(Yd,{size:24})," "]})})]})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[M.jsx(Fd,{className:"text-blue-600"}),"  (",v.length,")"]}),M.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:v.map(K=>M.jsxs("div",{onClick:()=>g(K.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-5",children:[M.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:M.jsx(nN,{size:24})}),M.jsxs("div",{children:[M.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[K.city," "]}),M.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:[K.country,"  ",K.startDate]})]})]}),M.jsx(XI,{className:"text-slate-200 group-hover:text-blue-600"})]},K.id))})]})]})]}):M.jsxs("div",{className:"w-full flex flex-col items-center pb-24",children:[M.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50",children:[M.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[M.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-2xl group-hover:rotate-12 transition-transform shadow-lg",children:M.jsx(Kd,{size:24,className:"rotate-45"})}),M.jsx("span",{className:"tracking-tighter uppercase font-black",children:"Traveler"})]}),M.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:[{id:"itinerary",icon:Fd,label:""},{id:"flight",icon:p0,label:""},{id:"weather",icon:Jd,label:""},{id:"checklist",icon:Qd,label:""},{id:"currency",icon:Dc,label:""}].map(K=>M.jsxs("button",{onClick:()=>a(K.id),className:`px-4 py-2 rounded-xl text-xs font-black flex items-center gap-2 transition-all ${i===K.id?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[M.jsx(K.icon,{size:14})," ",K.label]},K.id))}),M.jsxs("div",{className:"text-right",children:[M.jsx("div",{className:"font-black text-slate-800 text-xl leading-none",children:W.city}),M.jsx("div",{className:"text-[11px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1 inline-block bg-slate-50 px-2 py-0.5 rounded-full",children:W.startDate})]})]}),M.jsx("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[{id:"itinerary",icon:Fd},{id:"flight",icon:p0},{id:"weather",icon:Jd},{id:"checklist",icon:Qd},{id:"currency",icon:Dc}].map(K=>M.jsx("button",{onClick:()=>a(K.id),className:`p-4 rounded-2xl transition-all ${i===K.id?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:M.jsx(K.icon,{size:20})},K.id))}),M.jsxs("main",{className:"w-full max-w-5xl p-6 md:p-12",children:[i==="itinerary"&&M.jsx(R,{}),i==="flight"&&M.jsx(Zt,{}),i==="weather"&&M.jsx(he,{}),i==="checklist"&&M.jsx(F,{}),i==="currency"&&M.jsx(it,{})]})]}):M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen space-y-4",children:[M.jsx(xc,{className:"animate-spin text-blue-600",size:48}),M.jsx("p",{className:"text-slate-500 font-bold tracking-widest italic",children:"..."})]})})};Ab.createRoot(document.getElementById("root")).render(M.jsx(Wt.StrictMode,{children:M.jsx(vN,{})}));
