(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var wd={exports:{}},go={};var V_;function Tb(){if(V_)return go;V_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=t,go.jsx=i,go.jsxs=i,go}var k_;function bb(){return k_||(k_=1,wd.exports=Tb()),wd.exports}var w=bb(),Rd={exports:{}},Et={};var U_;function Sb(){if(U_)return Et;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(R){return R===null||typeof R!="object"?null:(R=M&&R[M]||R["@@iterator"],typeof R=="function"?R:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function ft(R,H,J){this.props=R,this.context=H,this.refs=W,this.updater=J||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},ft.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function at(){}at.prototype=ft.prototype;function mt(R,H,J){this.props=R,this.context=H,this.refs=W,this.updater=J||Z}var kt=mt.prototype=new at;kt.constructor=mt,et(kt,ft.prototype),kt.isPureReactComponent=!0;var te=Array.isArray;function Ut(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(R,H,J){var nt=J.ref;return{$$typeof:s,type:R,key:H,ref:nt!==void 0?nt:null,props:J}}function V(R,H){return x(R.type,H,R.props)}function O(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function U(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return H[J]})}var C=/\/+/g;function ee(R,H){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):H.toString(36)}function fe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ut,Ut):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function G(R,H,J,nt,ht){var yt=typeof R;(yt==="undefined"||yt==="boolean")&&(R=null);var Lt=!1;if(R===null)Lt=!0;else switch(yt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(R.$$typeof){case s:case t:Lt=!0;break;case b:return Lt=R._init,G(Lt(R._payload),H,J,nt,ht)}}if(Lt)return ht=ht(R),Lt=nt===""?"."+ee(R,0):nt,te(ht)?(J="",Lt!=null&&(J=Lt.replace(C,"$&/")+"/"),G(ht,H,J,"",function(ar){return ar})):ht!=null&&(O(ht)&&(ht=V(ht,J+(ht.key==null||R&&R.key===ht.key?"":(""+ht.key).replace(C,"$&/")+"/")+Lt)),H.push(ht)),1;Lt=0;var Ne=nt===""?".":nt+":";if(te(R))for(var ae=0;ae<R.length;ae++)nt=R[ae],yt=Ne+ee(nt,ae),Lt+=G(nt,H,J,yt,ht);else if(ae=F(R),typeof ae=="function")for(R=ae.call(R),ae=0;!(nt=R.next()).done;)nt=nt.value,yt=Ne+ee(nt,ae++),Lt+=G(nt,H,J,yt,ht);else if(yt==="object"){if(typeof R.then=="function")return G(fe(R),H,J,nt,ht);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function it(R,H,J){if(R==null)return R;var nt=[],ht=0;return G(R,nt,"","",function(yt){return H.call(J,yt,ht++)}),nt}function ut(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var Mt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},qt={map:it,forEach:function(R,H,J){it(R,function(){H.apply(this,arguments)},J)},count:function(R){var H=0;return it(R,function(){H++}),H},toArray:function(R){return it(R,function(H){return H})||[]},only:function(R){if(!O(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Et.Activity=S,Et.Children=qt,Et.Component=ft,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=mt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},Et.cache=function(R){return function(){return R.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(R,H,J){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var nt=et({},R.props),ht=R.key;if(H!=null)for(yt in H.key!==void 0&&(ht=""+H.key),H)!A.call(H,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&H.ref===void 0||(nt[yt]=H[yt]);var yt=arguments.length-2;if(yt===1)nt.children=J;else if(1<yt){for(var Lt=Array(yt),Ne=0;Ne<yt;Ne++)Lt[Ne]=arguments[Ne+2];nt.children=Lt}return x(R.type,ht,nt)},Et.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Et.createElement=function(R,H,J){var nt,ht={},yt=null;if(H!=null)for(nt in H.key!==void 0&&(yt=""+H.key),H)A.call(H,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(ht[nt]=H[nt]);var Lt=arguments.length-2;if(Lt===1)ht.children=J;else if(1<Lt){for(var Ne=Array(Lt),ae=0;ae<Lt;ae++)Ne[ae]=arguments[ae+2];ht.children=Ne}if(R&&R.defaultProps)for(nt in Lt=R.defaultProps,Lt)ht[nt]===void 0&&(ht[nt]=Lt[nt]);return x(R,yt,ht)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(R){return{$$typeof:p,render:R}},Et.isValidElement=O,Et.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:ut}},Et.memo=function(R,H){return{$$typeof:y,type:R,compare:H===void 0?null:H}},Et.startTransition=function(R){var H=N.T,J={};N.T=J;try{var nt=R(),ht=N.S;ht!==null&&ht(J,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Ut,Mt)}catch(yt){Mt(yt)}finally{H!==null&&J.types!==null&&(H.types=J.types),N.T=H}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(R){return N.H.use(R)},Et.useActionState=function(R,H,J){return N.H.useActionState(R,H,J)},Et.useCallback=function(R,H){return N.H.useCallback(R,H)},Et.useContext=function(R){return N.H.useContext(R)},Et.useDebugValue=function(){},Et.useDeferredValue=function(R,H){return N.H.useDeferredValue(R,H)},Et.useEffect=function(R,H){return N.H.useEffect(R,H)},Et.useEffectEvent=function(R){return N.H.useEffectEvent(R)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(R,H,J){return N.H.useImperativeHandle(R,H,J)},Et.useInsertionEffect=function(R,H){return N.H.useInsertionEffect(R,H)},Et.useLayoutEffect=function(R,H){return N.H.useLayoutEffect(R,H)},Et.useMemo=function(R,H){return N.H.useMemo(R,H)},Et.useOptimistic=function(R,H){return N.H.useOptimistic(R,H)},Et.useReducer=function(R,H,J){return N.H.useReducer(R,H,J)},Et.useRef=function(R){return N.H.useRef(R)},Et.useState=function(R){return N.H.useState(R)},Et.useSyncExternalStore=function(R,H,J){return N.H.useSyncExternalStore(R,H,J)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.4",Et}var L_;function vm(){return L_||(L_=1,Rd.exports=Sb()),Rd.exports}var wt=vm(),Cd={exports:{}},po={},Id={exports:{}},xd={};var P_;function Ab(){return P_||(P_=1,(function(s){function t(G,it){var ut=G.length;G.push(it);t:for(;0<ut;){var Mt=ut-1>>>1,qt=G[Mt];if(0<o(qt,it))G[Mt]=it,G[ut]=qt,ut=Mt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ut=G.pop();if(ut!==it){G[0]=ut;t:for(var Mt=0,qt=G.length,R=qt>>>1;Mt<R;){var H=2*(Mt+1)-1,J=G[H],nt=H+1,ht=G[nt];if(0>o(J,ut))nt<qt&&0>o(ht,J)?(G[Mt]=ht,G[nt]=ut,Mt=nt):(G[Mt]=J,G[H]=ut,Mt=H);else if(nt<qt&&0>o(ht,ut))G[Mt]=ht,G[nt]=ut,Mt=nt;else break t}}return it}function o(G,it){var ut=G.sortIndex-it.sortIndex;return ut!==0?ut:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],b=1,S=null,M=3,F=!1,Z=!1,et=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function kt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function te(G){if(et=!1,kt(G),!Z)if(i(v)!==null)Z=!0,Ut||(Ut=!0,U());else{var it=i(y);it!==null&&fe(te,it.startTime-G)}}var Ut=!1,N=-1,A=5,x=-1;function V(){return W?!0:!(s.unstable_now()-x<A)}function O(){if(W=!1,Ut){var G=s.unstable_now();x=G;var it=!0;try{t:{Z=!1,et&&(et=!1,at(N),N=-1),F=!0;var ut=M;try{e:{for(kt(G),S=i(v);S!==null&&!(S.expirationTime>G&&V());){var Mt=S.callback;if(typeof Mt=="function"){S.callback=null,M=S.priorityLevel;var qt=Mt(S.expirationTime<=G);if(G=s.unstable_now(),typeof qt=="function"){S.callback=qt,kt(G),it=!0;break e}S===i(v)&&a(v),kt(G)}else a(v);S=i(v)}if(S!==null)it=!0;else{var R=i(y);R!==null&&fe(te,R.startTime-G),it=!1}}break t}finally{S=null,M=ut,F=!1}it=void 0}}finally{it?U():Ut=!1}}}var U;if(typeof mt=="function")U=function(){mt(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ee=C.port2;C.port1.onmessage=O,U=function(){ee.postMessage(null)}}else U=function(){ft(O,0)};function fe(G,it){N=ft(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ut=M;M=it;try{return G()}finally{M=ut}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=M;M=G;try{return it()}finally{M=ut}},s.unstable_scheduleCallback=function(G,it,ut){var Mt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Mt+ut:Mt):ut=Mt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ut+qt,G={id:b++,callback:it,priorityLevel:G,startTime:ut,expirationTime:qt,sortIndex:-1},ut>Mt?(G.sortIndex=ut,t(y,G),i(v)===null&&G===i(y)&&(et?(at(N),N=-1):et=!0,fe(te,ut-Mt))):(G.sortIndex=qt,t(v,G),Z||F||(Z=!0,Ut||(Ut=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var it=M;return function(){var ut=M;M=it;try{return G.apply(this,arguments)}finally{M=ut}}}})(xd)),xd}var z_;function wb(){return z_||(z_=1,Id.exports=Ab()),Id.exports}var Nd={exports:{}},Ye={};var j_;function Rb(){if(j_)return Ye;j_=1;var s=vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var B_;function Cb(){if(B_)return Nd.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=Rb(),Nd.exports}var q_;function Ib(){if(q_)return po;q_=1;var s=wb(),t=vm(),i=Cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case te:return"Suspense";case Ut:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Mt=[],qt=-1;function R(e){return{current:e}}function H(e){0>qt||(e.current=Mt[qt],Mt[qt]=null,qt--)}function J(e,n){qt++,Mt[qt]=e.current,e.current=n}var nt=R(null),ht=R(null),yt=R(null),Lt=R(null);function Ne(e,n){switch(J(yt,n),J(ht,e),J(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(nt),J(nt,e)}function ae(){H(nt),H(ht),H(yt)}function ar(e){e.memoizedState!==null&&J(Lt,e);var n=nt.current,r=s_(n,e.type);n!==r&&(J(ht,e),J(nt,r))}function $r(e){ht.current===e&&(H(nt),H(ht)),Lt.current===e&&(H(Lt),co._currentValue=ut)}var Jr,Zr;function ei(e){if(Jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Zr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+Zr}var cl=!1;function lr(e,n){if(!e||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ei(r):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ei("Activity");default:return""}}function fl(e){try{var n="",r=null;do n+=hl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Rh=s.unstable_shouldYield,Jo=s.unstable_requestPaint,tn=s.unstable_now,or=s.unstable_getCurrentPriorityLevel,dl=s.unstable_ImmediatePriority,ml=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Zo=s.unstable_IdlePriority,Wo=s.log,tu=s.unstable_setDisableYieldValue,Pn=null,ze=null;function Sn(e){if(typeof Wo=="function"&&tu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var de=Math.clz32?Math.clz32:nu,eu=Math.log,Wr=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Wr|0)|0}var ni=256,ur=262144,ve=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ii(l):(g&=E,g!==0?h=ii(g):r||(r=E&~e,r!==0&&(h=ii(r))))):(E=l&~f,E!==0?h=ii(E):g!==0?h=ii(g):r||(r=l&~e,r!==0&&(h=ii(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ri(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,r,l,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-de(r),Y=1<<Q;E[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&hr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function hr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function gl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-de(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function pl(e,n){var r=n&-n;return r=(r&42)!==0?1:fr(r),(r&(e.suspendedLanes|n))!==0?0:r}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function jn(e,n){var r=it.p;try{return it.p=e,n()}finally{it.p=r}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,ke="__reactProps$"+Bn,ai="__reactContainer$"+Bn,ta="__reactEvents$"+Bn,Nh="__reactListeners$"+Bn,ru="__reactHandles$"+Bn,au="__reactResources$"+Bn,li="__reactMarker$"+Bn;function ea(e){delete e[Ee],delete e[ke],delete e[ta],delete e[Nh],delete e[ru]}function oi(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ai]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=h_(e);e!==null;){if(r=e[Ee])return r;e=h_(e)}return n}e=r,r=e.parentNode}return null}function An(e){if(e=e[Ee]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ui(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var yl=new Set,_l={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function lu(e){return _e.call(Tl,e)?!0:_e.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function na(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function mn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function dr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=us(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function sn(e){return e.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,r,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Sl(e,g,Ue(n)):r!=null?Sl(e,g,Ue(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ou(e,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Sl(e,n,r){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function cs(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function hs(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Qt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function wl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Al(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Al(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Rl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,di=null;function gr(e){var n=An(e);if(n&&(e=n.stateNode)){var r=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&dr(l)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&cs(e,!!r.multiple,n,!1)}}}var aa=!1;function ms(e,n,r){if(aa)return e(n,r);aa=!0;try{var l=e(n);return l}finally{if(aa=!1,(ds!==null||di!==null)&&(sc(),ds&&(n=ds,e=di,di=ds=null,gr(n),e)))for(n=0;n<e.length;n++)gr(e[n])}}function Hn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[ke]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{pr=!1}var mi=null,Cl=null,yr=null;function Il(){if(yr)return yr;var e,n=Cl,r=n.length,l,h="value"in mi?mi.value:mi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return yr=h.slice(e,1<l?1-l:void 0)}function _r(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Fn(){return!1}function je(e){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=je(Vi),gs=S({},Vi,{view:0,detail:0}),xl=je(gs),ps,la,pi,oa=S({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(ps=e.screenX-pi.screenX,la=e.screenY-pi.screenY):la=ps=0,pi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Nl=je(oa),vr=S({},oa,{dataTransfer:0}),fu=je(vr),du=S({},gs,{relatedTarget:0}),Er=je(du),Dl=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=je(Dl),ua=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=je(ua),pu=S({},Vi,{data:0}),yi=je(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function ys(){return Eu}var en=S({},gs,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=je(en),bu=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=je(bu),u=S({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=je(u),_=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=S({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),tt=S({},Vi,{newState:0,oldState:0}),bt=je(tt),me=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,le=null;Rn&&"documentMode"in document&&(le=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!le,_i=Rn&&(!Ht||le&&8<le&&11>=le),Gn=" ",Qn=!1;function Tr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function GE(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function QE(e,n){if(ha)return e==="compositionend"||!Ht&&Tr(e,n)?(e=Il(),yr=Cl=mi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KE[e.type]:n==="textarea"}function gg(e,n,r,l){ds?di?di.push(l):di=[l]:ds=l,n=hc(n,"onChange"),0<n.length&&(r=new gi("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ol=null,Ml=null;function YE(e){Jy(e,0)}function Su(e){var n=dn(e);if(dr(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(Rn){var Dh;if(Rn){var Oh="oninput"in document;if(!Oh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Oh=typeof _g.oninput=="function"}Dh=Oh}else Dh=!1;yg=Dh&&(!document.documentMode||9<document.documentMode)}function vg(){Ol&&(Ol.detachEvent("onpropertychange",Eg),Ml=Ol=null)}function Eg(e){if(e.propertyName==="value"&&Su(Ml)){var n=[];gg(n,Ml,e,wn(e)),ms(YE,n)}}function XE(e,n,r){e==="focusin"?(vg(),Ol=n,Ml=r,Ol.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function $E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Ml)}function JE(e,n){if(e==="click")return Su(n)}function ZE(e,n){if(e==="input"||e==="change")return Su(n)}function WE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:WE;function Vl(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var r=Tg(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Tg(r)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=fi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tT=Rn&&"documentMode"in document&&11>=document.documentMode,fa=null,Vh=null,kl=null,kh=!1;function wg(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kh||fa==null||fa!==fi(l)||(l=fa,"selectionStart"in l&&Mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=hc(Vh,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=fa)))}function br(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var da={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Uh={},Rg={};Rn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Sr(e){if(Uh[e])return Uh[e];if(!da[e])return e;var n=da[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rg)return Uh[e]=n[r];return e}var Cg=Sr("animationend"),Ig=Sr("animationiteration"),xg=Sr("animationstart"),eT=Sr("transitionrun"),nT=Sr("transitionstart"),iT=Sr("transitioncancel"),Ng=Sr("transitionend"),Dg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Kn(e,n){Dg.set(e,n),ci(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ma=0,Ph=0;function wu(){for(var e=ma,n=Ph=ma=0;n<e;){var r=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Og(r,h,f)}}function Ru(e,n,r,l){In[ma++]=e,In[ma++]=n,In[ma++]=r,In[ma++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zh(e,n,r,l){return Ru(e,n,r,l),Cu(e)}function Ar(e,n){return Ru(e,null,null,n),Cu(e)}function Og(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<io)throw io=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function sT(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,l){return new sT(e,n,r,l)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Mg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,l,h,f){var g=0;if(l=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=ub(e,r,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=pn(31,r,n,h),e.elementType=x,e.lanes=f,e;case et:return wr(r.children,h,f,n);case W:g=8,h|=24;break;case ft:return e=pn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case te:return e=pn(13,r,n,h),e.elementType=te,e.lanes=f,e;case Ut:return e=pn(19,r,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case at:g=9;break t;case kt:g=11;break t;case N:g=14;break t;case A:g=16,l=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=pn(g,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function wr(e,n,r,l){return e=pn(7,e,l,n),e.lanes=r,e}function Bh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Vg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function qh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var r=kg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fl(n)},kg.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var pa=[],ya=0,xu=null,Ul=0,Nn=[],Dn=0,_s=null,vi=1,Ei="";function Li(e,n){pa[ya++]=Ul,pa[ya++]=xu,xu=e,Ul=n}function Ug(e,n,r){Nn[Dn++]=vi,Nn[Dn++]=Ei,Nn[Dn++]=_s,_s=e;var l=vi;e=Ei;var h=32-de(l)-1;l&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,vi=1<<32-de(n)+h|r<<h|l,Ei=f+e}else vi=1<<f|r<<h|l,Ei=e}function Hh(e){e.return!==null&&(Li(e,1),Ug(e,1,0))}function Fh(e){for(;e===xu;)xu=pa[--ya],pa[ya]=null,Ul=pa[--ya],pa[ya]=null;for(;e===_s;)_s=Nn[--Dn],Nn[Dn]=null,Ei=Nn[--Dn],Nn[Dn]=null,vi=Nn[--Dn],Nn[Dn]=null}function Lg(e,n){Nn[Dn++]=vi,Nn[Dn++]=Ei,Nn[Dn++]=_s,vi=n.id,Ei=n.overflow,_s=e}var Be=null,ne=null,Vt=!1,vs=null,On=!1,Gh=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(xn(n,e)),Gh}function Pg(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[ke]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<ro.length;r++)Ct(ro[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),hs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||e_(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Es(e,!0)}function zg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Vt)return zg(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cd(e.type,e.memoizedProps)),r=!r),r&&ne&&Es(e),zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=c_(e)}else n===27?(n=ne,Vs(e.type)?(e=gd,gd=null,ne=e):ne=n):ne=Be?Vn(e.stateNode.nextSibling):null;return!0}function Rr(){ne=Be=null,Vt=!1}function Qh(){var e=vs;return e!==null&&(un===null?un=e:un.push.apply(un,e),vs=null),e}function Ll(e){vs===null?vs=[e]:vs.push(e)}var Kh=R(null),Cr=null,Pi=null;function Ts(e,n,r){J(Kh,n._currentValue),n._currentValue=r}function zi(e){e._currentValue=Kh.current,H(Kh)}function Yh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Xh(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Yh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&Xh(n,e,r,l),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Cr=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return jg(Cr,e)}function Du(e,n){return Cr===null&&Ir(e),jg(e,n)}function jg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return r}var rT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},aT=s.unstable_scheduleCallback,lT=s.unstable_NormalPriority,Se={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new rT,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&aT(lT,function(){e.controller.abort()})}var zl=null,Jh=0,Ea=0,Ta=null;function oT(e,n){if(zl===null){var r=zl=[];Jh=0,Ea=ed(),Ta={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Jh++,n.then(Bg,Bg),n}function Bg(){if(--Jh===0&&zl!==null){Ta!==null&&(Ta.status="fulfilled");var e=zl;zl=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uT(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var qg=G.S;G.S=function(e,n){wy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oT(e,n),qg!==null&&qg(e,n)};var xr=R(null);function Zh(){var e=xr.current;return e!==null?e:Wt.pooledCache}function Ou(e,n){n===null?J(xr,xr.current):J(xr,n.pool)}function Hg(){var e=Zh();return e===null?null:{parent:Se._currentValue,pool:e}}var ba=Error(a(460)),Wh=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw Dr=n,ba}}function Nr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Dr=r,ba):r}}var Dr=null;function Qg(){if(Dr===null)throw Error(a(459));var e=Dr;return Dr=null,e}function Kg(e){if(e===ba||e===Mu)throw Error(a(483))}var Sa=null,jl=0;function ku(e){var n=jl;return jl+=1,Sa===null&&(Sa=[]),Gg(Sa,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ui(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=Bh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,K){var ct=P.type;return ct===et?Q(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Nr(ct)===D.type)?(D=h(D,P.props),Bl(D,P),D.return=k,D):(D=Iu(P.type,P.key,P.props,null,k.mode,K),Bl(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=qh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,K,ct){return D===null||D.tag!==7?(D=wr(P,k.mode,K,ct),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Bh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Iu(D.type,D.key,D.props,null,k.mode,P),Bl(P,D),P.return=k,P;case Z:return D=qh(D,k.mode,P),D.return=k,D;case A:return D=Nr(D),Y(k,D,P)}if(fe(D)||U(D))return D=wr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,ku(D),P);if(D.$$typeof===mt)return Y(k,Du(k,D),P);Uu(k,D)}return null}function j(k,D,P,K){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ct?I(k,D,P,K):null;case Z:return P.key===ct?z(k,D,P,K):null;case A:return P=Nr(P),j(k,D,P,K)}if(fe(P)||U(P))return ct!==null?null:Q(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,ku(P),K);if(P.$$typeof===mt)return j(k,D,Du(k,P),K);Uu(k,P)}return null}function q(k,D,P,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?P:K.key)||null,I(D,k,K,ct);case Z:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ct);case A:return K=Nr(K),q(k,D,P,K,ct)}if(fe(K)||U(K))return k=k.get(P)||null,Q(D,k,K,ct,null);if(typeof K.then=="function")return q(k,D,P,ku(K),ct);if(K.$$typeof===mt)return q(k,D,P,Du(D,K),ct);Uu(D,K)}return null}function rt(k,D,P,K){for(var ct=null,zt=null,lt=D,At=D=0,xt=null;lt!==null&&At<P.length;At++){lt.index>At?(xt=lt,lt=null):xt=lt.sibling;var jt=j(k,lt,P[At],K);if(jt===null){lt===null&&(lt=xt);break}e&&lt&&jt.alternate===null&&n(k,lt),D=f(jt,D,At),zt===null?ct=jt:zt.sibling=jt,zt=jt,lt=xt}if(At===P.length)return r(k,lt),Vt&&Li(k,At),ct;if(lt===null){for(;At<P.length;At++)lt=Y(k,P[At],K),lt!==null&&(D=f(lt,D,At),zt===null?ct=lt:zt.sibling=lt,zt=lt);return Vt&&Li(k,At),ct}for(lt=l(lt);At<P.length;At++)xt=q(lt,k,At,P[At],K),xt!==null&&(e&&xt.alternate!==null&&lt.delete(xt.key===null?At:xt.key),D=f(xt,D,At),zt===null?ct=xt:zt.sibling=xt,zt=xt);return e&&lt.forEach(function(zs){return n(k,zs)}),Vt&&Li(k,At),ct}function gt(k,D,P,K){if(P==null)throw Error(a(151));for(var ct=null,zt=null,lt=D,At=D=0,xt=null,jt=P.next();lt!==null&&!jt.done;At++,jt=P.next()){lt.index>At?(xt=lt,lt=null):xt=lt.sibling;var zs=j(k,lt,jt.value,K);if(zs===null){lt===null&&(lt=xt);break}e&&lt&&zs.alternate===null&&n(k,lt),D=f(zs,D,At),zt===null?ct=zs:zt.sibling=zs,zt=zs,lt=xt}if(jt.done)return r(k,lt),Vt&&Li(k,At),ct;if(lt===null){for(;!jt.done;At++,jt=P.next())jt=Y(k,jt.value,K),jt!==null&&(D=f(jt,D,At),zt===null?ct=jt:zt.sibling=jt,zt=jt);return Vt&&Li(k,At),ct}for(lt=l(lt);!jt.done;At++,jt=P.next())jt=q(lt,k,At,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?At:jt.key),D=f(jt,D,At),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(Eb){return n(k,Eb)}),Vt&&Li(k,At),ct}function Zt(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===et){if(D.tag===7){r(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Nr(ct)===D.type){r(k,D.sibling),K=h(D,P.props),Bl(K,P),K.return=k,k=K;break t}r(k,D);break}else n(k,D);D=D.sibling}P.type===et?(K=wr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Iu(P.type,P.key,P.props,null,k.mode,K),Bl(K,P),K.return=k,k=K)}return g(k);case Z:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{r(k,D);break}else n(k,D);D=D.sibling}K=qh(P,k.mode,K),K.return=k,k=K}return g(k);case A:return P=Nr(P),Zt(k,D,P,K)}if(fe(P))return rt(k,D,P,K);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),gt(k,D,P,K)}if(typeof P.then=="function")return Zt(k,D,ku(P),K);if(P.$$typeof===mt)return Zt(k,D,Du(k,P),K);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,P),K.return=k,k=K):(r(k,D),K=Bh(P,k.mode,K),K.return=k,k=K),g(k)):r(k,D)}return function(k,D,P,K){try{jl=0;var ct=Zt(k,D,P,K);return Sa=null,ct}catch(lt){if(lt===ba||lt===Mu)throw lt;var zt=pn(29,lt,null,k.mode);return zt.lanes=K,zt.return=k,zt}}}var Or=Yg(!0),Xg=Yg(!1),bs=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),Og(e,null,r),n}return Ru(e,l,n,r),Cu(e)}function ql(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,gl(e,r)}}function nf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var sf=!1;function Hl(){if(sf){var e=Ta;if(e!==null)throw e}}function Fl(e,n,r,l){sf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,Q=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(It&j)===j:(l&j)===j){j!==0&&j===Ea&&(sf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,gt=E;j=n;var Zt=r;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){Y=rt.call(Zt,Y,j);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,j=typeof rt=="function"?rt.call(Zt,Y,j):rt,j==null)break t;Y=S({},Y,j);break t;case 2:bs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=q,I=Y):Q=Q.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),xs|=g,e.lanes=g,e.memoizedState=Y}}function $g(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)$g(r[e],n)}var Aa=R(null),Lu=R(0);function Zg(e,n){e=Yi,J(Lu,e),J(Aa,n),Yi=e|n.baseLanes}function rf(){J(Lu,Yi),J(Aa,Aa.current)}function af(){Yi=Lu.current,H(Aa),H(Lu)}var yn=R(null),Mn=null;function ws(e){var n=e.alternate;J(ge,ge.current&1),J(yn,e),Mn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Mn=e)}function lf(e){J(ge,ge.current),J(yn,e),Mn===null&&(Mn=e)}function Wg(e){e.tag===22?(J(ge,ge.current),J(yn,e),Mn===null&&(Mn=e)):Rs()}function Rs(){J(ge,ge.current),J(yn,yn.current)}function _n(e){H(yn),Mn===e&&(Mn=null),H(ge)}var ge=R(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,St=null,$t=null,Ae=null,zu=!1,wa=!1,Mr=!1,ju=0,Gl=0,Ra=null,cT=0;function ce(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!gn(e[r],n[r]))return!1;return!0}function uf(e,n,r,l,h,f){return ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Up:Af,Mr=!1,f=r(l,h),Mr=!1,wa&&(f=ep(n,r,l,h)),tp(e),f}function tp(e){G.H=Yl;var n=$t!==null&&$t.next!==null;if(ji=0,Ae=$t=St=null,zu=!1,Gl=0,Ra=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function ep(e,n,r,l){St=e;var h=0;do{if(wa&&(Ra=null),Gl=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Lp,f=n(r,l)}while(wa);return f}function hT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(St.flags|=1024),n}function cf(){var e=ju!==0;return ju=0,e}function hf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ff(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}ji=0,Ae=$t=St=null,wa=!1,Gl=ju=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Gl;return Gl+=1,Ra===null&&(Ra=[]),e=Gg(Ra,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Up:Af),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===mt)return qe(e)}throw Error(a(438,String(e)))}function df(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=V;return n.index++,r}function Bi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=pe();return mf(n,$t,e)}function mf(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,Q=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(It&Y)===Y:(ji&Y)===Y){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ea&&(Q=!0);else if((ji&j)===j){z=z.next,j===Ea&&(Q=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,St.lanes|=j,xs|=j;Y=z.action,Mr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,St.lanes|=Y,xs|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!gn(f,e.memoizedState)&&(we=!0,Q&&(r=Ta,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gf(e){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function np(e,n,r){var l=St,h=pe(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!gn(($t||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,_f(rp.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},sp.bind(null,l,h,r,n),null),Wt===null)throw Error(a(349));f||(ji&127)!==0||ip(l,n,r)}return r}function ip(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Bu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function sp(e,n,r,l){n.value=r,n.getSnapshot=l,ap(n)&&lp(e)}function rp(e,n,r){return r(function(){ap(n)&&lp(e)})}function ap(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!gn(e,r)}catch{return!0}}function lp(e){var n=Ar(e,2);n!==null&&cn(n,e,2)}function pf(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),Mr){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function op(e,n,r,l){return e.baseState=r,mf(e,$t,typeof l=="function"?l:Bi)}function fT(e,n,r,l,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,up(n,f)):(f.next=r.next,n.pending=r.next=f)}}function up(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,l),I=G.S;I!==null&&I(g,E),cp(e,n,E)}catch(z){yf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,l),cp(e,n,f)}catch(z){yf(e,n,z)}}function cp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){hp(e,n,l)},function(l){return yf(e,n,l)}):hp(e,n,r)}function hp(e,n,r){n.status="fulfilled",n.value=r,fp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,up(e,r)))}function yf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,fp(n),n=n.next;while(n!==l)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(Vt){var r=Wt.formState;if(r!==null){t:{var l=St;if(Vt){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Vn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},r.queue=l,r=Mp.bind(null,St,l),l.dispatch=r,l=pf(!1),f=Sf.bind(null,St,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=fT.bind(null,St,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function gp(e){var n=pe();return pp(n,$t,e)}function pp(e,n,r){if(n=mf(e,n,dp)[0],e=Hu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(g){throw g===ba?Mu:g}else l=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Ca(9,{destroy:void 0},dT.bind(null,h,r),null)),[l,f,e]}function dT(e,n){e.action=n}function yp(e){var n=pe(),r=$t;if(r!==null)return pp(n,r,e);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ca(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Bu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function _p(){return pe().memoizedState}function Fu(e,n,r,l){var h=nn();St.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},r,l===void 0?null:l)}function Gu(e,n,r,l){var h=pe();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&of(l,$t.memoizedState.deps)?h.memoizedState=Ca(n,f,r,l):(St.flags|=e,h.memoizedState=Ca(1|n,f,r,l))}function vp(e,n){Fu(8390656,8,e,n)}function _f(e,n){Gu(2048,8,e,n)}function mT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Bu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Ep(e){var n=pe().memoizedState;return mT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Gu(4,2,e,n)}function bp(e,n){return Gu(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,Sp.bind(null,n,e),r)}function vf(){}function wp(e,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&of(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Rp(e,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&of(n,l[1]))return l[0];if(l=e(),Mr){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[l,n],l}function Ef(e,n,r){return r===void 0||(ji&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Cy(),St.lanes|=e,xs|=e,r)}function Cp(e,n,r,l){return gn(r,n)?r:Aa.current!==null?(e=Ef(e,r,l),gn(e,n)||(we=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(It&261930)===0?(we=!0,e.memoizedState=r):(e=Cy(),St.lanes|=e,xs|=e,n)}function Ip(e,n,r,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Sf(e,!1,n,r);try{var I=h(),z=G.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=uT(I,l);Kl(e,n,Q,Tn(e))}else Kl(e,n,l,Tn(e))}catch(Y){Kl(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function gT(){}function Tf(e,n,r,l){if(e.tag!==5)throw Error(a(476));var h=xp(e).queue;Ip(e,h,n,ut,r===null?gT:function(){return Np(e),r(l)})}function xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=xp(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},Tn())}function bf(){return qe(co)}function Dp(){return pe().memoizedState}function Op(){return pe().memoizedState}function pT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();e=Ss(r);var l=As(n,e,r);l!==null&&(cn(l,n,r),ql(l,n,r)),n={cache:$h()},e.payload=n;return}n=n.return}}function yT(e,n,r){var l=Tn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Vp(n,r):(r=zh(e,n,r,l),r!==null&&(cn(r,e,l),kp(r,n,l)))}function Mp(e,n,r){var l=Tn();Kl(e,n,r,l)}function Kl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return Ru(e,n,h,0),Wt===null&&wu(),!1}catch{}if(r=zh(e,n,h,l),r!==null)return cn(r,e,l),kp(r,n,l),!0}return!1}function Sf(e,n,r,l){if(l={lane:2,revertLane:ed(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=zh(e,r,l,2),n!==null&&cn(n,e,2)}function Qu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Vp(e,n){wa=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function kp(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,gl(e,r)}}var Yl={readContext:qe,use:qu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Yl.useEffectEvent=ce;var Up={readContext:qe,use:qu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:vp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,Sp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var l=e();if(Mr){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=nn();if(r!==void 0){var h=r(n);if(Mr){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=yT.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,r=Mp.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(e,n){var r=nn();return Ef(r,e,n)},useTransition:function(){var e=pf(!1);return e=Ip.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=St,h=nn();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(It&127)!==0||ip(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,vp(rp.bind(null,l,f,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},sp.bind(null,l,f,r,n),null),r},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Vt){var r=Ei,l=vi;r=(l&~(1<<32-de(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=cT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return nn().memoizedState=pT.bind(null,St)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((Ft&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:qe,use:qu,useCallback:wp,useContext:qe,useEffect:_f,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:Hu,useRef:_p,useState:function(){return Hu(Bi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=pe();return Cp(r,$t.memoizedState,e,n)},useTransition:function(){var e=Hu(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:bf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var r=pe();return op(r,$t,e,n)},useMemoCache:df,useCacheRefresh:Op};Af.useEffectEvent=Ep;var Lp={readContext:qe,use:qu,useCallback:wp,useContext:qe,useEffect:_f,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:gf,useRef:_p,useState:function(){return gf(Bi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=pe();return $t===null?Ef(r,e,n):Cp(r,$t.memoizedState,e,n)},useTransition:function(){var e=gf(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:bf,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var r=pe();return $t!==null?op(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:Op};Lp.useEffectEvent=Ep;function wf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Tn(),h=Ss(l);h.payload=n,r!=null&&(h.callback=r),n=As(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Tn(),h=Ss(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=As(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Tn(),l=Ss(r);l.tag=2,n!=null&&(l.callback=n),n=As(e,l,r),n!==null&&(cn(n,e,r),ql(n,e,r))}};function Pp(e,n,r,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(r,l)||!Vl(h,f):!0}function zp(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function jp(e){Au(e)}function Bp(e){console.error(e)}function qp(e){Au(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hp(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=Ss(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function Fp(e){return e=Ss(e),e.tag=3,e}function Gp(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Hp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Hp(n,r,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _T(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&va(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?rc():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zf(e,l,h)),!1;case 22:return r.flags|=65536,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zf(e,l,h)),!1}throw Error(a(435,r.tag))}return Zf(e,l,h),rc(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Gh&&(e=Error(a(422),{cause:l}),Ll(xn(e,r)))):(l!==Gh&&(n=Error(a(423),{cause:l}),Ll(xn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=xn(l,r),h=Cf(e.stateNode,l,h),nf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:l});if(f=xn(f,r),no===null?no=[f]:no.push(f),he!==4&&(he=2),n===null)return!0;l=xn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,l,e),nf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fp(h),Gp(h,e,r,l),nf(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),we=!1;function He(e,n,r,l){n.child=e===null?Xg(n,null,r,l):Or(n,e.child,r,l)}function Qp(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ir(n),l=uf(e,n,r,g,f,h),E=cf(),e!==null&&!we?(hf(e,n,h),qi(e,n,h)):(Vt&&E&&Hh(n),n.flags|=1,He(e,n,l,h),n.child)}function Kp(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,l,h)):(e=Iu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(g,l)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Ui(f,l),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,Uf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,qi(e,n,h)}return xf(e,n,r,l,h)}function Xp(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return $p(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):rf(),Wg(n);else return l=n.lanes=536870912,$p(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ou(n,f.cachePool),Zg(n,f),Rs(),n.memoizedState=null):(e!==null&&Ou(n,null),rf(),Rs());return He(e,n,h,r),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $p(e,n,r,l,h){var f=Zh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),rf(),Wg(n),e!==null&&va(e,n,l,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jp(e,n,r){return Or(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function vT(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(l.mode==="hidden")return e=Yu(n,l),n.lanes=536870912,Xl(null,e);if(lf(n),(e=ne)?(e=u_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Vg(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Yu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||va(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(l=Wt,l!==null&&(g=pl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ar(e,g),cn(l,e,g),If;rc(),n=Jp(e,n,r)}else e=f.treeContext,ne=Vn(g.nextSibling),Be=n,Vt=!0,vs=null,On=!1,e!==null&&Lg(n,e),n=Yu(n,l),n.flags|=4096;return n}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xf(e,n,r,l,h){return Ir(n),r=uf(e,n,r,l,void 0,h),l=cf(),e!==null&&!we?(hf(e,n,h),qi(e,n,h)):(Vt&&l&&Hh(n),n.flags|=1,He(e,n,r,h),n.child)}function Zp(e,n,r,l,h,f){return Ir(n),n.updateQueue=null,r=ep(n,l,r,h),tp(e),l=cf(),e!==null&&!we?(hf(e,n,f),qi(e,n,f)):(Vt&&l&&Hh(n),n.flags|=1,He(e,n,r,f),n.child)}function Wp(e,n,r,l,h){if(Ir(n),n.stateNode===null){var f=ga,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},tf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ga,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(wf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Vr(r,E);f.props=I;var z=f.context,Q=r.contextType;g=ga,typeof Q=="object"&&Q!==null&&(g=qe(Q));var Y=r.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&zp(n,f,l,g),bs=!1;var j=n.memoizedState;f.state=j,Fl(n,l,f,h),Hl(),z=n.memoizedState,E||j!==z||bs?(typeof Y=="function"&&(wf(n,r,Y,l),z=n.memoizedState),(I=bs||Pp(n,r,I,l,j,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,Q=Vr(r,g),f.props=Q,Y=n.pendingProps,j=f.context,z=r.contextType,I=ga,typeof z=="object"&&z!==null&&(I=qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==I)&&zp(n,f,l,I),bs=!1,j=n.memoizedState,f.state=j,Fl(n,l,f,h),Hl();var q=n.memoizedState;g!==Y||j!==q||bs||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(wf(n,r,E,l),q=n.memoizedState),(Q=bs||Pp(n,r,Q,l,j,q,I)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function ty(e,n,r,l){return Rr(),n.flags|=256,He(e,n,r,l),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Hg()}}function Of(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function ey(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?ws(n):Rs(),(e=ne)?(e=u_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Vg(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw Es(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Rs(),h=n.mode,E=$u({mode:"hidden",children:E},h),l=wr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Df(r),l.childLanes=Of(e,g,r),n.memoizedState=Nf,Xl(null,l)):(ws(n),Mf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),E=wr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Or(n,e.child,null,r),l=n.child,l.memoizedState=Df(r),l.childLanes=Of(e,g,r),n.memoizedState=Nf,n=Xl(null,l));else if(ws(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Ll({value:l,source:null,stack:null}),n=Vf(e,n,r)}else if(we||va(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(l=pl(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ar(e,l),cn(g,e,l),If;dd(E)||rc(),n=Vf(e,n,r)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Vn(E.nextSibling),Be=n,Vt=!0,vs=null,On=!1,e!==null&&Lg(n,e),n=Mf(n,l.children),n.flags|=4096);return n}return h?(Rs(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=wr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Df(r):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Hg(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Of(e,g,r),n.memoizedState=Nf,Xl(e.child,l)):(ws(n),r=e.child,e=r.sibling,r=Ui(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return Or(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Yh(e.return,n,r)}function kf(e,n,r,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function iy(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(ge,g),He(e,n,l,r),l=Vt?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,r,n);else if(e.tag===19)ny(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),kf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}kf(n,!0,r,null,f,l);break;case"together":kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(va(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ui(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ui(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function ET(e,n,r){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ts(n,Se,e.memoizedState.cache),Rr();break;case 27:case 5:ar(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ey(e,n,r):(ws(n),e=qi(e,n,r),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(va(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return iy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Xp(e,n,r,n.pendingProps);case 24:Ts(n,Se,e.memoizedState.cache)}return qi(e,n,r)}function sy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return we=!1,ET(e,n,r);we=(e.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&Ug(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Nr(n.elementType),n.type=e,typeof e=="function")jh(e)?(l=Vr(e,l),n.tag=1,n=Wp(null,n,e,l,r)):(n.tag=0,n=xf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===kt){n.tag=11,n=Qp(null,n,e,l,r);break t}else if(h===N){n.tag=14,n=Kp(null,n,e,l,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Vr(l,n.pendingProps),Wp(e,n,l,h,r);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Fl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ts(n,Se,l),l!==f.cache&&Xh(n,[Se],r,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,l,r);break t}else if(l!==h){h=xn(Error(a(424)),n),Ll(h),n=ty(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Vn(e.firstChild),Be=n,Vt=!0,vs=null,On=!0,r=Xg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rr(),l===h){n=qi(e,n,r);break t}He(e,n,l,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=g_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,l=fc(yt.current).createElement(r),l[Ee]=n,l[ke]=e,Fe(l,r,e),Te(l),n.stateNode=l):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ar(n),e===null&&Vt&&(l=n.stateNode=f_(n.type,n.pendingProps,yt.current),Be=n,On=!0,h=ne,Vs(n.type)?(gd=h,ne=Vn(l.firstChild)):ne=h),He(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=l=ne)&&(l=$T(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,ne=Vn(l.firstChild),On=!1,h=!0):h=!1),h||Es(n)),ar(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,cd(h,f)?l=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,hT,null,null,r),co._currentValue=h),Xu(e,n),He(e,n,l,r),n.child;case 6:return e===null&&Vt&&((e=r=ne)&&(r=JT(r,n.pendingProps,On),r!==null?(n.stateNode=r,Be=n,ne=null,e=!0):e=!1),e||Es(n)),null;case 13:return ey(e,n,r);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Or(n,null,l,r):He(e,n,l,r),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),He(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,r),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,r);case 15:return Yp(e,n,n.type,n.pendingProps,r);case 19:return iy(e,n,r);case 31:return vT(e,n,r);case 22:return Xp(e,n,r,n.pendingProps);case 24:return Ir(n),l=qe(Se),e===null?(h=Zh(),h===null&&(h=Wt,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},tf(n),Ts(n,Se,h)):((e.lanes&r)!==0&&(ef(e,n),Fl(n,null,null,r),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Se,l)):(l=f.cache,Ts(n,Se,l),l!==h.cache&&Xh(n,[Se],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(e){e.flags|=4}function Lf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Dr=Vu,Wh}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw Dr=Vu,Wh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Da|=n)}function $l(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function TT(e,n,r){var l=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Se),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),ry(n,f)):(ie(n),Lf(n,h,null,l,r))):f?f!==e.memoizedState?(Hi(n),ie(n),ry(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hi(n),ie(n),Lf(n,h,e,l,r)),null;case 27:if($r(n),r=yt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=nt.current,_a(n)?Pg(n):(e=f_(h,l,r),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if($r(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=nt.current,_a(n))Pg(n);else{var g=fc(yt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ee]=n,f[ke]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(n)}}return ie(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,_a(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||e_(e.nodeValue,r)),e||Es(n,!0)}else e=fc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=_a(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&rd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(H(ge),l=n.memoizedState,l===null)return ie(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,$l(l,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Mg(r,e),r=r.sibling;return J(ge,ge.current&1|2),Vt&&Li(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>nc&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return ie(n),null}else 2*tn()-l.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,r=ge.current,J(ge,h?r&1|2:r&1),Vt&&Li(n,l.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),af(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&H(xr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function bT(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(ge),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),af(),e!==null&&H(xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function ay(e,n){switch(Fh(n),n.tag){case 3:zi(Se),ae();break;case 26:case 27:case 5:$r(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:H(ge);break;case 10:zi(n.type);break;case 22:case 23:_n(n),af(),e!==null&&H(xr);break;case 24:zi(Se)}}function Jl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function Cs(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(Q){Yt(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Yt(n,n.return,Q)}}function ly(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jg(n,r)}catch(l){Yt(e,e.return,l)}}}function oy(e,n,r){r.props=Vr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Zl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Yt(e,n,h)}}function Ti(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function uy(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Pf(e,n,r){try{var l=e.stateNode;FT(l,e.type,r,n),l[ke]=n}catch(h){Yt(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Vs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,r),e=e.sibling;e!==null;)jf(e,n,r),e=e.sibling}function Zu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Vs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function hy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,r),n[Ee]=e,n[ke]=r}catch(f){Yt(e,e.return,f)}}var Fi=!1,Re=!1,Bf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function ST(e,n){if(e=e.containerInfo,od=vc,e=Ag(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,z=0,Q=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(I=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++Q===l&&(I=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:e,selectionRange:r},vc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=Vr(r.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)fd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function dy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(e,r),l&4&&Jl(5,r);break;case 1:if(Qi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Vr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}l&64&&ly(r),l&512&&Zl(r,r.return);break;case 3:if(Qi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jg(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&l&4&&hy(r);case 26:case 5:Qi(e,r),n===null&&l&4&&uy(r),l&512&&Zl(r,r.return);break;case 12:Qi(e,r);break;case 31:Qi(e,r),l&4&&py(e,r);break;case 13:Qi(e,r),l&4&&yy(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=OT.bind(null,r),ZT(e,r))));break;case 22:if(l=r.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var f=Re;Fi=l,(Re=n)&&!f?Ki(e,r,(r.subtreeFlags&8772)!==0):Qi(e,r),Fi=h,Re=f}break;case 30:break;default:Qi(e,r)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Gi(e,n,r){for(r=r.child;r!==null;)gy(e,n,r),r=r.sibling}function gy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:Re||Ti(r,n),Gi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||Ti(r,n);var l=oe,h=an;Vs(r.type)&&(oe=r.stateNode,an=!1),Gi(e,n,r),lo(r.stateNode),oe=l,an=h;break;case 5:Re||Ti(r,n);case 6:if(l=oe,h=an,oe=null,Gi(e,n,r),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:oe!==null&&(an?(e=oe,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),za(e)):l_(oe,r.stateNode));break;case 4:l=oe,h=an,oe=r.stateNode.containerInfo,an=!0,Gi(e,n,r),oe=l,an=h;break;case 0:case 11:case 14:case 15:Cs(2,r,n),Re||Cs(4,r,n),Gi(e,n,r);break;case 1:Re||(Ti(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&oy(r,n,l)),Gi(e,n,r);break;case 21:Gi(e,n,r);break;case 22:Re=(l=Re)||r.memoizedState!==null,Gi(e,n,r),Re=l;break;default:Gi(e,n,r)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(r){Yt(n,n.return,r)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(r){Yt(n,n.return,r)}}function AT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=AT(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=MT.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));gy(f,g,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var Yn=null;function _y(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(Cs(3,e,e.return),Jl(3,e),Cs(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(Re||r===null||Ti(r,r.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Yn;if(ln(n,e),on(e),l&512&&(Re||r===null||Ti(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,r),f[Ee]=e,Te(f),l=f;break t;case"link":var g=__("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?v_(h,e.type,e.stateNode):y_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(Re||r===null||Ti(r,r.return)),r!==null&&l&4&&Pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(Re||r===null||Ti(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(rt){Yt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Bf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(gc=null,h=Yn,Yn=dc(n.containerInfo),ln(n,e),Yn=h,on(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}Bf&&(Bf=!1,vy(e));break;case 4:l=Yn,Yn=dc(e.stateNode.containerInfo),ln(n,e),on(e),Yn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Fi,Q=Re;if(Fi=z||h,Re=Q||I,ln(n,e),Re=Q,Fi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Fi||Re||kr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?o_(q,!0):o_(I.stateNode,!1)}catch(rt){Yt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wu(e,r))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(cy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var E=zf(e);Zu(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,z=zf(e);jf(e,z,I);break;default:throw Error(a(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),kr(n);break;case 1:Ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&oy(n,n.return,r),kr(n);break;case 27:lo(n.stateNode);case 26:case 5:Ti(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Ki(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,r),Jl(4,f);break;case 1:if(Ki(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)$g(I[h],E)}catch(z){Yt(l,l.return,z)}}r&&g&64&&ly(f),Zl(f,f.return);break;case 27:hy(f);case 26:case 5:Ki(h,f,r),r&&l===null&&g&4&&uy(f),Zl(f,f.return);break;case 12:Ki(h,f,r);break;case 31:Ki(h,f,r),r&&g&4&&py(h,f);break;case 13:Ki(h,f,r),r&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,r),Zl(f,f.return);break;case 30:break;default:Ki(h,f,r)}n=n.sibling}}function qf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Pl(r))}function Hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Xn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,r,l),n=n.sibling}function Ey(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,l),h&2048&&Jl(9,n);break;case 1:Xn(e,n,r,l);break;case 3:Xn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Xn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Xn(e,n,r,l);break;case 31:Xn(e,n,r,l);break;case 13:Xn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,r,l):Wl(e,n):f._visibility&2?Xn(e,n,r,l):(f._visibility|=2,Ia(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(g,n);break;case 24:Xn(e,n,r,l),h&2048&&Hf(n.alternate,n);break;default:Xn(e,n,r,l)}}function Ia(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,E,I,h),Jl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ia(f,g,E,I,h):Wl(f,g):(Q._visibility|=2,Ia(f,g,E,I,h)),h&&z&2048&&qf(g.alternate,g);break;case 24:Ia(f,g,E,I,h),h&&z&2048&&Hf(g.alternate,g);break;default:Ia(f,g,E,I,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(r,l),h&2048&&qf(l.alternate,l);break;case 24:Wl(r,l),h&2048&&Hf(l.alternate,l);break;default:Wl(r,l)}n=n.sibling}}var to=8192;function xa(e,n,r){if(e.subtreeFlags&to)for(e=e.child;e!==null;)Ty(e,n,r),e=e.sibling}function Ty(e,n,r){switch(e.tag){case 26:xa(e,n,r),e.flags&to&&e.memoizedState!==null&&cb(r,Yn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,r);break;case 3:case 4:var l=Yn;Yn=dc(e.stateNode.containerInfo),xa(e,n,r),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,xa(e,n,r),to=l):xa(e,n,r));break;default:xa(e,n,r)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,Ay(l,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):eo(e);break;default:eo(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,Ay(l,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ay(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Cs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Le=l;else t:for(r=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(my(l),l===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var wT={getCacheForType:function(e){var n=qe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Se).controller.signal}},RT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Rt=null,It=0,Kt=0,vn=null,Is=!1,Na=!1,Ff=!1,Yi=0,he=0,xs=0,Ur=0,Gf=0,En=0,Da=0,no=null,un=null,Qf=!1,ec=0,wy=0,nc=1/0,ic=null,Ns=null,Oe=0,Ds=null,Oa=null,Xi=0,Kf=0,Yf=null,Ry=null,io=0,Xf=null;function Tn(){return(Ft&2)!==0&&It!==0?It&-It:G.T!==null?ed():su()}function Cy(){if(En===0)if((It&536870912)===0||Vt){var e=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Os(e,It,En,!1)),cr(e,r),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Ur|=r),he===4&&Os(e,It,En,!1)),bi(e))}function Iy(e,n,r){if((Ft&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=l?xT(e,n):Jf(e,n,!0),f=l;do{if(h===0){Na&&!l&&Os(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!CT(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=no;var I=E.current.memoizedState.isDehydrated;if(I&&(Ma(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!I){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Os(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(l,n,En,!Is);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-tn(),10<h)){if(Os(l,n,En,!Is),si(l,0,!0)!==0)break t;Xi=n,l.timeoutHandle=r_(xy.bind(null,l,r,un,ic,Qf,n,En,Ur,Da,Is,f,"Throttled",-0,0),h);break t}xy(l,r,un,ic,Qf,n,En,Ur,Da,Is,f,null,-0,0)}}break}while(!0);bi(e)}function xy(e,n,r,l,h,f,g,E,I,z,Q,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ty(n,f,Y);var rt=(f&62914560)===f?ec-tn():(f&4194048)===f?wy-tn():0;if(rt=hb(Y,rt),rt!==null){Xi=f,e.cancelPendingCommit=rt(Ly.bind(null,e,n,f,r,l,h,g,E,I,Q,Y,null,j,q)),Os(e,f,g,!z);return}}Ly(e,n,f,r,l,h,g,E,I)}function CT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,r,l){n&=~Gf,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&hr(e,r,n)}function sc(){return(Ft&6)===0?(so(0),!1):!0}function $f(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Pi=Cr=null,ff(e),Sa=null,jl=0,e=Rt;for(;e!==null;)ay(e.alternate,e),e=e.return;Rt=null}}function Ma(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,KT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Xi=0,$f(),Wt=e,Rt=r=Ui(e.current,null),It=n,Kt=0,vn=null,Is=!1,Na=zn(e,n),Ff=!1,Da=En=Gf=Ur=xs=he=0,un=no=null,Qf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Yi=n,wu(),r}function Ny(e,n){St=null,G.H=Yl,n===ba||n===Mu?(n=Qg(),Kt=3):n===Wh?(n=Qg(),Kt=4):Kt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Rt===null&&(he=1,Ku(e,xn(n,e.current)))}function Dy(){var e=yn.current;return e===null?!0:(It&4194048)===It?Mn===null:(It&62914560)===It||(It&536870912)!==0?e===Mn:!1}function Oy(){var e=G.H;return G.H=Yl,e===null?Yl:e}function My(){var e=G.A;return G.A=wT,e}function rc(){he=4,Is||(It&4194048)!==It&&yn.current!==null||(Na=!0),(xs&134217727)===0&&(Ur&134217727)===0||Wt===null||Os(Wt,It,En,!1)}function Jf(e,n,r){var l=Ft;Ft|=2;var h=Oy(),f=My();(Wt!==e||It!==n)&&(ic=null,Ma(e,n)),n=!1;var g=he;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,I=vn;switch(Kt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,Va(e,E,I,z),r&&Na){g=0;break t}break;default:z=Kt,Kt=0,vn=null,Va(e,E,I,z)}}IT(),g=he;break}catch(Q){Ny(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Pi=Cr=null,Ft=l,G.H=h,G.A=f,Rt===null&&(Wt=null,It=0,wu()),g}function IT(){for(;Rt!==null;)Vy(Rt)}function xT(e,n){var r=Ft;Ft|=2;var l=Oy(),h=My();Wt!==e||It!==n?(ic=null,nc=tn()+500,Ma(e,n)):Na=zn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Va(e,n,f,1);break;case 2:case 9:if(Fg(f)){Kt=0,vn=null,ky(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),bi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Fg(f)?(Kt=0,vn=null,ky(n)):(Kt=0,vn=null,Va(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?E_(g):E.stateNode.complete){Kt=0,vn=null;var I=E.sibling;if(I!==null)Rt=I;else{var z=E.return;z!==null?(Rt=z,ac(z)):Rt=null}break e}}Kt=0,vn=null,Va(e,n,f,5);break;case 6:Kt=0,vn=null,Va(e,n,f,6);break;case 8:$f(),he=6;break t;default:throw Error(a(462))}}NT();break}catch(Q){Ny(e,Q)}while(!0);return Pi=Cr=null,G.H=l,G.A=h,Ft=r,Rt!==null?0:(Wt=null,It=0,wu(),he)}function NT(){for(;Rt!==null&&!Rh();)Vy(Rt)}function Vy(e){var n=sy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function ky(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Zp(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Zp(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:ff(n);default:ay(r,n),n=Rt=Mg(n,Yi),n=sy(r,n,Yi)}e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Va(e,n,r,l){Pi=Cr=null,ff(n),Sa=null,jl=0;var h=n.return;try{if(_T(e,h,n,r,It)){he=1,Ku(e,xn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;he=1,Ku(e,xn(r,e.current)),Rt=null;return}n.flags&32768?(Vt||l===1?e=!0:Na||(It&536870912)!==0?e=!1:(Is=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Is);return}e=n.return;var r=TT(n.alternate,n,Yi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);he===0&&(he=5)}function Uy(e,n){do{var r=bT(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);he=6,Rt=null}function Ly(e,n,r,l,h,f,g,E,I){e.cancelPendingCommit=null;do lc();while(Oe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,xh(e,r,f,g,E,I),e===Wt&&(Rt=Wt=null,It=0),Oa=n,Ds=e,Xi=r,Kf=f,Yf=h,Ry=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,VT(os,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,g=Ft,Ft|=4;try{ST(e,n,r)}finally{Ft=g,it.p=h,G.T=l}}Oe=1,Py(),zy(),jy()}}function Py(){if(Oe===1){Oe=0;var e=Ds,n=Oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{_y(n,e);var f=ud,g=Ag(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(I!==null&&Mh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=E.textContent.length,gt=Math.min(I.start,rt),Zt=I.end===void 0?gt:Math.min(I.end,rt);!q.extend&&gt>Zt&&(g=Zt,Zt=gt,gt=g);var k=bg(E,gt),D=bg(E,Zt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),gt>Zt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!od,ud=od=null}finally{Ft=h,it.p=l,G.T=r}}e.current=n,Oe=2}}function zy(){if(Oe===2){Oe=0;var e=Ds,n=Oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{dy(e,n.alternate,n)}finally{Ft=h,it.p=l,G.T=r}}Oe=3}}function jy(){if(Oe===4||Oe===3){Oe=0,Jo();var e=Ds,n=Oa,r=Xi,l=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Oa=Ds=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Oi(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Xi&3)!==0&&lc(),bi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Xf?io++:(io=0,Xf=e):io=0,so(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function lc(){return Py(),zy(),jy(),qy()}function qy(){if(Oe!==5)return!1;var e=Ds,n=Kf;Kf=0;var r=Oi(Xi),l=G.T,h=it.p;try{it.p=32>r?32:r,G.T=null,r=Yf,Yf=null;var f=Ds,g=Xi;if(Oe=0,Oa=Ds=null,Xi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Sy(f.current),Ey(f,f.current,g,r),Ft=E,so(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{it.p=h,G.T=l,By(e,n)}}function Hy(e,n,r){n=xn(r,n),n=Cf(e.stateNode,n,2),e=As(e,n,2),e!==null&&(cr(e,2),bi(e))}function Yt(e,n,r){if(e.tag===3)Hy(e,e,r);else for(;n!==null;){if(n.tag===3){Hy(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=xn(r,e),r=Fp(2),l=As(n,r,2),l!==null&&(Gp(r,l,n,e),cr(l,2),bi(l));break}}n=n.return}}function Zf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new RT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Ff=!0,h.add(r),e=DT.bind(null,e,n,r),n.then(e,e))}function DT(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(It&r)===r&&(he===4||he===3&&(It&62914560)===It&&300>tn()-ec?(Ft&2)===0&&Ma(e,0):Gf|=r,Da===It&&(Da=0)),bi(e)}function Fy(e,n){n===0&&(n=iu()),e=Ar(e,n),e!==null&&(cr(e,n),bi(e))}function OT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Fy(e,r)}function MT(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fy(e,r)}function VT(e,n){return De(e,n)}var oc=null,ka=null,Wf=!1,uc=!1,td=!1,Ms=0;function bi(e){e!==ka&&e.next===null&&(ka===null?oc=ka=e:ka=ka.next=e),uc=!0,Wf||(Wf=!0,UT())}function so(e,n){if(!td&&uc){td=!0;do for(var r=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Yy(l,f))}else f=It,f=si(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(r=!0,Yy(l,f));l=l.next}while(r);td=!1}}function kT(){Gy()}function Gy(){uc=Wf=!1;var e=0;Ms!==0&&QT()&&(e=Ms);for(var n=tn(),r=null,l=oc;l!==null;){var h=l.next,f=Qy(l,n);f===0?(l.next=null,r===null?oc=h:r.next=h,h===null&&(ka=r)):(r=l,(e!==0||(f&3)!==0)&&(uc=!0)),l=h}Oe!==0&&Oe!==5||so(e),Ms!==0&&(Ms=0)}function Qy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Ih(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=It,r=si(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||zn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ls(l),Oi(r)){case 2:case 8:r=ml;break;case 32:r=os;break;case 268435456:r=Zo;break;default:r=os}return l=Ky.bind(null,e),r=De(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var l=It;return l=si(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Iy(e,l,n),Qy(e,tn()),e.callbackNode!=null&&e.callbackNode===r?Ky.bind(null,e):null)}function Yy(e,n){if(lc())return null;Iy(e,n,!0)}function UT(){YT(function(){(Ft&6)!==0?De(dl,kT):Gy()})}function ed(){if(Ms===0){var e=Ea;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ms=e}return Ms}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function $y(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function LT(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Xy((h[ke]||null).action),g=l.submitter;g&&(n=(n=g[ke]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new gi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=g?$y(h,g):new FormData(h);Tf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?$y(h,g):new FormData(h),Tf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var nd=0;nd<Lh.length;nd++){var id=Lh[nd],PT=id.toLowerCase(),zT=id[0].toUpperCase()+id.slice(1);Kn(PT,"on"+zT)}Kn(Cg,"onAnimationEnd"),Kn(Ig,"onAnimationIteration"),Kn(xg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(eT,"onTransitionRun"),Kn(nT,"onTransitionStart"),Kn(iT,"onTransitionCancel"),Kn(Ng,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=I}}}}function Ct(e,n){var r=n[ta];r===void 0&&(r=n[ta]=new Set);var l=e+"__bubble";r.has(l)||(Zy(n,e,2,!1),r.add(l))}function sd(e,n,r){var l=0;n&&(l|=4),Zy(r,e,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[cc]){e[cc]=!0,yl.forEach(function(r){r!=="selectionchange"&&(jT.has(r)||sd(r,!1,e),sd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,sd("selectionchange",!1,n))}}function Zy(e,n,r,l){switch(C_(n)){case 2:var h=mb;break;case 8:h=gb;break;default:h=Ed}r=h.bind(null,n,r,e),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ad(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ms(function(){var z=f,Q=wn(r),Y=[];t:{var j=Dg.get(e);if(j!==void 0){var q=gi,rt=e;switch(e){case"keypress":if(_r(r)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":rt="focus",q=Er;break;case"focusout":rt="blur",q=Er;break;case"beforeblur":case"afterblur":q=Er;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Cg:case Ig:case xg:q=mu;break;case Ng:q=T;break;case"scroll":case"scrollend":q=xl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=bt}var gt=(n&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Hn(D,k),K!=null&&gt.push(ao(D,K,P))),Zt)break;D=D.return}0<gt.length&&(j=new q(j,rt,null,r,Q),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Rl&&(rt=r.relatedTarget||r.fromElement)&&(oi(rt)||rt[ai]))break t;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=z,rt=rt?oi(rt):null,rt!==null&&(Zt=c(rt),gt=rt.tag,rt!==Zt||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(gt=Nl,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=ki,K="onPointerLeave",k="onPointerEnter",D="pointer"),Zt=q==null?j:dn(q),P=rt==null?j:dn(rt),j=new gt(K,D+"leave",q,r,Q),j.target=Zt,j.relatedTarget=P,K=null,oi(Q)===z&&(gt=new gt(k,D+"enter",rt,r,Q),gt.target=P,gt.relatedTarget=Zt,K=gt),Zt=K,q&&rt)e:{for(gt=BT,k=q,D=rt,P=0,K=k;K;K=gt(K))P++;K=0;for(var ct=D;ct;ct=gt(ct))K++;for(;0<P-K;)k=gt(k),P--;for(;0<K-P;)D=gt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){gt=k;break e}k=gt(k),D=gt(D)}gt=null}else gt=null;q!==null&&Wy(Y,j,q,gt,!1),rt!==null&&Zt!==null&&Wy(Y,Zt,rt,gt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=pg;else if(mg(j))if(yg)zt=ZE;else{zt=$E;var lt=XE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(zt=pg):zt=JE;if(zt&&(zt=zt(e,z))){gg(Y,zt,r,Q);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Sl(j,"number",j.value)}switch(lt=z?dn(z):window,e){case"focusin":(mg(lt)||lt.contentEditable==="true")&&(fa=lt,Vh=z,kl=null);break;case"focusout":kl=Vh=fa=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,wg(Y,r,Q);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":wg(Y,r,Q)}var At;if(Ht)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ha?Tr(e,r)&&(xt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(xt="onCompositionStart");xt&&(_i&&r.locale!=="ko"&&(ha||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ha&&(At=Il()):(mi=Q,Cl="value"in mi?mi.value:mi.textContent,ha=!0)),lt=hc(z,xt),0<lt.length&&(xt=new yi(xt,e,null,r,Q),Y.push({event:xt,listeners:lt}),At?xt.data=At:(At=ca(r),At!==null&&(xt.data=At)))),(At=Cn?GE(e,r):QE(e,r))&&(xt=hc(z,"onBeforeInput"),0<xt.length&&(lt=new yi("onBeforeInput","beforeinput",null,r,Q),Y.push({event:lt,listeners:xt}),lt.data=At)),LT(Y,e,z,r,Q)}Jy(Y,n)})}function ao(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,r),h!=null&&l.unshift(ao(e,h,f)),h=Hn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function BT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Hn(r,f),z!=null&&g.unshift(ao(r,z,I))):h||(z=Hn(r,f),z!=null&&g.push(ao(r,z,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var qT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(qT,`
`).replace(HT,"")}function e_(e,n){return n=t_(n),t_(e)===n}function Jt(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,r,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ra(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ra(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),na(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,na(e,r,l))}}function ld(e,n,r,l,h,f){switch(r){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):na(e,r,l)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),l&&Jt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Jt(e,n,l,Q,r,null)}}ou(e,f,E,I,z,g,h,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!l,n!=null?cs(e,!!l,n,!1):r!=null&&cs(e,!!l,r,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,r,null)}hs(e,l,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,n,I,l,r,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ct(ro[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,l,r,null)}return;default:if(sa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&ld(e,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Jt(e,n,E,l,r,null))}function FT(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,Q=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(q)||Jt(e,n,q,null,l,Y)}}for(var j in l){var q=l[j];if(Y=r[j],l.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Jt(e,n,j,q,l,Y)}}ia(e,g,E,I,z,Q,f,h);return;case"select":q=g=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Jt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,l,I)}n=E,r=g,l=q,j!=null?cs(e,!!r,j,!1):!!l!=!!r&&(n!=null?cs(e,!!r,n,!0):cs(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,l,f)}uu(e,j,q);return;case"option":for(var rt in r)j=r[rt],r.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Jt(e,n,rt,null,l,j));for(I in l)j=l[I],q=r[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Jt(e,n,I,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Jt(e,n,gt,null,l,j);for(z in l)if(j=l[z],q=r[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,z,j,l,q)}return;default:if(sa(n)){for(var Zt in r)j=r[Zt],r.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&ld(e,n,Zt,void 0,l,j);for(Q in l)j=l[Q],q=r[Q],!l.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||ld(e,n,Q,j,l,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Jt(e,n,k,null,l,j);for(Y in l)j=l[Y],q=r[Y],!l.hasOwnProperty(Y)||j===q||j==null&&q==null||Jt(e,n,Y,j,l,q)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&n_(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>E)break;var Q=I.transferSize,Y=I.initiatorType;Q&&n_(Y)&&(I=I.responseEnd,g+=Q*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ud=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function QT(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,YT=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(XT)}:r_;function XT(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function l_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")lo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,lo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&lo(e.ownerDocument.body);r=h}while(r);za(n)}function o_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $T(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function JT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZT(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var kn=new Map,d_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=it.d;it.d={f:WT,r:tb,D:eb,C:nb,L:ib,m:sb,X:ab,S:rb,M:lb};function WT(){var e=$i.f(),n=sc();return e||n}function tb(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):$i.r(e)}var Ua=typeof document>"u"?null:document;function m_(e,n,r){var l=Ua;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function eb(e){$i.D(e),m_("dns-prefetch",e,null)}function nb(e,n){$i.C(e,n),m_("preconnect",e,n)}function ib(e,n,r){$i.L(e,n,r);var l=Ua;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),kn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function sb(e,n){$i.m(e,n);var r=Ua;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(uo(f)))return}l=r.createElement("link"),Fe(l,"link",e),Te(l),r.head.appendChild(l)}}}function rb(e,n,r){$i.S(e,n,r);var l=Ua;if(l&&e){var h=ui(l).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=kn.get(f))&&pd(e,r);var I=g=l.createElement("link");Te(I),Fe(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ab(e,n){$i.X(e,n);var r=Ua;if(r&&e){var l=ui(r).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&yd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function lb(e,n){$i.M(e,n);var r=Ua;if(r&&e){var l=ui(r).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&yd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function g_(e,n,r,l){var h=(h=yt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=ui(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=La(r.href);var f=ui(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(oo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(e,r),f||ob(h,e,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(r),r=ui(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+sn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",r),Te(n),e.head.appendChild(n))}function Pa(e){return'[src="'+sn(e)+'"]'}function uo(e){return"script[async]"+e}function y_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Fe(l,"style",h),mc(l,r.precedence,e),n.instance=l;case"stylesheet":h=La(r.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=p_(r),(h=kn.get(h))&&pd(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Fe(f,"link",l),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=Pa(r.src),(h=e.querySelector(uo(f)))?(n.instance=h,Te(h),h):(l=r,(h=kn.get(f))&&(l=S({},r),yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,r.precedence,e));return n.instance}function mc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function __(e,n,r){if(gc===null){var l=new Map,h=gc=new Map;h.set(r,l)}else h=gc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function v_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ub(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,l=p_(l),(h=kn.get(h))&&pd(l,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Fe(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=pc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var _d=0;function hb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*GT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(fb,e),yc=null,pc.call(e))}function fb(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var l=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function db(e,n,r,l,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function T_(e,n,r,l,h,f,g,E,I,z,Q,Y){return e=new db(e,n,r,g,I,z,Q,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},tf(f),e}function b_(e){return e?(e=ga,e):ga}function S_(e,n,r,l,h,f){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ss(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=As(e,l,n),r!==null&&(cn(r,e,n),ql(r,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&cn(n,e,67108864),vd(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fr(n);var r=Ar(e,n);r!==null&&cn(r,e,n),vd(e,n)}}var vc=!0;function mb(e,n,r,l){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Ed(e,n,r,l)}finally{it.p=f,G.T=h}}function gb(e,n,r,l){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Ed(e,n,r,l)}finally{it.p=f,G.T=h}}function Ed(e,n,r,l){if(vc){var h=Td(l);if(h===null)ad(e,n,l,Ec,r),I_(e,l);else if(yb(h,e,n,r,l))l.stopPropagation();else if(I_(e,l),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ii(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-de(g);E.entanglements[1]|=I,g&=~I}bi(f),(Ft&6)===0&&(nc=tn()+500,so(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&cn(E,f,2),sc(),vd(f,2)}if(f=Td(l),f===null&&ad(e,n,l,Ec,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else ad(e,n,l,null,r)}}function Td(e){return e=wn(e),bd(e)}var Ec=null;function bd(e){if(Ec=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case dl:return 2;case ml:return 8;case os:case Ch:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var Sd=!1,ks=null,Us=null,Ls=null,ho=new Map,fo=new Map,Ps=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yb(e,n,r,l,h){switch(n){case"focusin":return ks=mo(ks,e,n,r,l,h),!0;case"dragenter":return Us=mo(Us,e,n,r,l,h),!0;case"mouseover":return Ls=mo(Ls,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,r,l,h)),!0}return!1}function x_(e){var n=oi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){R_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,jn(e.priority,function(){R_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Td(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Rl=l,r.target.dispatchEvent(l),Rl=null}else return n=An(r),n!==null&&w_(n),e.blockedOn=r,!1;n.shift()}return!0}function N_(e,n,r){Tc(e)&&r.delete(n)}function _b(){Sd=!1,ks!==null&&Tc(ks)&&(ks=null),Us!==null&&Tc(Us)&&(Us=null),Ls!==null&&Tc(Ls)&&(Ls=null),ho.forEach(N_),fo.forEach(N_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_b)))}var Sc=null;function D_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(bd(l||r)===null)continue;break}var f=An(r);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function za(e){function n(I){return bc(I,e)}ks!==null&&bc(ks,e),Us!==null&&bc(Us,e),Ls!==null&&bc(Ls,e),ho.forEach(n),fo.forEach(n);for(var r=0;r<Ps.length;r++){var l=Ps[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)x_(r),r.blockedOn===null&&Ps.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[ke]||null;if(typeof f=="function")g||D_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(bd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),D_(r)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Ac.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Tn();S_(r,l,e,n,null,null)},Ac.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),n[ai]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ps.length&&n!==0&&n<Ps[r].priority;r++);Ps.splice(r,0,e),r===0&&x_(e)}};var M_=t.version;if(M_!=="19.2.4")throw Error(a(527,M_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Pn=wc.inject(vb),ze=wc}catch{}}return po.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",h=jp,f=Bp,g=qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(e,1,!1,null,null,r,l,null,h,f,g,O_),e[ai]=n.current,rd(e),new Ad(n)},po.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,h="",f=jp,g=Bp,E=qp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=T_(e,1,!0,n,r??null,l,h,I,f,g,E,O_),n.context=b_(null),r=n.current,l=Tn(),l=fr(l),h=Ss(l),h.callback=null,As(r,h,l),r=l,n.current.lanes=r,cr(n,r),bi(n),e[ai]=n.current,rd(e),new Ac(n)},po.version="19.2.4",po}var H_;function xb(){if(H_)return Cd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=Ib(),Cd.exports}var Nb=xb();const Db=()=>{};var F_={};const _0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ob=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;v||(F=64,d||(M=64)),a.push(i[b],i[S],i[M],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(_0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Ob(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new Mb;const M=c<<2|p>>4;if(a.push(M),y!==64){const F=p<<4&240|y>>2;if(a.push(F),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(s){const t=_0(s);return v0.encodeByteArray(t,!0)},Hc=function(s){return Vb(s).replace(/\./g,"")},E0=function(s){try{return v0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ub=()=>kb().__FIREBASE_DEFAULTS__,Lb=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Pb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&E0(s[1]);return t&&JSON.parse(t)},oh=()=>{try{return Db()||Ub()||Lb()||Pb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},T0=s=>oh()?.emulatorHosts?.[s],zb=s=>{const t=T0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>oh()?.config,S0=s=>oh()?.[`_${s}`];class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(s){return(await fetch(s,{credentials:"include"})).ok}function Bb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const bo={};function qb(){const s={prod:[],emulator:[]};for(const t of Object.keys(bo))bo[t]?s.emulator.push(t):s.prod.push(t);return s}function Hb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let G_=!1;function w0(s,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||bo[s]===t||bo[s]||G_)return;bo[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=qb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{G_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Hb(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),at=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),b(W,et);const kt=y();v(at,ft),mt.append(at,Z,W,kt),document.body.appendChild(mt)}c?(Z.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Gb(){const s=oh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $b(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Wb="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Wb,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?tS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new as(o,p,a)}}function tS(s,t){return s.replace(eS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const eS=/\{\$([^}]+)}/g;function nS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function qr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=t[o];if(Q_(c)&&Q_(d)){if(!qr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Q_(s){return s!==null&&typeof s=="object"}function zo(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function iS(s,t){const i=new sS(s,t);return i.subscribe.bind(i)}class sS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Dd(){}function We(s){return s&&s._delegate?s._delegate:s}class Hr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lr="[DEFAULT]";class aS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oS(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===Lr?void 0:s}function oS(s){return s.instantiationMode==="EAGER"}class uS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new aS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const cS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},hS=Nt.INFO,fS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},dS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=fS[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=hS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const mS=(s,t)=>t.some(i=>s instanceof i);let K_,Y_;function gS(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Fd=new WeakMap,C0=new WeakMap,Od=new WeakMap,Tm=new WeakMap;function yS(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Qs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&R0.set(i,s)}).catch(()=>{}),Tm.set(t,s),t}function _S(s){if(Fd.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Fd.set(s,t)}let Gd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Fd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||C0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function vS(s){Gd=s(Gd)}function ES(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Md(this),t,...i);return C0.set(a,t.sort?t.sort():[t]),Qs(a)}:pS().includes(s)?function(...t){return s.apply(Md(this),t),Qs(R0.get(this))}:function(...t){return Qs(s.apply(Md(this),t))}}function TS(s){return typeof s=="function"?ES(s):(s instanceof IDBTransaction&&_S(s),mS(s,gS())?new Proxy(s,Gd):s)}function Qs(s){if(s instanceof IDBRequest)return yS(s);if(Od.has(s))return Od.get(s);const t=TS(s);return t!==s&&(Od.set(s,t),Tm.set(t,s)),t}const Md=s=>Tm.get(s);function bS(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),p=Qs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Qs(d.result),v.oldVersion,v.newVersion,Qs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const SS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Vd=new Map;function X_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=AS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return Vd.set(t,c),c}vS(s=>({...s,get:(t,i,a)=>X_(t,i)||s.get(t,i,a),has:(t,i)=>!!X_(t,i)||s.has(t,i)}));class wS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RS(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",$_="0.14.7";const ts=new Em("@firebase/app"),CS="@firebase/app-compat",IS="@firebase/analytics-compat",xS="@firebase/analytics",NS="@firebase/app-check-compat",DS="@firebase/app-check",OS="@firebase/auth",MS="@firebase/auth-compat",VS="@firebase/database",kS="@firebase/data-connect",US="@firebase/database-compat",LS="@firebase/functions",PS="@firebase/functions-compat",zS="@firebase/installations",jS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",FS="@firebase/performance-compat",GS="@firebase/remote-config",QS="@firebase/remote-config-compat",KS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",$S="@firebase/ai",JS="@firebase/firestore-compat",ZS="firebase",WS="12.8.0";const Kd="[DEFAULT]",tA={[Qd]:"fire-core",[CS]:"fire-core-compat",[xS]:"fire-analytics",[IS]:"fire-analytics-compat",[DS]:"fire-app-check",[NS]:"fire-app-check-compat",[OS]:"fire-auth",[MS]:"fire-auth-compat",[VS]:"fire-rtdb",[kS]:"fire-data-connect",[US]:"fire-rtdb-compat",[LS]:"fire-fn",[PS]:"fire-fn-compat",[zS]:"fire-iid",[jS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[FS]:"fire-perf-compat",[GS]:"fire-rc",[QS]:"fire-rc-compat",[KS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[JS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};const Io=new Map,eA=new Map,Yd=new Map;function J_(s,t){try{s.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(Yd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,s);for(const i of Io.values())J_(i,s);for(const i of eA.values())J_(i,s);return!0}function bm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Un(s){return s==null?!1:s.settings!==void 0}const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Po("app","Firebase",nA);class iA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const sl=WS;function I0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(i||(i=b0()),!i)throw Ks.create("no-options");const c=Io.get(o);if(c){if(qr(i,c.options)&&qr(a,c.config))return c;throw Ks.create("duplicate-app",{appName:o})}const d=new uS(o);for(const v of Yd.values())d.addComponent(v);const p=new iA(i,a,d);return Io.set(o,p),p}function Sm(s=Kd){const t=Io.get(s);if(!t&&s===Kd&&b0())return I0();if(!t)throw Ks.create("no-app",{appName:s});return t}function sA(){return Array.from(Io.values())}function Ys(s,t,i){let a=tA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}$a(new Hr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rA="firebase-heartbeat-database",aA=1,xo="firebase-heartbeat-store";let kd=null;function x0(){return kd||(kd=bS(rA,aA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),kd}async function lA(s){try{const i=(await x0()).transaction(xo),a=await i.objectStore(xo).get(N0(s));return await i.done,a}catch(t){if(t instanceof as)ts.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function Z_(s,t){try{const a=(await x0()).transaction(xo,"readwrite");await a.objectStore(xo).put(t,N0(s)),await a.done}catch(i){if(i instanceof as)ts.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function N0(s){return`${s.name}!${s.options.appId}`}const oA=1024,uA=30;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uA){const o=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=hA(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ts.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function hA(s,t=oA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),tv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),tv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function dA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function mA(s){$a(new Hr("platform-logger",t=>new wS(t),"PRIVATE")),$a(new Hr("heartbeat",t=>new cA(t),"PRIVATE")),Ys(Qd,$_,s),Ys(Qd,$_,"esm2020"),Ys("fire-js","")}mA("");var gA="firebase",pA="12.8.0";Ys(gA,pA,"app");function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yA=D0,O0=new Po("auth","Firebase",D0());const Fc=new Em("@firebase/auth");function _A(s,...t){Fc.logLevel<=Nt.WARN&&Fc.warn(`Auth (${sl}): ${s}`,...t)}function Oc(s,...t){Fc.logLevel<=Nt.ERROR&&Fc.error(`Auth (${sl}): ${s}`,...t)}function es(s,...t){throw Am(s,...t)}function wi(s,...t){return Am(s,...t)}function M0(s,t,i){const a={...yA(),[t]:i};return new Po("auth","Firebase",a).create(t,{appName:s.name})}function Wi(s){return M0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return O0.create(s,...t)}function _t(s,t,...i){if(!s)throw Am(t,...i)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function ns(s,t){s||Ji(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function vA(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}function EA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||Kb()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class jo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||Yb()}get(){return EA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(s,t){ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AA=new jo(3e4,6e4);function Bo(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function rl(s,t,i,a,o={}){return k0(s,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zo({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return Qb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&il(s.emulatorConfig.host)&&(y.credentials="include"),V0.fetch()(await U0(s,s.config.apiHost,i,p),y)})}async function k0(s,t,i){s._canInitEmulator=!1;const a={...bA,...t};try{const o=new wA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rc(s,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw M0(s,b,y);es(s,b)}}catch(o){if(o instanceof as)throw o;es(s,"network-request-failed",{message:String(o)})}}async function Rm(s,t,i,a,o={}){const c=await rl(s,t,i,a,o);return"mfaPendingCredential"in c&&es(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function U0(s,t,i,a){const o=`${t}${i}?${a}`,c=s,d=c.config.emulator?wm(s.config,o):`${s.config.apiScheme}://${o}`;return SA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),AA.get())})}}function Rc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=wi(s,t,a);return o.customData._tokenResponse=i,o}async function RA(s,t){return rl(s,"POST","/v1/accounts:delete",t)}async function Gc(s,t){return rl(s,"POST","/v1/accounts:lookup",t)}function So(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CA(s,t=!1){const i=We(s),a=await i.getIdToken(t),o=Cm(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:So(Ud(o.auth_time)),issuedAtTime:So(Ud(o.iat)),expirationTime:So(Ud(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Cm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=E0(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nv(s){const t=Cm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function No(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&IA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function IA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class xA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $d{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(s){const t=s.auth,i=await s.getIdToken(),a=await No(s,Gc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?L0(o.providerUserInfo):[],d=DA(s.providerData,c),p=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,y=p?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function NA(s){const t=We(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DA(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function L0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OA(s,t){const i=await k0(s,{},async()=>{const a=zo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await U0(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&il(s.emulatorConfig.host)&&(v.credentials="include"),V0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MA(s,t){return rl(s,"POST","/v2/accounts:revokeToken",Bo(s,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=nv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await OA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ga;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function js(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new xA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $d(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await No(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CA(this,t)}reload(){return NA(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await No(this,RA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:Z,stsTokenManager:et}=i;_t(S&&et,t,"internal-error");const W=Ga.fromJSON(this.name,et);_t(typeof S=="string",t,"internal-error"),js(a,t.name),js(o,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof F=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(p,t.name),js(v,t.name),js(y,t.name),js(b,t.name);const ft=new Jn({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(at=>({...at}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ga;o.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const v=new Jn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const iv=new Map;function Zi(s){ns(s instanceof Function,"Expected a class definition");let t=iv.get(s);return t?(ns(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,iv.set(s,t),t)}class P0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}P0.type="NONE";const sv=P0;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(Zi(sv),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(sv);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const M=await Gc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await Jn._fromGetAccountInfoResponse(t,M,b)}else S=Jn._fromJSON(t,b);y!==c&&(p=S),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Qa(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,a))}}function rv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(F0(t))return"Blackberry";if(G0(t))return"Webos";if(j0(t))return"Safari";if((t.includes("chrome/")||B0(t))&&!t.includes("edge/"))return"Chrome";if(H0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function z0(s=Ze()){return/firefox\//i.test(s)}function j0(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function B0(s=Ze()){return/crios\//i.test(s)}function q0(s=Ze()){return/iemobile/i.test(s)}function H0(s=Ze()){return/android/i.test(s)}function F0(s=Ze()){return/blackberry/i.test(s)}function G0(s=Ze()){return/webos/i.test(s)}function Im(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VA(s=Ze()){return Im(s)&&!!window.navigator?.standalone}function kA(){return Xb()&&document.documentMode===10}function Q0(s=Ze()){return Im(s)||H0(s)||G0(s)||F0(s)||/windows phone/i.test(s)||q0(s)}function K0(s,t=[]){let i;switch(s){case"Browser":i=rv(Ze());break;case"Worker":i=`${rv(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class UA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LA(s,t={}){return rl(s,"GET","/v2/passwordPolicy",Bo(s,t))}const PA=6;class zA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class jA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new UA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Wi(this));const i=t?We(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LA(this),i=new zA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Po("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_A(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qo(s){return We(s)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=iS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(s){xm=s}function qA(s){return xm.loadJS(s)}function HA(){return xm.gapiScript}function FA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function GA(s,t){const i=bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(qr(c,t??{}))return o;es(o,"already-initialized")}return i.initialize({options:t})}function QA(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function KA(s,t,i){const a=qo(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Y0(t),{host:d,port:p}=YA(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(qr(y,a.config.emulator)&&qr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(A0(`${c}//${d}${v}`),w0("Auth",!0)):XA()}function Y0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function YA(s){const t=Y0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:lv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lv(d)}}}function lv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function XA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class X0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Ka(s,t){return Rm(s,"POST","/v1/accounts:signInWithIdp",Bo(s,t))}const $A="http://localhost";class Fr extends X0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Fr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:$A,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zo(i)}return t}}class $0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Ho{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Ho{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Fs extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function JA(s,t){return Rm(s,"POST","/v1/accounts:signUp",Bo(s,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Jn._fromIdTokenResponse(t,a,o),d=ov(a);return new is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=ov(a);return new is({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function ZA(s){if(Un(s.app))return Promise.reject(Wi(s));const t=qo(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await JA(t,{returnSecureToken:!0}),a=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends as{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Kc(t,i,a,o)}}function J0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(s,c,t,a):c})}async function WA(s,t,i=!1){const a=await No(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return is._forOperation(s,"link",a)}async function tw(s,t,i=!1){const{auth:a}=s;if(Un(a.app))return Promise.reject(Wi(a));const o="reauthenticate";try{const c=await No(s,J0(a,o,t,s),i);_t(c.idToken,a,"internal-error");const d=Cm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(s.uid===p,a,"user-mismatch"),is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function ew(s,t,i=!1){if(Un(s.app))return Promise.reject(Wi(s));const a="signIn",o=await J0(s,a,t),c=await is._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function nw(s,t){return Rm(s,"POST","/v1/accounts:signInWithCustomToken",Bo(s,t))}async function iw(s,t){if(Un(s.app))return Promise.reject(Wi(s));const i=qo(s),a=await nw(i,{token:t,returnSecureToken:!0}),o=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function sw(s,t,i,a){return We(s).onIdTokenChanged(t,i,a)}function rw(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function aw(s,t,i,a){return We(s).onAuthStateChanged(t,i,a)}const Yc="__sak";class Z0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lw=1e3,ow=10;class W0 extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ow):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}W0.type="LOCAL";const uw=W0;class t1 extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}t1.type="SESSION";const e1=t1;function cw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await cw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Nm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Nm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function fw(s){Ri().location.href=s}function n1(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){return navigator?.serviceWorker?.controller||null}function gw(){return n1()?self:null}const i1="firebaseLocalStorageDb",pw=1,Xc="firebaseLocalStorage",s1="fbase_key";class Fo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function yw(){const s=indexedDB.deleteDatabase(i1);return new Fo(s).toPromise()}function Jd(){const s=indexedDB.open(i1,pw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Xc,{keyPath:s1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await yw(),t(await Jd()))})})}async function uv(s,t,i){const a=ch(s,!0).put({[s1]:t,value:i});return new Fo(a).toPromise()}async function _w(s,t){const i=ch(s,!1).get(t),a=await new Fo(i).toPromise();return a===void 0?null:a.value}function cv(s,t){const i=ch(s,!0).delete(t);return new Fo(i).toPromise()}const vw=800,Ew=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(gw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await uv(t,Yc,"1"),await cv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>uv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ch(o,!1).getAll();return new Fo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const Tw=r1;new jo(3e4,6e4);function bw(s,t){return t?Zi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dm extends X0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Sw(s){return ew(s.auth,new Dm(s),s.bypassAuthState)}function Aw(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),tw(i,new Dm(s),s.bypassAuthState)}async function ww(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),WA(i,new Dm(s),s.bypassAuthState)}class a1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Sw;case"linkViaPopup":case"linkViaRedirect":return ww;case"reauthViaPopup":case"reauthViaRedirect":return Aw;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new jo(2e3,1e4);class Fa extends a1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}Fa.currentPopupAction=null;const Cw="pendingRedirect",Vc=new Map;class Iw extends a1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await xw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(s,t){const i=Ow(t),a=Dw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Nw(s,t){Vc.set(s._key(),t)}function Dw(s){return Zi(s._redirectPersistence)}function Ow(s){return Mc(Cw,s.config.apiKey,s.name)}async function Mw(s,t,i=!1){if(Un(s.app))return Promise.reject(Wi(s));const a=qo(s),o=bw(a,t),d=await new Iw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Vw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!l1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(t))}saveEventToCache(t){this.cachedEventUids.add(hv(t)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function l1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(s);default:return!1}}async function Lw(s,t={}){return rl(s,"GET","/v1/projects",t)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function jw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Lw(s);for(const i of t)try{if(Bw(i))return}catch{}es(s,"unauthorized-domain")}function Bw(s){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(Pw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const qw=new jo(3e4,6e4);function fv(){const s=Ri().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Hw(s){return new Promise((t,i)=>{function a(){fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fv(),i(wi(s,"network-request-failed"))},timeout:qw.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const o=FA("iframefcb");return Ri()[o]=()=>{gapi.load?a():i(wi(s,"network-request-failed"))},qA(`${HA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function Fw(s){return kc=kc||Hw(s),kc}const Gw=new jo(5e3,15e3),Qw="__/auth/iframe",Kw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?wm(t,Kw):`https://${s.config.authDomain}/${Qw}`,a={apiKey:t.apiKey,appName:s.name,v:sl},o=Xw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zo(a).slice(1)}`}async function Jw(s){const t=await Fw(s),i=Ri().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:$w(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=wi(s,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},Gw.get());function v(){Ri().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Zw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,t2=600,e2="_blank",n2="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(s,t,i,a=Ww,o=t2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Zw,width:a.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=B0(y)?e2:i),z0(y)&&(t=t||n2,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[F,Z])=>`${M}${F}=${Z},`,"");if(VA(y)&&p!=="_self")return s2(t||"",p),new dv(null);const S=window.open(t||"",p,b);_t(S,s,"popup-blocked");try{S.focus()}catch{}return new dv(S)}function s2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const r2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function mv(s,t,i,a,o,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof $0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",nS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Ho){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await s._getAppCheckToken(),y=v?`#${l2}=${encodeURIComponent(v)}`:"";return`${o2(s)}?${zo(p).slice(1)}${y}`}function o2({config:s}){return s.emulator?wm(s,a2):`https://${s.authDomain}/${r2}`}const Ld="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=Mw,this._overrideRedirectResult=Nw}async _openPopup(t,i,a,o){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await mv(t,i,a,Xd(),o);return i2(t,c,Nm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await mv(t,i,a,Xd(),o);return fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Jw(t),a=new kw(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},o=>{const c=o?.[0]?.[Ld];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Q0()||j0()||Im()}}const c2=u2;var gv="@firebase/auth",pv="1.12.0";class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(s){$a(new Hr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(s)},y=new jA(a,o,c,v);return QA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Hr("auth-internal",t=>{const i=qo(t.getProvider("auth").getImmediate());return(a=>new h2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(gv,pv,f2(s)),Ys(gv,pv,"esm2020")}const m2=300,g2=S0("authIdTokenMaxAge")||m2;let yv=null;const p2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>g2)return;const o=i?.token;yv!==o&&(yv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y2(s=Sm()){const t=bm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=GA(s,{popupRedirectResolver:c2,persistence:[Tw,uw,e1]}),a=S0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=p2(c.toString());rw(i,d,()=>d(i.currentUser)),sw(i,p=>d(p))}}const o=T0("auth");return o&&KA(i,`http://${o}`),i}function _2(){return document.getElementsByTagName("head")?.[0]??document}BA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=wi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",_2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,o1;(function(){var s;function t(N,A){function x(){}x.prototype=A.prototype,N.F=A.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,O,U){for(var C=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)C[ee-2]=arguments[ee];return A.prototype[O].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(O=0;O<16;++O)V[O]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=N.g[0],x=N.g[1],O=N.g[2];let U=N.g[3],C;C=A+(U^x&(O^U))+V[0]+3614090360&4294967295,A=x+(C<<7&4294967295|C>>>25),C=U+(O^A&(x^O))+V[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(x^U&(A^x))+V[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(A^O&(U^A))+V[3]+3250441966&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(U^x&(O^U))+V[4]+4118548399&4294967295,A=x+(C<<7&4294967295|C>>>25),C=U+(O^A&(x^O))+V[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(x^U&(A^x))+V[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(A^O&(U^A))+V[7]+4249261313&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(U^x&(O^U))+V[8]+1770035416&4294967295,A=x+(C<<7&4294967295|C>>>25),C=U+(O^A&(x^O))+V[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(x^U&(A^x))+V[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(A^O&(U^A))+V[11]+2304563134&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(U^x&(O^U))+V[12]+1804603682&4294967295,A=x+(C<<7&4294967295|C>>>25),C=U+(O^A&(x^O))+V[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(x^U&(A^x))+V[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(A^O&(U^A))+V[15]+1236535329&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(O^U&(x^O))+V[1]+4129170786&4294967295,A=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(A^x))+V[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(U^A))+V[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^A&(O^U))+V[0]+3921069994&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(x^O))+V[5]+3593408605&4294967295,A=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(A^x))+V[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(U^A))+V[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^A&(O^U))+V[4]+3889429448&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(x^O))+V[9]+568446438&4294967295,A=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(A^x))+V[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(U^A))+V[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^A&(O^U))+V[8]+1163531501&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(x^O))+V[13]+2850285829&4294967295,A=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(A^x))+V[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(U^A))+V[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^A&(O^U))+V[12]+2368359562&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(x^O^U)+V[5]+4294588738&4294967295,A=x+(C<<4&4294967295|C>>>28),C=U+(A^x^O)+V[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^x)+V[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^A)+V[14]+4259657740&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(x^O^U)+V[1]+2763975236&4294967295,A=x+(C<<4&4294967295|C>>>28),C=U+(A^x^O)+V[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^x)+V[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^A)+V[10]+3200236656&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(x^O^U)+V[13]+681279174&4294967295,A=x+(C<<4&4294967295|C>>>28),C=U+(A^x^O)+V[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^x)+V[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^A)+V[6]+76029189&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(x^O^U)+V[9]+3654602809&4294967295,A=x+(C<<4&4294967295|C>>>28),C=U+(A^x^O)+V[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^x)+V[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^A)+V[2]+3299628645&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(O^(x|~U))+V[0]+4096336452&4294967295,A=x+(C<<6&4294967295|C>>>26),C=U+(x^(A|~O))+V[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~x))+V[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~A))+V[5]+4237533241&4294967295,x=O+(C<<21&4294967295|C>>>11),C=A+(O^(x|~U))+V[12]+1700485571&4294967295,A=x+(C<<6&4294967295|C>>>26),C=U+(x^(A|~O))+V[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~x))+V[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~A))+V[1]+2240044497&4294967295,x=O+(C<<21&4294967295|C>>>11),C=A+(O^(x|~U))+V[8]+1873313359&4294967295,A=x+(C<<6&4294967295|C>>>26),C=U+(x^(A|~O))+V[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~x))+V[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~A))+V[13]+1309151649&4294967295,x=O+(C<<21&4294967295|C>>>11),C=A+(O^(x|~U))+V[4]+4149444226&4294967295,A=x+(C<<6&4294967295|C>>>26),C=U+(x^(A|~O))+V[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~x))+V[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const x=A-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=x;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(V[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<A;)if(V[O++]=N[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[A++]=this.g[x]>>>V&255;return N};function c(N,A){var x=p;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=A(N)}function d(N,A){this.h=A;const x=[];let V=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;V&&U==A||(x[O]=U,V=!1)}this.g=x}var p={};function v(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(y(-N));const A=[];let x=1;for(let V=0;N>=x;V++)A[V]=N/x|0,x*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return W(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(A,8));let V=S;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(C))):(V=V.j(x),V=V.add(y(C)))}return V}var S=v(0),M=v(1),F=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-W(this).m();let N=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(et(this))return"-"+W(this).toString(N);const A=y(Math.pow(N,6));var x=this;let V="";for(;;){const O=kt(x,A).g;x=ft(x,O.j(A));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,Z(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function et(N){return N.h==-1}s.l=function(N){return N=ft(this,N),et(N)?-1:Z(N)?0:1};function W(N){const A=N.g.length,x=[];for(let V=0;V<A;V++)x[V]=~N.g[V];return new d(x,~N.h).add(M)}s.abs=function(){return et(this)?W(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let O=0;O<=A;O++){let U=V+(this.i(O)&65535)+(N.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=C>>>16,U&=65535,C&=65535,x[O]=C<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ft(N,A){return N.add(W(A))}s.j=function(N){if(Z(this)||Z(N))return S;if(et(this))return et(N)?W(this).j(W(N)):W(W(this).j(N));if(et(N))return W(this.j(W(N)));if(this.l(F)<0&&N.l(F)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const U=this.i(V)>>>16,C=this.i(V)&65535,ee=N.i(O)>>>16,fe=N.i(O)&65535;x[2*V+2*O]+=C*fe,at(x,2*V+2*O),x[2*V+2*O+1]+=U*fe,at(x,2*V+2*O+1),x[2*V+2*O+1]+=C*ee,at(x,2*V+2*O+1),x[2*V+2*O+2]+=U*ee,at(x,2*V+2*O+2)}for(N=0;N<A;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=A;N<2*A;N++)x[N]=0;return new d(x,0)};function at(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function mt(N,A){this.g=N,this.h=A}function kt(N,A){if(Z(A))throw Error("division by zero");if(Z(N))return new mt(S,S);if(et(N))return A=kt(W(N),A),new mt(W(A.g),W(A.h));if(et(A))return A=kt(N,W(A)),new mt(W(A.g),A.h);if(N.g.length>30){if(et(N)||et(A))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=A;V.l(N)<=0;)x=te(x),V=te(V);var O=Ut(x,1),U=Ut(V,1);for(V=Ut(V,2),x=Ut(x,2);!Z(V);){var C=U.add(V);C.l(N)<=0&&(O=O.add(x),U=C),V=Ut(V,1),x=Ut(x,1)}return A=ft(N,O.j(A)),new mt(O,A)}for(O=S;N.l(A)>=0;){for(x=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),C=U.j(A);et(C)||C.l(N)>0;)x-=V,U=y(x),C=U.j(A);Z(U)&&(U=M),O=O.add(U),N=ft(N,C)}return new mt(O,N)}s.B=function(N){return kt(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&N.i(V);return new d(x,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|N.i(V);return new d(x,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^N.i(V);return new d(x,this.h^N.h)};function te(N){const A=N.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(x,N.h)}function Ut(N,A){const x=A>>5;A%=32;const V=N.g.length-x,O=[];for(let U=0;U<V;U++)O[U]=A>0?N.i(U+x)>>>A|N.i(U+x+1)<<32-A:N.i(U+x);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,o1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Xs=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u1,_o,c1,Uc,Zd,h1,f1,d1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=L[tt]}else u.push(L)}}class et{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Ut=!1,N=new at,A=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(x)}};function x(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){W(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ee,O),ee.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<H.length;B++)_=H[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=yt(u,m,T,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function ht(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function yt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],_,T,L);return null}return _=fl(_),u&&u[fe]?u.J(m,_,p(T)?!!T.capture:!1,L):ar(u,m,_,!1,T,L)}function ar(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let bt=lr(u);if(bt||(u[Lt]=bt=new nt(u)),_=bt.add(m,_,T,tt,B),_.proxy)return _;if(T=$r(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $r(){function u(_){return m.call(u.src,u.listener,_)}const m=cl;return u}function Jr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Jr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=fl(_),u&&u[fe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=yt(m,_,T,L),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,_,T,L)),(_=u>-1?m[u]:null)&&Zr(_))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ht(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ei(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=lr(m))?(ht(_,u),_.h==0&&(_.src=null,m[Lt]=null)):ut(u)}}}function ei(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=_.call(T,m)}return u}function lr(u){return u=u[Lt],u instanceof nt?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function _e(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}S(_e,V),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Jr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(T,u),J(m,L)}L=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],L=ls(B,T,!0,m)&&L;if(B=m.g=u,L=ls(B,T,!0,m)&&L,L=ls(B,T,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],L=ls(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ls(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const bt=tt.listener,me=tt.ha||tt.src;tt.fa&&ht(u.i,tt),L=bt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jo(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Jo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){V.call(this),this.h=u,this.g={}}S(or,V);var dl=[];function ml(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),ml(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Ch=d.JSON.parse,Zo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wo(){}function tu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function Sn(){O.call(this,"c")}S(Sn,O);var de={},eu=null;function Wr(){return eu=eu||new _e}de.Ia="serverreachability";function nu(u){O.call(this,de.Ia,u)}S(nu,O);function ni(u){const m=Wr();De(m,new nu(m))}de.STAT_EVENT="statevent";function ur(u,m){O.call(this,de.STAT_EVENT,u),this.stat=m}S(ur,O);function ve(u){const m=Wr();De(m,new ur(m,u))}de.Ja="timingevent";function ii(u,m){O.call(this,de.Ja,u),this.size=m}S(ii,O);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Ih(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let Ht=0;Ht<bt.length;Ht++){var me=bt[Ht].split("=");if(me.length>1){const le=me[0];me=me[1];const Cn=le.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(le+"="+me+"&"):tt+(le+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function iu(u,m,_,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+tt})}function ri(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,_)+(T?" "+T:"")})}function cr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return os(B)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function fr(){}S(fr,Wo),fr.prototype.g=function(){return new XMLHttpRequest},pl=new fr;function Oi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function ai(u,m,_){u.M=1,u.A=dr(be(m)),u.u=_,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Bn,u.g=vu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let B=0;B<L.length;B++){const tt=ae(_,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?R(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Fn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||bt!=4||me==7||(me==8||Ht<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var _=Nh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),An(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<_.length;)if(le=au(this,_),le==ke){bt==4&&(this.m=4,ve(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ri(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,le,null),ui(this,le);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Dl(tt),tt.P=!0,ve(11))}}else ri(this.i,this.l,_,null),ui(this,_);bt==4&&dn(this),this.o&&!this.K&&(bt==4?gu(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),An(this)}}}catch{}};function Nh(u){if(!ru(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ni(),ve(17)),dn(this),this.m=2,An(this)):ea(this,this.T-u)};function An(u){u.j.I==0||u.K||gu(u.j,u)}function dn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||hi(_.h,u))){if(!u.L&&hi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),ps(_);else break t;Er(_),ve(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=si(y(_.Va,_),6e3));ci(_.h)<=1&&_.ta&&(_.ta=void 0)}else yi(_,11)}else if((u.L||_.g==u)&&ua(_),!C(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const le=Ht[0];if(!(le<=_.K))if(_.K=le,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const _i=Ht[4];_i!=null&&(_.za=_i,_.j.info("SVER="+_.za));const Gn=Ht[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const Tr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var B=T.h;B.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(T.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Qt(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=_u(T,T.L?T.ba:null,T.W),tt.L){El(T.h,tt);var bt=tt,me=T.O;me&&(bt.H=me),bt.D&&(oi(bt),li(bt)),T.g=tt}else du(T);_.i.length>0&&pi(_)}else Ht[0]!="stop"&&Ht[0]!="close"||yi(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?yi(_,7):xl(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}ni(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,bl(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),us(this,m[4]),this.h=fi(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(mr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mr(m,ia,!0),"@"),u.push(Oi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?Sl:ou,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,uu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)us(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?T&&tt==L.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?bl(m,hu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function Ue(u,m,_){u.j=_?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,_){m instanceof hs?(u.i=m,ra(u.i,u.l)):(_||(m=mr(m,cs)),u.i=new hs(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function dr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,ou=/[#\?:]/g,Sl=/[#\?]/g,cs=/[#\?@]/g,uu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=hs.prototype,s.add=function(u,m){rn(this),this.i=null,u=fs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function cu(u,m){rn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Al(u,m){return rn(u),m=fs(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){rn(u);let _=[];if(typeof m=="string")Al(u,m)&&(_=_.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return rn(this),this.i=null,u=fs(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){cu(u,m),_.length>0&&(u.i=null,u.g.set(fs(u,m),F(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Oi(_);_=wl(this,_);for(let B=0;B<_.length;B++){let tt=L;_[B]!==""&&(tt+="="+Oi(_[B])),u.push(tt)}}return this.i=u.join("&")};function hu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(cu(this,T),sa(this,L,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=b(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const _=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ds(){this.g=new Zo}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}S(di,Wo),di.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gr,_e),s=gr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Hn(this),this.readyState==3&&aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},s.Na=function(u){this.g&&(this.response=u,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function pr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&Oi(_):Qt(u,m,_))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var mi=/^https?$/i,Cl=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){yr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){yr(this,B)}};function yr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Mi(u)}function Il(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},s.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!mi.test(tt?tt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Fn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Il(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=su(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),pi(this)};function xl(u){if(la(u),u.I==3){var m=u.V++,_=be(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),vr(u,_),m=new jn(u,u.j,m),m.M=2,m.A=dr(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}yu(u)}function ps(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function la(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||A(),Ut||(te(),Ut=!0),N.add(m,u),u.D=0}}function oa(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(y(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=R(B),J(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),_=be(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),vr(this,_),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&pr(_,this.u,B)),vl(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,ai(L,_,null)):ai(L,_,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",_),Qt(T,"AID",u.K),vr(u,T),u.u&&u.o&&pr(T,u.u,u.o),_=new jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,_),ai(_,T,m)}function vr(u,m){u.H&&Mt(u.H,function(_,T){Qt(m,T,_)}),u.l&&Mt({},function(_,T){Qt(m,T,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const me=["count="+_];bt==-1?_>0?(bt=L[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let Ht=!0;for(let le=0;le<_;le++){var B=L[le].g;const Cn=L[le].map;if(B-=bt,B<0)bt=Math.max(0,L[le].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[_i,Gn]of tt){let Qn=Gn;p(Gn)&&(Qn=os(Gn)),me.push(B+_i+"="+encodeURIComponent(Qn))}}catch(_i){throw me.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(Cn)}}if(Ht){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||A(),Ut||(te(),Ut=!0),N.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(y(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ps(this),mu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),vr(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=dr(be(m)),_.u=null,_.R=!0,ta(_,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),Er(this),ve(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){ua(u),Dl(u),u.g=null;var T=2}else if(hi(u.h,m))_=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Wr(),De(T,new ii(T,_)),pi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&Er(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function pu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),dr(T),L?qn(T.toString(),_):Rl(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),yu(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,_){var T=_ instanceof mn?be(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);T&&Ue(B,T),m&&(B.g=m),L&&us(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Qt(T,_,m),Qt(T,"VER",u.ka),vr(u,T),T}function vu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new di({ab:_})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}S(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){xl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=os(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&pi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,en.Z.N.call(this)};function Tu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,ze);function bu(){Sn.call(this),this.status=1}S(bu,Sn);function ki(u){this.g=u}S(ki,Eu),ki.prototype.ra=function(){De(this.g,"a")},ki.prototype.qa=function(u){De(this.g,new Tu(u))},ki.prototype.pa=function(u){De(this.g,new bu)},ki.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,d1=function(){return new ys},f1=function(){return Wr()},h1=de,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Uc=hr,gl.COMPLETE="complete",c1=gl,tu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,_o=tu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,u1=Xt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let al="12.8.0";function v2(s){al=s}const Gr=new Em("@firebase/firestore");function ja(){return Gr.logLevel}function st(s,...t){if(Gr.logLevel<=Nt.DEBUG){const i=t.map(Om);Gr.debug(`Firestore (${al}): ${s}`,...i)}}function ss(s,...t){if(Gr.logLevel<=Nt.ERROR){const i=t.map(Om);Gr.error(`Firestore (${al}): ${s}`,...i)}}function Ja(s,...t){if(Gr.logLevel<=Nt.WARN){const i=t.map(Om);Gr.warn(`Firestore (${al}): ${s}`,...i)}}function Om(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,m1(s,a,i)}function m1(s,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Gt(s,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||m1(t,o,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class g1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $s,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $s)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new g1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class S2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new S2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=R2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Dt(s,t){return s<t?-1:s>t?1:0}function Wd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=t.charAt(a);if(o!==c)return Pd(o)===Pd(c)?Dt(o,c):Pd(o)?1:-1}return Dt(s.length,t.length)}const C2=55296,I2=57343;function Pd(s){const t=s.charCodeAt(0);return t>=C2&&t<=I2}function Za(s,t,i){return s.length===t.length&&s.every(((a,o)=>i(a,t[o])))}const Ev="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Si.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),o=Si.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Si.extractNumericId(t).compare(Si.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class se extends Si{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return x2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new Qe([Ev])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}function p1(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function N2(s,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Tv(s){if(!dt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function bv(s){if(dt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function y1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Zn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Go(s,t){if(!y1(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const Sv=-62135596800,Av=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Av);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Sv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Go(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Do=-1;function D2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Zs(o,dt.empty(),t)}function O2(s){return new Zs(s.readTime,s.key,Do)}class Zs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(vt.min(),dt.empty(),Do)}static max(){return new Zs(vt.max(),dt.empty(),Do)}}function M2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Dt(s.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==V2)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function U2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(s){return s.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const km=-1;function fh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function L2(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const _1="";function P2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=wv(t)),t=z2(s.get(i),t);return wv(t)}function z2(s,t){let i=t;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case _1:i+="";break;default:i+=c}}return i}function wv(s){return s+_1+""}function Rv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function sr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function v1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new E1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=j2.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const T1="server_timestamp",b1="__type__",S1="__previous_value__",A1="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[b1]?.stringValue===T1}function dh(s){const t=s.mapValue.fields[S1];return Um(t)?dh(t):t}function Oo(s){const t=Ws(s.mapValue.fields[A1].timestampValue);return new re(t.seconds,t.nanos)}class B2{constructor(t,i,a,o,c,d,p,v,y,b,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=S}}const Jc="(default)";class Mo{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}function q2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(s.options.projectId,t)}const w1="__type__",H2="__max__",xc={mapValue:{}},R1="__vector__",Zc="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:G2(s)?9007199254740991:F2(s)?10:11:pt(28295,{value:s})}function Ni(s,t){if(s===t)return!0;const i=er(s);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Oo(s).isEqual(Oo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ws(o.timestampValue),p=Ws(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),p=ye(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Rv(d)!==Rv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ni(d[v],p[v])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function Vo(s,t){return(s.values||[]).find((i=>Ni(i,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const i=er(s),a=er(t);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return Iv(s.timestampValue,t.timestampValue);case 4:return Iv(Oo(s),Oo(t));case 5:return Wd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=tr(c),v=tr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const b=Dt(p[y],v[y]);if(b!==0)return b}return Dt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(ye(c.latitude),ye(d.latitude));return p!==0?p:Dt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return xv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Zc]?.arrayValue,b=v[Zc]?.arrayValue,S=Dt(y?.values?.length||0,b?.values?.length||0);return S!==0?S:xv(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let S=0;S<v.length&&S<b.length;++S){const M=Wd(v[S],b[S]);if(M!==0)return M;const F=Wa(p[v[S]],y[b[S]]);if(F!==0)return F}return Dt(v.length,b.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Dt(s,t);const i=Ws(s),a=Ws(t),o=Dt(i.seconds,a.seconds);return o!==0?o:Dt(i.nanos,a.nanos)}function xv(s,t){const i=s.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return Dt(i.length,a.length)}function tl(s){return tm(s)}function tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=tm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${tm(i.fields[d])}`;return o+"}"})(s.mapValue):pt(61005,{value:s})}function Lc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return sr(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(s.mapValue);default:throw pt(13486,{value:s})}}function em(s){return!!s&&"integerValue"in s}function Lm(s){return!!s&&"arrayValue"in s}function Nv(s){return!!s&&"nullValue"in s}function Dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function F2(s){return(s?.mapValue?.fields||{})[w1]?.stringValue===R1}function Ao(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return sr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ao(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ao(s.arrayValue.values[i]);return t}return{...s}}function G2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Ao(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){sr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(Ao(this.value))}}function C1(s){const t=[];return sr(s.fields,((i,a)=>{const o=new Qe([i]);if(Pc(a)){const c=C1(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new bn(t)}class Je{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Ov(s,t,i){let a=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ni(s.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function Q2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class I1{}class Me extends I1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Y2(t,i,a):i==="array-contains"?new J2(t,a):i==="in"?new Z2(t,a):i==="not-in"?new W2(t,a):i==="array-contains-any"?new tR(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new X2(t,a):new $2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends I1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return x1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(s){return s.op==="and"}function N1(s){return K2(s)&&x1(s)}function K2(s){for(const t of s.filters)if(t instanceof Di)return!1;return!0}function nm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+tl(s.value);if(N1(s))return s.filters.map((t=>nm(t))).join(",");{const t=s.filters.map((i=>nm(i))).join(",");return`${s.op}(${t})`}}function D1(s,t){return s instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&Ni(a.value,o.value)})(s,t):s instanceof Di?(function(a,o){return o instanceof Di&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&D1(d,o.filters[p])),!0):!1})(s,t):void pt(19439)}function O1(s){return s instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(s):s instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(O1).join(" ,")+"}"})(s):"Filter"}class Y2 extends Me{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class X2 extends Me{constructor(t,i){super(t,"in",i),this.keys=M1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class $2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=M1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function M1(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class J2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Lm(i)&&Vo(i.arrayValue,this.value)}}class Z2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class W2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class tR extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class eR{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Vv(s,t=null,i=[],a=[],o=null,c=null,d=null){return new eR(s,t,i,a,o,c,d)}function Pm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Q2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!D1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Mv(s.startAt,t.startAt)&&Mv(s.endAt,t.endAt)}function im(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nR(s,t,i,a,o,c,d,p){return new mh(s,t,i,a,o,c,d,p)}function jm(s){return new mh(s)}function kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iR(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function sR(s){return s.collectionGroup!==null}function wo(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new th(Qe.keyField(),a))}return t.Ie}function Ci(s){const t=Tt(s);return t.Ee||(t.Ee=rR(t,wo(s))),t.Ee}function rR(s,t){if(s.limitType==="F")return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new th(o.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function sm(s,t,i){return new mh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function gh(s,t){return zm(Ci(s),Ci(t))&&s.limitType===t.limitType}function V1(s){return`${Pm(Ci(s))}|lt:${s.limitType}`}function Ba(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>O1(o))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Ci(s))}; limitType=${s.limitType})`}function ph(s,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,o){for(const c of wo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=Ov(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,wo(a),o)||a.endAt&&!(function(d,p,v){const y=Ov(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,wo(a),o))})(s,t)}function aR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function k1(s){return(t,i)=>{let a=!1;for(const o of wo(s)){const c=lR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function lR(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Wa(v,y):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const oR=new ue(dt.comparator);function rs(){return oR}const U1=new ue(dt.comparator);function vo(...s){let t=U1;for(const i of s)t=t.insert(i.key,i);return t}function L1(s){let t=U1;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return Ro()}function P1(){return Ro()}function Ro(){return new Yr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uR=new ue(dt.comparator),cR=new Ve(dt.comparator);function Ot(...s){let t=cR;for(const i of s)t=t.add(i);return t}const hR=new Ve(Dt);function fR(){return hR}function Bm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function z1(s){return{integerValue:""+s}}function dR(s,t){return L2(t)?z1(t):Bm(s,t)}class yh{constructor(){this._=void 0}}function mR(s,t,i){return s instanceof eh?(function(o,c){const d={fields:{[b1]:{stringValue:T1},[A1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Um(c)&&(c=dh(c)),c&&(d.fields[S1]=c),{mapValue:d}})(i,t):s instanceof ko?B1(s,t):s instanceof Uo?q1(s,t):(function(o,c){const d=j1(o,c),p=Uv(d)+Uv(o.Ae);return em(d)&&em(o.Ae)?z1(p):Bm(o.serializer,p)})(s,t)}function gR(s,t,i){return s instanceof ko?B1(s,t):s instanceof Uo?q1(s,t):i}function j1(s,t){return s instanceof nh?(function(a){return em(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends yh{}class ko extends yh{constructor(t){super(),this.elements=t}}function B1(s,t){const i=H1(t);for(const a of s.elements)i.some((o=>Ni(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Uo extends yh{constructor(t){super(),this.elements=t}}function q1(s,t){let i=H1(t);for(const a of s.elements)i=i.filter((o=>!Ni(o,a)));return{arrayValue:{values:i}}}class nh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Uv(s){return ye(s.integerValue||s.doubleValue)}function H1(s){return Lm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function pR(s,t){return s.field.isEqual(t.field)&&(function(a,o){return a instanceof ko&&o instanceof ko||a instanceof Uo&&o instanceof Uo?Za(a.elements,o.elements,Ni):a instanceof nh&&o instanceof nh?Ni(a.Ae,o.Ae):a instanceof eh&&o instanceof eh})(s.transform,t.transform)}class yR{constructor(t,i){this.version=t,this.transformResults=i}}class Wn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class _h{}function F1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qm(s.key,Wn.none()):new Qo(s.key,s.data,Wn.none());{const i=s.data,a=fn.empty();let o=new Ve(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new rr(s.key,a,new bn(o.toArray()),Wn.none())}}function _R(s,t,i){s instanceof Qo?(function(o,c,d){const p=o.value.clone(),v=Pv(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof rr?(function(o,c,d){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Pv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(G1(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Co(s,t,i,a){return s instanceof Qo?(function(c,d,p,v){if(!zc(c.precondition,d))return p;const y=c.value.clone(),b=zv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof rr?(function(c,d,p,v){if(!zc(c.precondition,d))return p;const y=zv(c.fieldTransforms,v,d),b=d.data;return b.setAll(G1(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function vR(s,t){let i=null;for(const a of s.fieldTransforms){const o=t.data.field(a.field),c=j1(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function Lv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,((c,d)=>pR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Qo extends _h{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends _h{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function G1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Pv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,gR(d,p,i[o]))}return a}function zv(s,t,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,mR(c,d,t))}return a}class qm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&_R(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=P1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=F1(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class Hm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Hm(t,i,a,o)}}class bR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function AR(s){switch(s){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function Q1(s){if(s===void 0)return ss("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:s})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new Xs([4294967295,4294967295],0);function jv(s){const t=wR().encode(s),i=new o1;return i.update(t),new Uint8Array(i.digest())}function Bv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,a],0),new Xs([o,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Xs.fromNumber(a)));return o.compare(RR)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=jv(t),[a,o]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=jv(t),[a,o]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(vt.min(),o,new ue(Dt),rs(),Ot())}}class Ko{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ko(a,i,Ot(),Ot(),Ot())}}class jc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class K1{constructor(t,i){this.targetId=t,this.Ce=i}}class Y1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:c})}})),new Ko(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Hv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CR{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.He=Nc(),this.Je=Nc(),this.Ze=new ue(Dt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(im(c))if(a===0){const d=new dt(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=tr(a).toUint8Array()}catch(v){if(v instanceof E1)return Ja("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Fm(d,o,c)}catch(v){return Ja(v instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&im(p.target)){const v=new dt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ot();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new vh(t,i,this.Ze,this.je,a);return this.je=rs(),this.He=Nc(),this.Je=Nc(),this.Ze=new ue(Dt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new qv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ue(dt.comparator)}function Hv(){return new ue(dt.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function rm(s,t){return s.useProto3Json||fh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function OR(s,t){return ih(s,t.toTimestamp())}function Ii(s){return Gt(!!s,49232),vt.fromTimestamp((function(i){const a=Ws(i);return new re(a.seconds,a.nanos)})(s))}function Gm(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function $1(s){const t=se.fromString(s);return Gt(eE(t),10190,{key:t.toString()}),t}function lm(s,t){return Gm(s.databaseId,t.path)}function zd(s,t){const i=$1(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(Z1(i))}function J1(s,t){return Gm(s.databaseId,t)}function MR(s){const t=$1(s);return t.length===4?se.emptyPath():Z1(t)}function om(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Z1(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Fv(s,t,i){return{name:lm(s,t),fields:i.value.mapValue.fields}}function VR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:Q1(y.code);return new ot(b,y.message||"")})(d);i=new Y1(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=zd(s,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):vt.min(),p=new fn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(o,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new jc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=zd(s,a.document),c=a.readTime?Ii(a.readTime):vt.min(),d=Je.newNoDocument(o,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=zd(s,a.document),c=a.removedTargetIds||[];i=new jc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new SR(o,c),p=a.targetId;i=new K1(p,d)}}return i}function kR(s,t){let i;if(t instanceof Qo)i={update:Fv(s,t.key,t.value)};else if(t instanceof qm)i={delete:lm(s,t.key)};else if(t instanceof rr)i={update:Fv(s,t.key,t.data),updateMask:FR(t.fieldMask)};else{if(!(t instanceof ER))return pt(16599,{dt:t.type});i={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ko)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:OR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function UR(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(vt.min())&&(d=Ii(c)),new yR(d,o.transformResults||[])})(i,t)))):[]}function LR(s,t){return{documents:[J1(s,t.path)]}}function PR(s,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=J1(s,o);const c=(function(y){if(y.length!==0)return tE(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:qa(M.field),direction:BR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=rm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function zR(s){let t=MR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=W1(S);return M instanceof Di&&N1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new th(Ha(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,fh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(S){const M=!!S.before,F=S.values||[];return new Wc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new Wc(F,M)})(i.endAt)),nR(t,o,d,c,p,"F",v,y)}function jR(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function W1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Me.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>W1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function BR(s){return IR[s]}function qR(s){return xR[s]}function HR(s){return NR[s]}function qa(s){return{fieldPath:s.canonicalString()}}function Ha(s){return Qe.fromServerFormat(s.fieldPath)}function tE(s){return s instanceof Me?(function(i){if(i.op==="=="){if(Dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(Nv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(Nv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:qR(i.op),value:i.value}}})(s):s instanceof Di?(function(i){const a=i.getFilters().map((o=>tE(o)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(s):pt(54877,{filter:s})}function FR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function nE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Gs{constructor(t,i,a,o,c=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GR{constructor(t){this.yt=t}}function QR(s){const t=zR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sm(t,t.limit,"L"):t}class KR{constructor(){this.Sn=new YR}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Zs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class YR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(se.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(se.comparator)).toArray()}}const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(iE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class el{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const Qv="LruGarbageCollector",XR=1048576;function Kv([s,t],[i,a]){const o=Dt(s,i);return o===0?Dt(t,a):o}class $R{constructor(t){this.Pr=t,this.buffer=new Ve(Kv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?st(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Ar(3e5)}))}}class ZR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(hh.ce);const a=new $R(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,p,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),ja()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function WR(s,t){return new ZR(s,t)}class tC{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Co(a.mutation,o,bn.empty(),re.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=vo();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=rs();const d=Ro(),p=(function(){return Ro()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof rr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Co(b.mutation,y,b.mutation.getFieldMask(),re.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new eC(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ro();let o=new ue(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||bn.empty();b=p.applyToLocalView(y,b),a.set(v,b);const S=(o.get(p.batchId)||Ot()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,b=v.value,S=P1();b.forEach((M=>{if(!c.has(M)){const F=F1(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return iR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(zr());let p=Do,v=c;return d.next((y=>X.forEach(y,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ot()))).next((b=>({batchId:p,changes:L1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let o=vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const y=(function(S,M){return new mh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let p=vo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Co(b.mutation,y,bn.empty(),re.now()),ph(i,y)&&(p=p.insert(v,y))})),p}))}}class iC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:QR(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),X.resolve()}}class sC{constructor(){this.overlays=new ue(dt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=zr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=zr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=zr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return X.resolve(p)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class rC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new se([])),a=new Pe(i,t),o=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new se([])),a=new Pe(i,t),o=new Pe(i,t+1);let c=Ot();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Dt(t.Hr,i.Hr)}static Ur(t,i){return Dt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class aC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Dt);return i.forEach((o=>{const c=new Pe(o,0),d=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let p=new Ve(Dt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(o=>{const c=new Pe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),o=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lC{constructor(t){this.ti=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=rs();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||M2(O2(b),a)<=0||(o.has(b.key)||ph(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){pt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oC(this)}getSize(t){return X.resolve(this.size)}}class oC extends tC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class uC{constructor(t){this.persistence=t,this.ri=new Yr((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=el._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new el(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class sE{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new rC,this.referenceDelegate=t(this),this.li=new uC(this),this.indexManager=new KR,this.remoteDocumentCache=(function(o){return new lC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new GR(i),this.Pi=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new aC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new cC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class cC extends k2{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Ai=null}static Vi(t){return new Km(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const o=dt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Yr((a=>P2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=WR(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=Ot(),o=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ym(t,i.fromCache,a,o)}}class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $b()?8:U2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(ja()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ja()<=Nt.DEBUG&&st("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ja()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):X.resolve())}gs(t,i){if(kv(i))return X.resolve(null);let a=Ci(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sm(i,null,"F"),a=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,sm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return kv(i)||o.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?X.resolve(null):(ja()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(i)),this.Ds(t,d,i,D2(o,Do)).next((p=>p)))}))}bs(t,i){let a=new Ve(k1(t));return i.forEach(((o,c)=>{ph(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return ja()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.fs.getDocumentsMatchingQuery(t,i,Zs.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",dC=3e8;class mC{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ue(Dt),this.Fs=new Yr((c=>Pm(c)),zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function gC(s,t,i,a){return new mC(s,t,i,a)}async function rE(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ot();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function pC(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,b){const S=y.batch,M=S.keys();let F=X.resolve();return M.forEach((Z=>{F=F.next((()=>b.getEntry(v,Z))).next((et=>{const W=y.docVersions.get(Z);Gt(W!==null,48541),et.version.compareTo(W)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),b.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function aE(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yC(s,t){const i=Tt(s),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((b,S)=>{const M=o.get(S);if(!M)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(S,F),(function(et,W,ft){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=dC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,F,b)&&p.push(i.li.updateTargetData(c,F))}));let v=rs(),y=Ot();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(_C(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(vt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function _C(s,t,i){let a=Ot(),o=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=rs();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):st(Xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function vC(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EC(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function um(s,t,i){const a=Tt(s),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;st(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Yv(s,t,i){const a=Tt(s);let o=vt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const S=Tt(v),M=S.Fs.get(b);return M!==void 0?X.resolve(S.vs.get(M)):S.li.getTargetData(y,b)})(a,d,Ci(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Ot()))).next((p=>(TC(a,aR(t),p),{documents:p,ks:c})))))}function TC(s,t,i){let a=s.Ms.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Xv{constructor(){this.activeTargetIds=fR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.vo=new Xv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SC{Mo(t){}shutdown(){}}const $v="ConnectivityMonitor";class Jv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st($v,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function cm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const jd="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=cm(),p=this.Qo(t,i.toUriEncodedString());st(jd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(p),b=il(y);return this.zo(t,p,v,a,b).then((S=>(st(jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=AC[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class RC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yo=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ya extends wC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=f1();yo(t,h1.STAT_EVENT,(i=>{i.stat===Zd.PROXY?st(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===Zd.NOPROXY&&st(Xe,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,i,a,o,c){const d=cm();return new Promise(((p,v)=>{const y=new u1;y.setWithCredentials(!0),y.listenOnce(c1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const S=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Uc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),v(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const M=y.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const et=(function(ft){const at=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(at)>=0?at:$.UNKNOWN})(Z.status);v(new ot(et,Z.message))}else v(new ot($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ot($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let S=!1,M=!1;const F=new RC({Ho:Z=>{M?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(S||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return yo(b,_o.EventType.OPEN,(()=>{M||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),F.i_())})),yo(b,_o.EventType.CLOSE,(()=>{M||(M=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),F.o_(),this.E_(b))})),yo(b,_o.EventType.ERROR,(Z=>{M||(M=!0,Ja(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),yo(b,_o.EventType.MESSAGE,(Z=>{if(!M){const et=Z.data[0];Gt(!!et,16349);const W=et,ft=W?.error||W[0]?.error;if(ft){st(Xe,`RPC '${t}' stream ${o} received error:`,ft);const at=ft.status;let mt=(function(Ut){const N=Ce[Ut];if(N!==void 0)return Q1(N)})(at),kt=ft.message;mt===void 0&&(mt=$.INTERNAL,kt="Unknown error status: "+at+" with message "+ft.message),M=!0,F.o_(new ot(mt,kt)),b.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,et),F.__(et)}})),Ya.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d1()}}function CC(s){return new Ya(s)}function Bd(){return typeof document<"u"?document:null}function Eh(s){return new DR(s,!0)}Ya.c_=!1;class lE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Zv="PersistentStream";class oE{constructor(t,i,a,o,c,d,p,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends oE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ii(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=im(v)?{documents:LR(c,v)}:{query:PR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=X1(c,d.resumeToken);const y=rm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=rm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=jR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.K_(i)}}class xC extends oE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=UR(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kR(this.serializer,a)))};this.K_(i)}}class NC{}class DC extends NC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,am(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OC(s,t,i,a){return new DC(s,t,i,a)}class MC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class VC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(st(Qr,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await Yo(y),y.Va.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Va=new MC(a,o)}}async function Th(s){if(Xr(s))for(const t of s.Ra)await t(!0)}async function Yo(s){for(const t of s.Ra)await t(!1)}function uE(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Zm(i):ul(i).O_()&&Jm(i,t))}function $m(s,t){const i=Tt(s),a=ul(i);i.Ia.delete(t),a.O_()&&cE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Va.set("Unknown"))}function Jm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(s).Z_(t)}function cE(s,t){s.da.$e(t),ul(s).X_(t)}function Zm(s){s.da=new CR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ul(s).start(),s.Va.ua()}function Wm(s){return Xr(s)&&!ul(s).x_()&&s.Ia.size>0}function Xr(s){return Tt(s).Ea.size===0}function hE(s){s.da=void 0}async function kC(s){s.Va.set("Online")}async function UC(s){s.Ia.forEach(((t,i)=>{Jm(s,t)}))}async function LC(s,t){hE(s),Wm(s)?(s.Va.ha(t),Zm(s)):s.Va.set("Unknown")}async function PC(s,t,i){if(s.Va.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,t)}catch(a){st(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(s,a)}else if(t instanceof jc?s.da.Xe(t):t instanceof K1?s.da.st(t):s.da.tt(t),!i.isEqual(vt.min()))try{const a=await aE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),cE(c,v);const S=new Gs(b.target,v,y,b.sequenceNumber);Jm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){st(Qr,"Failed to raise snapshot:",a),await rh(s,a)}}async function rh(s,t,i){if(!ol(t))throw t;s.Ea.add(1),await Yo(s),s.Va.set("Offline"),i||(i=()=>aE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function fE(s,t){return t().catch((i=>rh(s,i,t)))}async function bh(s){const t=Tt(s),i=nr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;zC(t);)try{const o=await vC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,jC(t,o)}catch(o){await rh(t,o)}dE(t)&&mE(t)}function zC(s){return Xr(s)&&s.Ta.length<10}function jC(s,t){s.Ta.push(t);const i=nr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function dE(s){return Xr(s)&&!nr(s).x_()&&s.Ta.length>0}function mE(s){nr(s).start()}async function BC(s){nr(s).ra()}async function qC(s){const t=nr(s);for(const i of s.Ta)t.ea(i.mutations)}async function HC(s,t,i){const a=s.Ta.shift(),o=Hm.from(a,t,i);await fE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await bh(s)}async function FC(s,t){t&&nr(s).Y_&&await(async function(a,o){if((function(d){return AR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();nr(a).B_(),await fE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bh(a)}})(s,t),dE(s)&&mE(s)}async function Wv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(Qr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Yo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function GC(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Yo(i),i.Va.set("Unknown"))}function ul(s){return s.ma||(s.ma=(function(i,a,o){const c=Tt(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:kC.bind(null,s),Yo:UC.bind(null,s),t_:LC.bind(null,s),J_:PC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Wm(s)?Zm(s):s.Va.set("Unknown")):(await s.ma.stop(),hE(s))}))),s.ma}function nr(s){return s.fa||(s.fa=(function(i,a,o){const c=Tt(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BC.bind(null,s),t_:FC.bind(null,s),ta:qC.bind(null,s),na:HC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new tg(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(s,t){if(ss("AsyncQueue",`${t}: ${s}`),ol(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=vo(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class t0{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(t,i,Xa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class QC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KC{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),c=o.queries;o.queries=e0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function e0(){return new Yr((s=>V1(s)),gh)}async function gE(s,t){const i=Tt(s);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new QC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=eg(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ng(i)}async function pE(s,t){const i=Tt(s),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(s,t){const i=Tt(s);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&ng(i)}function XC(s,t,i){const a=Tt(s),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function ng(s){s.Ca.forEach((t=>{t.next()}))}var hm,n0;(n0=hm||(hm={})).Ma="default",n0.Cache="cache";class yE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class _E{constructor(t){this.key=t}}class vE{constructor(t){this.key=t}}class $C{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=k1(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new t0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,S)=>{const M=o.get(b),F=ph(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;M&&F?M.data.isEqual(F.data)?Z!==et&&(a.track({type:3,doc:F}),W=!0):this.su(M,F)||(a.track({type:2,doc:F}),W=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),W=!0):M&&!F&&(a.track({type:1,doc:M}),W=!0,(v||y)&&(p=!0)),W&&(F?(d=d.add(F),c=et?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(F,Z){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:W})}};return et(F)-et(Z)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new vE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new _E(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class JC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZC{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>V1(p)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(dt.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(s,t,i=!0){const a=wE(s);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await EE(a,t,i,!0),o}async function eI(s,t){const i=wE(s);await EE(i,t,!0,!1)}async function EE(s,t,i,a){const o=await EC(s.localStore,Ci(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await nI(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&uE(s.remoteStore,o),p}async function nI(s,t,i,a,o){s.pu=(S,M,F)=>(async function(et,W,ft,at){let mt=W.view.ru(ft);mt.Ss&&(mt=await Yv(et.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,mt))));const kt=at&&at.targetChanges.get(W.targetId),te=at&&at.targetMismatches.get(W.targetId)!=null,Ut=W.view.applyChanges(mt,et.isPrimaryClient,kt,te);return s0(et,W.targetId,Ut.au),Ut.snapshot})(s,S,M,F);const c=await Yv(s.localStore,t,!0),d=new $C(t,c.ks),p=d.ru(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,v);s0(s,i,y.au);const b=new JC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function iI(s,t,i){const a=Tt(s),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await um(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&$m(a.remoteStore,o.targetId),fm(a,o.targetId)})).catch(ll)):(fm(a,o.targetId),await um(a.localStore,o.targetId,!0))}async function sI(s,t){const i=Tt(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function rI(s,t,i){const a=fI(s);try{const o=await(function(d,p){const v=Tt(d),y=re.now(),b=p.reduce(((F,Z)=>F.add(Z.key)),Ot());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=rs(),et=Ot();return v.xs.getEntries(F,b).next((W=>{Z=W,Z.forEach(((ft,at)=>{at.isValidDocument()||(et=et.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{S=W;const ft=[];for(const at of p){const mt=vR(at,S.get(at.key).overlayedDocument);mt!=null&&ft.push(new rr(at.key,mt,C1(mt.value.mapValue),Wn.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,ft,p)})).next((W=>{M=W;const ft=W.applyToLocalDocumentSet(S,et);return v.documentOverlayCache.saveOverlays(F,W.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:L1(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Dt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Xo(a,o.changes),await bh(a.remoteStore)}catch(o){const c=eg(o,"Failed to persist write");i.reject(c)}}async function TE(s,t){const i=Tt(s);try{const a=await yC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Xo(i,a,t)}catch(a){await ll(a)}}function i0(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((b,S)=>{for(const M of S.ba)M.va(p)&&(y=!0)})),y&&ng(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aI(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const p=Ot().add(c),v=new vh(vt.min(),new Map,new ue(Dt),d,p);await TE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),sg(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(ll)}async function lI(s,t){const i=Tt(s),a=t.batch.batchId;try{const o=await pC(i.localStore,t);SE(i,a,null),bE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xo(i,o)}catch(o){await ll(o)}}async function oI(s,t,i){const a=Tt(s);try{const o=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Gt(S!==null,37113),b=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);SE(a,t,i),bE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xo(a,o)}catch(o){await ll(o)}}function bE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function SE(s,t,i){const a=Tt(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||AE(s,a)}))}function AE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&($m(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),sg(s))}function s0(s,t,i){for(const a of i)a instanceof _E?(s.Vu.addReference(a.key,t),uI(s,a)):a instanceof vE?(st(ig,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||AE(s,a.key)):pt(19791,{wu:a})}function uI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(st(ig,"New document in limbo: "+i),s.Eu.add(a),sg(s))}function sg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(se.fromString(t)),a=s.fu.next();s.Au.set(a,new ZC(i)),s.Ru=s.Ru.insert(i,a),uE(s.remoteStore,new Gs(Ci(jm(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Xo(s,t,i){const a=Tt(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Ym.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const b=Tt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Ts,(F=>b.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.Is,(F=>b.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!ol(S))throw S;st(Xm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=b.vs.get(M),Z=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,et)}}})(a.localStore,c))}async function cI(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){st(ig,"User change. New user:",t.toKey());const a=await rE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xo(i,a.Ns)}}function hI(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let o=Ot();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function wE(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=TE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aI.bind(null,t),t.Pu.J_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function fI(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return gC(this.persistence,new fC,t.initialUser,this.serializer)}Cu(t){return new sE(Km.Vi,this.serializer)}Du(t){return new bC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class dI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new sE((a=>sh.Vi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>i0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=CC(t.databaseInfo);return OC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new VC(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>i0(this.syncEngine,i,0)),(function(){return Jv.v()?new Jv:new SC})())}createSyncEngine(t,i){return(function(o,c,d,p,v,y,b){const S=new WC(o,c,d,p,v,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);st(Qr,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class RE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class mI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=eg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(s,t){s.asyncQueue.verifyOperationInProgress(),st(ir,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function r0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await gI(s);st(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Wv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Wv(t.remoteStore,o))),s._onlineComponents=t}async function gI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(ir,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new ah)}}else st(ir,"Using default OfflineComponentProvider"),await qd(s,new dI(void 0));return s._offlineComponents}async function CE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(ir,"Using user provided OnlineComponentProvider"),await r0(s,s._uninitializedComponentsProvider._online)):(st(ir,"Using default OnlineComponentProvider"),await r0(s,new dm))),s._onlineComponents}function pI(s){return CE(s).then((t=>t.syncEngine))}async function mm(s){const t=await CE(s),i=t.eventManager;return i.onListen=tI.bind(null,t.syncEngine),i.onUnlisten=iI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sI.bind(null,t.syncEngine),i}function yI(s,t,i,a){const o=new RE(a),c=new yE(t,o,i);return s.asyncQueue.enqueueAndForget((async()=>gE(await mm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>pE(await mm(s),c)))}}function _I(s,t,i={}){const a=new $s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const b=new RE({next:M=>{b.Nu(),d.enqueueAndForget((()=>pE(c,S))),M.fromCache&&v.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new yE(p,b,{includeMetadataChanges:!0,Ka:!0});return gE(c,S)})(await mm(s),s.asyncQueue,t,i,a))),a.promise}function vI(s,t){const i=new $s;return s.asyncQueue.enqueueAndForget((async()=>rI(await pI(s),t,i))),i.promise}function IE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const EI="ComponentProvider",a0=new Map;function TI(s,t,i,a,o){return new B2(s,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,IE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const xE="firestore.googleapis.com",l0=!0;class o0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=l0}else this.host=t.host,this.ssl=t.ssl??l0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XR)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new E2;switch(a.type){case"firstParty":return new A2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=a0.get(i);a&&(st(EI,"Removing Datastore"),a0.delete(i),a.terminate())})(this),Promise.resolve()}}function bI(s,t,i,a={}){s=Zn(s,Sh);const o=il(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;o&&(A0(`https://${p}`),w0("Firestore",!0)),c.host!==xE&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!qr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=Bb(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(S)}s._authCredentials=new T2(new g1(y,b))}}class $o{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new $o(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Go(i,xe._jsonSchema))return new xe(t,a||null,new dt(se.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ie("string",xe._jsonSchemaVersion),referencePath:Ie("string")};class Js extends $o{constructor(t,i,a){super(t,i,jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new dt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function rg(s,t,...i){if(s=We(s),p1("collection","path",t),s instanceof Sh){const a=se.fromString(t,...i);return bv(a),new Js(s,null,a)}{if(!(s instanceof xe||s instanceof Js))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(t,...i));return bv(a),new Js(s.firestore,null,a)}}function Pr(s,t,...i){if(s=We(s),arguments.length===1&&(t=Mm.newId()),p1("doc","path",t),s instanceof Sh){const a=se.fromString(t,...i);return Tv(a),new xe(s,null,new dt(a))}{if(!(s instanceof xe||s instanceof Js))throw new ot($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(t,...i));return Tv(a),new xe(s.firestore,s instanceof Js?s.converter:null,new dt(a))}}const u0="AsyncQueue";class c0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&st(u0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;st(u0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",h0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=tg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:h0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function h0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Kr extends Sh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new c0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c0(t),this._firestoreClient=void 0,await t}}}function SI(s,t){const i=typeof s=="object"?s:Sm(),a=typeof s=="string"?s:Jc,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=zb("firestore");c&&bI(o,...c)}return o}function ag(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AI(s),s._firestoreClient}function AI(s){const t=s._freezeSettings(),i=TI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new mI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Go(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class lg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class og{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Go(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class ti{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Go(t,ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ti(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ie("string",ti._jsonSchemaVersion),vectorValues:Ie("object")};const wI=/^__.*__$/;class RI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Qo(t,this.data,i,this.fieldTransforms)}}class NE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function DE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:s})}}class ug{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ug({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(DE(this.dataSource)&&wI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,o=!1){return new ug({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OE(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new CI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function II(s,t,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,o);cg("Data must be an object, but it was:",d,a);const p=ME(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=Lo(t,S,i);if(!d.contains(M))throw new ot($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);UE(b,M)||b.push(M)}v=new bn(b),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new RI(new fn(p),v,y)}class Ah extends og{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function xI(s,t,i,a){const o=s.createContext(1,t,i);cg("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();sr(a,((v,y)=>{const b=kE(t,v,i);y=We(y);const S=o.childContextForFieldPath(b);if(y instanceof Ah)c.push(b);else{const M=wh(y,S);M!=null&&(c.push(b),d.set(b,M))}}));const p=new bn(c);return new NE(d,p,o.fieldTransforms)}function NI(s,t,i,a,o,c){const d=s.createContext(1,t,i),p=[Lo(t,a,i)],v=[o];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Lo(t,c[M])),v.push(c[M+1]);const y=[],b=fn.empty();for(let M=p.length-1;M>=0;--M)if(!UE(y,p[M])){const F=p[M];let Z=v[M];Z=We(Z);const et=d.childContextForFieldPath(F);if(Z instanceof Ah)y.push(F);else{const W=wh(Z,et);W!=null&&(y.push(F),b.set(F,W))}}const S=new bn(y);return new NE(b,S,d.fieldTransforms)}function wh(s,t){if(VE(s=We(s)))return cg("Unsupported field value:",t,s),ME(s,t);if(s instanceof og)return(function(a,o){if(!DE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=wh(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,o){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:X1(o.serializer,a._byteString)};if(a instanceof xe){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ti)return(function(d,p){const v=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[w1]:{stringValue:R1},[Zc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Bm(p.serializer,b)}))}}}}}})(a,o);if(nE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vm(a)}`)})(s,t)}function ME(s,t){const i={};return v1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(s,((a,o)=>{const c=wh(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof xi||s instanceof Ln||s instanceof xe||s instanceof og||s instanceof ti||nE(s))}function cg(s,t,i){if(!VE(i)||!y1(i)){const a=Vm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Lo(s,t,i){if((t=We(t))instanceof lg)return t._internalPath;if(typeof t=="string")return kE(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const DI=new RegExp("[~\\*/\\[\\]]");function kE(s,t,i){if(t.search(DI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new lg(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ot($.INVALID_ARGUMENT,p+s+v)}function UE(s,t){return s.some((i=>i.isEqual(t)))}class OI{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new ti(i)}convertGeoPoint(t){return new xi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Gt(eE(a),9688,{name:t});const o=new Mo(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return o.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class hg extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}const f0="@firebase/firestore",d0="4.10.0";function m0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class LE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Lo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends LE{data(){return super.data()}}function PE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function VI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class To{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends LE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Lo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ie("string",jr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Bc extends jr{data(t={}){return super.data(t)}}class Br{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new To(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new To(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:kI(p.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Br._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}Br._jsonSchemaVersion="firestore/querySnapshot/1.0",Br._jsonSchema={type:Ie("string",Br._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function UI(s){s=Zn(s,$o);const t=Zn(s.firestore,Kr),i=ag(t),a=new hg(t);return PE(s._query),_I(i,s._query).then((o=>new Br(t,a,s,o)))}function gm(s,t,i){s=Zn(s,xe);const a=Zn(s.firestore,Kr),o=VI(s.converter,t),c=OE(a);return fg(a,[II(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Wn.none())])}function LI(s,t,i,...a){s=Zn(s,xe);const o=Zn(s.firestore,Kr),c=OE(o);let d;return d=typeof(t=We(t))=="string"||t instanceof lg?NI(c,"updateDoc",s._key,t,i,a):xI(c,"updateDoc",s._key,t),fg(o,[d.toMutation(s._key,Wn.exists(!0))])}function PI(s){return fg(Zn(s.firestore,Kr),[new qm(s._key,Wn.none())])}function qc(s,...t){s=We(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||m0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof xe)d=Zn(s.firestore,Kr),p=jm(s._key.path),c={next:y=>{t[a]&&t[a](zI(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Zn(s,$o);d=Zn(y.firestore,Kr),p=y._query;const b=new hg(d);c={next:S=>{t[a]&&t[a](new Br(d,b,y,S))},error:t[a+1],complete:t[a+2]},PE(s._query)}const v=ag(d);return yI(v,p,o,c)}function fg(s,t){const i=ag(s);return vI(i,t)}function zI(s,t,i){const a=i.docs.get(t._key),o=new hg(s);return new jr(s,o,t._key,a,new To(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){v2(sl),$a(new Hr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Kr(new b2(a.getProvider("auth-internal")),new w2(d,a.getProvider("app-check-internal")),q2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(f0,d0,t),Ys(f0,d0,"esm2020")})();const zE=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const jI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const BI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const g0=s=>{const t=BI(s);return t.charAt(0).toUpperCase()+t.slice(1)};var qI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const FI=wt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>wt.createElement("svg",{ref:v,...qI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:zE("lucide",o),...!c&&!HI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>wt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Bt=(s,t)=>{const i=wt.forwardRef(({className:a,...o},c)=>wt.createElement(FI,{ref:c,iconNode:t,className:zE(`lucide-${jI(g0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=g0(s),i};const GI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],QI=Bt("arrow-down",GI);const KI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YI=Bt("arrow-left",KI);const XI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$I=Bt("arrow-right",XI);const JI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ZI=Bt("arrow-up",JI);const WI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pm=Bt("calendar",WI);const tx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ex=Bt("chevron-right",tx);const nx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ix=Bt("clock",nx);const sx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],rx=Bt("coins",sx);const ax=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lx=Bt("external-link",ax);const ox=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ux=Bt("eye-off",ox);const cx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hx=Bt("eye",cx);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dx=Bt("globe",fx);const mx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gx=Bt("image",mx);const px=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],yx=Bt("list-checks",px);const _x=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dg=Bt("loader-circle",_x);const vx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ex=Bt("lock",vx);const Tx=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],bx=Bt("log-in",Tx);const Sx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jE=Bt("log-out",Sx);const Ax=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wx=Bt("map-pin",Ax);const Rx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],BE=Bt("pen-line",Rx);const Cx=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ym=Bt("plane",Cx);const Ix=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_m=Bt("plus",Ix);const xx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Nx=Bt("shield-alert",xx);const Dx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ox=Bt("shield-check",Dx);const Mx=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Vx=Bt("sticky-note",Mx);const kx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ux=Bt("sun",kx);const Lx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qE=Bt("trash-2",Lx);const Px=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HE=Bt("user-cog",Px);const zx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jx=Bt("user-plus",zx);const Bx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p0=Bt("user",Bx);const qx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Hx=Bt("wallet",qx);const Fx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gx=Bt("x",Fx),FE=" V6.0 - 2026/02/15 22:15",Qx=()=>{try{const s=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65"},t=sA().length>0?Sm():I0(s);return{fAuth:y2(t),fDb:SI(t),fAppId:"travel-yeh"}}catch(s){return console.error("Firebase Init Crash",s),{fAuth:null,fDb:null,fAppId:"travel-yeh"}}},{fAuth:Hd,fDb:$n,fAppId:Ai}=Qx(),y0=(s,t)=>{if(!s)return"";try{const i=new Date(s);return i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return""}},Kx=(s,t)=>{if(!s)return"";try{const i=new Date(s);return i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{weekday:"long"})}catch{return""}},Yx=s=>{if(!s||typeof s!="string")return null;const t=/(https?:\/\/[^\s]+)/g;return s.split(t).map((a,o)=>a.match(/^https?:\/\//)?w.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",onClick:c=>c.stopPropagation(),children:[" ",w.jsx(lx,{size:12})]},o):a)},Xx=({authUser:s,onLoginSuccess:t,onAdminSuccess:i})=>{const[a,o]=wt.useState(""),[c,d]=wt.useState(""),[p,v]=wt.useState(""),[y,b]=wt.useState(!1),[S,M]=wt.useState([]),[F,Z]=wt.useState(!1);wt.useEffect(()=>{let W=!0;(async()=>{if(s)try{const mt=rg($n,"artifacts",Ai,"public","data","users_db"),kt=await UI(mt);W&&(M(kt.docs.map(te=>te.data())),Z(!0))}catch{console.warn(""),W&&Z(!0)}})();const at=setTimeout(()=>{W&&Z(!0)},4e3);return()=>{W=!1,clearTimeout(at)}},[s]);const et=W=>{if(W.preventDefault(),a==="yljh"&&c==="yljh8320873"){i();return}S.find(at=>at.username===a&&at.password===c)||a==="abc"&&c==="abc"?t():(v(""),d(""))};return w.jsx("div",{className:"min-h-screen w-full bg-slate-50 flex items-center justify-center p-6 font-sans",children:w.jsxs("div",{className:"max-w-md w-full animate-fade-in",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"w-20 h-20 bg-blue-600 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl rotate-12 shadow-blue-200",children:y?w.jsx(Ox,{size:40}):w.jsx(ym,{size:40})}),w.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:y?"":""}),w.jsx("p",{className:"text-slate-400 font-bold mt-2",children:y?"":""})]}),w.jsxs("form",{onSubmit:et,className:"bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx(p0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),w.jsx("input",{required:!0,type:"text",value:a,onChange:W=>o(W.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700",placeholder:""})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx(Ex,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),w.jsx("input",{required:!0,type:"password",value:c,onChange:W=>d(W.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700",placeholder:""})]})]}),p&&w.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-xs font-bold bg-red-50 p-3 rounded-xl animate-pulse",children:[w.jsx(Nx,{size:14})," ",p]}),w.jsx("button",{type:"submit",disabled:!F,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-5 rounded-2xl font-black flex items-center justify-center gap-3 shadow-xl active:scale-95 disabled:opacity-50",children:F?w.jsxs(w.Fragment,{children:[w.jsx(bx,{size:20})," "]}):w.jsx(dg,{className:"animate-spin"})})]}),w.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[w.jsxs("button",{onClick:()=>{b(!y),v("")},className:"flex items-center gap-2 text-xs font-black text-blue-600 bg-blue-50 px-8 py-3 rounded-full hover:bg-blue-100 transition-all shadow-sm",children:[y?w.jsx(p0,{size:14}):w.jsx(HE,{size:14}),y?"":""]}),w.jsxs("p",{className:"text-center text-slate-300 text-[10px] font-bold mt-8 uppercase tracking-widest leading-loose",children:["Powered by ",w.jsx("br",{}),FE]})]})]})})},$x=({authUser:s,onLogout:t})=>{const[i,a]=wt.useState([]),[o,c]=wt.useState(""),[d,p]=wt.useState(""),[v,y]=wt.useState(null),[b,S]=wt.useState(!0);wt.useEffect(()=>{if(!s||!$n)return;const F=rg($n,"artifacts",Ai,"public","data","users_db");return qc(F,Z=>{a(Z.docs.map(et=>({id:et.id,...et.data()}))),S(!1)},Z=>{console.error("Admin Permission Error",Z),S(!1)})},[s]);const M=async F=>{F.preventDefault();const Z=v?v.username:o;!Z||!d||(await gm(Pr($n,"artifacts",Ai,"public","data","users_db",Z),{username:Z,password:d,createdAt:v?.createdAt||new Date().toISOString()}),y(null),c(""),p(""))};return b?w.jsxs("div",{className:"flex flex-col items-center justify-center p-20 h-screen",children:[w.jsx(dg,{className:"animate-spin text-blue-600 mb-4",size:48}),w.jsx("p",{className:"font-bold text-slate-400 tracking-widest italic",children:"..."})]}):w.jsxs("div",{className:"w-full min-h-screen bg-slate-50 p-6 md:p-12 animate-fade-in space-y-12",children:[w.jsxs("header",{className:"max-w-5xl mx-auto flex justify-between items-center bg-slate-900 text-white p-8 rounded-[3rem] shadow-2xl",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-500/30",children:w.jsx(HE,{size:32})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-black tracking-tight",children:""}),w.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Login: yljh"})]})]}),w.jsxs("button",{onClick:t,className:"p-4 bg-white/10 hover:bg-red-500 transition-all rounded-2xl flex items-center gap-2 font-black text-sm",children:[w.jsx(jE,{size:20})," "]})]}),w.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-8 md:p-10 rounded-[4rem] shadow-xl border border-slate-100",children:[w.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-6 flex items-center gap-2",children:[w.jsx(jx,{className:"text-blue-600"})," ",v?` ${v.username} `:""]}),w.jsxs("form",{onSubmit:M,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[!v&&w.jsxs("div",{className:"flex-1 space-y-1",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:" traveler_01",value:o,onChange:F=>c(F.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none"})]}),w.jsxs("div",{className:"flex-1 space-y-1",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:"",value:d,onChange:F=>p(F.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none"})]}),w.jsxs("div",{className:"flex gap-2",children:[v&&w.jsx("button",{type:"button",onClick:()=>{y(null),p("")},className:"px-6 py-4 rounded-2xl font-bold text-slate-400",children:""}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700 active:scale-95",children:v?"":""})]})]})]}),w.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-[3rem] shadow-xl border border-slate-100 overflow-hidden",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-8 py-5",children:""}),w.jsx("th",{className:"px-8 py-5",children:""}),w.jsx("th",{className:"px-8 py-5",children:""}),w.jsx("th",{className:"px-8 py-5 text-center",children:""})]})}),w.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(F=>w.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[w.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:F.username}),w.jsx("td",{className:"px-8 py-5 font-mono text-blue-600 font-bold",children:F.password}),w.jsx("td",{className:"px-8 py-5 text-slate-400 text-xs font-bold",children:new Date(F.createdAt).toLocaleDateString()}),w.jsx("td",{className:"px-8 py-5 text-center",children:w.jsxs("div",{className:"flex justify-center gap-2",children:[w.jsx("button",{onClick:()=>{y(F),p(F.password)},className:"p-2 text-slate-300 hover:text-blue-600 transition-colors",children:w.jsx(BE,{size:18})}),w.jsx("button",{onClick:async()=>{confirm("")&&await PI(Pr($n,"artifacts",Ai,"public","data","users_db",F.id))},className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:w.jsx(qE,{size:18})})]})})]},F.id))})]})})]})},Jx=s=>w.jsxs("div",{className:"space-y-12",children:[w.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(s.itineraryData?.days||{}).map(t=>w.jsxs("button",{onClick:()=>{s.setActiveDay(parseInt(t)),s.setEditingId(null)},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${s.activeDay===parseInt(t)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[w.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),w.jsx("span",{className:"text-3xl leading-none",children:t}),w.jsx("span",{className:"text-[10px] mt-1 font-bold",children:y0(s.tripInfo.startDate,parseInt(t)).split("/").slice(1).join("/")})]},t))}),w.jsxs("div",{className:"space-y-6 px-4",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",s.activeDay]}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200 shadow-inner",children:[w.jsx("button",{onClick:()=>s.moveDay(-1),disabled:s.activeDay===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:w.jsx(YI,{size:20})}),w.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),w.jsx("button",{onClick:()=>s.moveDay(1),disabled:s.activeDay===parseInt(s.tripInfo.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:w.jsx($I,{size:20})})]})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("span",{className:"text-lg text-slate-400 font-bold ml-1 mb-1 block tracking-tight",children:["(",y0(s.tripInfo.startDate,s.activeDay)," ",Kx(s.tripInfo.startDate,s.activeDay),")"]}),w.jsx("input",{className:"text-3xl md:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 w-full transition-all",placeholder:"...",value:s.itineraryData?.days?.[s.activeDay]?.title||"",onChange:t=>s.updateItinField(`days.${s.activeDay}.title`,t.target.value)})]})]}),w.jsx("div",{className:"flex justify-center md:justify-start px-4",children:w.jsxs("button",{onClick:()=>s.setShowAllNotes(!s.setShowAllNotes),className:`flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border ${s.showAllNotes?"bg-blue-600 text-white border-blue-600 shadow-blue-100 shadow-md":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:[s.showAllNotes?w.jsx(ux,{size:16}):w.jsx(hx,{size:16})," ",s.showAllNotes?"":""]})})]}),w.jsxs("div",{className:"bg-white p-6 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[w.jsxs("form",{onSubmit:async t=>{t.preventDefault();const i=s.itineraryData?.days?.[s.activeDay]?.spots||[];await s.updateItinField(`days.${s.activeDay}.spots`,[...i,{...s.newSpot,id:Date.now().toString()}]),s.setNewSpot({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[w.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm shadow-inner",children:[w.jsx(ix,{size:18,className:"text-blue-500"}),w.jsx("input",{type:"time",value:s.newSpot.time,onChange:t=>s.setNewSpot({...s.newSpot,time:t.target.value}),className:"bg-transparent font-black outline-none w-24 text-slate-700"})]}),w.jsx("input",{placeholder:"",required:!0,value:s.newSpot.spot,onChange:t=>s.setNewSpot({...s.newSpot,spot:t.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm shadow-inner"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("div",{className:"w-1/3 flex items-center gap-2 bg-white px-4 py-2 rounded-xl border shadow-sm text-xs font-bold text-slate-400",children:[w.jsx(gx,{size:18}),w.jsx("input",{placeholder:"",value:s.newSpot.imageUrl,onChange:t=>s.setNewSpot({...s.newSpot,imageUrl:t.target.value}),className:"bg-transparent outline-none w-full"})]}),w.jsx("textarea",{placeholder:" ()...",value:s.newSpot.note,onChange:t=>s.setNewSpot({...s.newSpot,note:t.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm shadow-sm shadow-inner"}),w.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black active:scale-95 shadow-lg flex items-center justify-center shadow-slate-200 shadow-md",children:w.jsx(_m,{size:24})})]})]}),w.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full px-2",children:[(s.itineraryData?.days?.[s.activeDay]?.spots||[]).map((t,i)=>{const a=s.showAllNotes||!!s.expandedItems[t.id],o=s.editingId===t.id;return w.jsxs("div",{className:"relative pl-20 group",children:[w.jsxs("div",{className:"absolute left-[-15px] top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[w.jsx("button",{onClick:c=>{c.stopPropagation();const d=[...s.itineraryData.days[s.activeDay].spots];i>0&&([d[i],d[i-1]]=[d[i-1],d[i]],s.updateItinField(`days.${s.activeDay}.spots`,d))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:w.jsx(ZI,{size:20})}),w.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md transition-transform group-hover:scale-110",children:t.time}),w.jsx("button",{onClick:c=>{c.stopPropagation();const d=[...s.itineraryData.days[s.activeDay].spots];i<s.itineraryData.days[s.activeDay].spots?.length-1&&([d[i],d[i+1]]=[d[i+1],d[i]],s.updateItinField(`days.${s.activeDay}.spots`,d))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:w.jsx(QI,{size:20})})]}),w.jsx("div",{onClick:()=>!o&&s.setExpandedItems(c=>({...c,[t.id]:!c[t.id]})),className:`p-10 bg-white border rounded-[3rem] transition-all cursor-pointer ${o?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:o?w.jsxs("div",{className:"space-y-4 animate-fade-in",onClick:c=>c.stopPropagation(),children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"time",value:s.editData.time,onChange:c=>s.setEditData({...s.editData,time:c.target.value}),className:"p-3 border rounded-xl font-black w-32 bg-slate-50 outline-none shadow-inner"}),w.jsx("input",{value:s.editData.spot,onChange:c=>s.setEditData({...s.editData,spot:c.target.value}),className:"flex-1 p-3 border rounded-xl font-black bg-slate-50 outline-none shadow-inner"})]}),w.jsx("input",{placeholder:"...",value:s.editData.imageUrl||"",onChange:c=>s.setEditData({...s.editData,imageUrl:c.target.value}),className:"w-full p-3 border rounded-xl bg-slate-50 outline-none text-xs font-bold shadow-inner"}),w.jsx("textarea",{value:s.editData.note,onChange:c=>s.setEditData({...s.editData,note:c.target.value}),className:"w-full p-3 border rounded-xl h-24 bg-slate-50 outline-none text-sm shadow-inner"}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:c=>{c.stopPropagation(),s.setEditingId(null)},className:"text-sm font-bold text-slate-400 px-4",children:""}),w.jsx("button",{onClick:async c=>{c.stopPropagation();const d=s.itineraryData.days[s.activeDay].spots.map(p=>p.id===s.editingId?s.editData:p);await s.updateItinField(`days.${s.activeDay}.spots`,d),s.setEditingId(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg shadow-blue-100",children:""})]})]}):w.jsxs("div",{className:"flex justify-between items-start gap-4",children:[w.jsxs("div",{className:"space-y-4 flex-1",children:[w.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[w.jsx("h4",{className:"text-3xl font-black text-slate-800 leading-tight tracking-tight",children:t.spot}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.spot)}`,target:"_blank",rel:"noreferrer",onClick:c=>c.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-xl transition-all inline-flex items-center gap-1.5 text-xs font-black shadow-sm shadow-blue-100 hover:bg-blue-600 hover:text-white",children:[w.jsx(wx,{size:14})," "]}),(t.note||t.imageUrl)&&w.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1.5 text-[10px] font-black uppercase ${a?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[w.jsx(Vx,{size:12})," ",a?"":""]})]})]}),a&&w.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100 space-y-4 animate-fade-in",onClick:c=>c.stopPropagation(),children:[t.imageUrl&&w.jsx("div",{className:"relative group/img overflow-hidden rounded-2xl border border-white shadow-sm max-w-md",children:w.jsx("img",{src:t.imageUrl,alt:t.spot,className:"w-full max-w-md h-auto rounded-2xl shadow-sm border border-white cursor-zoom-in",onError:c=>c.target.style.display="none",onClick:c=>{c.stopPropagation(),window.open(t.imageUrl,"_blank")}})}),w.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:Yx(t.note)||""})]})]}),w.jsxs("div",{className:"flex flex-col gap-2 transition-all",children:[w.jsx("button",{onClick:c=>{c.stopPropagation(),s.setEditingId(t.id),s.setEditData({...t})},className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all shadow-sm",children:w.jsx(BE,{size:20})}),w.jsx("button",{onClick:async c=>{if(c.stopPropagation(),confirm("")){const d=s.itineraryData.days[s.activeDay].spots.filter(p=>p.id!==t.id);await s.updateItinField(`days.${activeDay}.spots`,d)}},className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm",children:w.jsx(qE,{size:20})})]})]})})]},t.id)}),!s.itineraryData?.days?.[s.activeDay]?.spots?.length&&w.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[w.jsx(pm,{className:"text-slate-100 mx-auto mb-6 opacity-20",size:80}),w.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}),Zx=({itineraryData:s,updateItinField:t})=>w.jsx(ExpenseMaster,{itineraryData:s,updateItinField:t}),Wx=({itineraryData:s,updateItinField:t})=>w.jsx(CurrencyMaster,{itineraryData:s,updateItinField:t}),tN=({itineraryData:s,updateItinField:t})=>w.jsx(ChecklistMaster,{itineraryData:s,updateItinField:t}),eN=()=>{const[s,t]=wt.useState(!1),[i,a]=wt.useState(!1),[o,c]=wt.useState("home"),[d,p]=wt.useState("itinerary"),[v,y]=wt.useState(null),[b,S]=wt.useState(null),[M,F]=wt.useState([]),[Z,et]=wt.useState(!0),[W,ft]=wt.useState(1),[at,mt]=wt.useState({country:"",city:"",startDate:"",duration:3}),[kt,te]=wt.useState({days:{},checklist:[],expenses:[],customRates:{},useCustom:{}}),[Ut,N]=wt.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[A,x]=wt.useState(null),[V,O]=wt.useState({}),[U,C]=wt.useState({type:"",message:""}),[ee,fe]=wt.useState(!1),[G,it]=wt.useState({});wt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await iw(Hd,__initial_auth_token):await ZA(Hd)}catch(J){console.error("Root Auth failed",J)}finally{et(!1)}})();const H=aw(Hd,y);return()=>H()},[]),wt.useEffect(()=>{if(!v||!s&&!i)return;const R=rg($n,"artifacts",Ai,"public","data","trips");return qc(R,H=>{F(H.docs.map(J=>({id:J.id,...J.data()})).sort((J,nt)=>new Date(nt.createdAt)-new Date(J.createdAt)))},H=>{H.code==="permission-denied"&&console.error("Trips Snap Permission Denied")})},[v,s,i]),wt.useEffect(()=>{if(!v||!b||!s)return;const R=Pr($n,"artifacts",Ai,"public","data","itineraries",b),H=qc(R,ht=>{if(ht.exists()){const yt=ht.data();te({days:yt.days||{},checklist:yt.checklist||[],expenses:yt.expenses||[],customRates:yt.customRates||{},useCustom:yt.useCustom||{}}),c("editor")}}),J=Pr($n,"artifacts",Ai,"public","data","trips",b),nt=qc(J,ht=>{ht.exists()&&mt(ht.data())});return()=>{H(),nt()}},[v,b,s]);const ut=async(R,H)=>{if(!(!v||!b))try{await LI(Pr($n,"artifacts",Ai,"public","data","itineraries",b),{[R]:H})}catch(J){console.error(J)}},Mt=async R=>{if(!v||!b)return;const H={...kt.days},J=W+R;if(J<1||J>parseInt(at.duration||"0"))return;const nt=H[W],ht=H[J];H[W]=ht,H[J]=nt,await ut("days",H),ft(J),C({type:"success",message:""})},qt=async R=>{if(R.preventDefault(),!v)return;et(!0);const H=crypto.randomUUID(),J={};for(let nt=1;nt<=Math.max(1,parseInt(at.duration));nt++)J[nt]={spots:[]};try{await gm(Pr($n,"artifacts",Ai,"public","data","trips",H),{...at,creator:v.uid,createdAt:new Date().toISOString()}),await gm(Pr($n,"artifacts",Ai,"public","data","itineraries",H),{days:J,checklist:[],expenses:[],customRates:{},useCustom:{}}),S(H)}catch(nt){console.error(nt)}finally{et(!1)}};return wt.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const H=document.createElement("script");H.id="tailwind-cdn",H.src="https://cdn.tailwindcss.com",document.head.appendChild(H)}const R=document.createElement("style");R.id="premium-ui-engine-v6.0",R.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { min-height: 100vh !important; width: 100% !important; background-color: #f8fafc !important; font-family: 'Noto Sans TC', sans-serif !important; }
      #root { display: flex !important; flex-direction: column !important; align-items: center !important; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(R)},[]),!s&&!i?w.jsx(Xx,{user:v,onLoginSuccess:()=>t(!0),onAdminSuccess:()=>a(!0)}):i?w.jsx($x,{user:v,onLogout:()=>a(!1)}):Z?w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[w.jsx(dg,{className:"animate-spin text-blue-600 mb-2",size:48}),w.jsx("p",{className:"text-slate-500 font-bold italic tracking-widest leading-none",children:"..."})]}):w.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen",children:[U.message&&w.jsxs("div",{className:"fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border bg-white text-green-600 border-green-100 shadow-green-100",children:[" ",w.jsx("span",{className:"font-bold text-sm",children:U.message}),w.jsx("button",{onClick:()=>C({type:"",message:""}),children:w.jsx(Gx,{size:14})})," "]}),o==="home"?w.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-fade-in px-4",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200 shadow-lg",children:w.jsx(ym,{size:48})}),w.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase leading-none",children:"Travel Planner"}),w.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center uppercase",children:" - "})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start px-4",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[w.jsx(_m,{className:"text-blue-600"})," "]}),w.jsxs("form",{onSubmit:qt,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white shadow-slate-200",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:at.country,onChange:R=>mt({...at,country:R.target.value})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:at.city,onChange:R=>mt({...at,city:R.target.value})})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:at.startDate,onChange:R=>mt({...at,startDate:R.target.value})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:at.duration,onChange:R=>mt({...at,duration:R.target.value})})]})]}),w.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all active:scale-95 shadow-blue-100 flex items-center justify-center gap-2",children:[w.jsx(_m,{size:24})," "]})]})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[w.jsx(pm,{className:"text-blue-600"}),"  (",M.length,")"]}),w.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:M.map(R=>w.jsxs("div",{onClick:()=>S(R.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-5",children:[w.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm shadow-inner",children:w.jsx(dx,{size:24})}),w.jsxs("div",{children:[w.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[R.city," "]}),w.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:[R.country,"  ",R.startDate]})]})]}),w.jsx(ex,{className:"text-slate-200 group-hover:text-blue-600"})]},R.id))})]})]}),w.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:FE})]}):w.jsxs("div",{className:"w-full flex flex-col items-center pb-24 animate-fade-in px-4",children:[w.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50 shadow-sm max-w-[100vw] overflow-x-hidden",children:[w.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[w.jsx(ym,{size:24,className:"rotate-45"}),w.jsx("span",{className:"tracking-tighter uppercase font-black font-sans hidden sm:inline",children:"Traveler"})]}),w.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:["itinerary","weather","expenses","checklist","currency"].map(R=>w.jsx("button",{onClick:()=>p(R),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${d===R?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400 hover:text-slate-600"}`,children:R==="itinerary"?"":R==="weather"?"":R==="expenses"?"":R==="checklist"?"":""},R))}),w.jsxs("div",{className:"text-right flex items-center gap-4",children:[w.jsxs("div",{className:"hidden sm:block text-right",children:[w.jsxs("div",{className:"font-black text-slate-800 tracking-tight truncate max-w-[150px] leading-none",children:[at.city," "]}),w.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-1",children:at.startDate})]}),w.jsx("button",{onClick:()=>{t(!1),a(!1)},className:"p-2 text-slate-300 hover:text-red-500 transition-colors shadow-sm bg-white rounded-xl",children:w.jsx(jE,{size:20})})]})]}),w.jsx("main",{className:"w-full max-w-5xl p-4 md:p-12",children:d==="itinerary"?w.jsx(Jx,{tripInfo:at,itineraryData:kt,activeDay:W,setActiveDay:ft,moveDay:Mt,updateItinField:ut,showAllNotes:ee,setShowAllNotes:fe,expandedItems:G,setExpandedItems:it,editingId:A,setEditingId:x,editData:V,setEditData:O,newSpot:Ut,setNewSpot:N}):d==="weather"?w.jsx(WeatherMasterMasterSection,{tripInfo:at}):d==="expenses"?w.jsx(Zx,{itineraryData:kt,updateItinField:ut}):d==="checklist"?w.jsx(tN,{itineraryData:kt,updateItinField:ut}):w.jsx(Wx,{itineraryData:kt,updateItinField:ut})}),w.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[w.jsx("button",{onClick:()=>p("itinerary"),className:`p-4 rounded-2xl transition-all ${d==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(pm,{size:20})}),w.jsx("button",{onClick:()=>p("weather"),className:`p-4 rounded-2xl transition-all ${d==="weather"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(Ux,{size:20})}),w.jsx("button",{onClick:()=>p("expenses"),className:`p-4 rounded-2xl transition-all ${d==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(Hx,{size:20})}),w.jsx("button",{onClick:()=>p("checklist"),className:`p-4 rounded-2xl transition-all ${d==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(yx,{size:20})}),w.jsx("button",{onClick:()=>p("currency"),className:`p-4 rounded-2xl transition-all ${d==="currency"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(rx,{size:20})})]})]})]})};Nb.createRoot(document.getElementById("root")).render(w.jsx(wt.StrictMode,{children:w.jsx(eN,{})}));
