(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var wd={exports:{}},po={};var V_;function Tb(){if(V_)return po;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=t,po.jsx=i,po.jsxs=i,po}var k_;function bb(){return k_||(k_=1,wd.exports=Tb()),wd.exports}var w=bb(),Rd={exports:{}},Tt={};var U_;function Ab(){if(U_)return Tt;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function G(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,K={};function st(C,H,W){this.props=C,this.context=H,this.refs=K,this.updater=W||$}st.prototype.isReactComponent={},st.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},st.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function at(){}at.prototype=st.prototype;function ft(C,H,W){this.props=C,this.context=H,this.refs=K,this.updater=W||$}var lt=ft.prototype=new at;lt.constructor=ft,tt(lt,st.prototype),lt.isPureReactComponent=!0;var Rt=Array.isArray;function Ct(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(C,H,W){var nt=W.ref;return{$$typeof:r,type:C,key:H,ref:nt!==void 0?nt:null,props:W}}function V(C,H){return x(C.type,H,C.props)}function M(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function U(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return H[W]})}var R=/\/+/g;function ee(C,H){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):H.toString(36)}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ct,Ct):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function F(C,H,W,nt,mt){var _t=typeof C;(_t==="undefined"||_t==="boolean")&&(C=null);var Pt=!1;if(C===null)Pt=!0;else switch(_t){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(C.$$typeof){case r:case t:Pt=!0;break;case b:return Pt=C._init,F(Pt(C._payload),H,W,nt,mt)}}if(Pt)return mt=mt(C),Pt=nt===""?"."+ee(C,0):nt,Rt(mt)?(W="",Pt!=null&&(W=Pt.replace(R,"$&/")+"/"),F(mt,H,W,"",function(ar){return ar})):mt!=null&&(M(mt)&&(mt=V(mt,W+(mt.key==null||C&&C.key===mt.key?"":(""+mt.key).replace(R,"$&/")+"/")+Pt)),H.push(mt)),1;Pt=0;var Ne=nt===""?".":nt+":";if(Rt(C))for(var ae=0;ae<C.length;ae++)nt=C[ae],_t=Ne+ee(nt,ae),Pt+=F(nt,H,W,_t,mt);else if(ae=G(C),typeof ae=="function")for(C=ae.call(C),ae=0;!(nt=C.next()).done;)nt=nt.value,_t=Ne+ee(nt,ae++),Pt+=F(nt,H,W,_t,mt);else if(_t==="object"){if(typeof C.then=="function")return F(fe(C),H,W,nt,mt);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function it(C,H,W){if(C==null)return C;var nt=[],mt=0;return F(C,nt,"","",function(_t){return H.call(W,_t,mt++)}),nt}function ht(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ht={map:it,forEach:function(C,H,W){it(C,function(){H.apply(this,arguments)},W)},count:function(C){var H=0;return it(C,function(){H++}),H},toArray:function(C){return it(C,function(H){return H})||[]},only:function(C){if(!M(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Tt.Activity=A,Tt.Children=Ht,Tt.Component=st,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=ft,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(C,H,W){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var nt=tt({},C.props),mt=C.key;if(H!=null)for(_t in H.key!==void 0&&(mt=""+H.key),H)!S.call(H,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&H.ref===void 0||(nt[_t]=H[_t]);var _t=arguments.length-2;if(_t===1)nt.children=W;else if(1<_t){for(var Pt=Array(_t),Ne=0;Ne<_t;Ne++)Pt[Ne]=arguments[Ne+2];nt.children=Pt}return x(C.type,mt,nt)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Tt.createElement=function(C,H,W){var nt,mt={},_t=null;if(H!=null)for(nt in H.key!==void 0&&(_t=""+H.key),H)S.call(H,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=H[nt]);var Pt=arguments.length-2;if(Pt===1)mt.children=W;else if(1<Pt){for(var Ne=Array(Pt),ae=0;ae<Pt;ae++)Ne[ae]=arguments[ae+2];mt.children=Ne}if(C&&C.defaultProps)for(nt in Pt=C.defaultProps,Pt)mt[nt]===void 0&&(mt[nt]=Pt[nt]);return x(C,_t,mt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=M,Tt.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ht}},Tt.memo=function(C,H){return{$$typeof:y,type:C,compare:H===void 0?null:H}},Tt.startTransition=function(C){var H=N.T,W={};N.T=W;try{var nt=C(),mt=N.S;mt!==null&&mt(W,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Ct,Ut)}catch(_t){Ut(_t)}finally{H!==null&&W.types!==null&&(H.types=W.types),N.T=H}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(C){return N.H.use(C)},Tt.useActionState=function(C,H,W){return N.H.useActionState(C,H,W)},Tt.useCallback=function(C,H){return N.H.useCallback(C,H)},Tt.useContext=function(C){return N.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,H){return N.H.useDeferredValue(C,H)},Tt.useEffect=function(C,H){return N.H.useEffect(C,H)},Tt.useEffectEvent=function(C){return N.H.useEffectEvent(C)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(C,H,W){return N.H.useImperativeHandle(C,H,W)},Tt.useInsertionEffect=function(C,H){return N.H.useInsertionEffect(C,H)},Tt.useLayoutEffect=function(C,H){return N.H.useLayoutEffect(C,H)},Tt.useMemo=function(C,H){return N.H.useMemo(C,H)},Tt.useOptimistic=function(C,H){return N.H.useOptimistic(C,H)},Tt.useReducer=function(C,H,W){return N.H.useReducer(C,H,W)},Tt.useRef=function(C){return N.H.useRef(C)},Tt.useState=function(C){return N.H.useState(C)},Tt.useSyncExternalStore=function(C,H,W){return N.H.useSyncExternalStore(C,H,W)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.4",Tt}var L_;function vm(){return L_||(L_=1,Rd.exports=Ab()),Rd.exports}var It=vm(),Cd={exports:{}},go={},Id={exports:{}},xd={};var P_;function Sb(){return P_||(P_=1,(function(r){function t(F,it){var ht=F.length;F.push(it);t:for(;0<ht;){var Ut=ht-1>>>1,Ht=F[Ut];if(0<o(Ht,it))F[Ut]=it,F[ht]=Ht,ht=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var it=F[0],ht=F.pop();if(ht!==it){F[0]=ht;t:for(var Ut=0,Ht=F.length,C=Ht>>>1;Ut<C;){var H=2*(Ut+1)-1,W=F[H],nt=H+1,mt=F[nt];if(0>o(W,ht))nt<Ht&&0>o(mt,W)?(F[Ut]=mt,F[nt]=ht,Ut=nt):(F[Ut]=W,F[H]=ht,Ut=H);else if(nt<Ht&&0>o(mt,ht))F[Ut]=mt,F[nt]=ht,Ut=nt;else break t}}return it}function o(F,it){var ht=F.sortIndex-it.sortIndex;return ht!==0?ht:F.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,A=null,D=3,G=!1,$=!1,tt=!1,K=!1,st=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function lt(F){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=F)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function Rt(F){if(tt=!1,lt(F),!$)if(i(v)!==null)$=!0,Ct||(Ct=!0,U());else{var it=i(y);it!==null&&fe(Rt,it.startTime-F)}}var Ct=!1,N=-1,S=5,x=-1;function V(){return K?!0:!(r.unstable_now()-x<S)}function M(){if(K=!1,Ct){var F=r.unstable_now();x=F;var it=!0;try{t:{$=!1,tt&&(tt=!1,at(N),N=-1),G=!0;var ht=D;try{e:{for(lt(F),A=i(v);A!==null&&!(A.expirationTime>F&&V());){var Ut=A.callback;if(typeof Ut=="function"){A.callback=null,D=A.priorityLevel;var Ht=Ut(A.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){A.callback=Ht,lt(F),it=!0;break e}A===i(v)&&a(v),lt(F)}else a(v);A=i(v)}if(A!==null)it=!0;else{var C=i(y);C!==null&&fe(Rt,C.startTime-F),it=!1}}break t}finally{A=null,D=ht,G=!1}it=void 0}}finally{it?U():Ct=!1}}}var U;if(typeof ft=="function")U=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=M,U=function(){ee.postMessage(null)}}else U=function(){st(M,0)};function fe(F,it){N=st(function(){F(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var ht=D;D=it;try{return F()}finally{D=ht}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=D;D=F;try{return it()}finally{D=ht}},r.unstable_scheduleCallback=function(F,it,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,F={id:b++,callback:it,priorityLevel:F,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>Ut?(F.sortIndex=ht,t(y,F),i(v)===null&&F===i(y)&&(tt?(at(N),N=-1):tt=!0,fe(Rt,ht-Ut))):(F.sortIndex=Ht,t(v,F),$||G||($=!0,Ct||(Ct=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var it=D;return function(){var ht=D;D=it;try{return F.apply(this,arguments)}finally{D=ht}}}})(xd)),xd}var z_;function wb(){return z_||(z_=1,Id.exports=Sb()),Id.exports}var Nd={exports:{}},Ye={};var j_;function Rb(){if(j_)return Ye;j_=1;var r=vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:G}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:D,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var B_;function Cb(){if(B_)return Nd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=Rb(),Nd.exports}var q_;function Ib(){if(q_)return go;q_=1;var r=wb(),t=vm(),i=Cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case st:return"Profiler";case K:return"StrictMode";case Rt:return"Suspense";case Ct:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ft:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function C(e){return{current:e}}function H(e){0>Ht||(e.current=Ut[Ht],Ut[Ht]=null,Ht--)}function W(e,n){Ht++,Ut[Ht]=e.current,e.current=n}var nt=C(null),mt=C(null),_t=C(null),Pt=C(null);function Ne(e,n){switch(W(_t,n),W(mt,e),W(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(nt),W(nt,e)}function ae(){H(nt),H(mt),H(_t)}function ar(e){e.memoizedState!==null&&W(Pt,e);var n=nt.current,s=s_(n,e.type);n!==s&&(W(mt,e),W(nt,s))}function $r(e){mt.current===e&&(H(nt),H(mt)),Pt.current===e&&(H(Pt),co._currentValue=ht)}var Jr,Zr;function ei(e){if(Jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+Zr}var cl=!1;function lr(e,n){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ei(s):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ei("Activity");default:return""}}function fl(e){try{var n="",s=null;do n+=hl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Rh=r.unstable_shouldYield,Jo=r.unstable_requestPaint,tn=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,Ch=r.unstable_LowPriority,Zo=r.unstable_IdlePriority,Wo=r.log,tu=r.unstable_setDisableYieldValue,Pn=null,ze=null;function An(e){if(typeof Wo=="function"&&tu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var de=Math.clz32?Math.clz32:nu,eu=Math.log,Wr=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Wr|0)|0}var ni=256,ur=262144,ve=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ii(l):(p&=E,p!==0?h=ii(p):s||(s=E&~e,s!==0&&(h=ii(s))))):(E=l&~f,E!==0?h=ii(E):p!==0?h=ii(p):s||(s=l&~e,s!==0&&(h=ii(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-de(s),X=1<<Q;E[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&hr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function hr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function pl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-de(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function gl(e,n){var s=n&-n;return s=(s&42)!==0?1:fr(s),(s&(e.suspendedLanes|n))!==0?0:s}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function jn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,ke="__reactProps$"+Bn,ai="__reactContainer$"+Bn,ta="__reactEvents$"+Bn,Nh="__reactListeners$"+Bn,ru="__reactHandles$"+Bn,au="__reactResources$"+Bn,li="__reactMarker$"+Bn;function ea(e){delete e[Ee],delete e[ke],delete e[ta],delete e[Nh],delete e[ru]}function oi(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ai]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=h_(e);e!==null;){if(s=e[Ee])return s;e=h_(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[Ee]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ui(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var yl=new Set,_l={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function lu(e){return _e.call(Tl,e)?!0:_e.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function na(e,n,s){if(lu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function dr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=us(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function sn(e){return e.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Al(e,p,Ue(n)):s!=null?Al(e,p,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ou(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Kt(e)}function Al(e,n,s){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function hs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Kt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Rl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,di=null;function pr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&dr(l)}break t;case"textarea":uu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&cs(e,!!s.multiple,n,!1)}}}var aa=!1;function ms(e,n,s){if(aa)return e(n,s);aa=!0;try{var l=e(n);return l}finally{if(aa=!1,(ds!==null||di!==null)&&(sc(),ds&&(n=ds,e=di,di=ds=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Rn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){gr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{gr=!1}var mi=null,Cl=null,yr=null;function Il(){if(yr)return yr;var e,n=Cl,s=n.length,l,h="value"in mi?mi.value:mi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return yr=h.slice(e,1<l?1-l:void 0)}function _r(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Gn(){return!1}function je(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=je(Vi),ps=A({},Vi,{view:0,detail:0}),xl=je(ps),gs,la,gi,oa=A({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(gs=e.screenX-gi.screenX,la=e.screenY-gi.screenY):la=gs=0,gi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Nl=je(oa),vr=A({},oa,{dataTransfer:0}),fu=je(vr),du=A({},ps,{relatedTarget:0}),Er=je(du),Dl=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=je(Dl),ua=A({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=je(ua),gu=A({},Vi,{data:0}),yi=je(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function ys(){return Eu}var en=A({},ps,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=je(en),bu=A({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=je(bu),u=A({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=je(u),_=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=A({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),et=A({},Vi,{newState:0,oldState:0}),At=je(et),me=[9,13,27,32],Gt=Rn&&"CompositionEvent"in window,le=null;Rn&&"documentMode"in document&&(le=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!le,_i=Rn&&(!Gt||le&&8<le&&11>=le),Fn=" ",Qn=!1;function Tr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function FE(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function QE(e,n){if(ha)return e==="compositionend"||!Gt&&Tr(e,n)?(e=Il(),yr=Cl=mi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KE[e.type]:n==="textarea"}function pp(e,n,s,l){ds?di?di.push(l):di=[l]:ds=l,n=hc(n,"onChange"),0<n.length&&(s=new pi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ol=null,Ml=null;function YE(e){Jy(e,0)}function Au(e){var n=dn(e);if(dr(n))return e}function gp(e,n){if(e==="change")return n}var yp=!1;if(Rn){var Dh;if(Rn){var Oh="oninput"in document;if(!Oh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Oh=typeof _p.oninput=="function"}Dh=Oh}else Dh=!1;yp=Dh&&(!document.documentMode||9<document.documentMode)}function vp(){Ol&&(Ol.detachEvent("onpropertychange",Ep),Ml=Ol=null)}function Ep(e){if(e.propertyName==="value"&&Au(Ml)){var n=[];pp(n,Ml,e,wn(e)),ms(YE,n)}}function XE(e,n,s){e==="focusin"?(vp(),Ol=n,Ml=s,Ol.attachEvent("onpropertychange",Ep)):e==="focusout"&&vp()}function $E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ml)}function JE(e,n){if(e==="click")return Au(n)}function ZE(e,n){if(e==="input"||e==="change")return Au(n)}function WE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:WE;function Vl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,n){var s=Tp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tp(s)}}function Ap(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ap(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tT=Rn&&"documentMode"in document&&11>=document.documentMode,fa=null,Vh=null,kl=null,kh=!1;function wp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kh||fa==null||fa!==fi(l)||(l=fa,"selectionStart"in l&&Mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=hc(Vh,"onSelect"),0<l.length&&(n=new pi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fa)))}function br(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Uh={},Rp={};Rn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ar(e){if(Uh[e])return Uh[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rp)return Uh[e]=n[s];return e}var Cp=Ar("animationend"),Ip=Ar("animationiteration"),xp=Ar("animationstart"),eT=Ar("transitionrun"),nT=Ar("transitionstart"),iT=Ar("transitioncancel"),Np=Ar("transitionend"),Dp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Kn(e,n){Dp.set(e,n),ci(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ma=0,Ph=0;function wu(){for(var e=ma,n=Ph=ma=0;n<e;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Op(s,h,f)}}function Ru(e,n,s,l){In[ma++]=e,In[ma++]=n,In[ma++]=s,In[ma++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zh(e,n,s,l){return Ru(e,n,s,l),Cu(e)}function Sr(e,n){return Ru(e,null,null,n),Cu(e)}function Op(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<io)throw io=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function sT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new sT(e,n,s,l)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")jh(e)&&(p=1);else if(typeof e=="string")p=ub(e,s,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=gn(31,s,n,h),e.elementType=x,e.lanes=f,e;case tt:return wr(s.children,h,f,n);case K:p=8,h|=24;break;case st:return e=gn(12,s,n,h|2),e.elementType=st,e.lanes=f,e;case Rt:return e=gn(13,s,n,h),e.elementType=Rt,e.lanes=f,e;case Ct:return e=gn(19,s,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:p=10;break t;case at:p=9;break t;case lt:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=gn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function wr(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Bh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Vp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function qh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kp=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var s=kp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fl(n)},kp.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var ga=[],ya=0,xu=null,Ul=0,Nn=[],Dn=0,_s=null,vi=1,Ei="";function Li(e,n){ga[ya++]=Ul,ga[ya++]=xu,xu=e,Ul=n}function Up(e,n,s){Nn[Dn++]=vi,Nn[Dn++]=Ei,Nn[Dn++]=_s,_s=e;var l=vi;e=Ei;var h=32-de(l)-1;l&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,vi=1<<32-de(n)+h|s<<h|l,Ei=f+e}else vi=1<<f|s<<h|l,Ei=e}function Hh(e){e.return!==null&&(Li(e,1),Up(e,1,0))}function Gh(e){for(;e===xu;)xu=ga[--ya],ga[ya]=null,Ul=ga[--ya],ga[ya]=null;for(;e===_s;)_s=Nn[--Dn],Nn[Dn]=null,Ei=Nn[--Dn],Nn[Dn]=null,vi=Nn[--Dn],Nn[Dn]=null}function Lp(e,n){Nn[Dn++]=vi,Nn[Dn++]=Ei,Nn[Dn++]=_s,vi=n.id,Ei=n.overflow,_s=e}var Be=null,ne=null,Lt=!1,vs=null,On=!1,Fh=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(xn(n,e)),Fh}function Pp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[ke]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)Nt(ro[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),hs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||e_(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Es(e,!0)}function zp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Lt)return zp(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||cd(e.type,e.memoizedProps)),s=!s),s&&ne&&Es(e),zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=c_(e)}else n===27?(n=ne,Vs(e.type)?(e=pd,pd=null,ne=e):ne=n):ne=Be?Vn(e.stateNode.nextSibling):null;return!0}function Rr(){ne=Be=null,Lt=!1}function Qh(){var e=vs;return e!==null&&(un===null?un=e:un.push.apply(un,e),vs=null),e}function Ll(e){vs===null?vs=[e]:vs.push(e)}var Kh=C(null),Cr=null,Pi=null;function Ts(e,n,s){W(Kh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Kh.current,H(Kh)}function Yh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Xh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Yh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Yh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Pt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&Xh(n,e,s,l),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Cr=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return jp(Cr,e)}function Du(e,n){return Cr===null&&Ir(e),jp(e,n)}function jp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return s}var rT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},aT=r.unstable_scheduleCallback,lT=r.unstable_NormalPriority,Ae={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new rT,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&aT(lT,function(){e.controller.abort()})}var zl=null,Jh=0,Ea=0,Ta=null;function oT(e,n){if(zl===null){var s=zl=[];Jh=0,Ea=ed(),Ta={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,n.then(Bp,Bp),n}function Bp(){if(--Jh===0&&zl!==null){Ta!==null&&(Ta.status="fulfilled");var e=zl;zl=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var qp=F.S;F.S=function(e,n){wy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oT(e,n),qp!==null&&qp(e,n)};var xr=C(null);function Zh(){var e=xr.current;return e!==null?e:te.pooledCache}function Ou(e,n){n===null?W(xr,xr.current):W(xr,n.pool)}function Hp(){var e=Zh();return e===null?null:{parent:Ae._currentValue,pool:e}}var ba=Error(a(460)),Wh=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e}throw Dr=n,ba}}function Nr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Dr=s,ba):s}}var Dr=null;function Qp(){if(Dr===null)throw Error(a(459));var e=Dr;return Dr=null,e}function Kp(e){if(e===ba||e===Mu)throw Error(a(483))}var Aa=null,jl=0;function ku(e){var n=jl;return jl+=1,Aa===null&&(Aa=[]),Fp(Aa,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yp(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Ui(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Y){return O===null||O.tag!==6?(O=Bh(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function I(k,O,P,Y){var dt=P.type;return dt===tt?Q(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Nr(dt)===O.type)?(O=h(O,P.props),Bl(O,P),O.return=k,O):(O=Iu(P.type,P.key,P.props,null,k.mode,Y),Bl(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=qh(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,Y,dt){return O===null||O.tag!==7?(O=wr(P,k.mode,Y,dt),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=Iu(O.type,O.key,O.props,null,k.mode,P),Bl(P,O),P.return=k,P;case $:return O=qh(O,k.mode,P),O.return=k,O;case S:return O=Nr(O),X(k,O,P)}if(fe(O)||U(O))return O=wr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,ku(O),P);if(O.$$typeof===ft)return X(k,Du(k,O),P);Uu(k,O)}return null}function j(k,O,P,Y){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===dt?I(k,O,P,Y):null;case $:return P.key===dt?z(k,O,P,Y):null;case S:return P=Nr(P),j(k,O,P,Y)}if(fe(P)||U(P))return dt!==null?null:Q(k,O,P,Y,null);if(typeof P.then=="function")return j(k,O,ku(P),Y);if(P.$$typeof===ft)return j(k,O,Du(k,P),Y);Uu(k,P)}return null}function q(k,O,P,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(O,k,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?P:Y.key)||null,I(O,k,Y,dt);case $:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,dt);case S:return Y=Nr(Y),q(k,O,P,Y,dt)}if(fe(Y)||U(Y))return k=k.get(P)||null,Q(O,k,Y,dt,null);if(typeof Y.then=="function")return q(k,O,P,ku(Y),dt);if(Y.$$typeof===ft)return q(k,O,P,Du(O,Y),dt);Uu(O,Y)}return null}function ot(k,O,P,Y){for(var dt=null,jt=null,ut=O,wt=O=0,Ot=null;ut!==null&&wt<P.length;wt++){ut.index>wt?(Ot=ut,ut=null):Ot=ut.sibling;var Bt=j(k,ut,P[wt],Y);if(Bt===null){ut===null&&(ut=Ot);break}e&&ut&&Bt.alternate===null&&n(k,ut),O=f(Bt,O,wt),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt,ut=Ot}if(wt===P.length)return s(k,ut),Lt&&Li(k,wt),dt;if(ut===null){for(;wt<P.length;wt++)ut=X(k,P[wt],Y),ut!==null&&(O=f(ut,O,wt),jt===null?dt=ut:jt.sibling=ut,jt=ut);return Lt&&Li(k,wt),dt}for(ut=l(ut);wt<P.length;wt++)Ot=q(ut,k,wt,P[wt],Y),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?wt:Ot.key),O=f(Ot,O,wt),jt===null?dt=Ot:jt.sibling=Ot,jt=Ot);return e&&ut.forEach(function(zs){return n(k,zs)}),Lt&&Li(k,wt),dt}function gt(k,O,P,Y){if(P==null)throw Error(a(151));for(var dt=null,jt=null,ut=O,wt=O=0,Ot=null,Bt=P.next();ut!==null&&!Bt.done;wt++,Bt=P.next()){ut.index>wt?(Ot=ut,ut=null):Ot=ut.sibling;var zs=j(k,ut,Bt.value,Y);if(zs===null){ut===null&&(ut=Ot);break}e&&ut&&zs.alternate===null&&n(k,ut),O=f(zs,O,wt),jt===null?dt=zs:jt.sibling=zs,jt=zs,ut=Ot}if(Bt.done)return s(k,ut),Lt&&Li(k,wt),dt;if(ut===null){for(;!Bt.done;wt++,Bt=P.next())Bt=X(k,Bt.value,Y),Bt!==null&&(O=f(Bt,O,wt),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt);return Lt&&Li(k,wt),dt}for(ut=l(ut);!Bt.done;wt++,Bt=P.next())Bt=q(ut,k,wt,Bt.value,Y),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?wt:Bt.key),O=f(Bt,O,wt),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt);return e&&ut.forEach(function(Eb){return n(k,Eb)}),Lt&&Li(k,wt),dt}function Wt(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===tt){if(O.tag===7){s(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Nr(dt)===O.type){s(k,O.sibling),Y=h(O,P.props),Bl(Y,P),Y.return=k,k=Y;break t}s(k,O);break}else n(k,O);O=O.sibling}P.type===tt?(Y=wr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Iu(P.type,P.key,P.props,null,k.mode,Y),Bl(Y,P),Y.return=k,k=Y)}return p(k);case $:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break t}else{s(k,O);break}else n(k,O);O=O.sibling}Y=qh(P,k.mode,Y),Y.return=k,k=Y}return p(k);case S:return P=Nr(P),Wt(k,O,P,Y)}if(fe(P))return ot(k,O,P,Y);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),gt(k,O,P,Y)}if(typeof P.then=="function")return Wt(k,O,ku(P),Y);if(P.$$typeof===ft)return Wt(k,O,Du(k,P),Y);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(s(k,O),Y=Bh(P,k.mode,Y),Y.return=k,k=Y),p(k)):s(k,O)}return function(k,O,P,Y){try{jl=0;var dt=Wt(k,O,P,Y);return Aa=null,dt}catch(ut){if(ut===ba||ut===Mu)throw ut;var jt=gn(29,ut,null,k.mode);return jt.lanes=Y,jt.return=k,jt}}}var Or=Yp(!0),Xp=Yp(!1),bs=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),Op(e,null,s),n}return Ru(e,l,n,s),Cu(e)}function ql(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,pl(e,s)}}function nf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var sf=!1;function Hl(){if(sf){var e=Ta;if(e!==null)throw e}}function Gl(e,n,s,l){sf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,Q=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Dt&j)===j:(l&j)===j){j!==0&&j===Ea&&(sf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=n;var Wt=s;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){X=ot.call(Wt,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(Wt,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:bs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=q,I=X):Q=Q.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=X}}function $p(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)$p(s[e],n)}var Sa=C(null),Lu=C(0);function Zp(e,n){e=Yi,W(Lu,e),W(Sa,n),Yi=e|n.baseLanes}function rf(){W(Lu,Yi),W(Sa,Sa.current)}function af(){Yi=Lu.current,H(Sa),H(Lu)}var yn=C(null),Mn=null;function ws(e){var n=e.alternate;W(pe,pe.current&1),W(yn,e),Mn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Mn=e)}function lf(e){W(pe,pe.current),W(yn,e),Mn===null&&(Mn=e)}function Wp(e){e.tag===22?(W(pe,pe.current),W(yn,e),Mn===null&&(Mn=e)):Rs()}function Rs(){W(pe,pe.current),W(yn,yn.current)}function _n(e){H(yn),Mn===e&&(Mn=null),H(pe)}var pe=C(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||dd(s)||md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,St=null,Jt=null,Se=null,zu=!1,wa=!1,Mr=!1,ju=0,Fl=0,Ra=null,cT=0;function ce(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function uf(e,n,s,l,h,f){return ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Ug:Sf,Mr=!1,f=s(l,h),Mr=!1,wa&&(f=eg(n,s,l,h)),tg(e),f}function tg(e){F.H=Yl;var n=Jt!==null&&Jt.next!==null;if(ji=0,Se=Jt=St=null,zu=!1,Fl=0,Ra=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function eg(e,n,s,l){St=e;var h=0;do{if(wa&&(Ra=null),Fl=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Lg,f=n(s,l)}while(wa);return f}function hT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(St.flags|=1024),n}function cf(){var e=ju!==0;return ju=0,e}function hf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ff(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}ji=0,Se=Jt=St=null,wa=!1,Fl=ju=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if(Jt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Jt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Fl;return Fl+=1,Ra===null&&(Ra=[]),e=Fp(Ra,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Ug:Sf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===ft)return qe(e)}throw Error(a(438,String(e)))}function df(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Bi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ge();return mf(n,Jt,e)}function mf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Dt&X)===X:(ji&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ea&&(Q=!0);else if((ji&j)===j){z=z.next,j===Ea&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,St.lanes|=j,xs|=j;X=z.action,Mr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,St.lanes|=X,xs|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!pn(f,e.memoizedState)&&(we=!0,Q&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ng(e,n,s){var l=St,h=ge(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Jt||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,_f(rg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},sg.bind(null,l,h,s,n),null),te===null)throw Error(a(349));f||(ji&127)!==0||ig(l,n,s)}return s}function ig(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Bu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sg(e,n,s,l){n.value=s,n.getSnapshot=l,ag(n)&&lg(e)}function rg(e,n,s){return s(function(){ag(n)&&lg(e)})}function ag(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function lg(e){var n=Sr(e,2);n!==null&&cn(n,e,2)}function gf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Mr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function og(e,n,s,l){return e.baseState=s,mf(e,Jt,typeof l=="function"?l:Bi)}function fT(e,n,s,l,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ug(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ug(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,l),I=F.S;I!==null&&I(p,E),cg(e,n,E)}catch(z){yf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,l),cg(e,n,f)}catch(z){yf(e,n,z)}}function cg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hg(e,n,l)},function(l){return yf(e,n,l)}):hg(e,n,s)}function hg(e,n,s){n.status="fulfilled",n.value=s,fg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ug(e,s)))}function yf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==l)}e.action=null}function fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dg(e,n){return n}function mg(e,n){if(Lt){var s=te.formState;if(s!==null){t:{var l=St;if(Lt){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Vn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},s.queue=l,s=Mg.bind(null,St,l),l.dispatch=s,l=gf(!1),f=Af.bind(null,St,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=fT.bind(null,St,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function pg(e){var n=ge();return gg(n,Jt,e)}function gg(e,n,s){if(n=mf(e,n,dg)[0],e=Hu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(p){throw p===ba?Mu:p}else l=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ca(9,{destroy:void 0},dT.bind(null,h,s),null)),[l,f,e]}function dT(e,n){e.action=n}function yg(e){var n=ge(),s=Jt;if(s!==null)return gg(n,s,e);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ca(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Bu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function _g(){return ge().memoizedState}function Gu(e,n,s,l){var h=nn();St.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,l===void 0?null:l)}function Fu(e,n,s,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;Jt!==null&&l!==null&&of(l,Jt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,l):(St.flags|=e,h.memoizedState=Ca(1|n,f,s,l))}function vg(e,n){Gu(8390656,8,e,n)}function _f(e,n){Fu(2048,8,e,n)}function mT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Bu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Eg(e){var n=ge().memoizedState;return mT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tg(e,n){return Fu(4,2,e,n)}function bg(e,n){return Fu(4,4,e,n)}function Ag(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,s){s=s!=null?s.concat([e]):null,Fu(4,4,Ag.bind(null,n,e),s)}function vf(){}function wg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&of(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Rg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&of(n,l[1]))return l[0];if(l=e(),Mr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l}function Ef(e,n,s){return s===void 0||(ji&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Cy(),St.lanes|=e,xs|=e,s)}function Cg(e,n,s,l){return pn(s,n)?s:Sa.current!==null?(e=Ef(e,s,l),pn(e,n)||(we=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Dt&261930)===0?(we=!0,e.memoizedState=s):(e=Cy(),St.lanes|=e,xs|=e,n)}function Ig(e,n,s,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Af(e,!1,n,s);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=uT(I,l);Kl(e,n,Q,Tn(e))}else Kl(e,n,l,Tn(e))}catch(X){Kl(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function pT(){}function Tf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=xg(e).queue;Ig(e,h,n,ht,s===null?pT:function(){return Ng(e),s(l)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ng(e){var n=xg(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},Tn())}function bf(){return qe(co)}function Dg(){return ge().memoizedState}function Og(){return ge().memoizedState}function gT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=As(s);var l=Ss(n,e,s);l!==null&&(cn(l,n,s),ql(l,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function yT(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Vg(n,s):(s=zh(e,n,s,l),s!==null&&(cn(s,e,l),kg(s,n,l)))}function Mg(e,n,s){var l=Tn();Kl(e,n,s,l)}function Kl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Vg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Ru(e,n,h,0),te===null&&wu(),!1}catch{}if(s=zh(e,n,h,l),s!==null)return cn(s,e,l),kg(s,n,l),!0}return!1}function Af(e,n,s,l){if(l={lane:2,revertLane:ed(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=zh(e,s,l,2),n!==null&&cn(n,e,2)}function Qu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Vg(e,n){wa=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,pl(e,s)}}var Yl={readContext:qe,use:qu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Yl.useEffectEvent=ce;var Ug={readContext:qe,use:qu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:vg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,Ag.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var l=e();if(Mr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=nn();if(s!==void 0){var h=s(n);if(Mr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=yT.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=Mg.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:vf,useDeferredValue:function(e,n){var s=nn();return Ef(s,e,n)},useTransition:function(){var e=gf(!1);return e=Ig.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=St,h=nn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Dt&127)!==0||ig(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vg(rg.bind(null,l,f,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},sg.bind(null,l,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(Lt){var s=Ei,l=vi;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:mg,useActionState:mg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Af.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return nn().memoizedState=gT.bind(null,St)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Sf={readContext:qe,use:qu,useCallback:wg,useContext:qe,useEffect:_f,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Hu,useRef:_g,useState:function(){return Hu(Bi)},useDebugValue:vf,useDeferredValue:function(e,n){var s=ge();return Cg(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Hu(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:bf,useFormState:pg,useActionState:pg,useOptimistic:function(e,n){var s=ge();return og(s,Jt,e,n)},useMemoCache:df,useCacheRefresh:Og};Sf.useEffectEvent=Eg;var Lg={readContext:qe,use:qu,useCallback:wg,useContext:qe,useEffect:_f,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:pf,useRef:_g,useState:function(){return pf(Bi)},useDebugValue:vf,useDeferredValue:function(e,n){var s=ge();return Jt===null?Ef(s,e,n):Cg(s,Jt.memoizedState,e,n)},useTransition:function(){var e=pf(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:bf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var s=ge();return Jt!==null?og(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:df,useCacheRefresh:Og};Lg.useEffectEvent=Eg;function wf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=As(l);h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=As(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=As(s);l.tag=2,n!=null&&(l.callback=n),n=Ss(e,l,s),n!==null&&(cn(n,e,s),ql(n,e,s))}};function Pg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function zg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jg(e){Su(e)}function Bg(e){console.error(e)}function qg(e){Su(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Gg(e){return e=As(e),e.tag=3,e}function Fg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Hg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Hg(n,s,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _T(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?rc():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Zf(e,l,h)),!1;case 22:return s.flags|=65536,l===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Zf(e,l,h)),!1}throw Error(a(435,s.tag))}return Zf(e,l,h),rc(),!1}if(Lt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Fh&&(e=Error(a(422),{cause:l}),Ll(xn(e,s)))):(l!==Fh&&(n=Error(a(423),{cause:l}),Ll(xn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=xn(l,s),h=Cf(e.stateNode,l,h),nf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:l});if(f=xn(f,s),no===null?no=[f]:no.push(f),he!==4&&(he=2),n===null)return!0;l=xn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,l,e),nf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gg(h),Fg(h,e,s,l),nf(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(a(461)),we=!1;function He(e,n,s,l){n.child=e===null?Xp(n,null,s,l):Or(n,e.child,s,l)}function Qg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Ir(n),l=uf(e,n,s,p,f,h),E=cf(),e!==null&&!we?(hf(e,n,h),qi(e,n,h)):(Lt&&E&&Hh(n),n.flags|=1,He(e,n,l,h),n.child)}function Kg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(e,n,f,l,h)):(e=Iu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(p,l)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Ui(f,l),e.ref=n.ref,e.return=n,n.child=e}function Yg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,Uf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,qi(e,n,h)}return xf(e,n,s,l,h)}function Xg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return $g(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Zp(n,f):rf(),Wp(n);else return l=n.lanes=536870912,$g(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ou(n,f.cachePool),Zp(n,f),Rs(),n.memoizedState=null):(e!==null&&Ou(n,null),rf(),Rs());return He(e,n,h,s),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(e,n,s,l,h){var f=Zh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),rf(),Wp(n),e!==null&&va(e,n,l,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jg(e,n,s){return Or(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function vT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Yu(n,l),n.lanes=536870912,Xl(null,e);if(lf(n),(e=ne)?(e=u_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Vp(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Yu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Jg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||va(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(l=te,l!==null&&(p=gl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sr(e,p),cn(l,e,p),If;rc(),n=Jg(e,n,s)}else e=f.treeContext,ne=Vn(p.nextSibling),Be=n,Lt=!0,vs=null,On=!1,e!==null&&Lp(n,e),n=Yu(n,l),n.flags|=4096;return n}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function xf(e,n,s,l,h){return Ir(n),s=uf(e,n,s,l,void 0,h),l=cf(),e!==null&&!we?(hf(e,n,h),qi(e,n,h)):(Lt&&l&&Hh(n),n.flags|=1,He(e,n,s,h),n.child)}function Zg(e,n,s,l,h,f){return Ir(n),n.updateQueue=null,s=eg(n,l,s,h),tg(e),l=cf(),e!==null&&!we?(hf(e,n,f),qi(e,n,f)):(Lt&&l&&Hh(n),n.flags|=1,He(e,n,s,f),n.child)}function Wg(e,n,s,l,h){if(Ir(n),n.stateNode===null){var f=pa,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},tf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):pa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(wf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Vr(s,E);f.props=I;var z=f.context,Q=s.contextType;p=pa,typeof Q=="object"&&Q!==null&&(p=qe(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&zg(n,f,l,p),bs=!1;var j=n.memoizedState;f.state=j,Gl(n,l,f,h),Hl(),z=n.memoizedState,E||j!==z||bs?(typeof X=="function"&&(wf(n,s,X,l),z=n.memoizedState),(I=bs||Pg(n,s,I,l,j,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ef(e,n),p=n.memoizedProps,Q=Vr(s,p),f.props=Q,X=n.pendingProps,j=f.context,z=s.contextType,I=pa,typeof z=="object"&&z!==null&&(I=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==I)&&zg(n,f,l,I),bs=!1,j=n.memoizedState,f.state=j,Gl(n,l,f,h),Hl();var q=n.memoizedState;p!==X||j!==q||bs||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(wf(n,s,E,l),q=n.memoizedState),(Q=bs||Pg(n,s,Q,l,j,q,I)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function ty(e,n,s,l){return Rr(),n.flags|=256,He(e,n,s,l),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Hp()}}function Of(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function ey(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?ws(n):Rs(),(e=ne)?(e=u_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Vp(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw Es(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Rs(),h=n.mode,E=$u({mode:"hidden",children:E},h),l=wr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Df(s),l.childLanes=Of(e,p,s),n.memoizedState=Nf,Xl(null,l)):(ws(n),Mf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),E=wr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Or(n,e.child,null,s),l=n.child,l.memoizedState=Df(s),l.childLanes=Of(e,p,s),n.memoizedState=Nf,n=Xl(null,l));else if(ws(n),md(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Ll({value:l,source:null,stack:null}),n=Vf(e,n,s)}else if(we||va(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=te,p!==null&&(l=gl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Sr(e,l),cn(p,e,l),If;dd(E)||rc(),n=Vf(e,n,s)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Vn(E.nextSibling),Be=n,Lt=!0,vs=null,On=!1,e!==null&&Lp(n,e),n=Mf(n,l.children),n.flags|=4096);return n}return h?(Rs(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=wr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Df(s):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Hp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Of(e,p,s),n.memoizedState=Nf,Xl(e.child,l)):(ws(n),s=e.child,e=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Mf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Vf(e,n,s){return Or(n,e.child,null,s),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Yh(e.return,n,s)}function kf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function iy(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,W(pe,p),He(e,n,l,s),l=Lt?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,s,n);else if(e.tag===19)ny(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),kf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}kf(n,!0,s,null,f,l);break;case"together":kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ui(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ui(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function ET(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ts(n,Ae,e.memoizedState.cache),Rr();break;case 27:case 5:ar(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(e,n,s):(ws(n),e=qi(e,n,s),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(va(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return iy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Xg(e,n,s,n.pendingProps);case 24:Ts(n,Ae,e.memoizedState.cache)}return qi(e,n,s)}function sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Uf(e,s)&&(n.flags&128)===0)return we=!1,ET(e,n,s);we=(e.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Up(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Nr(n.elementType),n.type=e,typeof e=="function")jh(e)?(l=Vr(e,l),n.tag=1,n=Wg(null,n,e,l,s)):(n.tag=0,n=xf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===lt){n.tag=11,n=Qg(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=Kg(null,n,e,l,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),Wg(e,n,l,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Gl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Ts(n,Ae,l),l!==f.cache&&Xh(n,[Ae],s,!0),Hl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,l,s);break t}else if(l!==h){h=xn(Error(a(424)),n),Ll(h),n=ty(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Vn(e.firstChild),Be=n,Lt=!0,vs=null,On=!0,s=Xp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),l===h){n=qi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,l=fc(_t.current).createElement(s),l[Ee]=n,l[ke]=e,Ge(l,s,e),Te(l),n.stateNode=l):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ar(n),e===null&&Lt&&(l=n.stateNode=f_(n.type,n.pendingProps,_t.current),Be=n,On=!0,h=ne,Vs(n.type)?(pd=h,ne=Vn(l.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=l=ne)&&(l=$T(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,ne=Vn(l.firstChild),On=!1,h=!0):h=!1),h||Es(n)),ar(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,cd(h,f)?l=null:p!==null&&cd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,hT,null,null,s),co._currentValue=h),Xu(e,n),He(e,n,l,s),n.child;case 6:return e===null&&Lt&&((e=s=ne)&&(s=JT(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||Es(n)),null;case 13:return ey(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Or(n,null,l,s):He(e,n,l,s),n.child;case 11:return Qg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return Kg(e,n,n.type,n.pendingProps,s);case 15:return Yg(e,n,n.type,n.pendingProps,s);case 19:return iy(e,n,s);case 31:return vT(e,n,s);case 22:return Xg(e,n,s,n.pendingProps);case 24:return Ir(n),l=qe(Ae),e===null?(h=Zh(),h===null&&(h=te,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},tf(n),Ts(n,Ae,h)):((e.lanes&s)!==0&&(ef(e,n),Gl(n,null,null,s),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Ae,l)):(l=f.cache,Ts(n,Ae,l),l!==h.cache&&Xh(n,[Ae],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(e){e.flags|=4}function Lf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Dr=Vu,Wh}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw Dr=Vu,Wh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Da|=n)}function $l(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function TT(e,n,s){var l=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Ae),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),ry(n,f)):(ie(n),Lf(n,h,null,l,s))):f?f!==e.memoizedState?(Hi(n),ie(n),ry(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hi(n),ie(n),Lf(n,h,e,l,s)),null;case 27:if($r(n),s=_t.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=nt.current,_a(n)?Pp(n):(e=f_(h,l,s),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if($r(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=nt.current,_a(n))Pp(n);else{var p=fc(_t.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ee]=n,f[ke]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(n)}}return ie(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=_t.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||e_(e.nodeValue,s)),e||Es(n,!0)}else e=fc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=_a(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&rd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(H(pe),l=n.memoizedState,l===null)return ie(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,$l(l,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Mp(s,e),s=s.sibling;return W(pe,pe.current&1|2),Lt&&Li(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>nc&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*tn()-l.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,s=pe.current,W(pe,h?s&1|2:s&1),Lt&&Li(n,l.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),af(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&H(xr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function bT(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(pe),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),af(),e!==null&&H(xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Ae),null;case 25:return null;default:return null}}function ay(e,n){switch(Gh(n),n.tag){case 3:zi(Ae),ae();break;case 26:case 27:case 5:$r(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:H(pe);break;case 10:zi(n.type);break;case 22:case 23:_n(n),af(),e!==null&&H(xr);break;case 24:zi(Ae)}}function Jl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Cs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(Q){Xt(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function ly(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Jp(n,s)}catch(l){Xt(e,e.return,l)}}}function oy(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(e,n,l)}}function Zl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Xt(e,n,h)}}function Ti(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function uy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Pf(e,n,s){try{var l=e.stateNode;GT(l,e.type,s,n),l[ke]=n}catch(h){Xt(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,s),e=e.sibling;e!==null;)jf(e,n,s),e=e.sibling}function Zu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function hy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[Ee]=e,n[ke]=s}catch(f){Xt(e,e.return,f)}}var Gi=!1,Re=!1,Bf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function AT(e,n){if(e=e.containerInfo,od=vc,e=Sp(e),Mh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,Q=0,X=e,j=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(I=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++Q===l&&(I=p),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:e,selectionRange:s},vc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=Vr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Xt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)fd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function dy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(e,s),l&4&&Jl(5,s);break;case 1:if(Qi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(s,s.return,p)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(s,s.return,p)}}l&64&&ly(s),l&512&&Zl(s,s.return);break;case 3:if(Qi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jp(e,n)}catch(p){Xt(s,s.return,p)}}break;case 27:n===null&&l&4&&hy(s);case 26:case 5:Qi(e,s),n===null&&l&4&&uy(s),l&512&&Zl(s,s.return);break;case 12:Qi(e,s);break;case 31:Qi(e,s),l&4&&gy(e,s);break;case 13:Qi(e,s),l&4&&yy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=OT.bind(null,s),ZT(e,s))));break;case 22:if(l=s.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||Re,h=Gi;var f=Re;Gi=l,(Re=n)&&!f?Ki(e,s,(s.subtreeFlags&8772)!==0):Qi(e,s),Gi=h,Re=f}break;case 30:break;default:Qi(e,s)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Fi(e,n,s){for(s=s.child;s!==null;)py(e,n,s),s=s.sibling}function py(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:Re||Ti(s,n),Fi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||Ti(s,n);var l=oe,h=an;Vs(s.type)&&(oe=s.stateNode,an=!1),Fi(e,n,s),lo(s.stateNode),oe=l,an=h;break;case 5:Re||Ti(s,n);case 6:if(l=oe,h=an,oe=null,Fi(e,n,s),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:oe!==null&&(an?(e=oe,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):l_(oe,s.stateNode));break;case 4:l=oe,h=an,oe=s.stateNode.containerInfo,an=!0,Fi(e,n,s),oe=l,an=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Re||Cs(4,s,n),Fi(e,n,s);break;case 1:Re||(Ti(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&oy(s,n,l)),Fi(e,n,s);break;case 21:Fi(e,n,s);break;case 22:Re=(l=Re)||s.memoizedState!==null,Fi(e,n,s),Re=l;break;default:Fi(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){Xt(n,n.return,s)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){Xt(n,n.return,s)}}function ST(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var s=ST(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=MT.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));py(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var Yn=null;function _y(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(Cs(3,e,e.return),Jl(3,e),Cs(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(Re||s===null||Ti(s,s.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Yn;if(ln(n,e),on(e),l&512&&(Re||s===null||Ti(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[Ee]=e,Te(f),l=f;break t;case"link":var p=__("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(p=__("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?v_(h,e.type,e.stateNode):y_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(Re||s===null||Ti(s,s.return)),s!==null&&l&4&&Pf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(Re||s===null||Ti(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Xt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Bf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(pc=null,h=Yn,Yn=dc(n.containerInfo),ln(n,e),Yn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}Bf&&(Bf=!1,vy(e));break;case 4:l=Yn,Yn=dc(e.stateNode.containerInfo),ln(n,e),on(e),Yn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Gi,Q=Re;if(Gi=z||h,Re=Q||I,ln(n,e),Re=Q,Gi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Gi||Re||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Xt(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Xt(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?o_(q,!0):o_(I.stateNode,!1)}catch(ot){Xt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Wu(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(cy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=zf(e);Zu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=zf(e);jf(e,z,I);break;default:throw Error(a(161))}}catch(Q){Xt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),kr(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),kr(n);break;case 27:lo(n.stateNode);case 26:case 5:Ti(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,s),Jl(4,f);break;case 1:if(Ki(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)$p(I[h],E)}catch(z){Xt(l,l.return,z)}}s&&p&64&&ly(f),Zl(f,f.return);break;case 27:hy(f);case 26:case 5:Ki(h,f,s),s&&l===null&&p&4&&uy(f),Zl(f,f.return);break;case 12:Ki(h,f,s);break;case 31:Ki(h,f,s),s&&p&4&&gy(h,f);break;case 13:Ki(h,f,s),s&&p&4&&yy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,s),Zl(f,f.return);break;case 30:break;default:Ki(h,f,s)}n=n.sibling}}function qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pl(s))}function Hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Xn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,s,l),n=n.sibling}function Ey(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,l),h&2048&&Jl(9,n);break;case 1:Xn(e,n,s,l);break;case 3:Xn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Xn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Xn(e,n,s,l);break;case 31:Xn(e,n,s,l);break;case 13:Xn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,l):Wl(e,n):f._visibility&2?Xn(e,n,s,l):(f._visibility|=2,Ia(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(p,n);break;case 24:Xn(e,n,s,l),h&2048&&Hf(n.alternate,n);break;default:Xn(e,n,s,l)}}function Ia(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,I,h),Jl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ia(f,p,E,I,h):Wl(f,p):(Q._visibility|=2,Ia(f,p,E,I,h)),h&&z&2048&&qf(p.alternate,p);break;case 24:Ia(f,p,E,I,h),h&&z&2048&&Hf(p.alternate,p);break;default:Ia(f,p,E,I,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&qf(l.alternate,l);break;case 24:Wl(s,l),h&2048&&Hf(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var to=8192;function xa(e,n,s){if(e.subtreeFlags&to)for(e=e.child;e!==null;)Ty(e,n,s),e=e.sibling}function Ty(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&to&&e.memoizedState!==null&&cb(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=Yn;Yn=dc(e.stateNode.containerInfo),xa(e,n,s),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,xa(e,n,s),to=l):xa(e,n,s));break;default:xa(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,Sy(l,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):eo(e);break;default:eo(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,Sy(l,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Sy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Le=l;else t:for(s=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(my(l),l===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var wT={getCacheForType:function(e){var n=qe(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Ae).controller.signal}},RT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,xt=null,Dt=0,Yt=0,vn=null,Is=!1,Na=!1,Gf=!1,Yi=0,he=0,xs=0,Ur=0,Ff=0,En=0,Da=0,no=null,un=null,Qf=!1,ec=0,wy=0,nc=1/0,ic=null,Ns=null,Oe=0,Ds=null,Oa=null,Xi=0,Kf=0,Yf=null,Ry=null,io=0,Xf=null;function Tn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?ed():su()}function Cy(){if(En===0)if((Dt&536870912)===0||Lt){var e=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Os(e,Dt,En,!1)),cr(e,s),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Ur|=s),he===4&&Os(e,Dt,En,!1)),bi(e))}function Iy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=l?xT(e,n):Jf(e,n,!0),f=l;do{if(h===0){Na&&!l&&Os(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!CT(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=no;var I=E.current.memoizedState.isDehydrated;if(I&&(Ma(E,p).flags|=256),p=Jf(E,p,!1),p!==2){if(Gf&&!I){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Os(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(l,n,En,!Is);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-tn(),10<h)){if(Os(l,n,En,!Is),si(l,0,!0)!==0)break t;Xi=n,l.timeoutHandle=r_(xy.bind(null,l,s,un,ic,Qf,n,En,Ur,Da,Is,f,"Throttled",-0,0),h);break t}xy(l,s,un,ic,Qf,n,En,Ur,Da,Is,f,null,-0,0)}}break}while(!0);bi(e)}function xy(e,n,s,l,h,f,p,E,I,z,Q,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ty(n,f,X);var ot=(f&62914560)===f?ec-tn():(f&4194048)===f?wy-tn():0;if(ot=hb(X,ot),ot!==null){Xi=f,e.cancelPendingCommit=ot(Ly.bind(null,e,n,f,s,l,h,p,E,I,Q,X,null,j,q)),Os(e,f,p,!z);return}}Ly(e,n,f,s,l,h,p,E,I)}function CT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,s,l){n&=~Ff,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&hr(e,s,n)}function sc(){return(Ft&6)===0?(so(0),!1):!0}function $f(){if(xt!==null){if(Yt===0)var e=xt.return;else e=xt,Pi=Cr=null,ff(e),Aa=null,jl=0,e=xt;for(;e!==null;)ay(e.alternate,e),e=e.return;xt=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,KT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Xi=0,$f(),te=e,xt=s=Ui(e.current,null),Dt=n,Yt=0,vn=null,Is=!1,Na=zn(e,n),Gf=!1,Da=En=Ff=Ur=xs=he=0,un=no=null,Qf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Yi=n,wu(),s}function Ny(e,n){St=null,F.H=Yl,n===ba||n===Mu?(n=Qp(),Yt=3):n===Wh?(n=Qp(),Yt=4):Yt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,xt===null&&(he=1,Ku(e,xn(n,e.current)))}function Dy(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function Oy(){var e=F.H;return F.H=Yl,e===null?Yl:e}function My(){var e=F.A;return F.A=wT,e}function rc(){he=4,Is||(Dt&4194048)!==Dt&&yn.current!==null||(Na=!0),(xs&134217727)===0&&(Ur&134217727)===0||te===null||Os(te,Dt,En,!1)}function Jf(e,n,s){var l=Ft;Ft|=2;var h=Oy(),f=My();(te!==e||Dt!==n)&&(ic=null,Ma(e,n)),n=!1;var p=he;t:do try{if(Yt!==0&&xt!==null){var E=xt,I=vn;switch(Yt){case 8:$f(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Yt;if(Yt=0,vn=null,Va(e,E,I,z),s&&Na){p=0;break t}break;default:z=Yt,Yt=0,vn=null,Va(e,E,I,z)}}IT(),p=he;break}catch(Q){Ny(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Pi=Cr=null,Ft=l,F.H=h,F.A=f,xt===null&&(te=null,Dt=0,wu()),p}function IT(){for(;xt!==null;)Vy(xt)}function xT(e,n){var s=Ft;Ft|=2;var l=Oy(),h=My();te!==e||Dt!==n?(ic=null,nc=tn()+500,Ma(e,n)):Na=zn(e,n);t:do try{if(Yt!==0&&xt!==null){n=xt;var f=vn;e:switch(Yt){case 1:Yt=0,vn=null,Va(e,n,f,1);break;case 2:case 9:if(Gp(f)){Yt=0,vn=null,ky(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),bi(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Gp(f)?(Yt=0,vn=null,ky(n)):(Yt=0,vn=null,Va(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?E_(p):E.stateNode.complete){Yt=0,vn=null;var I=E.sibling;if(I!==null)xt=I;else{var z=E.return;z!==null?(xt=z,ac(z)):xt=null}break e}}Yt=0,vn=null,Va(e,n,f,5);break;case 6:Yt=0,vn=null,Va(e,n,f,6);break;case 8:$f(),he=6;break t;default:throw Error(a(462))}}NT();break}catch(Q){Ny(e,Q)}while(!0);return Pi=Cr=null,F.H=l,F.A=h,Ft=s,xt!==null?0:(te=null,Dt=0,wu(),he)}function NT(){for(;xt!==null&&!Rh();)Vy(xt)}function Vy(e){var n=sy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?ac(e):xt=n}function ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zg(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Zg(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:ff(n);default:ay(s,n),n=xt=Mp(n,Yi),n=sy(s,n,Yi)}e.memoizedProps=e.pendingProps,n===null?ac(e):xt=n}function Va(e,n,s,l){Pi=Cr=null,ff(n),Aa=null,jl=0;var h=n.return;try{if(_T(e,h,n,s,Dt)){he=1,Ku(e,xn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;he=1,Ku(e,xn(s,e.current)),xt=null;return}n.flags&32768?(Lt||l===1?e=!0:Na||(Dt&536870912)!==0?e=!1:(Is=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Is);return}e=n.return;var s=TT(n.alternate,n,Yi);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);he===0&&(he=5)}function Uy(e,n){do{var s=bT(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);he=6,xt=null}function Ly(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do lc();while(Oe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,xh(e,s,f,p,E,I),e===te&&(xt=te=null,Dt=0),Oa=n,Ds=e,Xi=s,Kf=f,Yf=h,Ry=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,VT(os,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=it.p,it.p=2,p=Ft,Ft|=4;try{AT(e,n,s)}finally{Ft=p,it.p=h,F.T=l}}Oe=1,Py(),zy(),jy()}}function Py(){if(Oe===1){Oe=0;var e=Ds,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{_y(n,e);var f=ud,p=Sp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ap(E.ownerDocument.documentElement,E)){if(I!==null&&Mh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,gt=Math.min(I.start,ot),Wt=I.end===void 0?gt:Math.min(I.end,ot);!q.extend&&gt>Wt&&(p=Wt,Wt=gt,gt=p);var k=bp(E,gt),O=bp(E,Wt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),gt>Wt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}vc=!!od,ud=od=null}finally{Ft=h,it.p=l,F.T=s}}e.current=n,Oe=2}}function zy(){if(Oe===2){Oe=0;var e=Ds,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{dy(e,n.alternate,n)}finally{Ft=h,it.p=l,F.T=s}}Oe=3}}function jy(){if(Oe===4||Oe===3){Oe=0,Jo();var e=Ds,n=Oa,s=Xi,l=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Oa=Ds=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Oi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=it.p,it.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,it.p=h}}(Xi&3)!==0&&lc(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Xf?io++:(io=0,Xf=e):io=0,so(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function lc(){return Py(),zy(),jy(),qy()}function qy(){if(Oe!==5)return!1;var e=Ds,n=Kf;Kf=0;var s=Oi(Xi),l=F.T,h=it.p;try{it.p=32>s?32:s,F.T=null,s=Yf,Yf=null;var f=Ds,p=Xi;if(Oe=0,Oa=Ds=null,Xi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Ay(f.current),Ey(f,f.current,p,s),Ft=E,so(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{it.p=h,F.T=l,By(e,n)}}function Hy(e,n,s){n=xn(s,n),n=Cf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(cr(e,2),bi(e))}function Xt(e,n,s){if(e.tag===3)Hy(e,e,s);else for(;n!==null;){if(n.tag===3){Hy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=xn(s,e),s=Gg(2),l=Ss(n,s,2),l!==null&&(Fg(s,l,n,e),cr(l,2),bi(l));break}}n=n.return}}function Zf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new RT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Gf=!0,h.add(s),e=DT.bind(null,e,n,s),n.then(e,e))}function DT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Dt&s)===s&&(he===4||he===3&&(Dt&62914560)===Dt&&300>tn()-ec?(Ft&2)===0&&Ma(e,0):Ff|=s,Da===Dt&&(Da=0)),bi(e)}function Gy(e,n){n===0&&(n=iu()),e=Sr(e,n),e!==null&&(cr(e,n),bi(e))}function OT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function MT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Gy(e,s)}function VT(e,n){return De(e,n)}var oc=null,ka=null,Wf=!1,uc=!1,td=!1,Ms=0;function bi(e){e!==ka&&e.next===null&&(ka===null?oc=ka=e:ka=ka.next=e),uc=!0,Wf||(Wf=!0,UT())}function so(e,n){if(!td&&uc){td=!0;do for(var s=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(l,f))}else f=Dt,f=si(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,Yy(l,f));l=l.next}while(s);td=!1}}function kT(){Fy()}function Fy(){uc=Wf=!1;var e=0;Ms!==0&&QT()&&(e=Ms);for(var n=tn(),s=null,l=oc;l!==null;){var h=l.next,f=Qy(l,n);f===0?(l.next=null,s===null?oc=h:s.next=h,h===null&&(ka=s)):(s=l,(e!==0||(f&3)!==0)&&(uc=!0)),l=h}Oe!==0&&Oe!==5||so(e),Ms!==0&&(Ms=0)}function Qy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Ih(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Dt,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ls(l),Oi(s)){case 2:case 8:s=ml;break;case 32:s=os;break;case 268435456:s=Zo;break;default:s=os}return l=Ky.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var l=Dt;return l=si(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Iy(e,l,n),Qy(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Yy(e,n){if(lc())return null;Iy(e,n,!0)}function UT(){YT(function(){(Ft&6)!==0?De(dl,kT):Fy()})}function ed(){if(Ms===0){var e=Ea;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ms=e}return Ms}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function $y(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function LT(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[ke]||null).action),p=l.submitter;p&&(n=(n=p[ke]||null)?Xy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new pi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=p?$y(h,p):new FormData(h);Tf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?$y(h,p):new FormData(h),Tf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var nd=0;nd<Lh.length;nd++){var id=Lh[nd],PT=id.toLowerCase(),zT=id[0].toUpperCase()+id.slice(1);Kn(PT,"on"+zT)}Kn(Cp,"onAnimationEnd"),Kn(Ip,"onAnimationIteration"),Kn(xp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(eT,"onTransitionRun"),Kn(nT,"onTransitionStart"),Kn(iT,"onTransitionCancel"),Kn(Np,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Su(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Su(Q)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=e+"__bubble";s.has(l)||(Zy(n,e,2,!1),s.add(l))}function sd(e,n,s){var l=0;n&&(l|=4),Zy(s,e,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[cc]){e[cc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(jT.has(s)||sd(s,!1,e),sd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,sd("selectionchange",!1,n))}}function Zy(e,n,s,l){switch(C_(n)){case 2:var h=mb;break;case 8:h=pb;break;default:h=Ed}s=h.bind(null,n,s,e),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ad(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ms(function(){var z=f,Q=wn(s),X=[];t:{var j=Dp.get(e);if(j!==void 0){var q=pi,ot=e;switch(e){case"keypress":if(_r(s)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":ot="focus",q=Er;break;case"focusout":ot="blur",q=Er;break;case"beforeblur":case"afterblur":q=Er;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Cp:case Ip:case xp:q=mu;break;case Np:q=T;break;case"scroll":case"scrollend":q=xl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=At}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Hn(O,k),Y!=null&&gt.push(ao(O,Y,P))),Wt)break;O=O.return}0<gt.length&&(j=new q(j,ot,null,s,Q),X.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Rl&&(ot=s.relatedTarget||s.fromElement)&&(oi(ot)||ot[ai]))break t;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?oi(ot):null,ot!==null&&(Wt=c(ot),gt=ot.tag,ot!==Wt||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(gt=Nl,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=ki,Y="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=q==null?j:dn(q),P=ot==null?j:dn(ot),j=new gt(Y,O+"leave",q,s,Q),j.target=Wt,j.relatedTarget=P,Y=null,oi(Q)===z&&(gt=new gt(k,O+"enter",ot,s,Q),gt.target=P,gt.relatedTarget=Wt,Y=gt),Wt=Y,q&&ot)e:{for(gt=BT,k=q,O=ot,P=0,Y=k;Y;Y=gt(Y))P++;Y=0;for(var dt=O;dt;dt=gt(dt))Y++;for(;0<P-Y;)k=gt(k),P--;for(;0<Y-P;)O=gt(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){gt=k;break e}k=gt(k),O=gt(O)}gt=null}else gt=null;q!==null&&Wy(X,j,q,gt,!1),ot!==null&&Wt!==null&&Wy(X,Wt,ot,gt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=gp;else if(mp(j))if(yp)jt=ZE;else{jt=$E;var ut=XE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(jt=gp):jt=JE;if(jt&&(jt=jt(e,z))){pp(X,jt,s,Q);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Al(j,"number",j.value)}switch(ut=z?dn(z):window,e){case"focusin":(mp(ut)||ut.contentEditable==="true")&&(fa=ut,Vh=z,kl=null);break;case"focusout":kl=Vh=fa=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,wp(X,s,Q);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":wp(X,s,Q)}var wt;if(Gt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ha?Tr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(_i&&s.locale!=="ko"&&(ha||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ha&&(wt=Il()):(mi=Q,Cl="value"in mi?mi.value:mi.textContent,ha=!0)),ut=hc(z,Ot),0<ut.length&&(Ot=new yi(Ot,e,null,s,Q),X.push({event:Ot,listeners:ut}),wt?Ot.data=wt:(wt=ca(s),wt!==null&&(Ot.data=wt)))),(wt=Cn?FE(e,s):QE(e,s))&&(Ot=hc(z,"onBeforeInput"),0<Ot.length&&(ut=new yi("onBeforeInput","beforeinput",null,s,Q),X.push({event:ut,listeners:Ot}),ut.data=wt)),LT(X,e,z,s,Q)}Jy(X,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function hc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&l.unshift(ao(e,h,f)),h=Hn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function BT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Hn(s,f),z!=null&&p.unshift(ao(s,z,I))):h||(z=Hn(s,f),z!=null&&p.push(ao(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var qT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(qT,`
`).replace(HT,"")}function e_(e,n){return n=t_(n),t_(e)===n}function Zt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),na(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,na(e,s,l))}}function ld(e,n,s,l,h,f){switch(s){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):na(e,s,l)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,p,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),l&&Zt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Zt(e,n,l,Q,s,null)}}ou(e,f,E,I,z,p,h,!1);return;case"select":Nt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Zt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?cs(e,!!l,n,!1):s!=null&&cs(e,!!l,s,!0);return;case"textarea":Nt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,p,E,s,null)}hs(e,l,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,n,I,l,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Nt(ro[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,l,s,null)}return;default:if(sa(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&ld(e,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Zt(e,n,E,l,s,null))}function GT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,Q=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(q)||Zt(e,n,q,null,l,X)}}for(var j in l){var q=l[j];if(X=s[j],l.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Zt(e,n,j,q,l,X)}}ia(e,p,E,I,z,Q,f,h);return;case"select":q=p=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Zt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Zt(e,n,h,f,l,I)}n=E,s=p,l=q,j!=null?cs(e,!!s,j,!1):!!l!=!!s&&(n!=null?cs(e,!!s,n,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,p,h,l,f)}uu(e,j,q);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Zt(e,n,ot,null,l,j));for(I in l)j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,n,I,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Zt(e,n,gt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,z,j,l,q)}return;default:if(sa(n)){for(var Wt in s)j=s[Wt],s.hasOwnProperty(Wt)&&j!==void 0&&!l.hasOwnProperty(Wt)&&ld(e,n,Wt,void 0,l,j);for(Q in l)j=l[Q],q=s[Q],!l.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||ld(e,n,Q,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Zt(e,n,k,null,l,j);for(X in l)j=l[X],q=s[X],!l.hasOwnProperty(X)||j===q||j==null&&q==null||Zt(e,n,X,j,l,q)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&n_(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var Q=I.transferSize,X=I.initiatorType;Q&&n_(X)&&(I=I.responseEnd,p+=Q*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ud=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function QT(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,YT=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(XT)}:r_;function XT(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function l_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&lo(e.ownerDocument.body);s=h}while(s);za(n)}function o_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $T(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function JT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,s){switch(n=fc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var kn=new Map,d_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=it.d;it.d={f:WT,r:tb,D:eb,C:nb,L:ib,m:sb,X:ab,S:rb,M:lb};function WT(){var e=$i.f(),n=sc();return e||n}function tb(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Ng(n):$i.r(e)}var Ua=typeof document>"u"?null:document;function m_(e,n,s){var l=Ua;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function eb(e){$i.D(e),m_("dns-prefetch",e,null)}function nb(e,n){$i.C(e,n),m_("preconnect",e,n)}function ib(e,n,s){$i.L(e,n,s);var l=Ua;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function sb(e,n){$i.m(e,n);var s=Ua;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),Ge(l,"link",e),Te(l),s.head.appendChild(l)}}}function rb(e,n,s){$i.S(e,n,s);var l=Ua;if(l&&e){var h=ui(l).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(oo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&gd(e,s);var I=p=l.createElement("link");Te(I),Ge(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function ab(e,n){$i.X(e,n);var s=Ua;if(s&&e){var l=ui(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&yd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function lb(e,n){$i.M(e,n);var s=Ua;if(s&&e){var l=ui(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&yd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(e,n,s,l){var h=(h=_t.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=ui(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=ui(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(oo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||ob(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=ui(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+sn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Te(n),e.head.appendChild(n))}function Pa(e){return'[src="'+sn(e)+'"]'}function uo(e){return"script[async]"+e}function y_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ge(l,"style",h),mc(l,s.precedence,e),n.instance=l;case"stylesheet":h=La(s.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=g_(s),(h=kn.get(h))&&gd(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",l),n.state.loading|=4,mc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(uo(f)))?(n.instance=h,Te(h),h):(l=s,(h=kn.get(f))&&(l=A({},s),yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,s.precedence,e));return n.instance}function mc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function __(e,n,s){if(pc===null){var l=new Map,h=pc=new Map;h.set(s,l)}else h=pc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function v_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ub(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,l=g_(l),(h=kn.get(h))&&gd(l,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var _d=0;function hb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*FT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(fb,e),yc=null,gc.call(e))}function fb(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var l=s.get(null);else{s=new Map,yc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function db(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function T_(e,n,s,l,h,f,p,E,I,z,Q,X){return e=new db(e,n,s,p,I,z,Q,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},tf(f),e}function b_(e){return e?(e=pa,e):pa}function A_(e,n,s,l,h,f){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=As(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ss(e,l,n),s!==null&&(cn(s,e,n),ql(s,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vd(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&cn(n,e,67108864),vd(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fr(n);var s=Sr(e,n);s!==null&&cn(s,e,n),vd(e,n)}}var vc=!0;function mb(e,n,s,l){var h=F.T;F.T=null;var f=it.p;try{it.p=2,Ed(e,n,s,l)}finally{it.p=f,F.T=h}}function pb(e,n,s,l){var h=F.T;F.T=null;var f=it.p;try{it.p=8,Ed(e,n,s,l)}finally{it.p=f,F.T=h}}function Ed(e,n,s,l){if(vc){var h=Td(l);if(h===null)ad(e,n,l,Ec,s),I_(e,l);else if(yb(h,e,n,s,l))l.stopPropagation();else if(I_(e,l),n&4&&-1<gb.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ii(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-de(p);E.entanglements[1]|=I,p&=~I}bi(f),(Ft&6)===0&&(nc=tn()+500,so(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&cn(E,f,2),sc(),vd(f,2)}if(f=Td(l),f===null&&ad(e,n,l,Ec,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ad(e,n,l,null,s)}}function Td(e){return e=wn(e),bd(e)}var Ec=null;function bd(e){if(Ec=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case dl:return 2;case ml:return 8;case os:case Ch:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var Ad=!1,ks=null,Us=null,Ls=null,ho=new Map,fo=new Map,Ps=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yb(e,n,s,l,h){switch(n){case"focusin":return ks=mo(ks,e,n,s,l,h),!0;case"dragenter":return Us=mo(Us,e,n,s,l,h),!0;case"mouseover":return Ls=mo(Ls,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,s,l,h)),!0}return!1}function x_(e){var n=oi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){R_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,jn(e.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Td(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=Sn(s),n!==null&&w_(n),e.blockedOn=s,!1;n.shift()}return!0}function N_(e,n,s){Tc(e)&&s.delete(n)}function _b(){Ad=!1,ks!==null&&Tc(ks)&&(ks=null),Us!==null&&Tc(Us)&&(Us=null),Ls!==null&&Tc(Ls)&&(Ls=null),ho.forEach(N_),fo.forEach(N_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_b)))}var Ac=null;function D_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(bd(l||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(e){function n(I){return bc(I,e)}ks!==null&&bc(ks,e),Us!==null&&bc(Us,e),Ls!==null&&bc(Ls,e),ho.forEach(n),fo.forEach(n);for(var s=0;s<Ps.length;s++){var l=Ps[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)x_(s),s.blockedOn===null&&Ps.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[ke]||null;if(typeof f=="function")p||D_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(bd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Sd(e){this._internalRoot=e}Sc.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();A_(s,l,e,n,null,null)},Sc.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),sc(),n[ai]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,e),s===0&&x_(e)}};var M_=t.version;if(M_!=="19.2.4")throw Error(a(527,M_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Pn=wc.inject(vb),ze=wc}catch{}}return go.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=jg,f=Bg,p=qg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=T_(e,1,!1,null,null,s,l,null,h,f,p,O_),e[ai]=n.current,rd(e),new Sd(n)},go.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=jg,p=Bg,E=qg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=T_(e,1,!0,n,s??null,l,h,I,f,p,E,O_),n.context=b_(null),s=n.current,l=Tn(),l=fr(l),h=As(l),h.callback=null,Ss(s,h,l),s=l,n.current.lanes=s,cr(n,s),bi(n),e[ai]=n.current,rd(e),new Sc(n)},go.version="19.2.4",go}var H_;function xb(){if(H_)return Cd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=Ib(),Cd.exports}var Nb=xb();const Db=()=>{};var G_={};const _0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ob=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,G=y&63;v||(G=64,d||(D=64)),a.push(i[b],i[A],i[D],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(_0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ob(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new Mb;const D=c<<2|g>>4;if(a.push(D),y!==64){const G=g<<4&240|y>>2;if(a.push(G),A!==64){const $=y<<6&192|A;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(r){const t=_0(r);return v0.encodeByteArray(t,!0)},Hc=function(r){return Vb(r).replace(/\./g,"")},E0=function(r){try{return v0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ub=()=>kb().__FIREBASE_DEFAULTS__,Lb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&E0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return Db()||Ub()||Lb()||Pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},T0=r=>oh()?.emulatorHosts?.[r],zb=r=>{const t=T0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>oh()?.config,A0=r=>oh()?.[`_${r}`];class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(r){return(await fetch(r,{credentials:"include"})).ok}function Bb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const bo={};function qb(){const r={prod:[],emulator:[]};for(const t of Object.keys(bo))bo[t]?r.emulator.push(t):r.prod.push(t);return r}function Hb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function w0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||bo[r]===t||bo[r]||F_)return;bo[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=qb().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{F_=!0,d()},D}function b(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=Hb(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),tt=i("learnmore"),K=document.getElementById(tt)||document.createElement("a"),st=i("preprendIcon"),at=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;g(ft),b(K,tt);const lt=y();v(at,st),ft.append(at,$,K,lt),document.body.appendChild(ft)}c?($.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Fb(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $b(){return!Fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Wb="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Wb,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?tA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new as(o,g,a)}}function tA(r,t){return r.replace(eA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const eA=/\{\$([^}]+)}/g;function nA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(Q_(c)&&Q_(d)){if(!qr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function zo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function iA(r,t){const i=new sA(r,t);return i.subscribe.bind(i)}class sA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Dd(){}function We(r){return r&&r._delegate?r._delegate:r}class Hr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lr="[DEFAULT]";class aA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oA(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(r){return r===Lr?void 0:r}function oA(r){return r.instantiationMode==="EAGER"}class uA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new aA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const cA={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},hA=Mt.INFO,fA={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},dA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=fA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=hA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const mA=(r,t)=>t.some(i=>r instanceof i);let K_,Y_;function pA(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Gd=new WeakMap,C0=new WeakMap,Od=new WeakMap,Tm=new WeakMap;function yA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&R0.set(i,r)}).catch(()=>{}),Tm.set(t,r),t}function _A(r){if(Gd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Gd.set(r,t)}let Fd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Gd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||C0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function vA(r){Fd=r(Fd)}function EA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Md(this),t,...i);return C0.set(a,t.sort?t.sort():[t]),Qs(a)}:gA().includes(r)?function(...t){return r.apply(Md(this),t),Qs(R0.get(this))}:function(...t){return Qs(r.apply(Md(this),t))}}function TA(r){return typeof r=="function"?EA(r):(r instanceof IDBTransaction&&_A(r),mA(r,pA())?new Proxy(r,Fd):r)}function Qs(r){if(r instanceof IDBRequest)return yA(r);if(Od.has(r))return Od.get(r);const t=TA(r);return t!==r&&(Od.set(r,t),Tm.set(t,r)),t}const Md=r=>Tm.get(r);function bA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Qs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Qs(d.result),v.oldVersion,v.newVersion,Qs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const AA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],Vd=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=SA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||AA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Vd.set(t,c),c}vA(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));class wA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RA(r){return r.getComponent()?.type==="VERSION"}const Qd="@firebase/app",$_="0.14.7";const ts=new Em("@firebase/app"),CA="@firebase/app-compat",IA="@firebase/analytics-compat",xA="@firebase/analytics",NA="@firebase/app-check-compat",DA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",VA="@firebase/database",kA="@firebase/data-connect",UA="@firebase/database-compat",LA="@firebase/functions",PA="@firebase/functions-compat",zA="@firebase/installations",jA="@firebase/installations-compat",BA="@firebase/messaging",qA="@firebase/messaging-compat",HA="@firebase/performance",GA="@firebase/performance-compat",FA="@firebase/remote-config",QA="@firebase/remote-config-compat",KA="@firebase/storage",YA="@firebase/storage-compat",XA="@firebase/firestore",$A="@firebase/ai",JA="@firebase/firestore-compat",ZA="firebase",WA="12.8.0";const Kd="[DEFAULT]",tS={[Qd]:"fire-core",[CA]:"fire-core-compat",[xA]:"fire-analytics",[IA]:"fire-analytics-compat",[DA]:"fire-app-check",[NA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[VA]:"fire-rtdb",[kA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[LA]:"fire-fn",[PA]:"fire-fn-compat",[zA]:"fire-iid",[jA]:"fire-iid-compat",[BA]:"fire-fcm",[qA]:"fire-fcm-compat",[HA]:"fire-perf",[GA]:"fire-perf-compat",[FA]:"fire-rc",[QA]:"fire-rc-compat",[KA]:"fire-gcs",[YA]:"fire-gcs-compat",[XA]:"fire-fst",[JA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};const Io=new Map,eS=new Map,Yd=new Map;function J_(r,t){try{r.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(Yd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,r);for(const i of Io.values())J_(i,r);for(const i of eS.values())J_(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}const nS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Po("app","Firebase",nS);class iS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const sl=WA;function I0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(i||(i=b0()),!i)throw Ks.create("no-options");const c=Io.get(o);if(c){if(qr(i,c.options)&&qr(a,c.config))return c;throw Ks.create("duplicate-app",{appName:o})}const d=new uA(o);for(const v of Yd.values())d.addComponent(v);const g=new iS(i,a,d);return Io.set(o,g),g}function Am(r=Kd){const t=Io.get(r);if(!t&&r===Kd&&b0())return I0();if(!t)throw Ks.create("no-app",{appName:r});return t}function sS(){return Array.from(Io.values())}function Ys(r,t,i){let a=tS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}$a(new Hr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rS="firebase-heartbeat-database",aS=1,xo="firebase-heartbeat-store";let kd=null;function x0(){return kd||(kd=bA(rS,aS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ks.create("idb-open",{originalErrorMessage:r.message})})),kd}async function lS(r){try{const i=(await x0()).transaction(xo),a=await i.objectStore(xo).get(N0(r));return await i.done,a}catch(t){if(t instanceof as)ts.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function Z_(r,t){try{const a=(await x0()).transaction(xo,"readwrite");await a.objectStore(xo).put(t,N0(r)),await a.done}catch(i){if(i instanceof as)ts.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const oS=1024,uS=30;class cS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uS){const o=dS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=hS(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ts.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function hS(r,t=oS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),tv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),tv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function dS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function mS(r){$a(new Hr("platform-logger",t=>new wA(t),"PRIVATE")),$a(new Hr("heartbeat",t=>new cS(t),"PRIVATE")),Ys(Qd,$_,r),Ys(Qd,$_,"esm2020"),Ys("fire-js","")}mS("");var pS="firebase",gS="12.8.0";Ys(pS,gS,"app");function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yS=D0,O0=new Po("auth","Firebase",D0());const Gc=new Em("@firebase/auth");function _S(r,...t){Gc.logLevel<=Mt.WARN&&Gc.warn(`Auth (${sl}): ${r}`,...t)}function Oc(r,...t){Gc.logLevel<=Mt.ERROR&&Gc.error(`Auth (${sl}): ${r}`,...t)}function es(r,...t){throw Sm(r,...t)}function wi(r,...t){return Sm(r,...t)}function M0(r,t,i){const a={...yS(),[t]:i};return new Po("auth","Firebase",a).create(t,{appName:r.name})}function Wi(r){return M0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return O0.create(r,...t)}function vt(r,t,...i){if(!r)throw Sm(t,...i)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function ns(r,t){r||Ji(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function vS(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}function ES(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vS()||Kb()||"connection"in navigator)?navigator.onLine:!0}function TS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class jo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=Gb()||Yb()}get(){return ES()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SS=new jo(3e4,6e4);function Bo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rl(r,t,i,a,o={}){return k0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=zo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Qb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),V0.fetch()(await U0(r,r.config.apiHost,i,g),y)})}async function k0(r,t,i){r._canInitEmulator=!1;const a={...bS,...t};try{const o=new wS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw M0(r,b,y);es(r,b)}}catch(o){if(o instanceof as)throw o;es(r,"network-request-failed",{message:String(o)})}}async function Rm(r,t,i,a,o={}){const c=await rl(r,t,i,a,o);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function U0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`;return AS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),SS.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=wi(r,t,a);return o.customData._tokenResponse=i,o}async function RS(r,t){return rl(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return rl(r,"POST","/v1/accounts:lookup",t)}function Ao(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CS(r,t=!1){const i=We(r),a=await i.getIdToken(t),o=Cm(a);vt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ao(Ud(o.auth_time)),issuedAtTime:Ao(Ud(o.iat)),expirationTime:Ao(Ud(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=E0(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nv(r){const t=Cm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function No(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&IS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function IS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $d{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await No(r,Fc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?L0(o.providerUserInfo):[],d=DS(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function NS(r){const t=We(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DS(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function L0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OS(r,t){const i=await k0(r,{},async()=>{const a=zo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await U0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),V0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MS(r,t){return rl(r,"POST","/v2/accounts:revokeToken",Bo(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=nv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await OS(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Fa;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(vt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function js(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new xS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $d(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await No(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CS(this,t)}reload(){return NS(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await No(this,RS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:G,providerData:$,stsTokenManager:tt}=i;vt(A&&tt,t,"internal-error");const K=Fa.fromJSON(this.name,tt);vt(typeof A=="string",t,"internal-error"),js(a,t.name),js(o,t.name),vt(typeof D=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(g,t.name),js(v,t.name),js(y,t.name),js(b,t.name);const st=new Jn({uid:A,auth:t,email:o,emailVerified:D,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:K,createdAt:y,lastLoginAt:b});return $&&Array.isArray($)&&(st.providerData=$.map(at=>({...at}))),v&&(st._redirectEventId=v),st}static async _fromIdTokenResponse(t,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];vt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(a);const v=new Jn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const iv=new Map;function Zi(r){ns(r instanceof Function,"Expected a class definition");let t=iv.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,iv.set(r,t),t)}class P0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}P0.type="NONE";const sv=P0;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(Zi(sv),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(sv);const d=Mc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const D=await Fc(t,{idToken:b}).catch(()=>{});if(!D)break;A=await Jn._fromGetAccountInfoResponse(t,D,b)}else A=Jn._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Qa(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,a))}}function rv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G0(t))return"Blackberry";if(F0(t))return"Webos";if(j0(t))return"Safari";if((t.includes("chrome/")||B0(t))&&!t.includes("edge/"))return"Chrome";if(H0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function z0(r=Ze()){return/firefox\//i.test(r)}function j0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function B0(r=Ze()){return/crios\//i.test(r)}function q0(r=Ze()){return/iemobile/i.test(r)}function H0(r=Ze()){return/android/i.test(r)}function G0(r=Ze()){return/blackberry/i.test(r)}function F0(r=Ze()){return/webos/i.test(r)}function Im(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VS(r=Ze()){return Im(r)&&!!window.navigator?.standalone}function kS(){return Xb()&&document.documentMode===10}function Q0(r=Ze()){return Im(r)||H0(r)||F0(r)||G0(r)||/windows phone/i.test(r)||q0(r)}function K0(r,t=[]){let i;switch(r){case"Browser":i=rv(Ze());break;case"Worker":i=`${rv(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class US{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LS(r,t={}){return rl(r,"GET","/v2/passwordPolicy",Bo(r,t))}const PS=6;class zS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class jS{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new US(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Wi(this));const i=t?We(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LS(this),i=new zS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Po("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_S(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qo(r){return We(r)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=iA(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BS(r){xm=r}function qS(r){return xm.loadJS(r)}function HS(){return xm.gapiScript}function GS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function FS(r,t){const i=bm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(qr(c,t??{}))return o;es(o,"already-initialized")}return i.initialize({options:t})}function QS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function KS(r,t,i){const a=qo(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Y0(t),{host:d,port:g}=YS(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(qr(y,a.config.emulator)&&qr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(S0(`${c}//${d}${v}`),w0("Auth",!0)):XS()}function Y0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function YS(r){const t=Y0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:lv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lv(d)}}}function lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function XS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class X0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Ka(r,t){return Rm(r,"POST","/v1/accounts:signInWithIdp",Bo(r,t))}const $S="http://localhost";class Gr extends X0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Gr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:$S,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zo(i)}return t}}class $0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Ho{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Ho{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function JS(r,t){return Rm(r,"POST","/v1/accounts:signUp",Bo(r,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Jn._fromIdTokenResponse(t,a,o),d=ov(a);return new is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=ov(a);return new is({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function ov(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function ZS(r){if(Un(r.app))return Promise.reject(Wi(r));const t=qo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await JS(t,{returnSecureToken:!0}),a=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends as{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Kc(t,i,a,o)}}function J0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function WS(r,t,i=!1){const a=await No(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return is._forOperation(r,"link",a)}async function tw(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Wi(a));const o="reauthenticate";try{const c=await No(r,J0(a,o,t,r),i);vt(c.idToken,a,"internal-error");const d=Cm(c.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(r.uid===g,a,"user-mismatch"),is._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function ew(r,t,i=!1){if(Un(r.app))return Promise.reject(Wi(r));const a="signIn",o=await J0(r,a,t),c=await is._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function nw(r,t){return Rm(r,"POST","/v1/accounts:signInWithCustomToken",Bo(r,t))}async function iw(r,t){if(Un(r.app))return Promise.reject(Wi(r));const i=qo(r),a=await nw(i,{token:t,returnSecureToken:!0}),o=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function sw(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function rw(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function aw(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class Z0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lw=1e3,ow=10;class W0 extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ow):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}W0.type="LOCAL";const uw=W0;class t1 extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}t1.type="SESSION";const e1=t1;function cw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await cw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Nm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Nm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const D=A;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function fw(r){Ri().location.href=r}function n1(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){return navigator?.serviceWorker?.controller||null}function pw(){return n1()?self:null}const i1="firebaseLocalStorageDb",gw=1,Xc="firebaseLocalStorage",s1="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function yw(){const r=indexedDB.deleteDatabase(i1);return new Go(r).toPromise()}function Jd(){const r=indexedDB.open(i1,gw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:s1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await yw(),t(await Jd()))})})}async function uv(r,t,i){const a=ch(r,!0).put({[s1]:t,value:i});return new Go(a).toPromise()}async function _w(r,t){const i=ch(r,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function cv(r,t){const i=ch(r,!0).delete(t);return new Go(i).toPromise()}const vw=800,Ew=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(pw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await uv(t,Yc,"1"),await cv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>uv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ch(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const Tw=r1;new jo(3e4,6e4);function bw(r,t){return t?Zi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Dm extends X0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Aw(r){return ew(r.auth,new Dm(r),r.bypassAuthState)}function Sw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),tw(i,new Dm(r),r.bypassAuthState)}async function ww(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),WS(i,new Dm(r),r.bypassAuthState)}class a1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return ww;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new jo(2e3,1e4);class Ga extends a1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}Ga.currentPopupAction=null;const Cw="pendingRedirect",Vc=new Map;class Iw extends a1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await xw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(r,t){const i=Ow(t),a=Dw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Nw(r,t){Vc.set(r._key(),t)}function Dw(r){return Zi(r._redirectPersistence)}function Ow(r){return Mc(Cw,r.config.apiKey,r.name)}async function Mw(r,t,i=!1){if(Un(r.app))return Promise.reject(Wi(r));const a=qo(r),o=bw(a,t),d=await new Iw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Vw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!l1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(t))}saveEventToCache(t){this.cachedEventUids.add(hv(t)),this.lastProcessedEventTime=Date.now()}}function hv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function l1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(r);default:return!1}}async function Lw(r,t={}){return rl(r,"GET","/v1/projects",t)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function jw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Lw(r);for(const i of t)try{if(Bw(i))return}catch{}es(r,"unauthorized-domain")}function Bw(r){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(Pw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const qw=new jo(3e4,6e4);function fv(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Hw(r){return new Promise((t,i)=>{function a(){fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fv(),i(wi(r,"network-request-failed"))},timeout:qw.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const o=GS("iframefcb");return Ri()[o]=()=>{gapi.load?a():i(wi(r,"network-request-failed"))},qS(`${HS()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function Gw(r){return kc=kc||Hw(r),kc}const Fw=new jo(5e3,15e3),Qw="__/auth/iframe",Kw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,Kw):`https://${r.config.authDomain}/${Qw}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=Xw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zo(a).slice(1)}`}async function Jw(r){const t=await Gw(r),i=Ri().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:$w(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=wi(r,"network-request-failed"),g=Ri().setTimeout(()=>{c(d)},Fw.get());function v(){Ri().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Zw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,t2=600,e2="_blank",n2="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(r,t,i,a=Ww,o=t2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Zw,width:a.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=B0(y)?e2:i),z0(y)&&(t=t||n2,v.scrollbars="yes");const b=Object.entries(v).reduce((D,[G,$])=>`${D}${G}=${$},`,"");if(VS(y)&&g!=="_self")return s2(t||"",g),new dv(null);const A=window.open(t||"",g,b);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new dv(A)}function s2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const r2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function mv(r,t,i,a,o,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof $0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",nA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Ho){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${l2}=${encodeURIComponent(v)}`:"";return`${o2(r)}?${zo(g).slice(1)}${y}`}function o2({config:r}){return r.emulator?wm(r,a2):`https://${r.authDomain}/${r2}`}const Ld="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=Mw,this._overrideRedirectResult=Nw}async _openPopup(t,i,a,o){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await mv(t,i,a,Xd(),o);return i2(t,c,Nm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await mv(t,i,a,Xd(),o);return fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Jw(t),a=new kw(t);return i.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},o=>{const c=o?.[0]?.[Ld];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Q0()||j0()||Im()}}const c2=u2;var pv="@firebase/auth",gv="1.12.0";class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(r){$a(new Hr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(r)},y=new jS(a,o,c,v);return QS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Hr("auth-internal",t=>{const i=qo(t.getProvider("auth").getImmediate());return(a=>new h2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(pv,gv,f2(r)),Ys(pv,gv,"esm2020")}const m2=300,p2=A0("authIdTokenMaxAge")||m2;let yv=null;const g2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>p2)return;const o=i?.token;yv!==o&&(yv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y2(r=Am()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=FS(r,{popupRedirectResolver:c2,persistence:[Tw,uw,e1]}),a=A0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=g2(c.toString());rw(i,d,()=>d(i.currentUser)),sw(i,g=>d(g))}}const o=T0("auth");return o&&KS(i,`http://${o}`),i}function _2(){return document.getElementsByTagName("head")?.[0]??document}BS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=wi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",_2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,o1;(function(){var r;function t(N,S){function x(){}x.prototype=S.prototype,N.F=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,M,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return S.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);const V=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)V[M]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(M=0;M<16;++M)V[M]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],M=N.g[2];let U=N.g[3],R;R=S+(U^x&(M^U))+V[0]+3614090360&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(M^S&(x^M))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(x^U&(S^x))+V[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(S^M&(U^S))+V[3]+3250441966&4294967295,x=M+(R<<22&4294967295|R>>>10),R=S+(U^x&(M^U))+V[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(M^S&(x^M))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(x^U&(S^x))+V[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(S^M&(U^S))+V[7]+4249261313&4294967295,x=M+(R<<22&4294967295|R>>>10),R=S+(U^x&(M^U))+V[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(M^S&(x^M))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(x^U&(S^x))+V[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(S^M&(U^S))+V[11]+2304563134&4294967295,x=M+(R<<22&4294967295|R>>>10),R=S+(U^x&(M^U))+V[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(M^S&(x^M))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(x^U&(S^x))+V[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(S^M&(U^S))+V[15]+1236535329&4294967295,x=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(x^M))+V[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(S^x))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^x&(U^S))+V[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(M^U))+V[0]+3921069994&4294967295,x=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(x^M))+V[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(S^x))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^x&(U^S))+V[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(M^U))+V[4]+3889429448&4294967295,x=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(x^M))+V[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(S^x))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^x&(U^S))+V[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(M^U))+V[8]+1163531501&4294967295,x=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(x^M))+V[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(S^x))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^x&(U^S))+V[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(M^U))+V[12]+2368359562&4294967295,x=M+(R<<20&4294967295|R>>>12),R=S+(x^M^U)+V[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^M)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^x)+V[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^S)+V[14]+4259657740&4294967295,x=M+(R<<23&4294967295|R>>>9),R=S+(x^M^U)+V[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^M)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^x)+V[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^S)+V[10]+3200236656&4294967295,x=M+(R<<23&4294967295|R>>>9),R=S+(x^M^U)+V[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^M)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^x)+V[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^S)+V[6]+76029189&4294967295,x=M+(R<<23&4294967295|R>>>9),R=S+(x^M^U)+V[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^M)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^x)+V[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^S)+V[2]+3299628645&4294967295,x=M+(R<<23&4294967295|R>>>9),R=S+(M^(x|~U))+V[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~M))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~x))+V[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~S))+V[5]+4237533241&4294967295,x=M+(R<<21&4294967295|R>>>11),R=S+(M^(x|~U))+V[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~M))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~x))+V[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~S))+V[1]+2240044497&4294967295,x=M+(R<<21&4294967295|R>>>11),R=S+(M^(x|~U))+V[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~M))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~x))+V[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~S))+V[13]+1309151649&4294967295,x=M+(R<<21&4294967295|R>>>11),R=S+(M^(x|~U))+V[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~M))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~x))+V[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const x=S-this.blockSize,V=this.C;let M=this.h,U=0;for(;U<S;){if(M==0)for(;U<=x;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[M++]=N.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<S;)if(V[M++]=N[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[S++]=this.g[x]>>>V&255;return N};function c(N,S){var x=g;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function d(N,S){this.h=S;const x=[];let V=!0;for(let M=N.length-1;M>=0;M--){const U=N[M]|0;V&&U==S||(x[M]=U,V=!1)}this.g=x}var g={};function v(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return K(y(-N));const S=[];let x=1;for(let V=0;N>=x;V++)S[V]=N/x|0,x*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return K(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var M=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+M),S);M<8?(M=y(Math.pow(S,M)),V=V.j(M).add(y(R))):(V=V.j(x),V=V.add(y(R)))}return V}var A=v(0),D=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-K(this).m();let N=0,S=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(tt(this))return"-"+K(this).toString(N);const S=y(Math.pow(N,6));var x=this;let V="";for(;;){const M=lt(x,S).g;x=st(x,M.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=M,$(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function tt(N){return N.h==-1}r.l=function(N){return N=st(this,N),tt(N)?-1:$(N)?0:1};function K(N){const S=N.g.length,x=[];for(let V=0;V<S;V++)x[V]=~N.g[V];return new d(x,~N.h).add(D)}r.abs=function(){return tt(this)?K(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let M=0;M<=S;M++){let U=V+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=R>>>16,U&=65535,R&=65535,x[M]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function st(N,S){return N.add(K(S))}r.j=function(N){if($(this)||$(N))return A;if(tt(this))return tt(N)?K(this).j(K(N)):K(K(this).j(N));if(tt(N))return K(this.j(K(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,x=[];for(var V=0;V<2*S;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<N.g.length;M++){const U=this.i(V)>>>16,R=this.i(V)&65535,ee=N.i(M)>>>16,fe=N.i(M)&65535;x[2*V+2*M]+=R*fe,at(x,2*V+2*M),x[2*V+2*M+1]+=U*fe,at(x,2*V+2*M+1),x[2*V+2*M+1]+=R*ee,at(x,2*V+2*M+1),x[2*V+2*M+2]+=U*ee,at(x,2*V+2*M+2)}for(N=0;N<S;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=S;N<2*S;N++)x[N]=0;return new d(x,0)};function at(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function lt(N,S){if($(S))throw Error("division by zero");if($(N))return new ft(A,A);if(tt(N))return S=lt(K(N),S),new ft(K(S.g),K(S.h));if(tt(S))return S=lt(N,K(S)),new ft(K(S.g),S.h);if(N.g.length>30){if(tt(N)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var x=D,V=S;V.l(N)<=0;)x=Rt(x),V=Rt(V);var M=Ct(x,1),U=Ct(V,1);for(V=Ct(V,2),x=Ct(x,2);!$(V);){var R=U.add(V);R.l(N)<=0&&(M=M.add(x),U=R),V=Ct(V,1),x=Ct(x,1)}return S=st(N,M.j(S)),new ft(M,S)}for(M=A;N.l(S)>=0;){for(x=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),R=U.j(S);tt(R)||R.l(N)>0;)x-=V,U=y(x),R=U.j(S);$(U)&&(U=D),M=M.add(U),N=st(N,R)}return new ft(M,N)}r.B=function(N){return lt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)&N.i(V);return new d(x,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)|N.i(V);return new d(x,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)^N.i(V);return new d(x,this.h^N.h)};function Rt(N){const S=N.g.length+1,x=[];for(let V=0;V<S;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(x,N.h)}function Ct(N,S){const x=S>>5;S%=32;const V=N.g.length-x,M=[];for(let U=0;U<V;U++)M[U]=S>0?N.i(U+x)>>>S|N.i(U+x+1)<<32-S:N.i(U+x);return new d(M,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,o1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Xs=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u1,_o,c1,Uc,Zd,h1,f1,d1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[L].apply(T,et)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function st(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,_){const T=ft.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new tt(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,Ct=!1,N=new at,S=()=>{const u=Promise.resolve(void 0);Rt=()=>{u.then(x)}};function x(){for(var u;u=st();){try{u.h.call(u.g)}catch(_){K(_)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ee,M),ee.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),F=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<H.length;B++)_=H[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=_t(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function mt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _t(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],_,T,L);return null}return _=fl(_),u&&u[fe]?u.J(m,_,g(T)?!!T.capture:!1,L):ar(u,m,_,!1,T,L)}function ar(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let At=lr(u);if(At||(u[Pt]=At=new nt(u)),_=At.add(m,_,T,et,B),_.proxy)return _;if(T=$r(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $r(){function u(_){return m.call(u.src,u.listener,_)}const m=cl;return u}function Jr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Jr(u,m[B],_,T,L);else T=g(T)?!!T.capture:!!T,_=fl(_),u&&u[fe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=_t(m,_,T,L),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_t(m,_,T,L)),(_=u>-1?m[u]:null)&&Zr(_))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])mt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ei(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=lr(m))?(mt(_,u),_.h==0&&(_.src=null,m[Pt]=null)):ht(u)}}}function ei(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=_.call(T,m)}return u}function lr(u){return u=u[Pt],u instanceof nt?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function _e(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}A(_e,V),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Jr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var L=m;m=new M(T,u),W(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=ls(B,T,!0,m)&&L;if(B=m.g=u,L=ls(B,T,!0,m)&&L,L=ls(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=ls(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ht(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ls(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const At=et.listener,me=et.ha||et.src;et.fa&&mt(u.i,et),L=At.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jo(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Jo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){V.call(this),this.h=u,this.g={}}A(or,V);var dl=[];function ml(u){Ut(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),ml(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Ch=d.JSON.parse,Zo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wo(){}function tu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){M.call(this,"d")}A(ze,M);function An(){M.call(this,"c")}A(An,M);var de={},eu=null;function Wr(){return eu=eu||new _e}de.Ia="serverreachability";function nu(u){M.call(this,de.Ia,u)}A(nu,M);function ni(u){const m=Wr();De(m,new nu(m))}de.STAT_EVENT="statevent";function ur(u,m){M.call(this,de.STAT_EVENT,u),this.stat=m}A(ur,M);function ve(u){const m=Wr();De(m,new ur(m,u))}de.Ja="timingevent";function ii(u,m){M.call(this,de.Ja,u),this.size=m}A(ii,M);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Ih(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",At=B.split("&");for(let Gt=0;Gt<At.length;Gt++){var me=At[Gt].split("=");if(me.length>1){const le=me[0];me=me[1];const Cn=le.split("_");et=Cn.length>=2&&Cn[1]=="type"?et+(le+"="+me+"&"):et+(le+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function iu(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function ri(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,_)+(T?" "+T:"")})}function cr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return os(B)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function fr(){}A(fr,Wo),fr.prototype.g=function(){return new XMLHttpRequest},gl=new fr;function Oi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function ai(u,m,_){u.M=1,u.A=dr(be(m)),u.u=_,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Bn,u.g=vu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let B=0;B<L.length;B++){const et=ae(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),me=this.g.ya(),Gt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||me==7||(me==8||Gt<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var _=Nh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),Sn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<_.length;)if(le=au(this,_),le==ke){At==4&&(this.m=4,ve(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ri(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,le,null),ui(this,le);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Dl(et),et.P=!0,ve(11))}}else ri(this.i,this.l,_,null),ui(this,_);At==4&&dn(this),this.o&&!this.K&&(At==4?pu(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),Sn(this)}}}catch{}};function Nh(u){if(!ru(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ni(),ve(17)),dn(this),this.m=2,Sn(this)):ea(this,this.T-u)};function Sn(u){u.j.I==0||u.K||pu(u.j,u)}function dn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||hi(_.h,u))){if(!u.L&&hi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),gs(_);else break t;Er(_),ve(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=si(y(_.Va,_),6e3));ci(_.h)<=1&&_.ta&&(_.ta=void 0)}else yi(_,11)}else if((u.L||_.g==u)&&ua(_),!R(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const le=Gt[0];if(!(le<=_.K))if(_.K=le,Gt=Gt[1],_.I==2)if(Gt[0]=="c"){_.M=Gt[1],_.ba=Gt[2];const Cn=Gt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const _i=Gt[4];_i!=null&&(_.za=_i,_.j.info("SVER="+_.za));const Fn=Gt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const Tr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var B=T.h;B.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(T.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Kt(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=_u(T,T.L?T.ba:null,T.W),et.L){El(T.h,et);var At=et,me=T.O;me&&(At.H=me),At.D&&(oi(At),li(At)),T.g=et}else du(T);_.i.length>0&&gi(_)}else Gt[0]!="stop"&&Gt[0]!="close"||yi(_,7);else _.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?yi(_,7):xl(_):Gt[0]!="noop"&&_.l&&_.l.qa(Gt),_.A=0)}}ni(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,bl(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),us(this,m[4]),this.h=fi(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(mr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mr(m,ia,!0),"@"),u.push(Oi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?Al:ou,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,uu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)us(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const At=L[et++];At=="."?T&&et==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?bl(m,hu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function Ue(u,m,_){u.j=_?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,_){m instanceof hs?(u.i=m,ra(u.i,u.l)):(_||(m=mr(m,cs)),u.i=new hs(m,u.l))}function Kt(u,m,_){u.i.set(m,_)}function dr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,ou=/[#\?:]/g,Al=/[#\?]/g,cs=/[#\?@]/g,uu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=hs.prototype,r.add=function(u,m){rn(this),this.i=null,u=fs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function cu(u,m){rn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return rn(u),m=fs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){rn(u);let _=[];if(typeof m=="string")Sl(u,m)&&(_=_.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=fs(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){cu(u,m),_.length>0&&(u.i=null,u.g.set(fs(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Oi(_);_=wl(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+Oi(_[B])),u.push(et)}}return this.i=u.join("&")};function hu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(cu(this,T),sa(this,L,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=b(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const _=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ds(){this.g=new Zo}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(di,Wo),di.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(pr,_e),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Hn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},r.Na=function(u){this.g&&(this.response=u,ms(this))},r.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function gr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&Oi(_):Kt(u,m,_))}function $t(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,_e);var mi=/^https?$/i,Cl=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){yr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){yr(this,B)}};function yr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Mi(u)}function Il(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},r.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(lu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!mi.test(et?et.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Il(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=su(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ps.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),gi(this)};function xl(u){if(la(u),u.I==3){var m=u.V++,_=be(u.J);if(Kt(_,"SID",u.M),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),vr(u,_),m=new jn(u,u.j,m),m.M=2,m.A=dr(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}yu(u)}function gs(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function la(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Rt||S(),Ct||(Rt(),Ct=!0),N.add(m,u),u.D=0}}function oa(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=C(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),_=be(this.J),Kt(_,"RID",u),Kt(_,"CVER",22),this.G&&Kt(_,"X-HTTP-Session-Id",this.G),vr(this,_),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&gr(_,this.u,B)),vl(this.h,L),this.Ra&&Kt(_,"TYPE","init"),this.S?(Kt(_,"$req",m),Kt(_,"SID","null"),L.U=!0,ai(L,_,null)):ai(L,_,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Kt(T,"SID",u.M),Kt(T,"RID",_),Kt(T,"AID",u.K),vr(u,T),u.u&&u.o&&gr(T,u.u,u.o),_=new jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,_),ai(_,T,m)}function vr(u,m){u.H&&Ut(u.H,function(_,T){Kt(m,T,_)}),u.l&&Ut({},function(_,T){Kt(m,T,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const me=["count="+_];At==-1?_>0?(At=L[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let Gt=!0;for(let le=0;le<_;le++){var B=L[le].g;const Cn=L[le].map;if(B-=At,B<0)At=Math.max(0,L[le].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var et=Cn instanceof Map?Cn:Object.entries(Cn);for(const[_i,Fn]of et){let Qn=Fn;g(Fn)&&(Qn=os(Fn)),me.push(B+_i+"="+encodeURIComponent(Qn))}}catch(_i){throw me.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(Cn)}}if(Gt){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Rt||S(),Ct||(Rt(),Ct=!0),N.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),gs(this),mu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),vr(u,m),u.u&&u.o&&gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=dr(be(m)),_.u=null,_.R=!0,ta(_,u)}r.Va=function(){this.C!=null&&(this.C=null,gs(this),Er(this),ve(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var _=null;if(u.g==m){ua(u),Dl(u),u.g=null;var T=2}else if(hi(u.h,m))_=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Wr(),De(T,new ii(T,_)),gi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&Er(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function gu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),dr(T),L?qn(T.toString(),_):Rl(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),yu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,_){var T=_ instanceof mn?be(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);T&&Ue(B,T),m&&(B.g=m),L&&us(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Kt(T,_,m),Kt(T,"VER",u.ka),vr(u,T),T}function vu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new di({ab:_})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}A(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){xl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=os(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,en.Z.N.call(this)};function Tu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,ze);function bu(){An.call(this),this.status=1}A(bu,An);function ki(u){this.g=u}A(ki,Eu),ki.prototype.ra=function(){De(this.g,"a")},ki.prototype.qa=function(u){De(this.g,new Tu(u))},ki.prototype.pa=function(u){De(this.g,new bu)},ki.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,d1=function(){return new ys},f1=function(){return Wr()},h1=de,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Uc=hr,pl.COMPLETE="complete",c1=pl,tu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,_o=tu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,u1=$t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let al="12.8.0";function v2(r){al=r}const Fr=new Em("@firebase/firestore");function ja(){return Fr.logLevel}function rt(r,...t){if(Fr.logLevel<=Mt.DEBUG){const i=t.map(Om);Fr.debug(`Firestore (${al}): ${r}`,...i)}}function ss(r,...t){if(Fr.logLevel<=Mt.ERROR){const i=t.map(Om);Fr.error(`Firestore (${al}): ${r}`,...i)}}function Ja(r,...t){if(Fr.logLevel<=Mt.WARN){const i=t.map(Om);Fr.warn(`Firestore (${al}): ${r}`,...i)}}function Om(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,m1(r,a,i)}function m1(r,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Qt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||m1(t,o,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class p1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $s,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $s)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new p1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class S2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=R2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Pd(o)===Pd(c)?Vt(o,c):Pd(o)?1:-1}return Vt(r.length,t.length)}const C2=55296,I2=57343;function Pd(r){const t=r.charCodeAt(0);return t>=C2&&t<=I2}function Za(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const Ev="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ai.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),o=Ai.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class se extends Ai{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return x2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new Qe([Ev])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(se.fromString(t))}static fromName(t){return new pt(se.fromString(t).popFirst(5))}static empty(){return new pt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new se(t.slice()))}}function g1(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function N2(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Tv(r){if(!pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bv(r){if(pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fo(r,t){if(!y1(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const Av=-62135596800,Sv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Sv);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Av)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fo(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Do=-1;function D2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Zs(o,pt.empty(),t)}function O2(r){return new Zs(r.readTime,r.key,Do)}class Zs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(Et.min(),pt.empty(),Do)}static max(){return new Zs(Et.max(),pt.empty(),Do)}}function M2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==V2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function U2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const km=-1;function fh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function L2(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const _1="";function P2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=wv(t)),t=z2(r.get(i),t);return wv(t)}function z2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case _1:i+="";break;default:i+=c}}return i}function wv(r){return r+_1+""}function Rv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function sr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function v1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Fe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new E1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=j2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function tr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const T1="server_timestamp",b1="__type__",A1="__previous_value__",S1="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[b1]?.stringValue===T1}function dh(r){const t=r.mapValue.fields[A1];return Um(t)?dh(t):t}function Oo(r){const t=Ws(r.mapValue.fields[S1].timestampValue);return new re(t.seconds,t.nanos)}class B2{constructor(t,i,a,o,c,d,g,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Jc="(default)";class Mo{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}function q2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(r.options.projectId,t)}const w1="__type__",H2="__max__",xc={mapValue:{}},R1="__vector__",Zc="value";function er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:F2(r)?9007199254740991:G2(r)?10:11:yt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=er(r);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Oo(r).isEqual(Oo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ws(o.timestampValue),g=Ws(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Rv(d)!==Rv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ni(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Vo(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=er(r),a=er(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return Iv(r.timestampValue,t.timestampValue);case 4:return Iv(Oo(r),Oo(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=tr(c),v=tr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Vt(g[y],v[y]);if(b!==0)return b}return Vt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(ye(c.latitude),ye(d.latitude));return g!==0?g:Vt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return xv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Zc]?.arrayValue,b=v[Zc]?.arrayValue,A=Vt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:xv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const D=Wd(v[A],b[A]);if(D!==0)return D;const G=Wa(g[v[A]],y[b[A]]);if(G!==0)return G}return Vt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=Ws(r),a=Ws(t),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function xv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return Vt(i.length,a.length)}function tl(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${tm(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Lc(r){switch(er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return sr(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function em(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function Nv(r){return!!r&&"nullValue"in r}function Dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function G2(r){return(r?.mapValue?.fields||{})[w1]?.stringValue===R1}function So(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return sr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=So(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=So(r.arrayValue.values[i]);return t}return{...r}}function F2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=So(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=So(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){sr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(So(this.value))}}function C1(r){const t=[];return sr(r.fields,((i,a)=>{const o=new Qe([i]);if(Pc(a)){const c=C1(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new bn(t)}class Je{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,Et.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Ov(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function Q2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class I1{}class Me extends I1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Y2(t,i,a):i==="array-contains"?new J2(t,a):i==="in"?new Z2(t,a):i==="not-in"?new W2(t,a):i==="array-contains-any"?new tR(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new X2(t,a):new $2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends I1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return x1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(r){return r.op==="and"}function N1(r){return K2(r)&&x1(r)}function K2(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function nm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(N1(r))return r.filters.map((t=>nm(t))).join(",");{const t=r.filters.map((i=>nm(i))).join(",");return`${r.op}(${t})`}}function D1(r,t){return r instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&Ni(a.value,o.value)})(r,t):r instanceof Di?(function(a,o){return o instanceof Di&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&D1(d,o.filters[g])),!0):!1})(r,t):void yt(19439)}function O1(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(r):r instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(O1).join(" ,")+"}"})(r):"Filter"}class Y2 extends Me{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class X2 extends Me{constructor(t,i){super(t,"in",i),this.keys=M1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class $2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=M1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function M1(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class J2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Lm(i)&&Vo(i.arrayValue,this.value)}}class Z2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class W2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class tR extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class eR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Vv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new eR(r,t,i,a,o,c,d)}function Pm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Q2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!D1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Mv(r.startAt,t.startAt)&&Mv(r.endAt,t.endAt)}function im(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nR(r,t,i,a,o,c,d,g){return new mh(r,t,i,a,o,c,d,g)}function jm(r){return new mh(r)}function kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iR(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function sR(r){return r.collectionGroup!==null}function wo(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new th(Qe.keyField(),a))}return t.Ie}function Ci(r){const t=bt(r);return t.Ee||(t.Ee=rR(t,wo(r))),t.Ee}function rR(r,t){if(r.limitType==="F")return Vv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new th(o.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Vv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function sm(r,t,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return zm(Ci(r),Ci(t))&&r.limitType===t.limitType}function V1(r){return`${Pm(Ci(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>O1(o))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Ci(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of wo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=Ov(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,wo(a),o)||a.endAt&&!(function(d,g,v){const y=Ov(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,wo(a),o))})(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k1(r){return(t,i)=>{let a=!1;for(const o of wo(r)){const c=lR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function lR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Wa(v,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const oR=new ue(pt.comparator);function rs(){return oR}const U1=new ue(pt.comparator);function vo(...r){let t=U1;for(const i of r)t=t.insert(i.key,i);return t}function L1(r){let t=U1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return Ro()}function P1(){return Ro()}function Ro(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uR=new ue(pt.comparator),cR=new Ve(pt.comparator);function kt(...r){let t=cR;for(const i of r)t=t.add(i);return t}const hR=new Ve(Vt);function fR(){return hR}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function z1(r){return{integerValue:""+r}}function dR(r,t){return L2(t)?z1(t):Bm(r,t)}class yh{constructor(){this._=void 0}}function mR(r,t,i){return r instanceof eh?(function(o,c){const d={fields:{[b1]:{stringValue:T1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Um(c)&&(c=dh(c)),c&&(d.fields[A1]=c),{mapValue:d}})(i,t):r instanceof ko?B1(r,t):r instanceof Uo?q1(r,t):(function(o,c){const d=j1(o,c),g=Uv(d)+Uv(o.Ae);return em(d)&&em(o.Ae)?z1(g):Bm(o.serializer,g)})(r,t)}function pR(r,t,i){return r instanceof ko?B1(r,t):r instanceof Uo?q1(r,t):i}function j1(r,t){return r instanceof nh?(function(a){return em(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends yh{}class ko extends yh{constructor(t){super(),this.elements=t}}function B1(r,t){const i=H1(t);for(const a of r.elements)i.some((o=>Ni(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Uo extends yh{constructor(t){super(),this.elements=t}}function q1(r,t){let i=H1(t);for(const a of r.elements)i=i.filter((o=>!Ni(o,a)));return{arrayValue:{values:i}}}class nh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Uv(r){return ye(r.integerValue||r.doubleValue)}function H1(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof ko&&o instanceof ko||a instanceof Uo&&o instanceof Uo?Za(a.elements,o.elements,Ni):a instanceof nh&&o instanceof nh?Ni(a.Ae,o.Ae):a instanceof eh&&o instanceof eh})(r.transform,t.transform)}class yR{constructor(t,i){this.version=t,this.transformResults=i}}class Wn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function G1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qm(r.key,Wn.none()):new Qo(r.key,r.data,Wn.none());{const i=r.data,a=fn.empty();let o=new Ve(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new rr(r.key,a,new bn(o.toArray()),Wn.none())}}function _R(r,t,i){r instanceof Qo?(function(o,c,d){const g=o.value.clone(),v=Pv(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof rr?(function(o,c,d){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Pv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(F1(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Co(r,t,i,a){return r instanceof Qo?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=c.value.clone(),b=zv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof rr?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=zv(c.fieldTransforms,v,d),b=d.data;return b.setAll(F1(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function vR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=j1(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function Lv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,((c,d)=>gR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Qo extends _h{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends _h{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function F1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Pv(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,pR(d,g,i[o]))}return a}function zv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,mR(c,d,t))}return a}class qm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&_R(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=P1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=G1(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class Hm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Hm(t,i,a,o)}}class bR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,zt;function SR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Q1(r){if(r===void 0)return ss("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ce.OK:return Z.OK;case Ce.CANCELLED:return Z.CANCELLED;case Ce.UNKNOWN:return Z.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Z.INTERNAL;case Ce.UNAVAILABLE:return Z.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Z.NOT_FOUND;case Ce.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ce.ABORTED:return Z.ABORTED;case Ce.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ce.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new Xs([4294967295,4294967295],0);function jv(r){const t=wR().encode(r),i=new o1;return i.update(t),new Uint8Array(i.digest())}function Bv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,a],0),new Xs([o,c],0)]}class Gm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Xs.fromNumber(a)));return o.compare(RR)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=jv(t),[a,o]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Gm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=jv(t),[a,o]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(Et.min(),o,new ue(Vt),rs(),kt())}}class Ko{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ko(a,i,kt(),kt(),kt())}}class jc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class K1{constructor(t,i){this.targetId=t,this.Ce=i}}class Y1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Ko(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Hv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CR{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.He=Nc(),this.Je=Nc(),this.Ze=new ue(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(im(c))if(a===0){const d=new pt(c.path);this.et(i,d,Je.newNoDocument(d,Et.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=tr(a).toUint8Array()}catch(v){if(v instanceof E1)return Ja("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Gm(d,o,c)}catch(v){return Ja(v instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&im(g.target)){const v=new pt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=kt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new vh(t,i,this.Ze,this.je,a);return this.je=rs(),this.He=Nc(),this.Je=Nc(),this.Ze=new ue(Vt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new qv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ue(pt.comparator)}function Hv(){return new ue(pt.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function rm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OR(r,t){return ih(r,t.toTimestamp())}function Ii(r){return Qt(!!r,49232),Et.fromTimestamp((function(i){const a=Ws(i);return new re(a.seconds,a.nanos)})(r))}function Fm(r,t){return am(r,t).canonicalString()}function am(r,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function $1(r){const t=se.fromString(r);return Qt(eE(t),10190,{key:t.toString()}),t}function lm(r,t){return Fm(r.databaseId,t.path)}function zd(r,t){const i=$1(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(Z1(i))}function J1(r,t){return Fm(r.databaseId,t)}function MR(r){const t=$1(r);return t.length===4?se.emptyPath():Z1(t)}function om(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z1(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Gv(r,t,i){return{name:lm(r,t),fields:i.value.mapValue.fields}}function VR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Qt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:Q1(y.code);return new ct(b,y.message||"")})(d);i=new Y1(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=zd(r,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):Et.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new jc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=zd(r,a.document),c=a.readTime?Ii(a.readTime):Et.min(),d=Je.newNoDocument(o,c),g=a.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=zd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new AR(o,c),g=a.targetId;i=new K1(g,d)}}return i}function kR(r,t){let i;if(t instanceof Qo)i={update:Gv(r,t.key,t.value)};else if(t instanceof qm)i={delete:lm(r,t.key)};else if(t instanceof rr)i={update:Gv(r,t.key,t.data),updateMask:GR(t.fieldMask)};else{if(!(t instanceof ER))return yt(16599,{dt:t.type});i={verify:lm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:OR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function UR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(Et.min())&&(d=Ii(c)),new yR(d,o.transformResults||[])})(i,t)))):[]}function LR(r,t){return{documents:[J1(r,t.path)]}}function PR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=J1(r,o);const c=(function(y){if(y.length!==0)return tE(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(D){return{field:qa(D.field),direction:BR(D.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function zR(r){let t=MR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Qt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const D=W1(A);return D instanceof Di&&N1(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function($){return new th(Ha($.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,fh(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(A){const D=!!A.before,G=A.values||[];return new Wc(G,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const D=!A.before,G=A.values||[];return new Wc(G,D)})(i.endAt)),nR(t,o,d,c,g,"F",v,y)}function jR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function W1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>W1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function BR(r){return IR[r]}function qR(r){return xR[r]}function HR(r){return NR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Qe.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(Dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(Nv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(Nv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof Di?(function(i){const a=i.getFilters().map((o=>tE(o)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function GR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function nE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Fs{constructor(t,i,a,o,c=Et.min(),d=Et.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FR{constructor(t){this.yt=t}}function QR(r){const t=zR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sm(t,t.limit,"L"):t}class KR{constructor(){this.Sn=new YR}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Zs.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class YR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(se.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(se.comparator)).toArray()}}const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(iE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class el{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const Qv="LruGarbageCollector",XR=1048576;function Kv([r,t],[i,a]){const o=Vt(r,i);return o===0?Vt(t,a):o}class $R{constructor(t){this.Pr=t,this.buffer=new Ve(Kv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?rt(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Ar(3e5)}))}}class ZR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(hh.ce);const a=new $R(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),ja()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function WR(r,t){return new ZR(r,t)}class tC{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Co(a.mutation,o,bn.empty(),re.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=vo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=rs();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof rr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Co(b.mutation,y,b.mutation.getFieldMask(),re.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new eC(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ro();let o=new ue(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||bn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const A=(o.get(g.batchId)||kt()).add(v);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,A=P1();b.forEach((D=>{if(!c.has(D)){const G=G1(i.get(D),a.get(D));G!==null&&A.set(D,G),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return iR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(zr());let g=Do,v=c;return d.next((y=>J.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((D=>{v=v.insert(b,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,kt()))).next((b=>({batchId:g,changes:L1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let o=vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(A,D){return new mh(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=vo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Co(b.mutation,y,bn.empty(),re.now()),gh(i,y)&&(g=g.insert(v,y))})),g}))}}class iC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:QR(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),J.resolve()}}class sC{constructor(){this.overlays=new ue(pt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=zr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=zr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=zr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return J.resolve(g)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class rC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Qm{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new pt(new se([])),a=new Pe(i,t),o=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new pt(new se([])),a=new Pe(i,t),o=new Pe(i,t+1);let c=kt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return pt.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}class aC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((o=>{const c=new Pe(o,0),d=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new pt(c),0);let g=new Ve(Vt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new Pe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lC{constructor(t){this.ti=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=rs();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||M2(O2(b),a)<=0||(o.has(b.key)||gh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oC(this)}getSize(t){return J.resolve(this.size)}}class oC extends tC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class uC{constructor(t){this.persistence=t,this.ri=new Yr((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=el._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new el(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class sE{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new rC,this.referenceDelegate=t(this),this.li=new uC(this),this.indexManager=new KR,this.remoteDocumentCache=(function(o){return new lC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new FR(i),this.Pi=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new aC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const o=new cC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class cC extends k2{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Ai=null}static Vi(t){return new Km(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=pt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Yr((a=>P2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=WR(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=kt(),o=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ym(t,i.fromCache,a,o)}}class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $b()?8:U2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(ja()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(ja()<=Mt.DEBUG&&rt("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ja()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):J.resolve())}gs(t,i){if(kv(i))return J.resolve(null);let a=Ci(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sm(i,null,"F"),a=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,sm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return kv(i)||o.isEqual(Et.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(ja()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(i)),this.Ds(t,d,i,D2(o,Do)).next((g=>g)))}))}bs(t,i){let a=new Ve(k1(t));return i.forEach(((o,c)=>{gh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return ja()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.fs.getDocumentsMatchingQuery(t,i,Zs.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",dC=3e8;class mC{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ue(Vt),this.Fs=new Yr((c=>Pm(c)),zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function pC(r,t,i,a){return new mC(r,t,i,a)}async function rE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=kt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function gC(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const A=y.batch,D=A.keys();let G=J.resolve();return D.forEach(($=>{G=G.next((()=>b.getEntry(v,$))).next((tt=>{const K=y.docVersions.get($);Qt(K!==null,48541),tt.version.compareTo(K)<0&&(A.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function aE(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yC(r,t){const i=bt(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((b,A)=>{const D=o.get(A);if(!D)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let G=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),o=o.insert(A,G),(function(tt,K,st){return tt.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=dC?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(D,G,b)&&g.push(i.li.updateTargetData(c,G))}));let v=rs(),y=kt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(_C(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function _C(r,t,i){let a=kt(),o=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=rs();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):rt(Xm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function vC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function um(r,t,i){const a=bt(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;rt(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Yv(r,t,i){const a=bt(r);let o=Et.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=bt(v),D=A.Fs.get(b);return D!==void 0?J.resolve(A.vs.get(D)):A.li.getTargetData(y,b)})(a,d,Ci(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:kt()))).next((g=>(TC(a,aR(t),g),{documents:g,ks:c})))))}function TC(r,t,i){let a=r.Ms.get(t)||Et.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Xv{constructor(){this.activeTargetIds=fR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.vo=new Xv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AC{Mo(t){}shutdown(){}}const $v="ConnectivityMonitor";class Jv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt($v,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function cm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const jd="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=cm(),g=this.Qo(t,i.toUriEncodedString());rt(jd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(g),b=il(y);return this.zo(t,g,v,a,b).then((A=>(rt(jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ja(jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=SC[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class RC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yo=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ya extends wC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=f1();yo(t,h1.STAT_EVENT,(i=>{i.stat===Zd.PROXY?rt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===Zd.NOPROXY&&rt(Xe,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,i,a,o,c){const d=cm();return new Promise(((g,v)=>{const y=new u1;y.setWithCredentials(!0),y.listenOnce(c1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Uc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),v(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const D=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const tt=(function(st){const at=st.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(at)>=0?at:Z.UNKNOWN})($.status);v(new ct(tt,$.message))}else v(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);rt(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");rt(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let A=!1,D=!1;const G=new RC({Ho:$=>{D?rt(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(A||(rt(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),A=!0),rt(Xe,`RPC '${t}' stream ${o} sending:`,$),b.send($))},Jo:()=>b.close()});return yo(b,_o.EventType.OPEN,(()=>{D||(rt(Xe,`RPC '${t}' stream ${o} transport opened.`),G.i_())})),yo(b,_o.EventType.CLOSE,(()=>{D||(D=!0,rt(Xe,`RPC '${t}' stream ${o} transport closed`),G.o_(),this.E_(b))})),yo(b,_o.EventType.ERROR,($=>{D||(D=!0,Ja(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),G.o_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),yo(b,_o.EventType.MESSAGE,($=>{if(!D){const tt=$.data[0];Qt(!!tt,16349);const K=tt,st=K?.error||K[0]?.error;if(st){rt(Xe,`RPC '${t}' stream ${o} received error:`,st);const at=st.status;let ft=(function(Ct){const N=Ce[Ct];if(N!==void 0)return Q1(N)})(at),lt=st.message;ft===void 0&&(ft=Z.INTERNAL,lt="Unknown error status: "+at+" with message "+st.message),D=!0,G.o_(new ct(ft,lt)),b.close()}else rt(Xe,`RPC '${t}' stream ${o} received:`,tt),G.__(tt)}})),Ya.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d1()}}function CC(r){return new Ya(r)}function Bd(){return typeof document<"u"?document:null}function Eh(r){return new DR(r,!0)}Ya.c_=!1;class lE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Zv="PersistentStream";class oE{constructor(t,i,a,o,c,d,g,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends oE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ii(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=im(v)?{documents:LR(c,v)}:{query:PR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=X1(c,d.resumeToken);const y=rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=jR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.K_(i)}}class xC extends oE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=UR(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kR(this.serializer,a)))};this.K_(i)}}class NC{}class DC extends NC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,am(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OC(r,t,i,a){return new DC(r,t,i,a)}class MC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class VC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(rt(Qr,"Restarting streams for network reachability change."),await(async function(v){const y=bt(v);y.Ea.add(4),await Yo(y),y.Va.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Va=new MC(a,o)}}async function Th(r){if(Xr(r))for(const t of r.Ra)await t(!0)}async function Yo(r){for(const t of r.Ra)await t(!1)}function uE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Zm(i):ul(i).O_()&&Jm(i,t))}function $m(r,t){const i=bt(r),a=ul(i);i.Ia.delete(t),a.O_()&&cE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Va.set("Unknown"))}function Jm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(r).Z_(t)}function cE(r,t){r.da.$e(t),ul(r).X_(t)}function Zm(r){r.da=new CR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Va.ua()}function Wm(r){return Xr(r)&&!ul(r).x_()&&r.Ia.size>0}function Xr(r){return bt(r).Ea.size===0}function hE(r){r.da=void 0}async function kC(r){r.Va.set("Online")}async function UC(r){r.Ia.forEach(((t,i)=>{Jm(r,t)}))}async function LC(r,t){hE(r),Wm(r)?(r.Va.ha(t),Zm(r)):r.Va.set("Unknown")}async function PC(r,t,i){if(r.Va.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,t)}catch(a){rt(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof jc?r.da.Xe(t):t instanceof K1?r.da.st(t):r.da.tt(t),!i.isEqual(Et.min()))try{const a=await aE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),cE(c,v);const A=new Fs(b.target,v,y,b.sequenceNumber);Jm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Qr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!ol(t))throw t;r.Ea.add(1),await Yo(r),r.Va.set("Offline"),i||(i=()=>aE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Qr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function fE(r,t){return t().catch((i=>rh(r,i,t)))}async function bh(r){const t=bt(r),i=nr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;zC(t);)try{const o=await vC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,jC(t,o)}catch(o){await rh(t,o)}dE(t)&&mE(t)}function zC(r){return Xr(r)&&r.Ta.length<10}function jC(r,t){r.Ta.push(t);const i=nr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function dE(r){return Xr(r)&&!nr(r).x_()&&r.Ta.length>0}function mE(r){nr(r).start()}async function BC(r){nr(r).ra()}async function qC(r){const t=nr(r);for(const i of r.Ta)t.ea(i.mutations)}async function HC(r,t,i){const a=r.Ta.shift(),o=Hm.from(a,t,i);await fE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bh(r)}async function GC(r,t){t&&nr(r).Y_&&await(async function(a,o){if((function(d){return SR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();nr(a).B_(),await fE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bh(a)}})(r,t),dE(r)&&mE(r)}async function Wv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),rt(Qr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Yo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function FC(r,t){const i=bt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Yo(i),i.Va.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(i,a,o){const c=bt(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:kC.bind(null,r),Yo:UC.bind(null,r),t_:LC.bind(null,r),J_:PC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Wm(r)?Zm(r):r.Va.set("Unknown")):(await r.ma.stop(),hE(r))}))),r.ma}function nr(r){return r.fa||(r.fa=(function(i,a,o){const c=bt(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BC.bind(null,r),t_:GC.bind(null,r),ta:qC.bind(null,r),na:HC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Qr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tp{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new tp(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(r,t){if(ss("AsyncQueue",`${t}: ${r}`),ol(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=vo(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class t0{constructor(){this.ga=new ue(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new nl(t,i,Xa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class QC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KC{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),c=o.queries;o.queries=e0(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function e0(){return new Yr((r=>V1(r)),ph)}async function pE(r,t){const i=bt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new QC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=ep(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&np(i)}async function gE(r,t){const i=bt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(r,t){const i=bt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&np(i)}function XC(r,t,i){const a=bt(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function np(r){r.Ca.forEach((t=>{t.next()}))}var hm,n0;(n0=hm||(hm={})).Ma="default",n0.Cache="cache";class yE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class _E{constructor(t){this.key=t}}class vE{constructor(t){this.key=t}}class $C{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=k1(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new t0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const D=o.get(b),G=gh(this.query,A)?A:null,$=!!D&&this.mutatedKeys.has(D.key),tt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let K=!1;D&&G?D.data.isEqual(G.data)?$!==tt&&(a.track({type:3,doc:G}),K=!0):this.su(D,G)||(a.track({type:2,doc:G}),K=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(g=!0)):!D&&G?(a.track({type:0,doc:G}),K=!0):D&&!G&&(a.track({type:1,doc:D}),K=!0,(v||y)&&(g=!0)),K&&(G?(d=d.add(G),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(G,$){const tt=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:K})}};return tt(G)-tt($)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new vE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new _E(a))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ip="SyncEngine";class JC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZC{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((g=>V1(g)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(pt.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(r,t,i=!0){const a=wE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await EE(a,t,i,!0),o}async function eI(r,t){const i=wE(r);await EE(i,t,!0,!1)}async function EE(r,t,i,a){const o=await EC(r.localStore,Ci(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await nI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&uE(r.remoteStore,o),g}async function nI(r,t,i,a,o){r.pu=(A,D,G)=>(async function(tt,K,st,at){let ft=K.view.ru(st);ft.Ss&&(ft=await Yv(tt.localStore,K.query,!1).then((({documents:N})=>K.view.ru(N,ft))));const lt=at&&at.targetChanges.get(K.targetId),Rt=at&&at.targetMismatches.get(K.targetId)!=null,Ct=K.view.applyChanges(ft,tt.isPrimaryClient,lt,Rt);return s0(tt,K.targetId,Ct.au),Ct.snapshot})(r,A,D,G);const c=await Yv(r.localStore,t,!0),d=new $C(t,c.ks),g=d.ru(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);s0(r,i,y.au);const b=new JC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function iI(r,t,i){const a=bt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await um(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&$m(a.remoteStore,o.targetId),fm(a,o.targetId)})).catch(ll)):(fm(a,o.targetId),await um(a.localStore,o.targetId,!0))}async function sI(r,t){const i=bt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function rI(r,t,i){const a=fI(r);try{const o=await(function(d,g){const v=bt(d),y=re.now(),b=g.reduce(((G,$)=>G.add($.key)),kt());let A,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=rs(),tt=kt();return v.xs.getEntries(G,b).next((K=>{$=K,$.forEach(((st,at)=>{at.isValidDocument()||(tt=tt.add(st))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((K=>{A=K;const st=[];for(const at of g){const ft=vR(at,A.get(at.key).overlayedDocument);ft!=null&&st.push(new rr(at.key,ft,C1(ft.value.mapValue),Wn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,st,g)})).next((K=>{D=K;const st=K.applyToLocalDocumentSet(A,tt);return v.documentOverlayCache.saveOverlays(G,K.batchId,st)}))})).then((()=>({batchId:D.batchId,changes:L1(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Xo(a,o.changes),await bh(a.remoteStore)}catch(o){const c=ep(o,"Failed to persist write");i.reject(c)}}async function TE(r,t){const i=bt(r);try{const a=await yC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qt(d.hu,14607):o.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Xo(i,a,t)}catch(a){await ll(a)}}function i0(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=bt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,A)=>{for(const D of A.ba)D.va(g)&&(y=!0)})),y&&np(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ue(pt.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const g=kt().add(c),v=new vh(Et.min(),new Map,new ue(Vt),d,g);await TE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),sp(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(ll)}async function lI(r,t){const i=bt(r),a=t.batch.batchId;try{const o=await gC(i.localStore,t);AE(i,a,null),bE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xo(i,o)}catch(o){await ll(o)}}async function oI(r,t,i){const a=bt(r);try{const o=await(function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((A=>(Qt(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);AE(a,t,i),bE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xo(a,o)}catch(o){await ll(o)}}function bE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function AE(r,t,i){const a=bt(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function fm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||SE(r,a)}))}function SE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&($m(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),sp(r))}function s0(r,t,i){for(const a of i)a instanceof _E?(r.Vu.addReference(a.key,t),uI(r,a)):a instanceof vE?(rt(ip,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||SE(r,a.key)):yt(19791,{wu:a})}function uI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(rt(ip,"New document in limbo: "+i),r.Eu.add(a),sp(r))}function sp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(se.fromString(t)),a=r.fu.next();r.Au.set(a,new ZC(i)),r.Ru=r.Ru.insert(i,a),uE(r.remoteStore,new Fs(Ci(jm(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Xo(r,t,i){const a=bt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Ym.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(D=>J.forEach(D.Ts,(G=>b.persistence.referenceDelegate.addReference(A,D.targetId,G))).next((()=>J.forEach(D.Is,(G=>b.persistence.referenceDelegate.removeReference(A,D.targetId,G)))))))))}catch(A){if(!ol(A))throw A;rt(Xm,"Failed to update sequence numbers: "+A)}for(const A of y){const D=A.targetId;if(!A.fromCache){const G=b.vs.get(D),$=G.snapshotVersion,tt=G.withLastLimboFreeSnapshotVersion($);b.vs=b.vs.insert(D,tt)}}})(a.localStore,c))}async function cI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){rt(ip,"User change. New user:",t.toKey());const a=await rE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xo(i,a.Ns)}}function hI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let o=kt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function wE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=TE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aI.bind(null,t),t.Pu.J_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function fI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pC(this.persistence,new fC,t.initialUser,this.serializer)}Cu(t){return new sE(Km.Vi,this.serializer)}Du(t){return new bC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class dI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new sE((a=>sh.Vi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>i0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=CC(t.databaseInfo);return OC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new VC(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>i0(this.syncEngine,i,0)),(function(){return Jv.v()?new Jv:new AC})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,b){const A=new WC(o,c,d,g,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);rt(Qr,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class RE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class mI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ep(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(ir,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function r0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await pI(r);rt(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Wv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Wv(t.remoteStore,o))),r._onlineComponents=t}async function pI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(ir,"Using user provided OfflineComponentProvider");try{await qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await qd(r,new ah)}}else rt(ir,"Using default OfflineComponentProvider"),await qd(r,new dI(void 0));return r._offlineComponents}async function CE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(ir,"Using user provided OnlineComponentProvider"),await r0(r,r._uninitializedComponentsProvider._online)):(rt(ir,"Using default OnlineComponentProvider"),await r0(r,new dm))),r._onlineComponents}function gI(r){return CE(r).then((t=>t.syncEngine))}async function mm(r){const t=await CE(r),i=t.eventManager;return i.onListen=tI.bind(null,t.syncEngine),i.onUnlisten=iI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sI.bind(null,t.syncEngine),i}function yI(r,t,i,a){const o=new RE(a),c=new yE(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>pE(await mm(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>gE(await mm(r),c)))}}function _I(r,t,i={}){const a=new $s;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const b=new RE({next:D=>{b.Nu(),d.enqueueAndForget((()=>gE(c,A))),D.fromCache&&v.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),A=new yE(g,b,{includeMetadataChanges:!0,Ka:!0});return pE(c,A)})(await mm(r),r.asyncQueue,t,i,a))),a.promise}function vI(r,t){const i=new $s;return r.asyncQueue.enqueueAndForget((async()=>rI(await gI(r),t,i))),i.promise}function IE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const EI="ComponentProvider",a0=new Map;function TI(r,t,i,a,o){return new B2(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,IE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const xE="firestore.googleapis.com",l0=!0;class o0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=l0}else this.host=t.host,this.ssl=t.ssl??l0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XR)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new E2;switch(a.type){case"firstParty":return new S2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=a0.get(i);a&&(rt(EI,"Removing Datastore"),a0.delete(i),a.terminate())})(this),Promise.resolve()}}function bI(r,t,i,a={}){r=Zn(r,Ah);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(S0(`https://${g}`),w0("Firestore",!0)),c.host!==xE&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!qr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=Bb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(A)}r._authCredentials=new T2(new p1(y,b))}}class $o{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new $o(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fo(i,xe._jsonSchema))return new xe(t,a||null,new pt(se.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ie("string",xe._jsonSchemaVersion),referencePath:Ie("string")};class Js extends $o{constructor(t,i,a){super(t,i,jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new pt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function rp(r,t,...i){if(r=We(r),g1("collection","path",t),r instanceof Ah){const a=se.fromString(t,...i);return bv(a),new Js(r,null,a)}{if(!(r instanceof xe||r instanceof Js))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return bv(a),new Js(r.firestore,null,a)}}function Pr(r,t,...i){if(r=We(r),arguments.length===1&&(t=Mm.newId()),g1("doc","path",t),r instanceof Ah){const a=se.fromString(t,...i);return Tv(a),new xe(r,null,new pt(a))}{if(!(r instanceof xe||r instanceof Js))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return Tv(a),new xe(r.firestore,r instanceof Js?r.converter:null,new pt(a))}}const u0="AsyncQueue";class c0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&rt(u0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;rt(u0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",h0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=tp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:h0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function h0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Kr extends Ah{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new c0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c0(t),this._firestoreClient=void 0,await t}}}function AI(r,t){const i=typeof r=="object"?r:Am(),a=typeof r=="string"?r:Jc,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=zb("firestore");c&&bI(o,...c)}return o}function ap(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const t=r._freezeSettings(),i=TI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new mI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fo(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class lp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class op{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Fo(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class ti{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fo(t,ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ti(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ie("string",ti._jsonSchemaVersion),vectorValues:Ie("object")};const wI=/^__.*__$/;class RI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Qo(t,this.data,i,this.fieldTransforms)}}class NE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function DE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class up{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(DE(this.dataSource)&&wI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,o=!1){return new up({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OE(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new CI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function II(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);cp("Data must be an object, but it was:",d,a);const g=ME(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const D=Lo(t,A,i);if(!d.contains(D))throw new ct(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);UE(b,D)||b.push(D)}v=new bn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new RI(new fn(g),v,y)}class Sh extends op{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sh}}function xI(r,t,i,a){const o=r.createContext(1,t,i);cp("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();sr(a,((v,y)=>{const b=kE(t,v,i);y=We(y);const A=o.childContextForFieldPath(b);if(y instanceof Sh)c.push(b);else{const D=wh(y,A);D!=null&&(c.push(b),d.set(b,D))}}));const g=new bn(c);return new NE(d,g,o.fieldTransforms)}function NI(r,t,i,a,o,c){const d=r.createContext(1,t,i),g=[Lo(t,a,i)],v=[o];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Lo(t,c[D])),v.push(c[D+1]);const y=[],b=fn.empty();for(let D=g.length-1;D>=0;--D)if(!UE(y,g[D])){const G=g[D];let $=v[D];$=We($);const tt=d.childContextForFieldPath(G);if($ instanceof Sh)y.push(G);else{const K=wh($,tt);K!=null&&(y.push(G),b.set(G,K))}}const A=new bn(y);return new NE(b,A,d.fieldTransforms)}function wh(r,t){if(VE(r=We(r)))return cp("Unsupported field value:",t,r),ME(r,t);if(r instanceof op)return(function(a,o){if(!DE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=wh(g,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:X1(o.serializer,a._byteString)};if(a instanceof xe){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ti)return(function(d,g){const v=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[w1]:{stringValue:R1},[Zc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Bm(g.serializer,b)}))}}}}}})(a,o);if(nE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vm(a)}`)})(r,t)}function ME(r,t){const i={};return v1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(r,((a,o)=>{const c=wh(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof xi||r instanceof Ln||r instanceof xe||r instanceof op||r instanceof ti||nE(r))}function cp(r,t,i){if(!VE(i)||!y1(i)){const a=Vm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Lo(r,t,i){if((t=We(t))instanceof lp)return t._internalPath;if(typeof t=="string")return kE(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const DI=new RegExp("[~\\*/\\[\\]]");function kE(r,t,i){if(t.search(DI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new lp(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ct(Z.INVALID_ARGUMENT,g+r+v)}function UE(r,t){return r.some((i=>i.isEqual(t)))}class OI{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new ti(i)}convertGeoPoint(t){return new xi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Qt(eE(a),9688,{name:t});const o=new Mo(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return o.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class hp extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}const f0="@firebase/firestore",d0="4.10.0";function m0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class LE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Lo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends LE{data(){return super.data()}}function PE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class To{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends LE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Lo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ie("string",jr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Bc extends jr{data(t={}){return super.data(t)}}class Br{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:kI(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Br._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Br._jsonSchemaVersion="firestore/querySnapshot/1.0",Br._jsonSchema={type:Ie("string",Br._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function UI(r){r=Zn(r,$o);const t=Zn(r.firestore,Kr),i=ap(t),a=new hp(t);return PE(r._query),_I(i,r._query).then((o=>new Br(t,a,r,o)))}function pm(r,t,i){r=Zn(r,xe);const a=Zn(r.firestore,Kr),o=VI(r.converter,t),c=OE(a);return fp(a,[II(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Wn.none())])}function LI(r,t,i,...a){r=Zn(r,xe);const o=Zn(r.firestore,Kr),c=OE(o);let d;return d=typeof(t=We(t))=="string"||t instanceof lp?NI(c,"updateDoc",r._key,t,i,a):xI(c,"updateDoc",r._key,t),fp(o,[d.toMutation(r._key,Wn.exists(!0))])}function PI(r){return fp(Zn(r.firestore,Kr),[new qm(r._key,Wn.none())])}function qc(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||m0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof xe)d=Zn(r.firestore,Kr),g=jm(r._key.path),c={next:y=>{t[a]&&t[a](zI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Zn(r,$o);d=Zn(y.firestore,Kr),g=y._query;const b=new hp(d);c={next:A=>{t[a]&&t[a](new Br(d,b,y,A))},error:t[a+1],complete:t[a+2]},PE(r._query)}const v=ap(d);return yI(v,g,o,c)}function fp(r,t){const i=ap(r);return vI(i,t)}function zI(r,t,i){const a=i.docs.get(t._key),o=new hp(r);return new jr(r,o,t._key,a,new To(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){v2(sl),$a(new Hr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Kr(new b2(a.getProvider("auth-internal")),new w2(d,a.getProvider("app-check-internal")),q2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ys(f0,d0,t),Ys(f0,d0,"esm2020")})();const zE=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const jI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const BI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const p0=r=>{const t=BI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var qI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const GI=It.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>It.createElement("svg",{ref:v,...qI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:zE("lucide",o),...!c&&!HI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>It.createElement(y,b)),...Array.isArray(c)?c:[c]]));const qt=(r,t)=>{const i=It.forwardRef(({className:a,...o},c)=>It.createElement(GI,{ref:c,iconNode:t,className:zE(`lucide-${jI(p0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=p0(r),i};const FI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],QI=qt("arrow-down",FI);const KI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YI=qt("arrow-left",KI);const XI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$I=qt("arrow-right",XI);const JI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ZI=qt("arrow-up",JI);const WI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gm=qt("calendar",WI);const tx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ex=qt("chevron-right",tx);const nx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ix=qt("circle-alert",nx);const sx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rx=qt("clock",sx);const ax=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],lx=qt("coins",ax);const ox=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ux=qt("external-link",ox);const cx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hx=qt("eye-off",cx);const fx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dx=qt("eye",fx);const mx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],px=qt("globe",mx);const gx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yx=qt("image",gx);const _x=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],vx=qt("list-checks",_x);const Ex=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dp=qt("loader-circle",Ex);const Tx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bx=qt("lock",Tx);const Ax=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Sx=qt("log-in",Ax);const wx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jE=qt("log-out",wx);const Rx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cx=qt("map-pin",Rx);const Ix=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],BE=qt("pen-line",Ix);const xx=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ym=qt("plane",xx);const Nx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_m=qt("plus",Nx);const Dx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ox=qt("shield-check",Dx);const Mx=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Vx=qt("sticky-note",Mx);const kx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ux=qt("sun",kx);const Lx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qE=qt("trash-2",Lx);const Px=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zx=qt("user-cog",Px);const jx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Bx=qt("user-plus",jx);const qx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],g0=qt("user",qx);const Hx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Gx=qt("wallet",Hx);const Fx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qx=qt("x",Fx),HE=" V5.1 - 2026/02/15 21:30",Kx=JSON.parse(__firebase_config),GE=sS().length>0?Am():I0(Kx),Hd=y2(GE),$n=AI(GE),Si="travel-yeh",y0=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}))}catch{return""}},Yx=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{weekday:"long"}))}catch{return""}},Xx=r=>{if(!r||typeof r!="string")return r;const t=/(https?:\/\/[^\s]+)/g;return r.split(t).map((a,o)=>a.match(/^https?:\/\//)?w.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",onClick:c=>c.stopPropagation(),children:[" ",w.jsx(ux,{size:12})]},o):a)},$x=({user:r,onLoginSuccess:t,onAdminSuccess:i})=>{const[a,o]=It.useState(""),[c,d]=It.useState(""),[g,v]=It.useState(""),[y,b]=It.useState([]),[A,D]=It.useState(!0),[G,$]=It.useState(!1);It.useEffect(()=>{(async()=>{if(r)try{const st=rp($n,"artifacts",Si,"public","data","users_db"),at=await UI(st);b(at.docs.map(ft=>ft.data()))}catch(st){console.error("LoginView Fetch Users Error:",st)}finally{D(!1)}})()},[r]);const tt=K=>{if(K.preventDefault(),a==="yljh"&&c==="yljh8320873"){i();return}y.find(at=>at.username===a&&at.password===c)||a==="abc"&&c==="abc"?t():(v(""),d(""))};return w.jsx("div",{className:"min-h-screen w-full bg-slate-50 flex items-center justify-center p-6 font-sans",children:w.jsxs("div",{className:"max-w-md w-full animate-fade-in",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"w-20 h-20 bg-blue-600 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl rotate-12 shadow-blue-200",children:w.jsx(ym,{size:40})}),w.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:G?"":""}),w.jsx("p",{className:"text-slate-400 font-bold mt-2",children:G?"":""})]}),w.jsxs("form",{onSubmit:tt,className:"bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx(g0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),w.jsx("input",{required:!0,type:"text",value:a,onChange:K=>o(K.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx(bx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),w.jsx("input",{required:!0,type:"password",value:c,onChange:K=>d(K.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700"})]})]}),g&&w.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-xs font-bold bg-red-50 p-3 rounded-xl animate-pulse",children:[w.jsx(ix,{size:14})," ",g]}),w.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-5 rounded-2xl font-black flex items-center justify-center gap-3 shadow-xl shadow-blue-100 transition-all active:scale-95 disabled:opacity-50",children:A?w.jsx(dp,{className:"animate-spin"}):w.jsxs(w.Fragment,{children:[w.jsx(Sx,{size:20})," "]})})]}),w.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[w.jsxs("button",{onClick:()=>$(!G),className:"flex items-center gap-2 text-xs font-black text-blue-600 bg-blue-50 px-6 py-2 rounded-full hover:bg-blue-100 transition-all",children:[G?w.jsx(g0,{size:14}):w.jsx(zx,{size:14}),G?"":""]}),w.jsxs("p",{className:"text-center text-slate-300 text-[10px] font-bold uppercase tracking-widest leading-loose",children:["Powered by ",w.jsx("br",{}),HE]})]})]})})},Jx=({user:r,onLogout:t})=>{const[i,a]=It.useState([]),[o,c]=It.useState(""),[d,g]=It.useState(""),[v,y]=It.useState(null),[b,A]=It.useState(!0);It.useEffect(()=>{if(!r||!$n)return;const $=rp($n,"artifacts",Si,"public","data","users_db");return qc($,tt=>{a(tt.docs.map(K=>({id:K.id,...K.data()}))),A(!1)},tt=>{console.error("Admin snapshot error",tt),A(!1)})},[r]);const D=async $=>{if($.preventDefault(),!d)return;const tt=v?v.username:o;tt&&(await pm(Pr($n,"artifacts",Si,"public","data","users_db",tt),{username:tt,password:d,createdAt:v?.createdAt||new Date().toISOString()}),y(null),c(""),g(""))},G=async $=>{confirm(` ${$} `)&&await PI(Pr($n,"artifacts",Si,"public","data","users_db",$))};return b?w.jsxs("div",{className:"flex flex-col items-center justify-center p-20 h-screen",children:[w.jsx(dp,{className:"animate-spin text-blue-600 mb-4",size:48}),w.jsx("p",{className:"font-bold text-slate-400",children:"..."})]}):w.jsxs("div",{className:"w-full min-h-screen bg-slate-50 p-6 md:p-12 animate-fade-in space-y-12",children:[w.jsxs("header",{className:"max-w-5xl mx-auto flex justify-between items-center bg-slate-900 text-white p-8 rounded-[3rem] shadow-2xl",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg",children:w.jsx(Ox,{size:32})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-black tracking-tight",children:""}),w.jsx("p",{className:"text-slate-400 text-xs font-bold",children:"Admin Level Access"})]})]}),w.jsxs("button",{onClick:t,className:"p-4 bg-white/10 hover:bg-red-500 transition-all rounded-2xl group flex items-center gap-2 font-black text-sm",children:[w.jsx(jE,{size:20})," "]})]}),w.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-8 md:p-10 rounded-[4rem] shadow-xl border border-slate-100",children:[w.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-6 flex items-center gap-2",children:[w.jsx(Bx,{className:"text-blue-600"})," ",v?`: ${v.username}`:""]}),w.jsxs("form",{onSubmit:D,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[!v&&w.jsxs("div",{className:"flex-1 space-y-1",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:": traveler_01",value:o,onChange:$=>c($.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none"})]}),w.jsxs("div",{className:"flex-1 space-y-1",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:"",value:d,onChange:$=>g($.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none"})]}),w.jsxs("div",{className:"flex gap-2",children:[v&&w.jsx("button",{type:"button",onClick:()=>{y(null),g("")},className:"px-6 py-4 rounded-2xl font-bold text-slate-400",children:""}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700 active:scale-95 transition-all",children:v?"":""})]})]})]}),w.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-[3rem] shadow-xl border border-slate-50 overflow-hidden",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-8 py-5",children:""}),w.jsx("th",{className:"px-8 py-5",children:""}),w.jsx("th",{className:"px-8 py-5",children:""}),w.jsx("th",{className:"px-8 py-5 text-center",children:""})]})}),w.jsx("tbody",{className:"divide-y divide-slate-50",children:i.length>0?i.map($=>w.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[w.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:$.username}),w.jsx("td",{className:"px-8 py-5 font-mono text-blue-600 font-bold",children:$.password}),w.jsx("td",{className:"px-8 py-5 text-slate-400 text-xs font-bold",children:new Date($.createdAt).toLocaleDateString()}),w.jsx("td",{className:"px-8 py-5 text-center",children:w.jsxs("div",{className:"flex justify-center gap-2",children:[w.jsx("button",{onClick:()=>{y($),g($.password)},className:"p-2 text-slate-300 hover:text-blue-600 transition-colors",children:w.jsx(BE,{size:18})}),w.jsx("button",{onClick:()=>G($.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:w.jsx(qE,{size:18})})]})})]},$.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-300 font-bold italic tracking-widest",children:""})})})]})})]})},Zx=({tripInfo:r,itineraryData:t,activeDay:i,setActiveDay:a,moveDay:o,updateItinField:c,showAllNotes:d,setShowAllNotes:g,expandedItems:v,setExpandedItems:y,editingId:b,setEditingId:A,editData:D,setEditData:G,newSpot:$,setNewSpot:tt})=>w.jsxs("div",{className:"space-y-12",children:[w.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(t?.days||{}).map(K=>w.jsxs("button",{onClick:()=>{a(parseInt(K)),A(null)},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${i===parseInt(K)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[w.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),w.jsx("span",{className:"text-3xl leading-none",children:K}),w.jsx("span",{className:"text-[10px] mt-1 font-bold",children:y0(r.startDate,parseInt(K)).split("/").slice(1).join("/")})]},K))}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 px-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",i]}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200",children:[w.jsx("button",{onClick:()=>o(-1),disabled:i===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:w.jsx(YI,{size:20})}),w.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),w.jsx("button",{onClick:()=>o(1),disabled:i===parseInt(r.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:w.jsx($I,{size:20})})]})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("span",{className:"text-lg text-slate-400 font-bold ml-1 mb-1 block tracking-tight",children:["(",y0(r.startDate,i)," ",Yx(r.startDate,i),")"]}),w.jsx("input",{className:"text-3xl md:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 w-full transition-all",placeholder:"...",value:t?.days?.[i]?.title||"",onChange:K=>c(`days.${i}.title`,K.target.value)})]})]}),w.jsx("div",{className:"flex justify-center md:justify-start px-4",children:w.jsxs("button",{onClick:()=>g(!d),className:`flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border ${d?"bg-blue-600 text-white border-blue-600 shadow-blue-100 shadow-md":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:[d?w.jsx(hx,{size:16}):w.jsx(dx,{size:16})," ",d?"":""]})})]}),w.jsxs("div",{className:"bg-white p-6 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[w.jsxs("form",{onSubmit:async K=>{K.preventDefault();const st=t?.days?.[i]?.spots||[];await c(`days.${i}.spots`,[...st,{...$,id:Date.now().toString()}]),tt({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[w.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm shadow-inner",children:[w.jsx(rx,{size:18,className:"text-blue-500"}),w.jsx("input",{type:"time",value:$.time,onChange:K=>tt({...$,time:K.target.value}),className:"bg-transparent font-black outline-none w-24"})]}),w.jsx("input",{placeholder:"",required:!0,value:$.spot,onChange:K=>tt({...$,spot:K.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm shadow-inner"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("div",{className:"w-1/3 flex items-center gap-2 bg-white px-4 py-2 rounded-xl border shadow-sm text-xs font-bold text-slate-400",children:[w.jsx(yx,{size:18}),w.jsx("input",{placeholder:"",value:$.imageUrl,onChange:K=>tt({...$,imageUrl:K.target.value}),className:"bg-transparent outline-none w-full"})]}),w.jsx("textarea",{placeholder:" ()...",value:$.note,onChange:K=>tt({...$,note:K.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm shadow-sm shadow-inner"}),w.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black active:scale-95 shadow-lg flex items-center justify-center shadow-slate-200 shadow-md",children:w.jsx(_m,{size:24})})]})]}),w.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full px-2",children:[(t?.days?.[i]?.spots||[]).map((K,st)=>{const at=d||!!v[K.id],ft=b===K.id;return w.jsxs("div",{className:"relative pl-20 group",children:[w.jsxs("div",{className:"absolute left-[-15px] top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[w.jsx("button",{onClick:lt=>{lt.stopPropagation();const Rt=[...t.days[i].spots];st>0&&([Rt[st],Rt[st-1]]=[Rt[st-1],Rt[st]],c(`days.${i}.spots`,Rt))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:w.jsx(ZI,{size:20})}),w.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md group-hover:scale-110 transition-transform",children:K.time}),w.jsx("button",{onClick:lt=>{lt.stopPropagation();const Rt=[...t.days[i].spots];st<t.days[i].spots?.length-1&&([Rt[st],Rt[st+1]]=[Rt[st+1],Rt[st]],c(`days.${i}.spots`,Rt))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:w.jsx(QI,{size:20})})]}),w.jsx("div",{onClick:()=>!ft&&y(lt=>({...lt,[K.id]:!lt[K.id]})),className:`p-10 bg-white border rounded-[3rem] transition-all cursor-pointer ${ft?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:ft?w.jsxs("div",{className:"space-y-4 animate-fade-in",onClick:lt=>lt.stopPropagation(),children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"time",value:D.time,onChange:lt=>G({...D,time:lt.target.value}),className:"p-3 border rounded-xl font-black w-32 bg-slate-50 outline-none shadow-inner"}),w.jsx("input",{value:D.spot,onChange:lt=>G({...D,spot:lt.target.value}),className:"flex-1 p-3 border rounded-xl font-black bg-slate-50 outline-none shadow-inner"})]}),w.jsx("input",{placeholder:"...",value:D.imageUrl||"",onChange:lt=>G({...D,imageUrl:lt.target.value}),className:"w-full p-3 border rounded-xl bg-slate-50 outline-none text-xs font-bold shadow-inner"}),w.jsx("textarea",{value:D.note,onChange:lt=>G({...D,note:lt.target.value}),className:"w-full p-3 border rounded-xl h-24 bg-slate-50 outline-none text-sm shadow-inner"}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:lt=>{lt.stopPropagation(),A(null)},className:"text-sm font-bold text-slate-400 px-4",children:""}),w.jsx("button",{onClick:async lt=>{lt.stopPropagation();const Rt=t.days[i].spots.map(Ct=>Ct.id===b?D:Ct);await c(`days.${i}.spots`,Rt),A(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg shadow-blue-100",children:""})]})]}):w.jsxs("div",{className:"flex justify-between items-start gap-4",children:[w.jsxs("div",{className:"space-y-4 flex-1",children:[w.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[w.jsx("h4",{className:"text-3xl font-black text-slate-800 leading-tight tracking-tight",children:K.spot}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(K.spot)}`,target:"_blank",rel:"noreferrer",onClick:lt=>lt.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-xl transition-all inline-flex items-center gap-1.5 text-xs font-black shadow-sm shadow-blue-100 hover:bg-blue-600 hover:text-white",children:[w.jsx(Cx,{size:14})," "]}),(K.note||K.imageUrl)&&w.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1.5 text-[10px] font-black uppercase ${at?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[w.jsx(Vx,{size:12})," ",at?"":""]})]})]}),at&&w.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100 space-y-4 animate-fade-in",onClick:lt=>lt.stopPropagation(),children:[K.imageUrl&&w.jsx("div",{className:"relative group/img overflow-hidden rounded-2xl border border-white shadow-sm max-w-md",children:w.jsx("img",{src:K.imageUrl,alt:K.spot,className:"w-full max-w-md h-auto rounded-2xl shadow-sm border border-white cursor-zoom-in",onError:lt=>lt.target.style.display="none",onClick:lt=>{lt.stopPropagation(),window.open(K.imageUrl,"_blank")}})}),w.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:Xx(K.note)||""})]})]}),w.jsxs("div",{className:"flex flex-col gap-2 transition-all",children:[w.jsx("button",{onClick:lt=>{lt.stopPropagation(),A(K.id),G({...K})},className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all shadow-sm",children:w.jsx(BE,{size:20})}),w.jsx("button",{onClick:async lt=>{if(lt.stopPropagation(),confirm("")){const Rt=t.days[i].spots.filter(Ct=>Ct.id!==K.id);await c(`days.${i}.spots`,Rt)}},className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm",children:w.jsx(qE,{size:20})})]})]})})]},K.id)}),!t?.days?.[i]?.spots?.length&&w.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[w.jsx(gm,{className:"text-slate-100 mx-auto mb-6 opacity-20",size:80}),w.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}),Wx=()=>{const[r,t]=It.useState(!1),[i,a]=It.useState(!1),[o,c]=It.useState("home"),[d,g]=It.useState("itinerary"),[v,y]=It.useState(null),[b,A]=It.useState(null),[D,G]=It.useState([]),[$,tt]=It.useState(!0),[K,st]=It.useState(1),[at,ft]=It.useState({country:"",city:"",startDate:"",duration:3}),[lt,Rt]=It.useState({days:{},checklist:[],expenses:[],customRates:{},useCustom:{}}),[Ct,N]=It.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[S,x]=It.useState(null),[V,M]=It.useState({}),[U,R]=It.useState({type:"",message:""}),[ee,fe]=It.useState(!1),[F,it]=It.useState({});It.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await iw(Hd,__initial_auth_token):await ZS(Hd)}catch(W){console.error("Root Auth failed",W)}finally{tt(!1)}})();const H=aw(Hd,y);return()=>H()},[]),It.useEffect(()=>{if(!v||!r&&!i)return;const C=rp($n,"artifacts",Si,"public","data","trips");return qc(C,H=>{G(H.docs.map(W=>({id:W.id,...W.data()})).sort((W,nt)=>new Date(nt.createdAt)-new Date(W.createdAt)))},H=>{H.code==="permission-denied"&&console.error("Trips Snap Permission Denied")})},[v,r,i]),It.useEffect(()=>{if(!v||!b||!r)return;const C=Pr($n,"artifacts",Si,"public","data","itineraries",b),H=qc(C,mt=>{if(mt.exists()){const _t=mt.data();Rt({days:_t.days||{},checklist:_t.checklist||[],expenses:_t.expenses||[],customRates:_t.customRates||{},useCustom:_t.useCustom||{}}),c("editor")}}),W=Pr($n,"artifacts",Si,"public","data","trips",b),nt=qc(W,mt=>{mt.exists()&&ft(mt.data())});return()=>{H(),nt()}},[v,b,r]);const ht=async(C,H)=>{if(!(!v||!b))try{await LI(Pr($n,"artifacts",Si,"public","data","itineraries",b),{[C]:H})}catch(W){console.error(W)}},Ut=async C=>{if(!v||!b)return;const H={...lt.days},W=K+C;if(W<1||W>parseInt(at.duration||"0"))return;const nt=H[K],mt=H[W];H[K]=mt,H[W]=nt,await ht("days",H),st(W),R({type:"success",message:""})},Ht=async C=>{if(C.preventDefault(),!v)return;tt(!0);const H=crypto.randomUUID(),W={};for(let nt=1;nt<=Math.max(1,parseInt(at.duration));nt++)W[nt]={spots:[]};try{await pm(Pr($n,"artifacts",Si,"public","data","trips",H),{...at,creator:v.uid,createdAt:new Date().toISOString()}),await pm(Pr($n,"artifacts",Si,"public","data","itineraries",H),{days:W,checklist:[],expenses:[],customRates:{},useCustom:{}}),A(H)}catch(nt){console.error(nt)}finally{tt(!1)}};return!r&&!i?w.jsx($x,{user:v,onLoginSuccess:()=>t(!0),onAdminSuccess:()=>a(!0)}):i?w.jsx(Jx,{user:v,onLogout:()=>a(!1)}):$?w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[w.jsx(dp,{className:"animate-spin text-blue-600 mb-2",size:48}),w.jsx("p",{className:"text-slate-500 font-bold italic tracking-widest leading-none",children:"..."})]}):w.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen",children:[U.message&&w.jsxs("div",{className:"fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border bg-white text-green-600 border-green-100 shadow-green-100",children:[" ",w.jsx("span",{className:"font-bold text-sm",children:U.message}),w.jsx("button",{onClick:()=>R({type:"",message:""}),children:w.jsx(Qx,{size:14})})," "]}),o==="home"?w.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-fade-in px-4",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200 shadow-lg",children:w.jsx(ym,{size:48})}),w.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase leading-none",children:"Travel Planner"}),w.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center uppercase",children:" - "})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start px-4",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[w.jsx(_m,{className:"text-blue-600"})," "]}),w.jsxs("form",{onSubmit:Ht,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white shadow-slate-200",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:at.country,onChange:C=>ft({...at,country:C.target.value})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:at.city,onChange:C=>ft({...at,city:C.target.value})})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:at.startDate,onChange:C=>ft({...at,startDate:C.target.value})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),w.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:at.duration,onChange:C=>ft({...at,duration:C.target.value})})]})]}),w.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all active:scale-95 shadow-blue-100 flex items-center justify-center gap-2",children:[w.jsx(_m,{size:24})," "]})]})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[w.jsx(gm,{className:"text-blue-600"}),"  (",D.length,")"]}),w.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:D.map(C=>w.jsxs("div",{onClick:()=>A(C.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-5",children:[w.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm shadow-inner",children:w.jsx(px,{size:24})}),w.jsxs("div",{children:[w.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[C.city," "]}),w.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:[C.country,"  ",C.startDate]})]})]}),w.jsx(ex,{className:"text-slate-200 group-hover:text-blue-600"})]},C.id))})]})]}),w.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:HE})]}):w.jsxs("div",{className:"w-full flex flex-col items-center pb-24 animate-fade-in px-4",children:[w.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50 shadow-sm max-w-[100vw] overflow-x-hidden",children:[w.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[w.jsx(ym,{size:24,className:"rotate-45"}),w.jsx("span",{className:"tracking-tighter uppercase font-black font-sans hidden sm:inline",children:"Traveler"})]}),w.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:["itinerary","weather","expenses","checklist","currency"].map(C=>w.jsx("button",{onClick:()=>g(C),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${d===C?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400 hover:text-slate-600"}`,children:C==="itinerary"?"":C==="weather"?"":C==="expenses"?"":C==="checklist"?"":""},C))}),w.jsxs("div",{className:"text-right flex items-center gap-4",children:[w.jsxs("div",{className:"hidden sm:block text-right",children:[w.jsxs("div",{className:"font-black text-slate-800 tracking-tight truncate max-w-[150px] leading-none",children:[at.city," "]}),w.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-1",children:at.startDate})]}),w.jsx("button",{onClick:()=>{t(!1),a(!1)},className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:w.jsx(jE,{size:20})})]})]}),w.jsx("main",{className:"w-full max-w-5xl p-4 md:p-12",children:d==="itinerary"?w.jsx(Zx,{tripInfo:at,itineraryData:lt,activeDay:K,setActiveDay:st,moveDay:Ut,updateItinField:ht,showAllNotes:ee,setShowAllNotes:fe,expandedItems:F,setExpandedItems:it,editingId:S,setEditingId:x,editData:V,setEditData:M,newSpot:Ct,setNewSpot:N}):d==="weather"?w.jsx(WeatherMaster,{tripInfo:at}):d==="expenses"?w.jsx(ExpenseSection,{itineraryData:lt,updateItinField:ht}):d==="checklist"?w.jsx(ChecklistSection,{itineraryData:lt,updateItinField:ht}):w.jsx(CurrencyMaster,{itineraryData:lt,updateItinField:ht})}),w.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[w.jsx("button",{onClick:()=>g("itinerary"),className:`p-4 rounded-2xl transition-all ${d==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(gm,{size:20})}),w.jsx("button",{onClick:()=>g("weather"),className:`p-4 rounded-2xl transition-all ${d==="weather"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(Ux,{size:20})}),w.jsx("button",{onClick:()=>g("expenses"),className:`p-4 rounded-2xl transition-all ${d==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(Gx,{size:20})}),w.jsx("button",{onClick:()=>g("checklist"),className:`p-4 rounded-2xl transition-all ${d==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(vx,{size:20})}),w.jsx("button",{onClick:()=>g("currency"),className:`p-4 rounded-2xl transition-all ${d==="currency"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:w.jsx(lx,{size:20})})]})]})]})};Nb.createRoot(document.getElementById("root")).render(w.jsx(It.StrictMode,{children:w.jsx(Wx,{})}));
