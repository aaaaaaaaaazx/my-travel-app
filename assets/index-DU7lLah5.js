(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Rd={exports:{}},mo={};var N_;function vb(){if(N_)return mo;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return mo.Fragment=t,mo.jsx=i,mo.jsxs=i,mo}var I_;function Eb(){return I_||(I_=1,Rd.exports=vb()),Rd.exports}var T=Eb(),Cd={exports:{}},bt={};var D_;function Tb(){if(D_)return bt;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function G(w){return w===null||typeof w!="object"?null:(w=C&&w[C]||w["@@iterator"],typeof w=="function"?w:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,W={};function nt(w,B,$){this.props=w,this.context=B,this.refs=W,this.updater=$||Y}nt.prototype.isReactComponent={},nt.prototype.setState=function(w,B){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,B,"setState")},nt.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function tt(){}tt.prototype=nt.prototype;function lt(w,B,$){this.props=w,this.context=B,this.refs=W,this.updater=$||Y}var At=lt.prototype=new tt;At.constructor=lt,rt(At,nt.prototype),At.isPureReactComponent=!0;var Ft=Array.isArray;function Nt(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function A(w,B,$){var it=$.ref;return{$$typeof:r,type:w,key:B,ref:it!==void 0?it:null,props:$}}function k(w,B){return A(w.type,B,w.props)}function M(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function U(w){var B={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return B[$]})}var N=/\/+/g;function ee(w,B){return typeof w=="object"&&w!==null&&w.key!=null?U(""+w.key):B.toString(36)}function fe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Nt,Nt):(w.status="pending",w.then(function(B){w.status==="pending"&&(w.status="fulfilled",w.value=B)},function(B){w.status==="pending"&&(w.status="rejected",w.reason=B)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Q(w,B,$,it,et){var ht=typeof w;(ht==="undefined"||ht==="boolean")&&(w=null);var Ct=!1;if(w===null)Ct=!0;else switch(ht){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(w.$$typeof){case r:case t:Ct=!0;break;case S:return Ct=w._init,Q(Ct(w._payload),B,$,it,et)}}if(Ct)return et=et(w),Ct=it===""?"."+ee(w,0):it,Ft(et)?($="",Ct!=null&&($=Ct.replace(N,"$&/")+"/"),Q(et,B,$,"",function(rr){return rr})):et!=null&&(M(et)&&(et=k(et,$+(et.key==null||w&&w.key===et.key?"":(""+et.key).replace(N,"$&/")+"/")+Ct)),B.push(et)),1;Ct=0;var Ie=it===""?".":it+":";if(Ft(w))for(var ae=0;ae<w.length;ae++)it=w[ae],ht=Ie+ee(it,ae),Ct+=Q(it,B,$,ht,et);else if(ae=G(w),typeof ae=="function")for(w=ae.call(w),ae=0;!(it=w.next()).done;)it=it.value,ht=Ie+ee(it,ae++),Ct+=Q(it,B,$,ht,et);else if(ht==="object"){if(typeof w.then=="function")return Q(fe(w),B,$,it,et);throw B=String(w),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function at(w,B,$){if(w==null)return w;var it=[],et=0;return Q(w,it,"","",function(ht){return B.call($,ht,et++)}),it}function ct(w){if(w._status===-1){var B=w._result;B=B(),B.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=B)}if(w._status===1)return w._result.default;throw w._result}var Mt=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},qt={map:at,forEach:function(w,B,$){at(w,function(){B.apply(this,arguments)},$)},count:function(w){var B=0;return at(w,function(){B++}),B},toArray:function(w){return at(w,function(B){return B})||[]},only:function(w){if(!M(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return bt.Activity=x,bt.Children=qt,bt.Component=nt,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=lt,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,bt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},bt.cache=function(w){return function(){return w.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(w,B,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var it=rt({},w.props),et=w.key;if(B!=null)for(ht in B.key!==void 0&&(et=""+B.key),B)!R.call(B,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&B.ref===void 0||(it[ht]=B[ht]);var ht=arguments.length-2;if(ht===1)it.children=$;else if(1<ht){for(var Ct=Array(ht),Ie=0;Ie<ht;Ie++)Ct[Ie]=arguments[Ie+2];it.children=Ct}return A(w.type,et,it)},bt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},bt.createElement=function(w,B,$){var it,et={},ht=null;if(B!=null)for(it in B.key!==void 0&&(ht=""+B.key),B)R.call(B,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(et[it]=B[it]);var Ct=arguments.length-2;if(Ct===1)et.children=$;else if(1<Ct){for(var Ie=Array(Ct),ae=0;ae<Ct;ae++)Ie[ae]=arguments[ae+2];et.children=Ie}if(w&&w.defaultProps)for(it in Ct=w.defaultProps,Ct)et[it]===void 0&&(et[it]=Ct[it]);return A(w,ht,et)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(w){return{$$typeof:g,render:w}},bt.isValidElement=M,bt.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:ct}},bt.memo=function(w,B){return{$$typeof:y,type:w,compare:B===void 0?null:B}},bt.startTransition=function(w){var B=D.T,$={};D.T=$;try{var it=w(),et=D.S;et!==null&&et($,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Nt,Mt)}catch(ht){Mt(ht)}finally{B!==null&&$.types!==null&&(B.types=$.types),D.T=B}},bt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},bt.use=function(w){return D.H.use(w)},bt.useActionState=function(w,B,$){return D.H.useActionState(w,B,$)},bt.useCallback=function(w,B){return D.H.useCallback(w,B)},bt.useContext=function(w){return D.H.useContext(w)},bt.useDebugValue=function(){},bt.useDeferredValue=function(w,B){return D.H.useDeferredValue(w,B)},bt.useEffect=function(w,B){return D.H.useEffect(w,B)},bt.useEffectEvent=function(w){return D.H.useEffectEvent(w)},bt.useId=function(){return D.H.useId()},bt.useImperativeHandle=function(w,B,$){return D.H.useImperativeHandle(w,B,$)},bt.useInsertionEffect=function(w,B){return D.H.useInsertionEffect(w,B)},bt.useLayoutEffect=function(w,B){return D.H.useLayoutEffect(w,B)},bt.useMemo=function(w,B){return D.H.useMemo(w,B)},bt.useOptimistic=function(w,B){return D.H.useOptimistic(w,B)},bt.useReducer=function(w,B,$){return D.H.useReducer(w,B,$)},bt.useRef=function(w){return D.H.useRef(w)},bt.useState=function(w){return D.H.useState(w)},bt.useSyncExternalStore=function(w,B,$){return D.H.useSyncExternalStore(w,B,$)},bt.useTransition=function(){return D.H.useTransition()},bt.version="19.2.4",bt}var M_;function _m(){return M_||(M_=1,Cd.exports=Tb()),Cd.exports}var pt=_m(),Nd={exports:{}},po={},Id={exports:{}},Dd={};var O_;function bb(){return O_||(O_=1,(function(r){function t(Q,at){var ct=Q.length;Q.push(at);t:for(;0<ct;){var Mt=ct-1>>>1,qt=Q[Mt];if(0<o(qt,at))Q[Mt]=at,Q[ct]=qt,ct=Mt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var at=Q[0],ct=Q.pop();if(ct!==at){Q[0]=ct;t:for(var Mt=0,qt=Q.length,w=qt>>>1;Mt<w;){var B=2*(Mt+1)-1,$=Q[B],it=B+1,et=Q[it];if(0>o($,ct))it<qt&&0>o(et,$)?(Q[Mt]=et,Q[it]=ct,Mt=it):(Q[Mt]=$,Q[B]=ct,Mt=B);else if(it<qt&&0>o(et,ct))Q[Mt]=et,Q[it]=ct,Mt=it;else break t}}return at}function o(Q,at){var ct=Q.sortIndex-at.sortIndex;return ct!==0?ct:Q.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],S=1,x=null,C=3,G=!1,Y=!1,rt=!1,W=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function At(Q){for(var at=i(y);at!==null;){if(at.callback===null)a(y);else if(at.startTime<=Q)a(y),at.sortIndex=at.expirationTime,t(v,at);else break;at=i(y)}}function Ft(Q){if(rt=!1,At(Q),!Y)if(i(v)!==null)Y=!0,Nt||(Nt=!0,U());else{var at=i(y);at!==null&&fe(Ft,at.startTime-Q)}}var Nt=!1,D=-1,R=5,A=-1;function k(){return W?!0:!(r.unstable_now()-A<R)}function M(){if(W=!1,Nt){var Q=r.unstable_now();A=Q;var at=!0;try{t:{Y=!1,rt&&(rt=!1,tt(D),D=-1),G=!0;var ct=C;try{e:{for(At(Q),x=i(v);x!==null&&!(x.expirationTime>Q&&k());){var Mt=x.callback;if(typeof Mt=="function"){x.callback=null,C=x.priorityLevel;var qt=Mt(x.expirationTime<=Q);if(Q=r.unstable_now(),typeof qt=="function"){x.callback=qt,At(Q),at=!0;break e}x===i(v)&&a(v),At(Q)}else a(v);x=i(v)}if(x!==null)at=!0;else{var w=i(y);w!==null&&fe(Ft,w.startTime-Q),at=!1}}break t}finally{x=null,C=ct,G=!1}at=void 0}}finally{at?U():Nt=!1}}}var U;if(typeof lt=="function")U=function(){lt(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ee=N.port2;N.port1.onmessage=M,U=function(){ee.postMessage(null)}}else U=function(){nt(M,0)};function fe(Q,at){D=nt(function(){Q(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var at=3;break;default:at=C}var ct=C;C=at;try{return Q()}finally{C=ct}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=C;C=Q;try{return at()}finally{C=ct}},r.unstable_scheduleCallback=function(Q,at,ct){var Mt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Mt+ct:Mt):ct=Mt,Q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,Q={id:S++,callback:at,priorityLevel:Q,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Mt?(Q.sortIndex=ct,t(y,Q),i(v)===null&&Q===i(y)&&(rt?(tt(D),D=-1):rt=!0,fe(Ft,ct-Mt))):(Q.sortIndex=qt,t(v,Q),Y||G||(Y=!0,Nt||(Nt=!0,U()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var at=C;return function(){var ct=C;C=at;try{return Q.apply(this,arguments)}finally{C=ct}}}})(Dd)),Dd}var k_;function Sb(){return k_||(k_=1,Id.exports=bb()),Id.exports}var Md={exports:{}},Ye={};var V_;function Ab(){if(V_)return Ye;V_=1;var r=_m();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},Ye.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,x=g(S,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:G}):S==="script"&&a.d.X(v,{crossOrigin:x,integrity:C,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,x=g(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var U_;function wb(){if(U_)return Md.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Ab(),Md.exports}var j_;function xb(){if(j_)return po;j_=1;var r=Sb(),t=_m(),i=wb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case nt:return"Profiler";case W:return"StrictMode";case Ft:return"Suspense";case Nt:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case lt:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case At:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Mt=[],qt=-1;function w(e){return{current:e}}function B(e){0>qt||(e.current=Mt[qt],Mt[qt]=null,qt--)}function $(e,n){qt++,Mt[qt]=e.current,e.current=n}var it=w(null),et=w(null),ht=w(null),Ct=w(null);function Ie(e,n){switch($(ht,n),$(et,e),$(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(it),$(it,e)}function ae(){B(it),B(et),B(ht)}function rr(e){e.memoizedState!==null&&$(Ct,e);var n=it.current,s=Wy(n,e.type);n!==s&&($(et,e),$(it,s))}function Kr(e){et.current===e&&(B(it),B(et)),Ct.current===e&&(B(Ct),uo._currentValue=ct)}var Yr,Xr;function Zn(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var ul=!1;function ar(e,n){if(!e||ul)return"";ul=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var P=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){P=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){P=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var F=`
`+I[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{ul=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function cl(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return Zn("Activity");default:return""}}function hl(e){try{var n="",s=null;do n+=cl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Zo=r.unstable_requestPaint,tn=r.unstable_now,lr=r.unstable_getCurrentPriorityLevel,fl=r.unstable_ImmediatePriority,dl=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Wo=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,Ln=null,ze=null;function Sn(e){if(typeof tu=="function"&&eu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,e)}catch{}}var de=Math.clz32?Math.clz32:iu,nu=Math.log,$r=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/$r|0)|0}var Wn=256,or=262144,ve=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ti(l):(p&=E,p!==0?h=ti(p):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=l&~f,E!==0?h=ti(E):p!==0?h=ti(p):s||(s=l&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-de(s),X=1<<F;E[F]=0,I[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var H=P[F];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&cr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function cr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ml(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-de(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function pl(e,n){var s=n&-n;return s=(s&42)!==0?1:hr(s),(s&(e.suspendedLanes|n))!==0?0:s}function hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function Pn(e,n){var s=at.p;try{return at.p=e,n()}finally{at.p=s}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,ii="__reactContainer$"+Bn,Jr="__reactEvents$"+Bn,Mh="__reactListeners$"+Bn,au="__reactHandles$"+Bn,lu="__reactResources$"+Bn,si="__reactMarker$"+Bn;function Zr(e){delete e[Ee],delete e[Ve],delete e[Jr],delete e[Mh],delete e[au]}function ri(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Ee])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[Ee]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[si]=!0}var gl=new Set,yl={};function li(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(yl[e]=n,e=0;e<n.length;e++)gl.add(n[e])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},El={};function ou(e){return _e.call(El,e)?!0:_e.call(vl,e)?!1:_l.test(e)?El[e]=!0:(vl[e]=!0,!1)}function Wr(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=Tl(e,n,""+e[n])}}function fr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=as(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dr=/[\n"\\]/g;function sn(e){return e.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?bl(e,p,Ue(n)):s!=null?bl(e,p,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function uu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Kt(e)}function bl(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function os(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Kt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Al(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var wl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function mr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&fr(l)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var ia=!1;function hs(e,n,s){if(ia)return e(n,s);ia=!0;try{var l=e(n);return l}finally{if(ia=!1,(cs!==null||ci!==null)&&(rc(),cs&&(n=cs,e=ci,ci=cs=null,mr(n),e)))for(n=0;n<e.length;n++)mr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(xn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){pr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{pr=!1}var hi=null,xl=null,gr=null;function Rl(){if(gr)return gr;var e,n=xl,s=n.length,l,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return gr=h.slice(e,1<l?1-l:void 0)}function yr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Gn(){return!1}function Pe(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Gn,this.isPropagationStopped=Gn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Pe(Di),fs=x({},Di,{view:0,detail:0}),Cl=Pe(fs),ds,sa,di,ra=x({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Nl=Pe(ra),_r=x({},ra,{dataTransfer:0}),du=Pe(_r),mu=x({},fs,{relatedTarget:0}),vr=Pe(mu),Il=x({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Pe(Il),aa=x({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Pe(aa),yu=x({},Di,{data:0}),mi=Pe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function ms(){return Tu}var en=x({},fs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Pe(en),Su=x({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Pe(Su),u=x({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=Pe(u),_=x({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Pe(_),j=x({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(j),st=x({},Di,{newState:0,oldState:0}),wt=Pe(st),me=[9,13,27,32],Ht=xn&&"CompositionEvent"in window,le=null;xn&&"documentMode"in document&&(le=document.documentMode);var Rn=xn&&"TextEvent"in window&&!le,pi=xn&&(!Ht||le&&8<le&&11>=le),Fn=" ",Qn=!1;function Er(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function HE(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function GE(e,n){if(oa)return e==="compositionend"||!Ht&&Er(e,n)?(e=Rl(),gr=xl=hi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var FE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!FE[e.type]:n==="textarea"}function cp(e,n,s,l){cs?ci?ci.push(l):ci=[l]:cs=l,n=fc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Dl=null,Ml=null;function QE(e){Qy(e,0)}function Au(e){var n=dn(e);if(fr(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(xn){var Oh;if(xn){var kh="oninput"in document;if(!kh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),kh=typeof dp.oninput=="function"}Oh=kh}else Oh=!1;fp=Oh&&(!document.documentMode||9<document.documentMode)}function mp(){Dl&&(Dl.detachEvent("onpropertychange",pp),Ml=Dl=null)}function pp(e){if(e.propertyName==="value"&&Au(Ml)){var n=[];cp(n,Ml,e,wn(e)),hs(QE,n)}}function KE(e,n,s){e==="focusin"?(mp(),Dl=n,Ml=s,Dl.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function YE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ml)}function XE(e,n){if(e==="click")return Au(n)}function $E(e,n){if(e==="input"||e==="change")return Au(n)}function JE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:JE;function Ol(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ZE=xn&&"documentMode"in document&&11>=document.documentMode,ua=null,Uh=null,kl=null,jh=!1;function Ep(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||ua==null||ua!==ui(l)||(l=ua,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Ol(kl,l)||(kl=l,l=fc(Uh,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ua)))}function Tr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Lh={},Tp={};xn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function br(e){if(Lh[e])return Lh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Lh[e]=n[s];return e}var bp=br("animationend"),Sp=br("animationiteration"),Ap=br("animationstart"),WE=br("transitionrun"),tT=br("transitionstart"),eT=br("transitioncancel"),wp=br("transitionend"),xp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Kn(e,n){xp.set(e,n),li(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ha=0,Ph=0;function xu(){for(var e=ha,n=Ph=ha=0;n<e;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Rp(s,h,f)}}function Ru(e,n,s,l){Cn[ha++]=e,Cn[ha++]=n,Cn[ha++]=s,Cn[ha++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return Ru(e,n,s,l),Cu(e)}function Sr(e,n){return Ru(e,null,null,n),Cu(e)}function Rp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<no)throw no=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function nT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new nT(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=lb(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=gn(31,s,n,h),e.elementType=A,e.lanes=f,e;case rt:return Ar(s.children,h,f,n);case W:p=8,h|=24;break;case nt:return e=gn(12,s,n,h|2),e.elementType=nt,e.lanes=f,e;case Ft:return e=gn(13,s,n,h),e.elementType=Ft,e.lanes=f,e;case Nt:return e=gn(19,s,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:p=10;break t;case tt:p=9;break t;case At:p=11;break t;case D:p=14;break t;case R:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=gn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ar(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Np(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ip=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Ip.get(e);return s!==void 0?s:(n={value:e,source:n,stack:hl(n)},Ip.set(e,n),n)}return{value:e,source:n,stack:hl(n)}}var da=[],ma=0,Iu=null,Vl=0,In=[],Dn=0,ps=null,gi=1,yi="";function ki(e,n){da[ma++]=Vl,da[ma++]=Iu,Iu=e,Vl=n}function Dp(e,n,s){In[Dn++]=gi,In[Dn++]=yi,In[Dn++]=ps,ps=e;var l=gi;e=yi;var h=32-de(l)-1;l&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,gi=1<<32-de(n)+h|s<<h|l,yi=f+e}else gi=1<<f|s<<h|l,yi=e}function Fh(e){e.return!==null&&(ki(e,1),Dp(e,1,0))}function Qh(e){for(;e===Iu;)Iu=da[--ma],da[ma]=null,Vl=da[--ma],da[ma]=null;for(;e===ps;)ps=In[--Dn],In[Dn]=null,yi=In[--Dn],In[Dn]=null,gi=In[--Dn],In[Dn]=null}function Mp(e,n){In[Dn++]=gi,In[Dn++]=yi,In[Dn++]=ps,gi=n.id,yi=n.overflow,ps=e}var Be=null,ne=null,Lt=!1,gs=null,Mn=!1,Kh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Nn(n,e)),Kh}function Op(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[Ve]=l,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<so.length;s++)Dt(so[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),os(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||ys(e,!0)}function kp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function pa(e){if(e!==Be)return!1;if(!Lt)return kp(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ne&&ys(e),kp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=r_(e)}else n===27?(n=ne,Ds(e.type)?(e=yd,yd=null,ne=e):ne=n):ne=Be?kn(e.stateNode.nextSibling):null;return!0}function wr(){ne=Be=null,Lt=!1}function Yh(){var e=gs;return e!==null&&(un===null?un=e:un.push.apply(un,e),gs=null),e}function Ul(e){gs===null?gs=[e]:gs.push(e)}var Xh=w(null),xr=null,Vi=null;function _s(e,n,s){$(Xh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Xh.current,B(Xh)}function $h(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ga(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(uo):e=[uo])}h=h.return}e!==null&&Jh(n,e,s,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){xr=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Vp(xr,e)}function Mu(e,n){return xr===null&&Rr(e),Vp(e,n)}function Vp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var iT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},sT=r.unstable_scheduleCallback,rT=r.unstable_NormalPriority,Se={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new iT,data:new Map,refCount:0}}function jl(e){e.refCount--,e.refCount===0&&sT(rT,function(){e.controller.abort()})}var Ll=null,Wh=0,ya=0,_a=null;function aT(e,n){if(Ll===null){var s=Ll=[];Wh=0,ya=id(),_a={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Up,Up),n}function Up(){if(--Wh===0&&Ll!==null){_a!==null&&(_a.status="fulfilled");var e=Ll;Ll=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var jp=Q.S;Q.S=function(e,n){Ey=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aT(e,n),jp!==null&&jp(e,n)};var Cr=w(null);function tf(){var e=Cr.current;return e!==null?e:te.pooledCache}function Ou(e,n){n===null?$(Cr,Cr.current):$(Cr,n.pool)}function Lp(){var e=tf();return e===null?null:{parent:Se._currentValue,pool:e}}var va=Error(a(460)),ef=Error(a(474)),ku=Error(a(542)),Vu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Ir=n,va}}function Nr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,va):s}}var Ir=null;function Bp(){if(Ir===null)throw Error(a(459));var e=Ir;return Ir=null,e}function qp(e){if(e===va||e===ku)throw Error(a(483))}var Ea=null,zl=0;function Uu(e){var n=zl;return zl+=1,Ea===null&&(Ea=[]),Pp(Ea,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(V,O){if(e){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function s(V,O){if(!e)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Oi(V,O),V.index=0,V.sibling=null,V}function f(V,O,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,L,K){return O===null||O.tag!==6?(O=Hh(L,V.mode,K),O.return=V,O):(O=h(O,L),O.return=V,O)}function I(V,O,L,K){var mt=L.type;return mt===rt?F(V,O,L.props.children,K,L.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&Nr(mt)===O.type)?(O=h(O,L.props),Pl(O,L),O.return=V,O):(O=Nu(L.type,L.key,L.props,null,V.mode,K),Pl(O,L),O.return=V,O)}function z(V,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Gh(L,V.mode,K),O.return=V,O):(O=h(O,L.children||[]),O.return=V,O)}function F(V,O,L,K,mt){return O===null||O.tag!==7?(O=Ar(L,V.mode,K,mt),O.return=V,O):(O=h(O,L),O.return=V,O)}function X(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return L=Nu(O.type,O.key,O.props,null,V.mode,L),Pl(L,O),L.return=V,L;case Y:return O=Gh(O,V.mode,L),O.return=V,O;case R:return O=Nr(O),X(V,O,L)}if(fe(O)||U(O))return O=Ar(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return X(V,Uu(O),L);if(O.$$typeof===lt)return X(V,Mu(V,O),L);ju(V,O)}return null}function P(V,O,L,K){var mt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return mt!==null?null:E(V,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===mt?I(V,O,L,K):null;case Y:return L.key===mt?z(V,O,L,K):null;case R:return L=Nr(L),P(V,O,L,K)}if(fe(L)||U(L))return mt!==null?null:F(V,O,L,K,null);if(typeof L.then=="function")return P(V,O,Uu(L),K);if(L.$$typeof===lt)return P(V,O,Mu(V,L),K);ju(V,L)}return null}function H(V,O,L,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(L)||null,E(O,V,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return V=V.get(K.key===null?L:K.key)||null,I(O,V,K,mt);case Y:return V=V.get(K.key===null?L:K.key)||null,z(O,V,K,mt);case R:return K=Nr(K),H(V,O,L,K,mt)}if(fe(K)||U(K))return V=V.get(L)||null,F(O,V,K,mt,null);if(typeof K.then=="function")return H(V,O,L,Uu(K),mt);if(K.$$typeof===lt)return H(V,O,L,Mu(O,K),mt);ju(O,K)}return null}function ut(V,O,L,K){for(var mt=null,Pt=null,ft=O,Rt=O=0,kt=null;ft!==null&&Rt<L.length;Rt++){ft.index>Rt?(kt=ft,ft=null):kt=ft.sibling;var Bt=P(V,ft,L[Rt],K);if(Bt===null){ft===null&&(ft=kt);break}e&&ft&&Bt.alternate===null&&n(V,ft),O=f(Bt,O,Rt),Pt===null?mt=Bt:Pt.sibling=Bt,Pt=Bt,ft=kt}if(Rt===L.length)return s(V,ft),Lt&&ki(V,Rt),mt;if(ft===null){for(;Rt<L.length;Rt++)ft=X(V,L[Rt],K),ft!==null&&(O=f(ft,O,Rt),Pt===null?mt=ft:Pt.sibling=ft,Pt=ft);return Lt&&ki(V,Rt),mt}for(ft=l(ft);Rt<L.length;Rt++)kt=H(ft,V,Rt,L[Rt],K),kt!==null&&(e&&kt.alternate!==null&&ft.delete(kt.key===null?Rt:kt.key),O=f(kt,O,Rt),Pt===null?mt=kt:Pt.sibling=kt,Pt=kt);return e&&ft.forEach(function(Us){return n(V,Us)}),Lt&&ki(V,Rt),mt}function _t(V,O,L,K){if(L==null)throw Error(a(151));for(var mt=null,Pt=null,ft=O,Rt=O=0,kt=null,Bt=L.next();ft!==null&&!Bt.done;Rt++,Bt=L.next()){ft.index>Rt?(kt=ft,ft=null):kt=ft.sibling;var Us=P(V,ft,Bt.value,K);if(Us===null){ft===null&&(ft=kt);break}e&&ft&&Us.alternate===null&&n(V,ft),O=f(Us,O,Rt),Pt===null?mt=Us:Pt.sibling=Us,Pt=Us,ft=kt}if(Bt.done)return s(V,ft),Lt&&ki(V,Rt),mt;if(ft===null){for(;!Bt.done;Rt++,Bt=L.next())Bt=X(V,Bt.value,K),Bt!==null&&(O=f(Bt,O,Rt),Pt===null?mt=Bt:Pt.sibling=Bt,Pt=Bt);return Lt&&ki(V,Rt),mt}for(ft=l(ft);!Bt.done;Rt++,Bt=L.next())Bt=H(ft,V,Rt,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ft.delete(Bt.key===null?Rt:Bt.key),O=f(Bt,O,Rt),Pt===null?mt=Bt:Pt.sibling=Bt,Pt=Bt);return e&&ft.forEach(function(_b){return n(V,_b)}),Lt&&ki(V,Rt),mt}function Wt(V,O,L,K){if(typeof L=="object"&&L!==null&&L.type===rt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var mt=L.key;O!==null;){if(O.key===mt){if(mt=L.type,mt===rt){if(O.tag===7){s(V,O.sibling),K=h(O,L.props.children),K.return=V,V=K;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&Nr(mt)===O.type){s(V,O.sibling),K=h(O,L.props),Pl(K,L),K.return=V,V=K;break t}s(V,O);break}else n(V,O);O=O.sibling}L.type===rt?(K=Ar(L.props.children,V.mode,K,L.key),K.return=V,V=K):(K=Nu(L.type,L.key,L.props,null,V.mode,K),Pl(K,L),K.return=V,V=K)}return p(V);case Y:t:{for(mt=L.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(V,O.sibling),K=h(O,L.children||[]),K.return=V,V=K;break t}else{s(V,O);break}else n(V,O);O=O.sibling}K=Gh(L,V.mode,K),K.return=V,V=K}return p(V);case R:return L=Nr(L),Wt(V,O,L,K)}if(fe(L))return ut(V,O,L,K);if(U(L)){if(mt=U(L),typeof mt!="function")throw Error(a(150));return L=mt.call(L),_t(V,O,L,K)}if(typeof L.then=="function")return Wt(V,O,Uu(L),K);if(L.$$typeof===lt)return Wt(V,O,Mu(V,L),K);ju(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(V,O.sibling),K=h(O,L),K.return=V,V=K):(s(V,O),K=Hh(L,V.mode,K),K.return=V,V=K),p(V)):s(V,O)}return function(V,O,L,K){try{zl=0;var mt=Wt(V,O,L,K);return Ea=null,mt}catch(ft){if(ft===va||ft===ku)throw ft;var Pt=gn(29,ft,null,V.mode);return Pt.lanes=K,Pt.return=V,Pt}}}var Dr=Hp(!0),Gp=Hp(!1),vs=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),Rp(e,null,s),n}return Ru(e,l,n,s),Cu(e)}function Bl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ml(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function ql(){if(af){var e=_a;if(e!==null)throw e}}function Hl(e,n,s,l){af=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,F=z=I=null,E=f;do{var P=E.lane&-536870913,H=P!==E.lane;if(H?(Ot&P)===P:(l&P)===P){P!==0&&P===ya&&(af=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,_t=E;P=n;var Wt=s;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){X=ut.call(Wt,X,P);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,P=typeof ut=="function"?ut.call(Wt,X,P):ut,P==null)break t;X=x({},X,P);break t;case 2:vs=!0}}P=E.callback,P!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,I=X):F=F.next=H,p|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=X}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var Ta=w(null),Lu=w(0);function Kp(e,n){e=Fi,$(Lu,e),$(Ta,n),Fi=e|n.baseLanes}function lf(){$(Lu,Fi),$(Ta,Ta.current)}function of(){Fi=Lu.current,B(Ta),B(Lu)}var yn=w(null),On=null;function bs(e){var n=e.alternate;$(pe,pe.current&1),$(yn,e),On===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(On=e)}function uf(e){$(pe,pe.current),$(yn,e),On===null&&(On=e)}function Yp(e){e.tag===22?($(pe,pe.current),$(yn,e),On===null&&(On=e)):Ss()}function Ss(){$(pe,pe.current),$(yn,yn.current)}function _n(e){B(yn),On===e&&(On=null),B(pe)}var pe=w(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,xt=null,Jt=null,Ae=null,Pu=!1,ba=!1,Mr=!1,Bu=0,Gl=0,Sa=null,oT=0;function ce(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return ji=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Dg:xf,Mr=!1,f=s(l,h),Mr=!1,ba&&(f=$p(n,s,l,h)),Xp(e),f}function Xp(e){Q.H=Kl;var n=Jt!==null&&Jt.next!==null;if(ji=0,Ae=Jt=xt=null,Pu=!1,Gl=0,Sa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Du(e)&&(we=!0))}function $p(e,n,s,l){xt=e;var h=0;do{if(ba&&(Sa=null),Gl=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Mg,f=n(s,l)}while(ba);return f}function uT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Fl(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(xt.flags|=1024),n}function ff(){var e=Bu!==0;return Bu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}ji=0,Ae=Jt=xt=null,ba=!1,Gl=Bu=0,Sa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?xt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Jt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?xt.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?xt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(e){var n=Gl;return Gl+=1,Sa===null&&(Sa=[]),e=Pp(Sa,e,n),n=xt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Dg:xf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fl(e);if(e.$$typeof===lt)return qe(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=k;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=ge();return gf(n,Jt,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(ji&X)===X){var P=z.revertLane;if(P===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ya&&(F=!0);else if((ji&P)===P){z=z.next,P===ya&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,xt.lanes|=P,xs|=P;X=z.action,Mr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else P={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=P,p=f):I=I.next=P,xt.lanes|=X,xs|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!pn(f,e.memoizedState)&&(we=!0,F&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jp(e,n,s){var l=xt,h=ge(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Jt||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,Ef(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Aa(9,{destroy:void 0},Wp.bind(null,l,h,s,n),null),te===null)throw Error(a(349));f||(ji&127)!==0||Zp(l,n,s)}return s}function Zp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=qu(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,l){n.value=s,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function ng(e){var n=Sr(e,2);n!==null&&cn(n,e,2)}function _f(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Mr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function ig(e,n,s,l){return e.baseState=s,gf(e,Jt,typeof l=="function"?l:Li)}function cT(e,n,s,l,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=Q.T,p={};Q.T=p;try{var E=s(h,l),I=Q.S;I!==null&&I(p,E),rg(e,n,E)}catch(z){vf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),Q.T=f}}else try{f=s(h,l),rg(e,n,f)}catch(z){vf(e,n,z)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(e,n,l)},function(l){return vf(e,n,l)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(Lt){var s=te.formState;if(s!==null){t:{var l=xt;if(Lt){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=kn(h.nextSibling),l=h.data==="F!";break t}}ys(l)}l=!1}l&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Cg.bind(null,xt,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,xt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=cT.bind(null,xt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cg(e){var n=ge();return hg(n,Jt,e)}function hg(e,n,s){if(n=gf(e,n,og)[0],e=Gu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fl(n)}catch(p){throw p===va?ku:p}else l=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,Aa(9,{destroy:void 0},hT.bind(null,h,s),null)),[l,f,e]}function hT(e,n){e.action=n}function fg(e){var n=ge(),s=Jt;if(s!==null)return hg(n,s,e);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Aa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=qu(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dg(){return ge().memoizedState}function Fu(e,n,s,l){var h=nn();xt.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Qu(e,n,s,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;Jt!==null&&l!==null&&cf(l,Jt.memoizedState.deps)?h.memoizedState=Aa(n,f,s,l):(xt.flags|=e,h.memoizedState=Aa(1|n,f,s,l))}function mg(e,n){Fu(8390656,8,e,n)}function Ef(e,n){Qu(2048,8,e,n)}function fT(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=qu(),xt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=ge().memoizedState;return fT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Qu(4,2,e,n)}function yg(e,n){return Qu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,_g.bind(null,n,e),s)}function Tf(){}function Eg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Mr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function bf(e,n,s){return s===void 0||(ji&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),xt.lanes|=e,xs|=e,s)}function bg(e,n,s,l){return pn(s,n)?s:Ta.current!==null?(e=bf(e,s,l),pn(e,n)||(we=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Ot&261930)===0?(we=!0,e.memoizedState=s):(e=by(),xt.lanes|=e,xs|=e,n)}function Sg(e,n,s,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var p=Q.T,E={};Q.T=E,wf(e,!1,n,s);try{var I=h(),z=Q.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=lT(I,l);Ql(e,n,F,Tn(e))}else Ql(e,n,l,Tn(e))}catch(X){Ql(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{at.p=f,p!==null&&E.types!==null&&(p.types=E.types),Q.T=p}}function dT(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;Sg(e,h,n,ct,s===null?dT:function(){return wg(e),s(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Ql(e,n.next.queue,{},Tn())}function Af(){return qe(uo)}function xg(){return ge().memoizedState}function Rg(){return ge().memoizedState}function mT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Es(s);var l=Ts(n,e,s);l!==null&&(cn(l,n,s),Bl(l,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function pT(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Ng(n,s):(s=Bh(e,n,s,l),s!==null&&(cn(s,e,l),Ig(s,n,l)))}function Cg(e,n,s){var l=Tn();Ql(e,n,s,l)}function Ql(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Ru(e,n,h,0),te===null&&xu(),!1}catch{}if(s=Bh(e,n,h,l),s!==null)return cn(s,e,l),Ig(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&cn(n,e,2)}function Ku(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Ng(e,n){ba=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ig(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ml(e,s)}}var Kl={readContext:qe,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Kl.useEffectEvent=ce;var Dg={readContext:qe,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var l=e();if(Mr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=nn();if(s!==void 0){var h=s(n);if(Mr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=pT.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Cg.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=nn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Sg.bind(null,xt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=xt,h=nn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Ot&127)!==0||Zp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,Aa(9,{destroy:void 0},Wp.bind(null,l,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(Lt){var s=yi,l=gi;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=oT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return nn().memoizedState=mT.bind(null,xt)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:Hu,useCallback:Eg,useContext:qe,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Gu,useRef:dg,useState:function(){return Gu(Li)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return bg(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Gu(Li)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Fl(e),n]},useSyncExternalStore:Jp,useId:xg,useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=ge();return ig(s,Jt,e,n)},useMemoCache:pf,useCacheRefresh:Rg};xf.useEffectEvent=pg;var Mg={readContext:qe,use:Hu,useCallback:Eg,useContext:qe,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:yf,useRef:dg,useState:function(){return yf(Li)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return Jt===null?bf(s,e,n):bg(s,Jt.memoizedState,e,n)},useTransition:function(){var e=yf(Li)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Fl(e),n]},useSyncExternalStore:Jp,useId:xg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=ge();return Jt!==null?ig(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Rg};Mg.useEffectEvent=pg;function Rf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:x({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Es(l);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,l),n!==null&&(cn(n,e,l),Bl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Es(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,l),n!==null&&(cn(n,e,l),Bl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=Es(s);l.tag=2,n!=null&&(l.callback=n),n=Ts(e,l,s),n!==null&&(cn(n,e,s),Bl(n,e,s))}};function Og(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ol(s,l)||!Ol(h,f):!0}function kg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=x({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Vg(e){wu(e)}function Ug(e){console.error(e)}function jg(e){wu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function zg(e){return e=Es(e),e.tag=3,e}function Pg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Lg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Lg(n,s,l),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function gT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?ac():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),ac(),!1}if(Lt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Kh&&(e=Error(a(422),{cause:l}),Ul(Nn(e,s)))):(l!==Kh&&(n=Error(a(423),{cause:l}),Ul(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,s),h=Nf(e.stateNode,l,h),rf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),eo===null?eo=[f]:eo.push(f),he!==4&&(he=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),Pg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(a(461)),we=!1;function He(e,n,s,l){n.child=e===null?Gp(n,null,s,l):Dr(n,e.child,s,l)}function Bg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Rr(n),l=hf(e,n,s,p,f,h),E=ff(),e!==null&&!we?(df(e,n,h),zi(e,n,h)):(Lt&&E&&Fh(n),n.flags|=1,He(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=Nu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ol,s(p,l)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Oi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ol(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,Lf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Df(e,n,s,l,h)}function Gg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Kp(n,f):lf(),Yp(n);else return l=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ou(n,f.cachePool),Kp(n,f),Ss(),n.memoizedState=null):(e!==null&&Ou(n,null),lf(),Ss());return He(e,n,h,s),n.child}function Yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),lf(),Yp(n),e!==null&&ga(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Dr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function yT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,Yl(null,e);if(uf(n),(e=ne)?(e=s_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ga(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(l=te,l!==null&&(p=pl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sr(e,p),cn(l,e,p),If;ac(),n=Qg(e,n,s)}else e=f.treeContext,ne=kn(p.nextSibling),Be=n,Lt=!0,gs=null,Mn=!1,e!==null&&Mp(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=Oi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Rr(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!we?(df(e,n,h),zi(e,n,h)):(Lt&&l&&Fh(n),n.flags|=1,He(e,n,s,h),n.child)}function Kg(e,n,s,l,h,f){return Rr(n),n.updateQueue=null,s=$p(n,l,s,h),Xp(e),l=ff(),e!==null&&!we?(df(e,n,f),zi(e,n,f)):(Lt&&l&&Fh(n),n.flags|=1,He(e,n,s,f),n.child)}function Yg(e,n,s,l,h){if(Rr(n),n.stateNode===null){var f=fa,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):fa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Hl(n,l,f,h),ql(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Or(s,E);f.props=I;var z=f.context,F=s.contextType;p=fa,typeof F=="object"&&F!==null&&(p=qe(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&kg(n,f,l,p),vs=!1;var P=n.memoizedState;f.state=P,Hl(n,l,f,h),ql(),z=n.memoizedState,E||P!==z||vs?(typeof X=="function"&&(Rf(n,s,X,l),z=n.memoizedState),(I=vs||Og(n,s,I,l,P,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,F=Or(s,p),f.props=F,X=n.pendingProps,P=f.context,z=s.contextType,I=fa,typeof z=="object"&&z!==null&&(I=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||P!==I)&&kg(n,f,l,I),vs=!1,P=n.memoizedState,f.state=P,Hl(n,l,f,h),ql();var H=n.memoizedState;p!==X||P!==H||vs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,l),H=n.memoizedState),(F=vs||Og(n,s,F,l,P,H,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Xg(e,n,s,l){return wr(),n.flags|=256,He(e,n,s,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Lp()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function $g(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?bs(n):Ss(),(e=ne)?(e=s_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw ys(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ss(),h=n.mode,E=Ju({mode:"hidden",children:E},h),l=Ar(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(s),l.childLanes=kf(e,p,s),n.memoizedState=Mf,Yl(null,l)):(bs(n),Vf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),E=Ar(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Dr(n,e.child,null,s),l=n.child,l.memoizedState=Of(s),l.childLanes=kf(e,p,s),n.memoizedState=Mf,n=Yl(null,l));else if(bs(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Ul({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(we||ga(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=te,p!==null&&(l=pl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Sr(e,l),cn(p,e,l),If;pd(E)||ac(),n=Uf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=kn(E.nextSibling),Be=n,Lt=!0,gs=null,Mn=!1,e!==null&&Mp(n,e),n=Vf(n,l.children),n.flags|=4096);return n}return h?(Ss(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Oi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Oi(z,E):(E=Ar(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Yl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Lp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=kf(e,p,s),n.memoizedState=Mf,Yl(e.child,l)):(bs(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Vf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Dr(n,e.child,null,s),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$h(e.return,n,s)}function jf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Zg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,$(pe,p),He(e,n,l,s),l=Lt?Vl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,s,n);else if(e.tag===19)Jg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function _T(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),_s(n,Se,e.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(bs(n),e=zi(e,n,s),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ga(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Zg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:_s(n,Se,e.memoizedState.cache)}return zi(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return we=!1,_T(e,n,s);we=(e.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Dp(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Nr(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=Or(e,l),n.tag=1,n=Yg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===At){n.tag=11,n=Bg(null,n,e,l,s);break t}else if(h===D){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Or(l,n.pendingProps),Yg(e,n,l,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Hl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,_s(n,Se,l),l!==f.cache&&Jh(n,[Se],s,!0),ql(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,s);break t}else if(l!==h){h=Nn(Error(a(424)),n),Ul(h),n=Xg(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=kn(e.firstChild),Be=n,Lt=!0,gs=null,Mn=!0,s=Gp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wr(),l===h){n=zi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,l=dc(ht.current).createElement(s),l[Ee]=n,l[Ve]=e,Ge(l,s,e),Te(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rr(n),e===null&&Lt&&(l=n.stateNode=l_(n.type,n.pendingProps,ht.current),Be=n,Mn=!0,h=ne,Ds(n.type)?(yd=h,ne=kn(l.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=l=ne)&&(l=YT(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Be=n,ne=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||ys(n)),rr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,uT,null,null,s),uo._currentValue=h),$u(e,n),He(e,n,l,s),n.child;case 6:return e===null&&Lt&&((e=s=ne)&&(s=XT(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||ys(n)),null;case 13:return $g(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Dr(n,null,l,s):He(e,n,l,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,_s(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Zg(e,n,s);case 31:return yT(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return Rr(n),l=qe(Se),e===null?(h=tf(),h===null&&(h=te,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),_s(n,Se,h)):((e.lanes&s)!==0&&(sf(e,n),Hl(n,null,null,s),ql()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Se,l)):(l=f.cache,_s(n,Se,l),l!==h.cache&&Jh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Ir=Vu,ef}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(xy())e.flags|=8192;else throw Ir=Vu,ef}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ca|=n)}function Xl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function vT(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Se),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(ie(n),ty(n,f)):(ie(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?(Pi(n),ie(n),ty(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Pi(n),ie(n),zf(n,h,e,l,s)),null;case 27:if(Kr(n),s=ht.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=it.current,pa(n)?Op(n):(e=l_(h,l,s),n.stateNode=e,Pi(n))}return ie(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=it.current,pa(n))Op(n);else{var p=dc(ht.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ee]=n,f[Ve]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Pi(n)}}return ie(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=ht.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||ys(n,!0)}else e=dc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=pa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&ld(n.stateNode.containerInfo),ie(n),null;case 10:return Ui(n.type),ie(n),null;case 19:if(B(pe),l=n.memoizedState,l===null)return ie(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Xl(l,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return $(pe,pe.current&1|2),Lt&&ki(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*tn()-l.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,s=pe.current,$(pe,h?s&1|2:s&1),Lt&&ki(n,l.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&B(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ET(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(pe),null;case 4:return ae(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),of(),e!==null&&B(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Se),null;case 25:return null;default:return null}}function ey(e,n){switch(Qh(n),n.tag){case 3:Ui(Se),ae();break;case 26:case 27:case 5:Kr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:B(pe);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),of(),e!==null&&B(Cr);break;case 24:Ui(Se)}}function $l(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function As(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(F){Xt(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){Xt(n,n.return,F)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(l){Xt(e,e.return,l)}}}function iy(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(e,n,l)}}function Jl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Xt(e,n,h)}}function _i(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Pf(e,n,s){try{var l=e.stateNode;qT(l,e.type,s,n),l[Ve]=n}catch(h){Xt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Wu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[Ee]=e,n[Ve]=s}catch(f){Xt(e,e.return,f)}}var Bi=!1,xe=!1,Hf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,je=null;function TT(e,n){if(e=e.containerInfo,cd=Ec,e=vp(e),Vh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,F=0,X=e,P=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(I=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)P=X,X=H;for(;;){if(X===e)break e;if(P===s&&++z===h&&(E=p),P===f&&++F===l&&(I=p),(H=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},Ec=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ut=Or(s.type,h);e=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Xt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),l&4&&$l(5,s);break;case 1:if(Hi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(s,s.return,p)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(s,s.return,p)}}l&64&&ny(s),l&512&&Jl(s,s.return);break;case 3:if(Hi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){Xt(s,s.return,p)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:Hi(e,s),n===null&&l&4&&sy(s),l&512&&Jl(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),l&4&&hy(e,s);break;case 13:Hi(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=IT.bind(null,s),$T(e,s))));break;case 22:if(l=s.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||xe,h=Bi;var f=xe;Bi=l,(xe=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,xe=f}break;case 30:break;default:Hi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function qi(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:xe||_i(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||_i(s,n);var l=oe,h=an;Ds(s.type)&&(oe=s.stateNode,an=!1),qi(e,n,s),ao(s.stateNode),oe=l,an=h;break;case 5:xe||_i(s,n);case 6:if(l=oe,h=an,oe=null,qi(e,n,s),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:oe!==null&&(an?(e=oe,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):n_(oe,s.stateNode));break;case 4:l=oe,h=an,oe=s.stateNode.containerInfo,an=!0,qi(e,n,s),oe=l,an=h;break;case 0:case 11:case 14:case 15:As(2,s,n),xe||As(4,s,n),qi(e,n,s);break;case 1:xe||(_i(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:xe=(l=xe)||s.memoizedState!==null,qi(e,n,s),xe=l;break;default:qi(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Xt(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Xt(n,n.return,s)}}function bT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=bT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=DT.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));cy(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Yn=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(As(3,e,e.return),$l(3,e),As(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(xe||s===null||_i(s,s.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Yn;if(ln(n,e),on(e),l&512&&(xe||s===null||_i(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[Ee]=e,Te(f),l=f;break t;case"link":var p=d_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(xe||s===null||_i(s,s.return)),s!==null&&l&4&&Pf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(xe||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){Xt(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ut){Xt(e,e.return,ut)}}break;case 3:if(gc=null,h=Yn,Yn=mc(n.containerInfo),ln(n,e),Yn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(ut){Xt(e,e.return,ut)}Hf&&(Hf=!1,my(e));break;case 4:l=Yn,Yn=mc(e.stateNode.containerInfo),ln(n,e),on(e),Yn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Bi,F=xe;if(Bi=z||h,xe=F||I,ln(n,e),xe=F,Bi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Bi||xe||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ut){Xt(I,I.return,ut)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Xt(I,I.return,ut)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?i_(H,!0):i_(I.stateNode,!1)}catch(ut){Xt(I,I.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tc(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=Bf(e);Wu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Bf(e);qf(e,z,I);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),kr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),kr(n);break;case 27:ao(n.stateNode);case 26:case 5:_i(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),$l(4,f);break;case 1:if(Gi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Fp(I[h],E)}catch(z){Xt(l,l.return,z)}}s&&p&64&&ny(f),Jl(f,f.return);break;case 27:ay(f);case 26:case 5:Gi(h,f,s),s&&l===null&&p&4&&sy(f),Jl(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&p&4&&hy(h,f);break;case 13:Gi(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Jl(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&jl(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jl(e))}function Xn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,l),h&2048&&$l(9,n);break;case 1:Xn(e,n,s,l);break;case 3:Xn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jl(e)));break;case 12:if(h&2048){Xn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Xn(e,n,s,l);break;case 31:Xn(e,n,s,l);break;case 13:Xn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,l):Zl(e,n):f._visibility&2?Xn(e,n,s,l):(f._visibility|=2,wa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:Xn(e,n,s,l),h&2048&&Ff(n.alternate,n);break;default:Xn(e,n,s,l)}}function wa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,E,I,h),$l(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?wa(f,p,E,I,h):Zl(f,p):(F._visibility|=2,wa(f,p,E,I,h)),h&&z&2048&&Gf(p.alternate,p);break;case 24:wa(f,p,E,I,h),h&&z&2048&&Ff(p.alternate,p);break;default:wa(f,p,E,I,h)}n=n.sibling}}function Zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Zl(s,l),h&2048&&Gf(l.alternate,l);break;case 24:Zl(s,l),h&2048&&Ff(l.alternate,l);break;default:Zl(s,l)}n=n.sibling}}var Wl=8192;function xa(e,n,s){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&Wl&&e.memoizedState!==null&&ob(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=Yn;Yn=mc(e.stateNode.containerInfo),xa(e,n,s),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,xa(e,n,s),Wl=l):xa(e,n,s));break;default:xa(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function to(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&As(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):to(e);break;default:to(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function vy(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=e;je!==null;){l=je;var h=l.sibling,f=l.return;if(uy(l),l===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var ST={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},AT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,It=null,Ot=0,Yt=0,vn=null,ws=!1,Ra=!1,Qf=!1,Fi=0,he=0,xs=0,Vr=0,Kf=0,En=0,Ca=0,eo=null,un=null,Yf=!1,nc=0,Ey=0,ic=1/0,sc=null,Rs=null,Me=0,Cs=null,Na=null,Qi=0,Xf=0,$f=null,Ty=null,no=0,Jf=null;function Tn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?id():ru()}function by(){if(En===0)if((Ot&536870912)===0||Lt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Ns(e,Ot,En,!1)),ur(e,s),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Vr|=s),he===4&&Ns(e,Ot,En,!1)),vi(e))}function Sy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=l?RT(e,n):Wf(e,n,!0),f=l;do{if(h===0){Ra&&!l&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!wT(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=eo;var I=E.current.memoizedState.isDehydrated;if(I&&(Ia(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Ns(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,En,!ws);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Ns(l,n,En,!ws),ei(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=t_(Ay.bind(null,l,s,un,sc,Yf,n,En,Vr,Ca,ws,f,"Throttled",-0,0),h);break t}Ay(l,s,un,sc,Yf,n,En,Vr,Ca,ws,f,null,-0,0)}}break}while(!0);vi(e)}function Ay(e,n,s,l,h,f,p,E,I,z,F,X,P,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},gy(n,f,X);var ut=(f&62914560)===f?nc-tn():(f&4194048)===f?Ey-tn():0;if(ut=ub(X,ut),ut!==null){Qi=f,e.cancelPendingCommit=ut(My.bind(null,e,n,f,s,l,h,p,E,I,F,X,null,P,H)),Ns(e,f,p,!z);return}}My(e,n,f,s,l,h,p,E,I)}function wT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,l){n&=~Kf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&cr(e,s,n)}function rc(){return(Gt&6)===0?(io(0),!1):!0}function Zf(){if(It!==null){if(Yt===0)var e=It.return;else e=It,Vi=xr=null,mf(e),Ea=null,zl=0,e=It;for(;e!==null;)ey(e.alternate,e),e=e.return;It=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,FT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Zf(),te=e,It=s=Oi(e.current,null),Ot=n,Yt=0,vn=null,ws=!1,Ra=zn(e,n),Qf=!1,Ca=En=Kf=Vr=xs=he=0,un=eo=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Fi=n,xu(),s}function wy(e,n){xt=null,Q.H=Kl,n===va||n===ku?(n=Bp(),Yt=3):n===ef?(n=Bp(),Yt=4):Yt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(he=1,Yu(e,Nn(n,e.current)))}function xy(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?On===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===On:!1}function Ry(){var e=Q.H;return Q.H=Kl,e===null?Kl:e}function Cy(){var e=Q.A;return Q.A=ST,e}function ac(){he=4,ws||(Ot&4194048)!==Ot&&yn.current!==null||(Ra=!0),(xs&134217727)===0&&(Vr&134217727)===0||te===null||Ns(te,Ot,En,!1)}function Wf(e,n,s){var l=Gt;Gt|=2;var h=Ry(),f=Cy();(te!==e||Ot!==n)&&(sc=null,Ia(e,n)),n=!1;var p=he;t:do try{if(Yt!==0&&It!==null){var E=It,I=vn;switch(Yt){case 8:Zf(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Yt;if(Yt=0,vn=null,Da(e,E,I,z),s&&Ra){p=0;break t}break;default:z=Yt,Yt=0,vn=null,Da(e,E,I,z)}}xT(),p=he;break}catch(F){wy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Vi=xr=null,Gt=l,Q.H=h,Q.A=f,It===null&&(te=null,Ot=0,xu()),p}function xT(){for(;It!==null;)Ny(It)}function RT(e,n){var s=Gt;Gt|=2;var l=Ry(),h=Cy();te!==e||Ot!==n?(sc=null,ic=tn()+500,Ia(e,n)):Ra=zn(e,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=vn;e:switch(Yt){case 1:Yt=0,vn=null,Da(e,n,f,1);break;case 2:case 9:if(zp(f)){Yt=0,vn=null,Iy(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),vi(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:zp(f)?(Yt=0,vn=null,Iy(n)):(Yt=0,vn=null,Da(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?p_(p):E.stateNode.complete){Yt=0,vn=null;var I=E.sibling;if(I!==null)It=I;else{var z=E.return;z!==null?(It=z,lc(z)):It=null}break e}}Yt=0,vn=null,Da(e,n,f,5);break;case 6:Yt=0,vn=null,Da(e,n,f,6);break;case 8:Zf(),he=6;break t;default:throw Error(a(462))}}CT();break}catch(F){wy(e,F)}while(!0);return Vi=xr=null,Q.H=l,Q.A=h,Gt=s,It!==null?0:(te=null,Ot=0,xu(),he)}function CT(){for(;It!==null&&!Ch();)Ny(It)}function Ny(e){var n=Wg(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?lc(e):It=n}function Iy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kg(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Kg(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:mf(n);default:ey(s,n),n=It=Cp(n,Fi),n=Wg(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?lc(e):It=n}function Da(e,n,s,l){Vi=xr=null,mf(n),Ea=null,zl=0;var h=n.return;try{if(gT(e,h,n,s,Ot)){he=1,Yu(e,Nn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;he=1,Yu(e,Nn(s,e.current)),It=null;return}n.flags&32768?(Lt||l===1?e=!0:Ra||(Ot&536870912)!==0?e=!1:(ws=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,ws);return}e=n.return;var s=vT(n.alternate,n,Fi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);he===0&&(he=5)}function Dy(e,n){do{var s=ET(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);he=6,It=null}function My(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do oc();while(Me!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Dh(e,s,f,p,E,I),e===te&&(It=te=null,Ot=0),Na=n,Cs=e,Qi=s,Xf=f,$f=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,MT(rs,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=at.p,at.p=2,p=Gt,Gt|=4;try{TT(e,n,s)}finally{Gt=p,at.p=h,Q.T=l}}Me=1,Oy(),ky(),Vy()}}function Oy(){if(Me===1){Me=0;var e=Cs,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{dy(n,e);var f=hd,p=vp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var z=I.start,F=I.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var H=P.getSelection(),ut=E.textContent.length,_t=Math.min(I.start,ut),Wt=I.end===void 0?_t:Math.min(I.end,ut);!H.extend&&_t>Wt&&(p=Wt,Wt=_t,_t=p);var V=yp(E,_t),O=yp(E,Wt);if(V&&O&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=X.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),_t>Wt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ec=!!cd,hd=cd=null}finally{Gt=h,at.p=l,Q.T=s}}e.current=n,Me=2}}function ky(){if(Me===2){Me=0;var e=Cs,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{oy(e,n.alternate,n)}finally{Gt=h,at.p=l,Q.T=s}}Me=3}}function Vy(){if(Me===4||Me===3){Me=0,Zo();var e=Cs,n=Na,s=Qi,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Na=Cs=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Ni(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=at.p,at.p=2,Q.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,at.p=h}}(Qi&3)!==0&&oc(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?no++:(no=0,Jf=e):no=0,io(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jl(n)))}function oc(){return Oy(),ky(),Vy(),jy()}function jy(){if(Me!==5)return!1;var e=Cs,n=Xf;Xf=0;var s=Ni(Qi),l=Q.T,h=at.p;try{at.p=32>s?32:s,Q.T=null,s=$f,$f=null;var f=Cs,p=Qi;if(Me=0,Na=Cs=null,Qi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,_y(f.current),py(f,f.current,p,s),Gt=E,io(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{at.p=h,Q.T=l,Uy(e,n)}}function Ly(e,n,s){n=Nn(s,n),n=Nf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(ur(e,2),vi(e))}function Xt(e,n,s){if(e.tag===3)Ly(e,e,s);else for(;n!==null;){if(n.tag===3){Ly(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rs===null||!Rs.has(l))){e=Nn(s,e),s=zg(2),l=Ts(n,s,2),l!==null&&(Pg(s,l,n,e),ur(l,2),vi(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new AT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=NT.bind(null,e,n,s),n.then(e,e))}function NT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Ot&s)===s&&(he===4||he===3&&(Ot&62914560)===Ot&&300>tn()-nc?(Gt&2)===0&&Ia(e,0):Kf|=s,Ca===Ot&&(Ca=0)),vi(e)}function zy(e,n){n===0&&(n=su()),e=Sr(e,n),e!==null&&(ur(e,n),vi(e))}function IT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function DT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function MT(e,n){return De(e,n)}var uc=null,Ma=null,ed=!1,cc=!1,nd=!1,Is=0;function vi(e){e!==Ma&&e.next===null&&(Ma===null?uc=Ma=e:Ma=Ma.next=e),cc=!0,ed||(ed=!0,kT())}function io(e,n){if(!nd&&cc){nd=!0;do for(var s=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=Ot,f=ei(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);nd=!1}}function OT(){Py()}function Py(){cc=ed=!1;var e=0;Is!==0&&GT()&&(e=Is);for(var n=tn(),s=null,l=uc;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?uc=h:s.next=h,h===null&&(Ma=s)):(s=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}Me!==0&&Me!==5||io(e),Is!==0&&(Is=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Ih(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Ot,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ss(l),Ni(s)){case 2:case 8:s=dl;break;case 32:s=rs;break;case 268435456:s=Wo;break;default:s=rs}return l=qy.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ss(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var l=Ot;return l=ei(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),By(e,tn()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(oc())return null;Sy(e,n,!0)}function kT(){QT(function(){(Gt&6)!==0?De(fl,OT):Py()})}function id(){if(Is===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Is=e}return Is}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function VT(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[Ve]||null).action),p=l.submitter;p&&(n=(n=p[Ve]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new fi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Is!==0){var I=p?Fy(h,p):new FormData(h);Sf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Fy(h,p):new FormData(h),Sf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],UT=rd.toLowerCase(),jT=rd[0].toUpperCase()+rd.slice(1);Kn(UT,"on"+jT)}Kn(bp,"onAnimationEnd"),Kn(Sp,"onAnimationIteration"),Kn(Ap,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(WE,"onTransitionRun"),Kn(tT,"onTransitionStart"),Kn(eT,"onTransitionCancel"),Kn(wp,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}}}}function Dt(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var l=e+"__bubble";s.has(l)||(Ky(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),Ky(s,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[hc]){e[hc]=!0,gl.forEach(function(s){s!=="selectionchange"&&(LT.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ad("selectionchange",!1,n))}}function Ky(e,n,s,l){switch(b_(n)){case 2:var h=fb;break;case 8:h=db;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ri(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}hs(function(){var z=f,F=wn(s),X=[];t:{var P=xp.get(e);if(P!==void 0){var H=fi,ut=e;switch(e){case"keypress":if(yr(s)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":ut="focus",H=vr;break;case"focusout":ut="blur",H=vr;break;case"beforeblur":case"afterblur":H=vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case bp:case Sp:case Ap:H=pu;break;case wp:H=b;break;case"scroll":case"scrollend":H=Cl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=wt}var _t=(n&4)!==0,Wt=!_t&&(e==="scroll"||e==="scrollend"),V=_t?P!==null?P+"Capture":null:P;_t=[];for(var O=z,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||V===null||(K=Hn(O,V),K!=null&&_t.push(ro(O,K,L))),Wt)break;O=O.return}0<_t.length&&(P=new H(P,ut,null,s,F),X.push({event:P,listeners:_t}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",P&&s!==wl&&(ut=s.relatedTarget||s.fromElement)&&(ri(ut)||ut[ii]))break t;if((H||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=z,ut=ut?ri(ut):null,ut!==null&&(Wt=c(ut),_t=ut.tag,ut!==Wt||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(_t=Nl,K="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Mi,K="onPointerLeave",V="onPointerEnter",O="pointer"),Wt=H==null?P:dn(H),L=ut==null?P:dn(ut),P=new _t(K,O+"leave",H,s,F),P.target=Wt,P.relatedTarget=L,K=null,ri(F)===z&&(_t=new _t(V,O+"enter",ut,s,F),_t.target=L,_t.relatedTarget=Wt,K=_t),Wt=K,H&&ut)e:{for(_t=zT,V=H,O=ut,L=0,K=V;K;K=_t(K))L++;K=0;for(var mt=O;mt;mt=_t(mt))K++;for(;0<L-K;)V=_t(V),L--;for(;0<K-L;)O=_t(O),K--;for(;L--;){if(V===O||O!==null&&V===O.alternate){_t=V;break e}V=_t(V),O=_t(O)}_t=null}else _t=null;H!==null&&Yy(X,P,H,_t,!1),ut!==null&&Wt!==null&&Yy(X,Wt,ut,_t,!0)}}t:{if(P=z?dn(z):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Pt=hp;else if(up(P))if(fp)Pt=$E;else{Pt=YE;var ft=KE}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&ea(z.elementType)&&(Pt=hp):Pt=XE;if(Pt&&(Pt=Pt(e,z))){cp(X,Pt,s,F);break t}ft&&ft(e,P,z),e==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&bl(P,"number",P.value)}switch(ft=z?dn(z):window,e){case"focusin":(up(ft)||ft.contentEditable==="true")&&(ua=ft,Uh=z,kl=null);break;case"focusout":kl=Uh=ua=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ep(X,s,F);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Ep(X,s,F)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else oa?Er(e,s)&&(kt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(pi&&s.locale!=="ko"&&(oa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&oa&&(Rt=Rl()):(hi=F,xl="value"in hi?hi.value:hi.textContent,oa=!0)),ft=fc(z,kt),0<ft.length&&(kt=new mi(kt,e,null,s,F),X.push({event:kt,listeners:ft}),Rt?kt.data=Rt:(Rt=la(s),Rt!==null&&(kt.data=Rt)))),(Rt=Rn?HE(e,s):GE(e,s))&&(kt=fc(z,"onBeforeInput"),0<kt.length&&(ft=new mi("onBeforeInput","beforeinput",null,s,F),X.push({event:ft,listeners:kt}),ft.data=Rt)),VT(X,e,z,s,F)}Qy(X,n)})}function ro(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&l.unshift(ro(e,h,f)),h=Hn(e,n),h!=null&&l.push(ro(e,h,f))),e.tag===3)return l;e=e.return}return[]}function zT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Hn(s,f),z!=null&&p.unshift(ro(s,z,I))):h||(z=Hn(s,f),z!=null&&p.push(ro(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var PT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(PT,`
`).replace(BT,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function Zt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":Al(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Wr(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,Wr(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":Al(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Wr(e,s,l)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,p,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),l&&Zt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(e,n,l,F,s,null)}}uu(e,f,E,I,z,p,h,!1);return;case"select":Dt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Zt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?ls(e,!!l,n,!1):s!=null&&ls(e,!!l,s,!0);return;case"textarea":Dt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,p,E,s,null)}os(e,l,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,n,I,l,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<so.length;l++)Dt(so[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,l,s,null)}return;default:if(ea(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&ud(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Zt(e,n,E,l,s,null))}function qT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||Zt(e,n,H,null,l,X)}}for(var P in l){var H=l[P];if(X=s[P],l.hasOwnProperty(P)&&(H!=null||X!=null))switch(P){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&Zt(e,n,P,H,l,X)}}ta(e,p,E,I,z,F,f,h);return;case"select":H=p=E=P=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||Zt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Zt(e,n,h,f,l,I)}n=E,s=p,l=H,P!=null?ls(e,!!s,P,!1):!!l!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":H=P=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,p,h,l,f)}cu(e,P,H);return;case"option":for(var ut in s)P=s[ut],s.hasOwnProperty(ut)&&P!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Zt(e,n,ut,null,l,P));for(I in l)P=l[I],H=s[I],l.hasOwnProperty(I)&&P!==H&&(P!=null||H!=null)&&(I==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Zt(e,n,I,P,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)P=s[_t],s.hasOwnProperty(_t)&&P!=null&&!l.hasOwnProperty(_t)&&Zt(e,n,_t,null,l,P);for(z in l)if(P=l[z],H=s[z],l.hasOwnProperty(z)&&P!==H&&(P!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Zt(e,n,z,P,l,H)}return;default:if(ea(n)){for(var Wt in s)P=s[Wt],s.hasOwnProperty(Wt)&&P!==void 0&&!l.hasOwnProperty(Wt)&&ud(e,n,Wt,void 0,l,P);for(F in l)P=l[F],H=s[F],!l.hasOwnProperty(F)||P===H||P===void 0&&H===void 0||ud(e,n,F,P,l,H);return}}for(var V in s)P=s[V],s.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&Zt(e,n,V,null,l,P);for(X in l)P=l[X],H=s[X],!l.hasOwnProperty(X)||P===H||P==null&&H==null||Zt(e,n,X,P,l,H)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Jy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var F=I.transferSize,X=I.initiatorType;F&&Jy(X)&&(I=I.responseEnd,p+=F*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function GT(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(KT)}:t_;function KT(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ua(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ao(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ao(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ao(e.ownerDocument.body);s=h}while(s);Ua(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),Zr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function YT(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function XT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $T(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ao(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zr(e)}var Vn=new Map,o_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=at.d;at.d={f:JT,r:ZT,D:WT,C:tb,L:eb,m:nb,X:sb,S:ib,M:rb};function JT(){var e=Ki.f(),n=rc();return e||n}function ZT(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):Ki.r(e)}var Oa=typeof document>"u"?null:document;function u_(e,n,s){var l=Oa;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function WT(e){Ki.D(e),u_("dns-prefetch",e,null)}function tb(e,n){Ki.C(e,n),u_("preconnect",e,n)}function eb(e,n,s){Ki.L(e,n,s);var l=Oa;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Va(e)}Vn.has(f)||(e=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(lo(f))||n==="script"&&l.querySelector(oo(f))||(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function nb(e,n){Ki.m(e,n);var s=Oa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Vn.has(f)&&(e=x({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(oo(f)))return}l=s.createElement("link"),Ge(l,"link",e),Te(l),s.head.appendChild(l)}}}function ib(e,n,s){Ki.S(e,n,s);var l=Oa;if(l&&e){var h=ai(l).hoistableStyles,f=ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(lo(f)))E.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&_d(e,s);var I=p=l.createElement("link");Te(I),Ge(I,"link",e),I._p=new Promise(function(z,F){I.onload=z,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sb(e,n){Ki.X(e,n);var s=Oa;if(s&&e){var l=ai(s).hoistableScripts,h=Va(e),f=l.get(h);f||(f=s.querySelector(oo(h)),f||(e=x({src:e,async:!0},n),(n=Vn.get(h))&&vd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function rb(e,n){Ki.M(e,n);var s=Oa;if(s&&e){var l=ai(s).hoistableScripts,h=Va(e),f=l.get(h);f||(f=s.querySelector(oo(h)),f||(e=x({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&vd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=ht.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=ai(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=ai(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(lo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||ab(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=ai(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+sn(e)+'"'}function lo(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Te(n),e.head.appendChild(n))}function Va(e){return'[src="'+sn(e)+'"]'}function oo(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ge(l,"style",h),pc(l,s.precedence,e),n.instance=l;case"stylesheet":h=ka(s.href);var f=e.querySelector(lo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=h_(s),(h=Vn.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",l),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(oo(f)))?(n.instance=h,Te(h),h):(l=s,(h=Vn.get(f))&&(l=x({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,s.precedence,e));return n.instance}function pc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function d_(e,n,s){if(gc===null){var l=new Map,h=gc=new Map;h.set(s,l)}else h=gc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function lb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ob(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(l.href),f=n.querySelector(lo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,l=h_(l),(h=Vn.get(h))&&_d(l,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function ub(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*HT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(cb,e),_c=null,yc.call(e))}function cb(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var l=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var uo={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function hb(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g_(e,n,s,l,h,f,p,E,I,z,F,X){return e=new hb(e,n,s,p,I,z,F,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function y_(e){return e?(e=fa,e):fa}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Es(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ts(e,l,n),s!==null&&(cn(s,e,n),Bl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&cn(n,e,67108864),Td(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Tn();n=hr(n);var s=Sr(e,n);s!==null&&cn(s,e,n),Td(e,n)}}var Ec=!0;function fb(e,n,s,l){var h=Q.T;Q.T=null;var f=at.p;try{at.p=2,bd(e,n,s,l)}finally{at.p=f,Q.T=h}}function db(e,n,s,l){var h=Q.T;Q.T=null;var f=at.p;try{at.p=8,bd(e,n,s,l)}finally{at.p=f,Q.T=h}}function bd(e,n,s,l){if(Ec){var h=Sd(l);if(h===null)od(e,n,l,Tc,s),S_(e,l);else if(pb(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<mb.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ti(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-de(p);E.entanglements[1]|=I,p&=~I}vi(f),(Gt&6)===0&&(ic=tn()+500,io(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&cn(E,f,2),rc(),Td(f,2)}if(f=Sd(l),f===null&&od(e,n,l,Tc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function Sd(e){return e=wn(e),Ad(e)}var Tc=null;function Ad(e){if(Tc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case fl:return 2;case dl:return 8;case rs:case Nh:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var wd=!1,Ms=null,Os=null,ks=null,co=new Map,ho=new Map,Vs=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function pb(e,n,s,l,h){switch(n){case"focusin":return Ms=fo(Ms,e,n,s,l,h),!0;case"dragenter":return Os=fo(Os,e,n,s,l,h),!0;case"mouseover":return ks=fo(ks,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return co.set(f,fo(co.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ho.set(f,fo(ho.get(f)||null,e,n,s,l,h)),!0}return!1}function A_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);wl=l,s.target.dispatchEvent(l),wl=null}else return n=An(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){bc(e)&&s.delete(n)}function gb(){wd=!1,Ms!==null&&bc(Ms)&&(Ms=null),Os!==null&&bc(Os)&&(Os=null),ks!==null&&bc(ks)&&(ks=null),co.forEach(w_),ho.forEach(w_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gb)))}var Ac=null;function x_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ua(e){function n(I){return Sc(I,e)}Ms!==null&&Sc(Ms,e),Os!==null&&Sc(Os,e),ks!==null&&Sc(ks,e),co.forEach(n),ho.forEach(n);for(var s=0;s<Vs.length;s++){var l=Vs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Ve]||null;if(typeof f=="function")p||x_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),x_(s)}}}function R_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}wc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();__(s,l,e,n,null,null)},wc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),rc(),n[ii]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.4")throw Error(a(527,C_,"19.2.4"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Ln=xc.inject(yb),ze=xc}catch{}}return po.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Vg,f=Ug,p=jg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,l,null,h,f,p,R_),e[ii]=n.current,ld(e),new xd(n)},po.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Vg,p=Ug,E=jg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=g_(e,1,!0,n,s??null,l,h,I,f,p,E,R_),n.context=y_(null),s=n.current,l=Tn(),l=hr(l),h=Es(l),h.callback=null,Ts(s,h,l),s=l,n.current.lanes=s,ur(n,s),vi(n),e[ii]=n.current,ld(e),new wc(n)},po.version="19.2.4",po}var L_;function Rb(){if(L_)return Nd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=xb(),Nd.exports}var Cb=Rb();const Nb=()=>{};var z_={};const yv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ib=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,S=c>>2,x=(c&3)<<4|g>>4;let C=(g&15)<<2|y>>6,G=y&63;v||(G=64,d||(C=64)),a.push(i[S],i[x],i[C],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(yv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ib(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||x==null)throw new Db;const C=c<<2|g>>4;if(a.push(C),y!==64){const G=g<<4&240|y>>2;if(a.push(G),x!==64){const Y=y<<6&192|x;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(r){const t=yv(r);return _v.encodeByteArray(t,!0)},Gc=function(r){return Mb(r).replace(/\./g,"")},vv=function(r){try{return _v.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kb=()=>Ob().__FIREBASE_DEFAULTS__,Vb=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ub=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&vv(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return Nb()||kb()||Vb()||Ub()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ev=r=>uh()?.emulatorHosts?.[r],jb=r=>{const t=Ev(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Tv=()=>uh()?.config,bv=r=>uh()?.[`_${r}`];class Lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function nl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(r){return(await fetch(r,{credentials:"include"})).ok}function zb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const bo={};function Pb(){const r={prod:[],emulator:[]};for(const t of Object.keys(bo))bo[t]?r.emulator.push(t):r.prod.push(t);return r}function Bb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let P_=!1;function Av(r,t){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||bo[r]===t||bo[r]||P_)return;bo[r]=t;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",c=Pb().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,G){C.setAttribute("width","24"),C.setAttribute("id",G),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{P_=!0,d()},C}function S(C,G){C.setAttribute("id",G),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function x(){const C=Bb(a),G=i("text"),Y=document.getElementById(G)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),nt=i("preprendIcon"),tt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const lt=C.element;g(lt),S(W,rt);const At=y();v(tt,nt),lt.append(tt,Y,W,At),document.body.appendChild(lt)}c?(Y.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Hb(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Yb(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Jb="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Jb,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Zb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new is(o,g,a)}}function Zb(r,t){return r.replace(Wb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Wb=/\{\$([^}]+)}/g;function t2(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Pr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(B_(c)&&B_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Bo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function e2(r,t){const i=new n2(r,t);return i.subscribe.bind(i)}class n2{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");i2(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function We(r){return r&&r._delegate?r._delegate:r}class Br{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ur="[DEFAULT]";class s2{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Lb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(a2(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:r2(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r2(r){return r===Ur?void 0:r}function a2(r){return r.instantiationMode==="EAGER"}class l2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new s2(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const o2={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},u2=Vt.INFO,c2={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},h2=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=c2[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=u2,this._logHandler=h2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?o2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const f2=(r,t)=>t.some(i=>r instanceof i);let q_,H_;function d2(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Kd=new WeakMap,xv=new WeakMap,kd=new WeakMap,Em=new WeakMap;function p2(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Fs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&wv.set(i,r)}).catch(()=>{}),Em.set(t,r),t}function g2(r){if(Kd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||xv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function y2(r){Yd=r(Yd)}function _2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return xv.set(a,t.sort?t.sort():[t]),Fs(a)}:m2().includes(r)?function(...t){return r.apply(Vd(this),t),Fs(wv.get(this))}:function(...t){return Fs(r.apply(Vd(this),t))}}function v2(r){return typeof r=="function"?_2(r):(r instanceof IDBTransaction&&g2(r),f2(r,d2())?new Proxy(r,Yd):r)}function Fs(r){if(r instanceof IDBRequest)return p2(r);if(kd.has(r))return kd.get(r);const t=v2(r);return t!==r&&(kd.set(r,t),Em.set(t,r)),t}const Vd=r=>Em.get(r);function E2(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Fs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Fs(d.result),v.oldVersion,v.newVersion,Fs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const T2=["get","getKey","getAll","getAllKeys","count"],b2=["put","add","delete","clear"],Ud=new Map;function G_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=b2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||T2.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Ud.set(t,c),c}y2(r=>({...r,get:(t,i,a)=>G_(t,i)||r.get(t,i,a),has:(t,i)=>!!G_(t,i)||r.has(t,i)}));class S2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(A2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function A2(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",F_="0.14.7";const Ji=new vm("@firebase/app"),w2="@firebase/app-compat",x2="@firebase/analytics-compat",R2="@firebase/analytics",C2="@firebase/app-check-compat",N2="@firebase/app-check",I2="@firebase/auth",D2="@firebase/auth-compat",M2="@firebase/database",O2="@firebase/data-connect",k2="@firebase/database-compat",V2="@firebase/functions",U2="@firebase/functions-compat",j2="@firebase/installations",L2="@firebase/installations-compat",z2="@firebase/messaging",P2="@firebase/messaging-compat",B2="@firebase/performance",q2="@firebase/performance-compat",H2="@firebase/remote-config",G2="@firebase/remote-config-compat",F2="@firebase/storage",Q2="@firebase/storage-compat",K2="@firebase/firestore",Y2="@firebase/ai",X2="@firebase/firestore-compat",$2="firebase",J2="12.8.0";const $d="[DEFAULT]",Z2={[Xd]:"fire-core",[w2]:"fire-core-compat",[R2]:"fire-analytics",[x2]:"fire-analytics-compat",[N2]:"fire-app-check",[C2]:"fire-app-check-compat",[I2]:"fire-auth",[D2]:"fire-auth-compat",[M2]:"fire-rtdb",[O2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[V2]:"fire-fn",[U2]:"fire-fn-compat",[j2]:"fire-iid",[L2]:"fire-iid-compat",[z2]:"fire-fcm",[P2]:"fire-fcm-compat",[B2]:"fire-perf",[q2]:"fire-perf-compat",[H2]:"fire-rc",[G2]:"fire-rc-compat",[F2]:"fire-gcs",[Q2]:"fire-gcs-compat",[K2]:"fire-fst",[X2]:"fire-fst-compat",[Y2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};const No=new Map,W2=new Map,Jd=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Jd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of No.values())Q_(i,r);for(const i of W2.values())Q_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}const tS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Po("app","Firebase",tS);class eS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const il=J2;function Rv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=Tv()),!i)throw Qs.create("no-options");const c=No.get(o);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new l2(o);for(const v of Jd.values())d.addComponent(v);const g=new eS(i,a,d);return No.set(o,g),g}function bm(r=$d){const t=No.get(r);if(!t&&r===$d&&Tv())return Rv();if(!t)throw Qs.create("no-app",{appName:r});return t}function nS(){return Array.from(No.values())}function Ks(r,t,i){let a=Z2[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Xa(new Br(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const iS="firebase-heartbeat-database",sS=1,Io="firebase-heartbeat-store";let jd=null;function Cv(){return jd||(jd=E2(iS,sS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),jd}async function rS(r){try{const i=(await Cv()).transaction(Io),a=await i.objectStore(Io).get(Nv(r));return await i.done,a}catch(t){if(t instanceof is)Ji.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function K_(r,t){try{const a=(await Cv()).transaction(Io,"readwrite");await a.objectStore(Io).put(t,Nv(r)),await a.done}catch(i){if(i instanceof is)Ji.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Nv(r){return`${r.name}!${r.options.appId}`}const aS=1024,lS=30;class oS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lS){const o=hS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:a}=uS(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ji.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function uS(r,t=aS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function hS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function fS(r){Xa(new Br("platform-logger",t=>new S2(t),"PRIVATE")),Xa(new Br("heartbeat",t=>new oS(t),"PRIVATE")),Ks(Xd,F_,r),Ks(Xd,F_,"esm2020"),Ks("fire-js","")}fS("");var dS="firebase",mS="12.8.0";Ks(dS,mS,"app");function Iv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pS=Iv,Dv=new Po("auth","Firebase",Iv());const Fc=new vm("@firebase/auth");function gS(r,...t){Fc.logLevel<=Vt.WARN&&Fc.warn(`Auth (${il}): ${r}`,...t)}function Oc(r,...t){Fc.logLevel<=Vt.ERROR&&Fc.error(`Auth (${il}): ${r}`,...t)}function Zi(r,...t){throw Sm(r,...t)}function Ti(r,...t){return Sm(r,...t)}function Mv(r,t,i){const a={...pS(),[t]:i};return new Po("auth","Firebase",a).create(t,{appName:r.name})}function $i(r){return Mv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Dv.create(r,...t)}function Et(r,t,...i){if(!r)throw Sm(t,...i)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function Wi(r,t){r||Yi(t)}function Zd(){return typeof self<"u"&&self.location?.href||""}function yS(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function _S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yS()||Fb()||"connection"in navigator)?navigator.onLine:!0}function vS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=qb()||Qb()}get(){return _S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Ov{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ES={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bS=new qo(3e4,6e4);function Ho(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function sl(r,t,i,a,o={}){return kv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Gb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&nl(r.emulatorConfig.host)&&(y.credentials="include"),Ov.fetch()(await Vv(r,r.config.apiHost,i,g),y)})}async function kv(r,t,i){r._canInitEmulator=!1;const a={...ES,...t};try{const o=new SS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rc(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mv(r,S,y);Zi(r,S)}}catch(o){if(o instanceof is)throw o;Zi(r,"network-request-failed",{message:String(o)})}}async function wm(r,t,i,a,o={}){const c=await sl(r,t,i,a,o);return"mfaPendingCredential"in c&&Zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Vv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,o):`${r.config.apiScheme}://${o}`;return TS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class SS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),bS.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ti(r,t,a);return o.customData._tokenResponse=i,o}async function AS(r,t){return sl(r,"POST","/v1/accounts:delete",t)}async function Qc(r,t){return sl(r,"POST","/v1/accounts:lookup",t)}function So(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wS(r,t=!1){const i=We(r),a=await i.getIdToken(t),o=xm(a);Et(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:So(Ld(o.auth_time)),issuedAtTime:So(Ld(o.iat)),expirationTime:So(Ld(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function xm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vv(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(r){const t=xm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Do(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&xS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function xS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),a=await Do(r,Qc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Uv(o.providerUserInfo):[],d=NS(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function CS(r){const t=We(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function NS(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Uv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function IS(r,t){const i=await kv(r,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Vv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&nl(r.emulatorConfig.host)&&(v.credentials="include"),Ov.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DS(r,t){return sl(r,"POST","/v2/accounts:revokeToken",Ho(r,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await IS(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ha;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function js(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new RS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Do(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wS(this,t)}reload(){return CS(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await Do(this,AS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:x,emailVerified:C,isAnonymous:G,providerData:Y,stsTokenManager:rt}=i;Et(x&&rt,t,"internal-error");const W=Ha.fromJSON(this.name,rt);Et(typeof x=="string",t,"internal-error"),js(a,t.name),js(o,t.name),Et(typeof C=="boolean",t,"internal-error"),Et(typeof G=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(g,t.name),js(v,t.name),js(y,t.name),js(S,t.name);const nt=new $n({uid:x,auth:t,email:o,emailVerified:C,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:S});return Y&&Array.isArray(Y)&&(nt.providerData=Y.map(tt=>({...tt}))),v&&(nt._redirectEventId=v),nt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ha;o.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Et(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Uv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ha;g.updateFromIdToken(a);const v=new $n({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Z_=new Map;function Xi(r){Wi(r instanceof Function,"Expected a class definition");let t=Z_.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Z_.set(r,t),t)}class jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}jv.type="NONE";const W_=jv;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Xi(W_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Xi(W_);const d=kc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let x;if(typeof S=="string"){const C=await Qc(t,{idToken:S}).catch(()=>{});if(!C)break;x=await $n._fromGetAccountInfoResponse(t,C,S)}else x=$n._fromJSON(t,S);y!==c&&(g=x),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ga(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,a))}}function t0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hv(t))return"Blackberry";if(Gv(t))return"Webos";if(zv(t))return"Safari";if((t.includes("chrome/")||Pv(t))&&!t.includes("edge/"))return"Chrome";if(qv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Lv(r=Ze()){return/firefox\//i.test(r)}function zv(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pv(r=Ze()){return/crios\//i.test(r)}function Bv(r=Ze()){return/iemobile/i.test(r)}function qv(r=Ze()){return/android/i.test(r)}function Hv(r=Ze()){return/blackberry/i.test(r)}function Gv(r=Ze()){return/webos/i.test(r)}function Rm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MS(r=Ze()){return Rm(r)&&!!window.navigator?.standalone}function OS(){return Kb()&&document.documentMode===10}function Fv(r=Ze()){return Rm(r)||qv(r)||Gv(r)||Hv(r)||/windows phone/i.test(r)||Bv(r)}function Qv(r,t=[]){let i;switch(r){case"Browser":i=t0(Ze());break;case"Worker":i=`${t0(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${il}/${a}`}class kS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function VS(r,t={}){return sl(r,"GET","/v2/passwordPolicy",Ho(r,t))}const US=6;class jS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??US,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class LS{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new kS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject($i(this));const i=t?We(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VS(this),i=new jS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Po("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await DS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&gS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Go(r){return We(r)}class e0{constructor(t){this.auth=t,this.observer=null,this.addObserver=e2(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zS(r){Cm=r}function PS(r){return Cm.loadJS(r)}function BS(){return Cm.gapiScript}function qS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function HS(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return o;Zi(o,"already-initialized")}return i.initialize({options:t})}function GS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function FS(r,t,i){const a=Go(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Kv(t),{host:d,port:g}=QS(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(Pr(y,a.config.emulator)&&Pr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,nl(d)?(Sv(`${c}//${d}${v}`),Av("Auth",!0)):KS()}function Kv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function QS(r){const t=Kv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:n0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:n0(d)}}}function n0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function KS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Yv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Fa(r,t){return wm(r,"POST","/v1/accounts:signInWithIdp",Ho(r,t))}const YS="http://localhost";class qr extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:YS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bo(i)}return t}}class Xv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fo extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Fo{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Bs extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Fo{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Fo{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function XS(r,t){return wm(r,"POST","/v1/accounts:signUp",Ho(r,t))}class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await $n._fromIdTokenResponse(t,a,o),d=i0(a);return new ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=i0(a);return new ts({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function i0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $S(r){if(Un(r.app))return Promise.reject($i(r));const t=Go(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await XS(t,{returnSecureToken:!0}),a=await ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Yc extends is{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Yc(t,i,a,o)}}function $v(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,t,a):c})}async function JS(r,t,i=!1){const a=await Do(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ts._forOperation(r,"link",a)}async function ZS(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject($i(a));const o="reauthenticate";try{const c=await Do(r,$v(a,o,t,r),i);Et(c.idToken,a,"internal-error");const d=xm(c.idToken);Et(d,a,"internal-error");const{sub:g}=d;return Et(r.uid===g,a,"user-mismatch"),ts._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function WS(r,t,i=!1){if(Un(r.app))return Promise.reject($i(r));const a="signIn",o=await $v(r,a,t),c=await ts._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function tA(r,t){return wm(r,"POST","/v1/accounts:signInWithCustomToken",Ho(r,t))}async function eA(r,t){if(Un(r.app))return Promise.reject($i(r));const i=Go(r),a=await tA(i,{token:t,returnSecureToken:!0}),o=await ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function nA(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function iA(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function sA(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Xc="__sak";class Jv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rA=1e3,aA=10;class Zv extends Jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);OS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,aA):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},rA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zv.type="LOCAL";const lA=Zv;class Wv extends Jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Wv.type="SESSION";const t1=Wv;function oA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await oA(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Nm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class uA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Nm("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const C=x;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function cA(r){bi().location.href=r}function e1(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function hA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fA(){return navigator?.serviceWorker?.controller||null}function dA(){return e1()?self:null}const n1="firebaseLocalStorageDb",mA=1,$c="firebaseLocalStorage",i1="fbase_key";class Qo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function pA(){const r=indexedDB.deleteDatabase(n1);return new Qo(r).toPromise()}function tm(){const r=indexedDB.open(n1,mA);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:i1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await pA(),t(await tm()))})})}async function s0(r,t,i){const a=hh(r,!0).put({[i1]:t,value:i});return new Qo(a).toPromise()}async function gA(r,t){const i=hh(r,!1).get(t),a=await new Qo(i).toPromise();return a===void 0?null:a.value}function r0(r,t){const i=hh(r,!0).delete(t);return new Qo(i).toPromise()}const yA=800,_A=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_A)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(dA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hA(),!this.activeServiceWorker)return;this.sender=new uA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await s0(t,Xc,"1"),await r0(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>gA(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>r0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=hh(o,!1).getAll();return new Qo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const vA=s1;new qo(3e4,6e4);function EA(r,t){return t?Xi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Im extends Yv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function TA(r){return WS(r.auth,new Im(r),r.bypassAuthState)}function bA(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),ZS(i,new Im(r),r.bypassAuthState)}async function SA(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),JS(i,new Im(r),r.bypassAuthState)}class r1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TA;case"linkViaPopup":case"linkViaRedirect":return SA;case"reauthViaPopup":case"reauthViaRedirect":return bA;default:Zi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AA=new qo(2e3,1e4);class qa extends r1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AA.get())};t()}}qa.currentPopupAction=null;const wA="pendingRedirect",Vc=new Map;class xA extends r1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await RA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RA(r,t){const i=IA(t),a=NA(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function CA(r,t){Vc.set(r._key(),t)}function NA(r){return Xi(r._redirectPersistence)}function IA(r){return kc(wA,r.config.apiKey,r.name)}async function DA(r,t,i=!1){if(Un(r.app))return Promise.reject($i(r));const a=Go(r),o=EA(a,t),d=await new xA(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const MA=600*1e3;class OA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kA(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!a1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MA&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function a1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function kA(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(r);default:return!1}}async function VA(r,t={}){return sl(r,"GET","/v1/projects",t)}const UA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jA=/^https?/;async function LA(r){if(r.config.emulator)return;const{authorizedDomains:t}=await VA(r);for(const i of t)try{if(zA(i))return}catch{}Zi(r,"unauthorized-domain")}function zA(r){const t=Zd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!jA.test(i))return!1;if(UA.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const PA=new qo(3e4,6e4);function l0(){const r=bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function BA(r){return new Promise((t,i)=>{function a(){l0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{l0(),i(Ti(r,"network-request-failed"))},timeout:PA.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const o=qS("iframefcb");return bi()[o]=()=>{gapi.load?a():i(Ti(r,"network-request-failed"))},PS(`${BS()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function qA(r){return Uc=Uc||BA(r),Uc}const HA=new qo(5e3,15e3),GA="__/auth/iframe",FA="emulator/auth/iframe",QA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YA(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,FA):`https://${r.config.authDomain}/${GA}`,a={apiKey:t.apiKey,appName:r.name,v:il},o=KA.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function XA(r){const t=await qA(r),i=bi().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:YA(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QA,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),g=bi().setTimeout(()=>{c(d)},HA.get());function v(){bi().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const $A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JA=500,ZA=600,WA="_blank",tw="http://localhost";class o0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ew(r,t,i,a=JA,o=ZA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...$A,width:a.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=Pv(y)?WA:i),Lv(y)&&(t=t||tw,v.scrollbars="yes");const S=Object.entries(v).reduce((C,[G,Y])=>`${C}${G}=${Y},`,"");if(MS(y)&&g!=="_self")return nw(t||"",g),new o0(null);const x=window.open(t||"",g,S);Et(x,r,"popup-blocked");try{x.focus()}catch{}return new o0(x)}function nw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const iw="__/auth/handler",sw="emulator/auth/handler",rw=encodeURIComponent("fac");async function u0(r,t,i,a,o,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:il,eventId:o};if(t instanceof Xv){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",t2(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(t instanceof Fo){const S=t.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await r._getAppCheckToken(),y=v?`#${rw}=${encodeURIComponent(v)}`:"";return`${aw(r)}?${Bo(g).slice(1)}${y}`}function aw({config:r}){return r.emulator?Am(r,sw):`https://${r.authDomain}/${iw}`}const zd="webStorageSupport";class lw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=DA,this._overrideRedirectResult=CA}async _openPopup(t,i,a,o){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u0(t,i,a,Zd(),o);return ew(t,c,Nm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await u0(t,i,a,Zd(),o);return cA(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await XA(t),a=new OA(t);return i.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=LA(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Fv()||zv()||Rm()}}const ow=lw;var c0="@firebase/auth",h0="1.12.0";class uw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hw(r){Xa(new Br("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(r)},y=new LS(a,o,c,v);return GS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new Br("auth-internal",t=>{const i=Go(t.getProvider("auth").getImmediate());return(a=>new uw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(c0,h0,cw(r)),Ks(c0,h0,"esm2020")}const fw=300,dw=bv("authIdTokenMaxAge")||fw;let f0=null;const mw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dw)return;const o=i?.token;f0!==o&&(f0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pw(r=bm()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=HS(r,{popupRedirectResolver:ow,persistence:[vA,lA,t1]}),a=bv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=mw(c.toString());iA(i,d,()=>d(i.currentUser)),nA(i,g=>d(g))}}const o=Ev("auth");return o&&FS(i,`http://${o}`),i}function gw(){return document.getElementsByTagName("head")?.[0]??document}zS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ti("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",gw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hw("Browser");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,l1;(function(){var r;function t(D,R){function A(){}A.prototype=R.prototype,D.F=R.prototype,D.prototype=new A,D.prototype.constructor=D,D.D=function(k,M,U){for(var N=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)N[ee-2]=arguments[ee];return R.prototype[M].apply(k,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,A){A||(A=0);const k=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)k[M]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(M=0;M<16;++M)k[M]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=D.g[0],A=D.g[1],M=D.g[2];let U=D.g[3],N;N=R+(U^A&(M^U))+k[0]+3614090360&4294967295,R=A+(N<<7&4294967295|N>>>25),N=U+(M^R&(A^M))+k[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(A^U&(R^A))+k[2]+606105819&4294967295,M=U+(N<<17&4294967295|N>>>15),N=A+(R^M&(U^R))+k[3]+3250441966&4294967295,A=M+(N<<22&4294967295|N>>>10),N=R+(U^A&(M^U))+k[4]+4118548399&4294967295,R=A+(N<<7&4294967295|N>>>25),N=U+(M^R&(A^M))+k[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(A^U&(R^A))+k[6]+2821735955&4294967295,M=U+(N<<17&4294967295|N>>>15),N=A+(R^M&(U^R))+k[7]+4249261313&4294967295,A=M+(N<<22&4294967295|N>>>10),N=R+(U^A&(M^U))+k[8]+1770035416&4294967295,R=A+(N<<7&4294967295|N>>>25),N=U+(M^R&(A^M))+k[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(A^U&(R^A))+k[10]+4294925233&4294967295,M=U+(N<<17&4294967295|N>>>15),N=A+(R^M&(U^R))+k[11]+2304563134&4294967295,A=M+(N<<22&4294967295|N>>>10),N=R+(U^A&(M^U))+k[12]+1804603682&4294967295,R=A+(N<<7&4294967295|N>>>25),N=U+(M^R&(A^M))+k[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(A^U&(R^A))+k[14]+2792965006&4294967295,M=U+(N<<17&4294967295|N>>>15),N=A+(R^M&(U^R))+k[15]+1236535329&4294967295,A=M+(N<<22&4294967295|N>>>10),N=R+(M^U&(A^M))+k[1]+4129170786&4294967295,R=A+(N<<5&4294967295|N>>>27),N=U+(A^M&(R^A))+k[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^A&(U^R))+k[11]+643717713&4294967295,M=U+(N<<14&4294967295|N>>>18),N=A+(U^R&(M^U))+k[0]+3921069994&4294967295,A=M+(N<<20&4294967295|N>>>12),N=R+(M^U&(A^M))+k[5]+3593408605&4294967295,R=A+(N<<5&4294967295|N>>>27),N=U+(A^M&(R^A))+k[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^A&(U^R))+k[15]+3634488961&4294967295,M=U+(N<<14&4294967295|N>>>18),N=A+(U^R&(M^U))+k[4]+3889429448&4294967295,A=M+(N<<20&4294967295|N>>>12),N=R+(M^U&(A^M))+k[9]+568446438&4294967295,R=A+(N<<5&4294967295|N>>>27),N=U+(A^M&(R^A))+k[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^A&(U^R))+k[3]+4107603335&4294967295,M=U+(N<<14&4294967295|N>>>18),N=A+(U^R&(M^U))+k[8]+1163531501&4294967295,A=M+(N<<20&4294967295|N>>>12),N=R+(M^U&(A^M))+k[13]+2850285829&4294967295,R=A+(N<<5&4294967295|N>>>27),N=U+(A^M&(R^A))+k[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^A&(U^R))+k[7]+1735328473&4294967295,M=U+(N<<14&4294967295|N>>>18),N=A+(U^R&(M^U))+k[12]+2368359562&4294967295,A=M+(N<<20&4294967295|N>>>12),N=R+(A^M^U)+k[5]+4294588738&4294967295,R=A+(N<<4&4294967295|N>>>28),N=U+(R^A^M)+k[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^A)+k[11]+1839030562&4294967295,M=U+(N<<16&4294967295|N>>>16),N=A+(M^U^R)+k[14]+4259657740&4294967295,A=M+(N<<23&4294967295|N>>>9),N=R+(A^M^U)+k[1]+2763975236&4294967295,R=A+(N<<4&4294967295|N>>>28),N=U+(R^A^M)+k[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^A)+k[7]+4139469664&4294967295,M=U+(N<<16&4294967295|N>>>16),N=A+(M^U^R)+k[10]+3200236656&4294967295,A=M+(N<<23&4294967295|N>>>9),N=R+(A^M^U)+k[13]+681279174&4294967295,R=A+(N<<4&4294967295|N>>>28),N=U+(R^A^M)+k[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^A)+k[3]+3572445317&4294967295,M=U+(N<<16&4294967295|N>>>16),N=A+(M^U^R)+k[6]+76029189&4294967295,A=M+(N<<23&4294967295|N>>>9),N=R+(A^M^U)+k[9]+3654602809&4294967295,R=A+(N<<4&4294967295|N>>>28),N=U+(R^A^M)+k[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^A)+k[15]+530742520&4294967295,M=U+(N<<16&4294967295|N>>>16),N=A+(M^U^R)+k[2]+3299628645&4294967295,A=M+(N<<23&4294967295|N>>>9),N=R+(M^(A|~U))+k[0]+4096336452&4294967295,R=A+(N<<6&4294967295|N>>>26),N=U+(A^(R|~M))+k[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~A))+k[14]+2878612391&4294967295,M=U+(N<<15&4294967295|N>>>17),N=A+(U^(M|~R))+k[5]+4237533241&4294967295,A=M+(N<<21&4294967295|N>>>11),N=R+(M^(A|~U))+k[12]+1700485571&4294967295,R=A+(N<<6&4294967295|N>>>26),N=U+(A^(R|~M))+k[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~A))+k[10]+4293915773&4294967295,M=U+(N<<15&4294967295|N>>>17),N=A+(U^(M|~R))+k[1]+2240044497&4294967295,A=M+(N<<21&4294967295|N>>>11),N=R+(M^(A|~U))+k[8]+1873313359&4294967295,R=A+(N<<6&4294967295|N>>>26),N=U+(A^(R|~M))+k[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~A))+k[6]+2734768916&4294967295,M=U+(N<<15&4294967295|N>>>17),N=A+(U^(M|~R))+k[13]+1309151649&4294967295,A=M+(N<<21&4294967295|N>>>11),N=R+(M^(A|~U))+k[4]+4149444226&4294967295,R=A+(N<<6&4294967295|N>>>26),N=U+(A^(R|~M))+k[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~A))+k[2]+718787259&4294967295,M=U+(N<<15&4294967295|N>>>17),N=A+(U^(M|~R))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+U&4294967295}a.prototype.v=function(D,R){R===void 0&&(R=D.length);const A=R-this.blockSize,k=this.C;let M=this.h,U=0;for(;U<R;){if(M==0)for(;U<=A;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(k[M++]=D.charCodeAt(U++),M==this.blockSize){o(this,k),M=0;break}}else for(;U<R;)if(k[M++]=D[U++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=R},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var A=D.length-8;A<D.length;++A)D[A]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)D[R++]=this.g[A]>>>k&255;return D};function c(D,R){var A=g;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=R(D)}function d(D,R){this.h=R;const A=[];let k=!0;for(let M=D.length-1;M>=0;M--){const U=D[M]|0;k&&U==R||(A[M]=U,k=!1)}this.g=A}var g={};function v(D){return-128<=D&&D<128?c(D,function(R){return new d([R|0],R<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return x;if(D<0)return W(y(-D));const R=[];let A=1;for(let k=0;D>=A;k++)R[k]=D/A|0,A*=4294967296;return new d(R,0)}function S(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return W(S(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(R,8));let k=x;for(let U=0;U<D.length;U+=8){var M=Math.min(8,D.length-U);const N=parseInt(D.substring(U,U+M),R);M<8?(M=y(Math.pow(R,M)),k=k.j(M).add(y(N))):(k=k.j(A),k=k.add(y(N)))}return k}var x=v(0),C=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(rt(this))return-W(this).m();let D=0,R=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);D+=(k>=0?k:4294967296+k)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Y(this))return"0";if(rt(this))return"-"+W(this).toString(D);const R=y(Math.pow(D,6));var A=this;let k="";for(;;){const M=At(A,R).g;A=nt(A,M.j(R));let U=((A.g.length>0?A.g[0]:A.h)>>>0).toString(D);if(A=M,Y(A))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Y(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function rt(D){return D.h==-1}r.l=function(D){return D=nt(this,D),rt(D)?-1:Y(D)?0:1};function W(D){const R=D.g.length,A=[];for(let k=0;k<R;k++)A[k]=~D.g[k];return new d(A,~D.h).add(C)}r.abs=function(){return rt(this)?W(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),A=[];let k=0;for(let M=0;M<=R;M++){let U=k+(this.i(M)&65535)+(D.i(M)&65535),N=(U>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);k=N>>>16,U&=65535,N&=65535,A[M]=N<<16|U}return new d(A,A[A.length-1]&-2147483648?-1:0)};function nt(D,R){return D.add(W(R))}r.j=function(D){if(Y(this)||Y(D))return x;if(rt(this))return rt(D)?W(this).j(W(D)):W(W(this).j(D));if(rt(D))return W(this.j(W(D)));if(this.l(G)<0&&D.l(G)<0)return y(this.m()*D.m());const R=this.g.length+D.g.length,A=[];for(var k=0;k<2*R;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<D.g.length;M++){const U=this.i(k)>>>16,N=this.i(k)&65535,ee=D.i(M)>>>16,fe=D.i(M)&65535;A[2*k+2*M]+=N*fe,tt(A,2*k+2*M),A[2*k+2*M+1]+=U*fe,tt(A,2*k+2*M+1),A[2*k+2*M+1]+=N*ee,tt(A,2*k+2*M+1),A[2*k+2*M+2]+=U*ee,tt(A,2*k+2*M+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function tt(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function lt(D,R){this.g=D,this.h=R}function At(D,R){if(Y(R))throw Error("division by zero");if(Y(D))return new lt(x,x);if(rt(D))return R=At(W(D),R),new lt(W(R.g),W(R.h));if(rt(R))return R=At(D,W(R)),new lt(W(R.g),R.h);if(D.g.length>30){if(rt(D)||rt(R))throw Error("slowDivide_ only works with positive integers.");for(var A=C,k=R;k.l(D)<=0;)A=Ft(A),k=Ft(k);var M=Nt(A,1),U=Nt(k,1);for(k=Nt(k,2),A=Nt(A,2);!Y(k);){var N=U.add(k);N.l(D)<=0&&(M=M.add(A),U=N),k=Nt(k,1),A=Nt(A,1)}return R=nt(D,M.j(R)),new lt(M,R)}for(M=x;D.l(R)>=0;){for(A=Math.max(1,Math.floor(D.m()/R.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(A),N=U.j(R);rt(N)||N.l(D)>0;)A-=k,U=y(A),N=U.j(R);Y(U)&&(U=C),M=M.add(U),D=nt(D,N)}return new lt(M,D)}r.B=function(D){return At(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),A=[];for(let k=0;k<R;k++)A[k]=this.i(k)&D.i(k);return new d(A,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),A=[];for(let k=0;k<R;k++)A[k]=this.i(k)|D.i(k);return new d(A,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),A=[];for(let k=0;k<R;k++)A[k]=this.i(k)^D.i(k);return new d(A,this.h^D.h)};function Ft(D){const R=D.g.length+1,A=[];for(let k=0;k<R;k++)A[k]=D.i(k)<<1|D.i(k-1)>>>31;return new d(A,D.h)}function Nt(D,R){const A=R>>5;R%=32;const k=D.g.length-A,M=[];for(let U=0;U<k;U++)M[U]=R>0?D.i(U+A)>>>R|D.i(U+A+1)<<32-R:D.i(U+A);return new d(M,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,l1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Ys=d}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var o1,_o,u1,jc,em,c1,h1,f1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in _))break t;_=_[j]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,j,q){for(var st=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)st[wt-2]=arguments[wt];return m.prototype[j].apply(b,st)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function Y(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=u.length||0;const q=j.length||0;u.length=_+q;for(let st=0;st<q;st++)u[_+st]=j[st]}else u.push(j)}}class rt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function nt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,_){const b=lt.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var lt=new rt(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,Nt=!1,D=new tt,R=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(A)}};function A(){for(var u;u=nt();){try{u.h.call(u.g)}catch(_){W(_)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(ee,M),ee.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(u,m,_,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=j,this.key=++Q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)u[_]=b[_];for(let q=0;q<B.length;q++)_=B[q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,_,b,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const st=ht(u,m,b,j);return st>-1?(m=u[st],_||(m.fa=!1)):(m=new at(m,this.src,q,!!b,j),m.fa=_,u.push(m)),m};function et(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],j=Array.prototype.indexOf.call(b,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(b,j,1),q&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ht(u,m,_,b){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==b)return j}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),Ie={};function ae(u,m,_,b,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],_,b,j);return null}return _=hl(_),u&&u[fe]?u.J(m,_,g(b)?!!b.capture:!1,j):rr(u,m,_,!1,b,j)}function rr(u,m,_,b,j,q){if(!m)throw Error("Invalid event type");const st=g(j)?!!j.capture:!!j;let wt=ar(u);if(wt||(u[Ct]=wt=new it(u)),_=wt.add(m,_,b,st,q),_.proxy)return _;if(b=Kr(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)U||(j=st),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kr(){function u(_){return m.call(u.src,u.listener,_)}const m=ul;return u}function Yr(u,m,_,b,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Yr(u,m[q],_,b,j);else b=g(b)?!!b.capture:!!b,_=hl(_),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=ht(m,_,b,j),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,_,b,j)),(_=u>-1?m[u]:null)&&Xr(_))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])et(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(Zn(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=ar(m))?(et(_,u),_.h==0&&(_.src=null,m[Ct]=null)):ct(u)}}}function Zn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ul(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&Xr(u),u=_.call(b,m)}return u}function ar(u){return u=u[Ct],u instanceof it?u:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(u){return typeof u=="function"?u:(u[cl]||(u[cl]=function(m){return u.handleEvent(m)}),u[cl])}function _e(){k.call(this),this.i=new it(this),this.M=this,this.G=null}x(_e,k),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,_,b){Yr(this,u,m,_,b)};function De(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var j=m;m=new M(b,u),$(m,j)}j=!0;let q,st;if(_)for(st=_.length-1;st>=0;st--)q=m.g=_[st],j=ss(q,b,!0,m)&&j;if(q=m.g=u,j=ss(q,b,!0,m)&&j,j=ss(q,b,!1,m)&&j,_)for(st=0;st<_.length;st++)q=m.g=_[st],j=ss(q,b,!1,m)&&j}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)ct(_[b]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},_e.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function ss(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const st=m[q];if(st&&!st.da&&st.capture==_){const wt=st.listener,me=st.ha||st.src;st.fa&&et(u.i,st),j=wt.call(me,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends k{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){k.call(this),this.h=u,this.g={}}x(lr,k);var fl=[];function dl(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Xr(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),dl(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Nh=d.JSON.parse,Wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){M.call(this,"d")}x(ze,M);function Sn(){M.call(this,"c")}x(Sn,M);var de={},nu=null;function $r(){return nu=nu||new _e}de.Ia="serverreachability";function iu(u){M.call(this,de.Ia,u)}x(iu,M);function Wn(u){const m=$r();De(m,new iu(m))}de.STAT_EVENT="statevent";function or(u,m){M.call(this,de.STAT_EVENT,u),this.stat=m}x(or,M);function ve(u){const m=$r();De(m,new or(m,u))}de.Ja="timingevent";function ti(u,m){M.call(this,de.Ja,u),this.size=m}x(ti,M);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Ih(u,m,_,b,j,q){u.info(function(){if(u.g)if(q){var st="",wt=q.split("&");for(let Ht=0;Ht<wt.length;Ht++){var me=wt[Ht].split("=");if(me.length>1){const le=me[0];me=me[1];const Rn=le.split("_");st=Rn.length>=2&&Rn[1]=="type"?st+(le+"="+me+"&"):st+(le+"=redacted&")}}}else st=null;else st=q;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+_+`
`+st})}function su(u,m,_,b,j,q,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+_+`
`+q+" "+st})}function ni(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(b?" "+b:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let st=1;st<b.length;st++)b[st]=""}}}}return rs(q)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function hr(){}x(hr,tu),hr.prototype.g=function(){return new XMLHttpRequest},pl=new hr;function Ni(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ii(u,m,_){u.M=1,u.A=fr(be(m)),u.u=_,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),si(u),u.B=be(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ea(_.i,"t",b),u.C=0,_=u.j.L,u.h=new Bn,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(fl[0]=j.toString()),j=fl);for(let q=0;q<j.length;q++){const st=ae(_,j[q],b||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Gn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||wt!=4||me==7||(me==8||Ht<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=Mh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var q=b;break e}}q=null}if(u=q)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),An(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<_.length;)if(le=lu(this,_),le==Ve){wt==4&&(this.m=4,ve(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,le,null),ai(this,le);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Il(st),st.P=!0,ve(11))}}else ni(this.i,this.l,_,null),ai(this,_);wt==4&&dn(this),this.o&&!this.K&&(wt==4?gu(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),An(this)}}}catch{}};function Mh(u){if(!au(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let _="";const b=m.length,j=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(j&&q==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Ve:(_=Number(m.substring(_,b)),isNaN(_)?Ee:(b+=1,b+_>m.length?Ve:(m=m.slice(b,b+_),u.C=b+_,m)))}Pn.prototype.cancel=function(){this.K=!0,dn(this)};function si(u){u.T=Date.now()+u.H,Zr(u,u.H)}function Zr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(Wn(),ve(17)),dn(this),this.m=2,An(this)):Zr(this,this.T-u)};function An(u){u.j.I==0||u.K||gu(u.j,u)}function dn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,dl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)aa(_),ds(_);else break t;vr(_),ve(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(y(_.Va,_),6e3));li(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&aa(_),!N(m))for(j=_.Ba.g.parse(m),m=0;m<j.length;m++){let Ht=j[m];const le=Ht[0];if(!(le<=_.K))if(_.K=le,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const Rn=Ht[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const pi=Ht[4];pi!=null&&(_.za=pi,_.j.info("SVER="+_.za));const Fn=Ht[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(b=1.5*Fn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Qn=u.g;if(Qn){const Er=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var q=b.h;q.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_l(q,q.h),q.h=null))}if(b.G){const la=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(b.wa=la,Kt(b.J,b.G,la))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var st=u;if(b.na=vu(b,b.L?b.ba:null,b.W),st.L){vl(b.h,st);var wt=st,me=b.O;me&&(wt.H=me),wt.D&&(ri(wt),si(wt)),b.g=st}else mu(b);_.i.length>0&&di(_)}else Ht[0]!="stop"&&Ht[0]!="close"||mi(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?mi(_,7):Cl(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}Wn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function gl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _l(u,m){u.g?u.g.add(m):u.h=m}function vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function El(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let j,q=null;b>=0?(j=u[_].substring(0,b),q=u[_].substring(b+1)):j=u[_],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,Tl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),Tl(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ta,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ta,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(dr(_,_.charAt(0)=="/"?bl:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",dr(_,cu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let st=0;st<j.length;){const wt=j[st++];wt=="."?b&&st==j.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&st==j.length&&q.push("")):(q.push(wt),b=!0)}b=q.join("/")}else b=j}return _?m.h=b:_=u.i.toString()!=="",_?Tl(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function Ue(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Tl(u,m,_){m instanceof os?(u.i=m,na(u.i,u.l)):(_||(m=dr(m,ls)),u.i=new os(m,u.l))}function Kt(u,m,_){u.i.set(m,_)}function fr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,uu=/[#\?:]/g,bl=/[#\?]/g,ls=/[#\?@]/g,cu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=os.prototype,r.add=function(u,m){rn(this),this.i=null,u=us(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){rn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return rn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,b){_.forEach(function(j){u.call(m,j,b,this)},this)},this)};function Al(u,m){rn(u);let _=[];if(typeof m=="string")Sl(u,m)&&(_=_.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=us(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Al(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(us(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const j=Ni(_);_=Al(this,_);for(let q=0;q<_.length;q++){let st=j;_[q]!==""&&(st+="="+Ni(_[q])),u.push(st)}}return this.i=u.join("&")};function fu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,b){const j=b.toLowerCase();b!=j&&(hu(this,b),ea(this,j,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const b=new Image;b.onload=S(wn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=S(wn,_,"TestLoadImage: error",!1,m,b),b.onabort=S(wn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(wn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function wl(u,m){const _=new zn,b=new AbortController,j=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(j),q.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function cs(){this.g=new Wo}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}x(ci,tu),ci.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(mr,_e),r=mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Hn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Mt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function pr(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=xn(_),typeof u=="string"?_!=null&&Ni(_):Kt(u,m,_))}function $t(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x($t,_e);var hi=/^https?$/i,xl=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){gr(this,q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xl,m,void 0)>=0)||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,st]of _)this.g.setRequestHeader(q,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){gr(this,q)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),Ii(u)}function Rl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},r.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=q===0){let st=String(u.D).match(ou)[1]||null;!st&&d.self&&d.self.location&&(st=d.self.location.protocol.slice(0,-1)),b=!hi.test(st?st.toLowerCase():"")}_=b}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var j=Gn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Rl(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(N(u[b]))continue;var _=ru(u[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[j]||[];m[j]=q,q.push(_)}qt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,b){ve(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),di(this)};function Cl(u){if(sa(u),u.I==3){var m=u.V++,_=be(u.J);if(Kt(_,"SID",u.M),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),_r(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=fr(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}_u(u)}function ds(u){u.g&&(Il(u),u.g.cancel(),u.g=null)}function sa(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||R(),Nt||(Ft(),Nt=!0),D.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Pn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=w(q),$(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,j,m),_=be(this.J),Kt(_,"RID",u),Kt(_,"CVER",22),this.G&&Kt(_,"X-HTTP-Session-Id",this.G),_r(this,_),q&&(this.R?m="headers="+Ni(xn(q))+"&"+m:this.u&&pr(_,this.u,q)),_l(this.h,j),this.Ra&&Kt(_,"TYPE","init"),this.S?(Kt(_,"$req",m),Kt(_,"SID","null"),j.U=!0,ii(j,_,null)):ii(j,_,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||yl(this.h)||Nl(this))};function Nl(u,m){var _;m?_=m.l:_=u.V++;const b=be(u.J);Kt(b,"SID",u.M),Kt(b,"RID",_),Kt(b,"AID",u.K),_r(u,b),u.u&&u.o&&pr(b,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_l(u.h,_),ii(_,b,m)}function _r(u,m){u.H&&Mt(u.H,function(_,b){Kt(m,b,_)}),u.l&&Mt({},function(_,b){Kt(m,b,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var j=u.i;let wt=-1;for(;;){const me=["count="+_];wt==-1?_>0?(wt=j[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let Ht=!0;for(let le=0;le<_;le++){var q=j[le].g;const Rn=j[le].map;if(q-=wt,q<0)wt=Math.max(0,j[le].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var st=Rn instanceof Map?Rn:Object.entries(Rn);for(const[pi,Fn]of st){let Qn=Fn;g(Fn)&&(Qn=rs(Fn)),me.push(q+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw me.push(q+"type="+encodeURIComponent("_badmap")),pi}}catch{b&&b(Rn)}}if(Ht){st=me.join("&");break t}}st=void 0}return u=u.i.splice(0,_),m.G=u,st}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||R(),Nt||(Ft(),Nt=!0),D.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ds(this),pu(this))};function Il(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=fr(be(m)),_.u=null,_.R=!0,Jr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),vr(this),ve(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){aa(u),Il(u),u.g=null;var b=2}else if(oi(u.h,m))_=m.G,vl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=$r(),De(b,new ti(b,_)),di(u)}else mu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&ra(u,m)||b==2&&vr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),j){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const j=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(b,"https"),fr(b),j?qn(b.toString(),_):wl(b.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),_u(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=El(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ja,m),Y(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var b=_ instanceof mn?be(_):new mn(_);if(b.g!="")m&&(b.g=m+"."+b.g),as(b,b.u);else{var j=d.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new mn(null);b&&Ue(q,b),m&&(q.g=m),j&&as(q,j),_&&(q.h=_),b=q}return _=u.G,m=u.wa,_&&m&&Kt(b,_,m),Kt(b,"VER",u.ka),_r(u,b),b}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new ci({ab:_})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}x(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Cl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&di(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,en.Z.N.call(this)};function bu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(bu,ze);function Su(){Sn.call(this),this.status=1}x(Su,Sn);function Mi(u){this.g=u}x(Mi,Tu),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new bu(u))},Mi.prototype.pa=function(u){De(this.g,new Su)},Mi.prototype.oa=function(){De(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,f1=function(){return new ms},h1=function(){return $r()},c1=de,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,jc=cr,ml.COMPLETE="complete",u1=ml,eu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,_o=eu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,o1=$t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let rl="12.8.0";function yw(r){rl=r}const Hr=new vm("@firebase/firestore");function La(){return Hr.logLevel}function ot(r,...t){if(Hr.logLevel<=Vt.DEBUG){const i=t.map(Dm);Hr.debug(`Firestore (${rl}): ${r}`,...i)}}function es(r,...t){if(Hr.logLevel<=Vt.ERROR){const i=t.map(Dm);Hr.error(`Firestore (${rl}): ${r}`,...i)}}function $a(r,...t){if(Hr.logLevel<=Vt.WARN){const i=t.map(Dm);Hr.warn(`Firestore (${rl}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,d1(r,a,i)}function d1(r,t,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function Qt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||d1(t,o,a)}function St(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class m1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class vw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ew{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new m1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Tw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Tw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new m0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Aw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Aw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Pd(o)===Pd(c)?Ut(o,c):Pd(o)?1:-1}return Ut(r.length,t.length)}const ww=55296,xw=57343;function Pd(r){const t=r.charCodeAt(0);return t>=ww&&t<=xw}function Ja(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const p0="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ei.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),o=Ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class se extends Ei{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const Rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return Rw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new Qe([p0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new dt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new dt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new dt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new dt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(se.fromString(t))}static fromName(t){return new yt(se.fromString(t).popFirst(5))}static empty(){return new yt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new se(t.slice()))}}function p1(r,t,i){if(!i)throw new dt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Cw(r,t,i,a){if(t===!0&&a===!0)throw new dt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function g0(r){if(!yt.isDocumentKey(r))throw new dt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function y0(r){if(yt.isDocumentKey(r))throw new dt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function g1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Xs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new dt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ko(r,t){if(!g1(r))throw new dt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new dt(Z.INVALID_ARGUMENT,i);return!0}const _0=-62135596800,v0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*v0);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_0)throw new dt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ko(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new re(0,0))}static max(){return new Tt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;function Nw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Js(o,yt.empty(),t)}function Iw(r){return new Js(r.readTime,r.key,Mo)}class Js{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(Tt.min(),yt.empty(),Mo)}static max(){return new Js(Tt.max(),yt.empty(),Mo)}}function Dw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const Mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ow{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function al(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Mw)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function kw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const km=-1;function dh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function Vw(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const y1="";function Uw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=E0(t)),t=jw(r.get(i),t);return E0(t)}function jw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case y1:i+="";break;default:i+=c}}return i}function E0(r){return r+y1+""}function T0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ir(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function _1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Fe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(t){return new b0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class b0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new ke(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=Lw.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const E1="server_timestamp",T1="__type__",b1="__previous_value__",S1="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[T1]?.stringValue===E1}function mh(r){const t=r.mapValue.fields[b1];return Vm(t)?mh(t):t}function Oo(r){const t=Zs(r.mapValue.fields[S1].timestampValue);return new re(t.seconds,t.nanos)}class zw{constructor(t,i,a,o,c,d,g,v,y,S,x){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=x}}const Zc="(default)";class ko{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof ko&&t.projectId===this.projectId&&t.database===this.database}}function Pw(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new dt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(r.options.projectId,t)}const A1="__type__",Bw="__max__",Ic={mapValue:{}},w1="__vector__",Wc="value";function tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:Hw(r)?9007199254740991:qw(r)?10:11:vt(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const i=tr(r);if(i!==tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Oo(r).isEqual(Oo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),g=Zs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Ws(o.bytesValue).isEqual(Ws(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(T0(d)!==T0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ri(d[v],g[v])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Vo(r,t){return(r.values||[]).find((i=>Ri(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=tr(r),a=tr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return S0(r.timestampValue,t.timestampValue);case 4:return S0(Oo(r),Oo(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Ws(c),v=Ws(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=Ut(g[y],v[y]);if(S!==0)return S}return Ut(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(ye(c.latitude),ye(d.latitude));return g!==0?g:Ut(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return A0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Wc]?.arrayValue,S=v[Wc]?.arrayValue,x=Ut(y?.values?.length||0,S?.values?.length||0);return x!==0?x:A0(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let x=0;x<v.length&&x<S.length;++x){const C=nm(v[x],S[x]);if(C!==0)return C;const G=Za(g[v[x]],y[S[x]]);if(G!==0)return G}return Ut(v.length,S.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function S0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=Zs(r),a=Zs(t),o=Ut(i.seconds,a.seconds);return o!==0?o:Ut(i.nanos,a.nanos)}function A0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Za(i[o],a[o]);if(c)return c}return Ut(i.length,a.length)}function Wa(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ws(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${im(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function Lc(r){switch(tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ir(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function w0(r){return!!r&&"nullValue"in r}function x0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function qw(r){return(r?.mapValue?.fields||{})[A1]?.stringValue===w1}function Ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ir(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ao(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ao(r.arrayValue.values[i]);return t}return{...r}}function Hw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bw}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Ao(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ir(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(Ao(this.value))}}function x1(r){const t=[];return ir(r.fields,((i,a)=>{const o=new Qe([i]);if(zc(a)){const c=x1(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new bn(t)}class Je{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,Tt.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Tt.min(),Tt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Tt.min(),Tt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function R0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function C0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function Gw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class R1{}class Oe extends R1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Qw(t,i,a):i==="array-contains"?new Xw(t,a):i==="in"?new $w(t,a):i==="not-in"?new Jw(t,a):i==="array-contains-any"?new Zw(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Kw(t,a):new Yw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends R1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return C1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C1(r){return r.op==="and"}function N1(r){return Fw(r)&&C1(r)}function Fw(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function rm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(N1(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function I1(r,t){return r instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(r,t):r instanceof Ci?(function(a,o){return o instanceof Ci&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&I1(d,o.filters[g])),!0):!1})(r,t):void vt(19439)}function D1(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(D1).join(" ,")+"}"})(r):"Filter"}class Qw extends Oe{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Kw extends Oe{constructor(t,i){super(t,"in",i),this.keys=M1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Yw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=M1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function M1(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class Xw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Vo(i.arrayValue,this.value)}}class $w extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class Jw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class Zw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class Ww{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function N0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new Ww(r,t,i,a,o,c,d)}function jm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Gw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!I1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!C0(r.startAt,t.startAt)&&C0(r.endAt,t.endAt)}function am(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ph{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tx(r,t,i,a,o,c,d,g){return new ph(r,t,i,a,o,c,d,g)}function zm(r){return new ph(r)}function I0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ex(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function nx(r){return r.collectionGroup!==null}function wo(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new eh(Qe.keyField(),a))}return t.Ie}function Si(r){const t=St(r);return t.Ee||(t.Ee=ix(t,wo(r))),t.Ee}function ix(r,t){if(r.limitType==="F")return N0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return N0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t,i){return new ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Lm(Si(r),Si(t))&&r.limitType===t.limitType}function O1(r){return`${jm(Si(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>D1(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of wo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=R0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,wo(a),o)||a.endAt&&!(function(d,g,v){const y=R0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,wo(a),o))})(r,t)}function sx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k1(r){return(t,i)=>{let a=!1;for(const o of wo(r)){const c=rx(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function rx(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Za(v,y):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}const ax=new ue(yt.comparator);function ns(){return ax}const V1=new ue(yt.comparator);function vo(...r){let t=V1;for(const i of r)t=t.insert(i.key,i);return t}function U1(r){let t=V1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return xo()}function j1(){return xo()}function xo(){return new Fr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lx=new ue(yt.comparator),ox=new ke(yt.comparator);function jt(...r){let t=ox;for(const i of r)t=t.add(i);return t}const ux=new ke(Ut);function cx(){return ux}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function L1(r){return{integerValue:""+r}}function hx(r,t){return Vw(t)?L1(t):Pm(r,t)}class _h{constructor(){this._=void 0}}function fx(r,t,i){return r instanceof nh?(function(o,c){const d={fields:{[T1]:{stringValue:E1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vm(c)&&(c=mh(c)),c&&(d.fields[b1]=c),{mapValue:d}})(i,t):r instanceof Uo?P1(r,t):r instanceof jo?B1(r,t):(function(o,c){const d=z1(o,c),g=D0(d)+D0(o.Ae);return sm(d)&&sm(o.Ae)?L1(g):Pm(o.serializer,g)})(r,t)}function dx(r,t,i){return r instanceof Uo?P1(r,t):r instanceof jo?B1(r,t):i}function z1(r,t){return r instanceof ih?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends _h{}class Uo extends _h{constructor(t){super(),this.elements=t}}function P1(r,t){const i=q1(t);for(const a of r.elements)i.some((o=>Ri(o,a)))||i.push(a);return{arrayValue:{values:i}}}class jo extends _h{constructor(t){super(),this.elements=t}}function B1(r,t){let i=q1(t);for(const a of r.elements)i=i.filter((o=>!Ri(o,a)));return{arrayValue:{values:i}}}class ih extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function D0(r){return ye(r.integerValue||r.doubleValue)}function q1(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function mx(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof jo&&o instanceof jo?Ja(a.elements,o.elements,Ri):a instanceof ih&&o instanceof ih?Ri(a.Ae,o.Ae):a instanceof nh&&o instanceof nh})(r.transform,t.transform)}class px{constructor(t,i){this.version=t,this.transformResults=i}}class Ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function H1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new F1(r.key,Ai.none()):new Yo(r.key,r.data,Ai.none());{const i=r.data,a=fn.empty();let o=new ke(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new sr(r.key,a,new bn(o.toArray()),Ai.none())}}function gx(r,t,i){r instanceof Yo?(function(o,c,d){const g=o.value.clone(),v=O0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof sr?(function(o,c,d){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=O0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(G1(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ro(r,t,i,a){return r instanceof Yo?(function(c,d,g,v){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),S=k0(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof sr?(function(c,d,g,v){if(!Pc(c.precondition,d))return g;const y=k0(c.fieldTransforms,v,d),S=d.data;return S.setAll(G1(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(r,t,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function yx(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=z1(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function M0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>mx(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yo extends vh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sr extends vh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function G1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function O0(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,dx(d,g,i[o]))}return a}function k0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,fx(c,d,t))}return a}class F1 extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _x extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vx{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&gx(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=j1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=H1(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>M0(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>M0(i,a)))}}class Bm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return lx})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Bm(t,i,a,o)}}class Ex{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tx{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,zt;function bx(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function Q1(r){if(r===void 0)return es("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function Sx(){return new TextEncoder}const Ax=new Ys([4294967295,4294967295],0);function V0(r){const t=Sx().encode(r),i=new l1;return i.update(t),new Uint8Array(i.digest())}function U0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([o,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ys.fromNumber(a)));return o.compare(Ax)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=V0(t),[a,o]=U0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=V0(t),[a,o]=U0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(Tt.min(),o,new ue(Ut),ns(),jt())}}class Xo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xo(a,i,jt(),jt(),jt())}}class Bc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class K1{constructor(t,i){this.targetId=t,this.Ce=i}}class Y1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class j0{constructor(){this.ve=0,this.Fe=L0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:c})}})),new Xo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=L0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wx{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(am(c))if(a===0){const d=new yt(c.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ws(a).toUint8Array()}catch(v){if(v instanceof v1)return $a("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new qm(d,o,c)}catch(v){return $a(v instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const v=new yt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=jt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Eh(t,i,this.Ze,this.je,a);return this.je=ns(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(Ut),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new j0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ke(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ke(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new j0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ue(yt.comparator)}function L0(){return new ue(yt.comparator)}const xx={asc:"ASCENDING",desc:"DESCENDING"},Rx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cx={and:"AND",or:"OR"};class Nx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ix(r,t){return sh(r,t.toTimestamp())}function wi(r){return Qt(!!r,49232),Tt.fromTimestamp((function(i){const a=Zs(i);return new re(a.seconds,a.nanos)})(r))}function Hm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function $1(r){const t=se.fromString(r);return Qt(eE(t),10190,{key:t.toString()}),t}function cm(r,t){return Hm(r.databaseId,t.path)}function Bd(r,t){const i=$1(t);if(i.get(1)!==r.databaseId.projectId)throw new dt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(Z1(i))}function J1(r,t){return Hm(r.databaseId,t)}function Dx(r){const t=$1(r);return t.length===4?se.emptyPath():Z1(t)}function hm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z1(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function z0(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function Mx(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Qt(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?Z.UNKNOWN:Q1(y.code);return new dt(S,y.message||"")})(d);i=new Y1(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):Tt.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Bc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?wi(a.readTime):Tt.min(),d=Je.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,o,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Tx(o,c),g=a.targetId;i=new K1(g,d)}}return i}function Ox(r,t){let i;if(t instanceof Yo)i={update:z0(r,t.key,t.value)};else if(t instanceof F1)i={delete:cm(r,t.key)};else if(t instanceof sr)i={update:z0(r,t.key,t.data),updateMask:qx(t.fieldMask)};else{if(!(t instanceof _x))return vt(16599,{dt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof jo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Ix(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function kx(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?wi(o.updateTime):wi(c);return d.isEqual(Tt.min())&&(d=wi(c)),new px(d,o.transformResults||[])})(i,t)))):[]}function Vx(r,t){return{documents:[J1(r,t.path)]}}function Ux(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=J1(r,o);const c=(function(y){if(y.length!==0)return tE(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(C){return{field:Pa(C.field),direction:zx(C.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=om(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function jx(r){let t=Dx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Qt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(x){const C=W1(x);return C instanceof Ci&&N1(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((C=>(function(Y){return new eh(Ba(Y.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(C)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let C;return C=typeof x=="object"?x.value:x,dh(C)?null:C})(i.limit));let v=null;i.startAt&&(v=(function(x){const C=!!x.before,G=x.values||[];return new th(G,C)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const C=!x.before,G=x.values||[];return new th(G,C)})(i.endAt)),tx(t,o,d,c,g,"F",v,y)}function Lx(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function W1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Ba(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>W1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function zx(r){return xx[r]}function Px(r){return Rx[r]}function Bx(r){return Cx[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Qe.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(x0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(w0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(x0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(w0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:Px(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((o=>tE(o)));return a.length===1?a[0]:{compositeFilter:{op:Bx(i.op),filters:a}}})(r):vt(54877,{filter:r})}function qx(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function nE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Gs{constructor(t,i,a,o,c=Tt.min(),d=Tt.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Hx{constructor(t){this.yt=t}}function Gx(r){const t=jx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class Fx{constructor(){this.Sn=new Qx}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Js.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Qx{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new ke(se.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new ke(se.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(iE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class tl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const B0="LruGarbageCollector",Kx=1048576;function q0([r,t],[i,a]){const o=Ut(r,i);return o===0?Ut(t,a):o}class Yx{constructor(t){this.Pr=t,this.buffer=new ke(q0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();q0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(B0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?ot(B0,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Ar(3e5)}))}}class $x{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(fh.ce);const a=new Yx(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(P0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(t,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(t,a,i)))).next((x=>(c=x,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((x=>(y=Date.now(),La()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${x} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function Jx(r,t){return new $x(r,t)}class Zx{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Wx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ro(a.mutation,o,bn.empty(),re.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const o=jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=vo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=ns();const d=xo(),g=(function(){return xo()})();return i.forEach(((v,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof sr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Ro(S.mutation,y,S.mutation.getFieldMask(),re.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new Wx(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=xo();let o=new ue(((d,g)=>d-g)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||bn.empty();S=g.applyToLocalView(y,S),a.set(v,S);const x=(o.get(g.batchId)||jt()).add(v);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,x=j1();S.forEach((C=>{if(!c.has(C)){const G=H1(i.get(C),a.get(C));G!==null&&x.set(C,G),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,x))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return ex(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(jr());let g=Mo,v=c;return d.next((y=>J.forEach(y,((S,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(t,S).next((C=>{v=v.insert(S,C)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,jt()))).next((S=>({batchId:g,changes:U1(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let o=vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(x,C){return new ph(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((S=>{S.forEach(((x,C)=>{d=d.insert(x,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let g=vo();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&Ro(S.mutation,y,bn.empty(),re.now()),yh(i,y)&&(g=g.insert(v,y))})),g}))}}class eR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Gx(o.bundledQuery),readTime:wi(o.readTime)}})(i)),J.resolve()}}class nR{constructor(){this.overlays=new ue(yt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=jr(),c=i.length+1,d=new yt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ue(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=jr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return J.resolve(g)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ex(i,a));let c=this.Lr.get(i);c===void 0&&(c=jt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Gm{constructor(){this.kr=new ke(Le.Kr),this.qr=new ke(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new yt(new se([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new yt(new se([])),a=new Le(i,t),o=new Le(i,t+1);let c=jt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return yt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||yt.comparator(t.key,i.key)}}class sR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ke(Le.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ke(Ut);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new yt(c),0);let g=new ke(Ut);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rR{constructor(t){this.ti=t,this.docs=(function(){return new ue(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ns();const d=i.path,g=new yt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Dw(Iw(S),a)<=0||(o.has(S.key)||yh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){vt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aR(this)}getSize(t){return J.resolve(this.size)}}class aR extends Zx{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class lR{constructor(t){this.persistence=t,this.ri=new Fr((i=>jm(i)),Lm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=tl._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new tl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class sE{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new iR,this.referenceDelegate=t(this),this.li=new lR(this),this.indexManager=new Fx,this.remoteDocumentCache=(function(o){return new rR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Hx(i),this.Pi=new eR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new sR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const o=new oR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class oR extends Ow{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Gm,this.Ai=null}static Vi(t){return new Fm(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=yt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new Fr((a=>Uw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Jx(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=jt(),o=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qm(t,i.fromCache,a,o)}}class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Yb()?8:kw(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(La()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(La()<=Vt.DEBUG&&ot("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(La()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):J.resolve())}gs(t,i){if(I0(i))return J.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,lm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return I0(i)||o.isEqual(Tt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(La()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.Ds(t,d,i,Nw(o,Mo)).next((g=>g)))}))}bs(t,i){let a=new ke(k1(t));return i.forEach(((o,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return La()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(t,i,Js.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",hR=3e8;class fR{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ue(Ut),this.Fs=new Fr((c=>jm(c)),Lm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dR(r,t,i,a){return new fR(r,t,i,a)}async function rE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=jt();for(const y of o){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function mR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const x=y.batch,C=x.keys();let G=J.resolve();return C.forEach((Y=>{G=G.next((()=>S.getEntry(v,Y))).next((rt=>{const W=y.docVersions.get(Y);Qt(W!==null,48541),rt.version.compareTo(W)<0&&(x.applyToRemoteDocument(rt,y),rt.isValidDocument()&&(rt.setReadTime(y.commitVersion),S.addEntry(rt)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,x)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=jt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function aE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function pR(r,t){const i=St(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((S,x)=>{const C=o.get(x);if(!C)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,x))));let G=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(x)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),o=o.insert(x,G),(function(rt,W,nt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=hR?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(C,G,S)&&g.push(i.li.updateTargetData(c,G))}));let v=ns(),y=jt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(gR(c,d,t.documentUpdates).next((S=>{v=S.Bs,y=S.Ls}))),!a.isEqual(Tt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function gR(r,t,i){let a=jt(),o=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ns();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):ot(Km,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function yR(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _R(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=St(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;ot(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function H0(r,t,i){const a=St(r);let o=Tt.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const x=St(v),C=x.Fs.get(S);return C!==void 0?J.resolve(x.vs.get(C)):x.li.getTargetData(y,S)})(a,d,Si(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?c:jt()))).next((g=>(vR(a,sx(t),g),{documents:g,ks:c})))))}function vR(r,t,i){let a=r.Ms.get(t)||Tt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class G0{constructor(){this.activeTargetIds=cx()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ER{constructor(){this.vo=new G0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new G0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TR{Mo(t){}shutdown(){}}const F0="ConnectivityMonitor";class Q0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(F0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(F0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function dm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const qd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=dm(),g=this.Qo(t,i.toUriEncodedString());ot(qd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(g),S=nl(y);return this.zo(t,g,v,a,S).then((x=>(ot(qd,`Received RPC '${t}' ${d}: `,x),x)),(x=>{throw $a(qd,`RPC '${t}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=bR[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class AR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",go=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Qa extends SR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Qa.c_){const t=h1();go(t,c1.STAT_EVENT,(i=>{i.stat===em.PROXY?ot(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===em.NOPROXY&&ot(Xe,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(t,i,a,o,c){const d=dm();return new Promise(((g,v)=>{const y=new o1;y.setWithCredentials(!0),y.listenOnce(u1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const x=y.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(x)),g(x);break;case jc.TIMEOUT:ot(Xe,`RPC '${t}' ${d} timed out`),v(new dt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const C=y.getStatus();if(ot(Xe,`RPC '${t}' ${d} failed with status:`,C,"response text:",y.getResponseText()),C>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Y=G?.error;if(Y&&Y.status&&Y.message){const rt=(function(nt){const tt=nt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(tt)>=0?tt:Z.UNKNOWN})(Y.status);v(new dt(rt,Y.message))}else v(new dt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new dt(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);ot(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const o=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ot(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,g);const S=d.createWebChannel(y,g);this.I_(S);let x=!1,C=!1;const G=new AR({Ho:Y=>{C?ot(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Y):(x||(ot(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),x=!0),ot(Xe,`RPC '${t}' stream ${o} sending:`,Y),S.send(Y))},Jo:()=>S.close()});return go(S,_o.EventType.OPEN,(()=>{C||(ot(Xe,`RPC '${t}' stream ${o} transport opened.`),G.i_())})),go(S,_o.EventType.CLOSE,(()=>{C||(C=!0,ot(Xe,`RPC '${t}' stream ${o} transport closed`),G.o_(),this.E_(S))})),go(S,_o.EventType.ERROR,(Y=>{C||(C=!0,$a(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),G.o_(new dt(Z.UNAVAILABLE,"The operation could not be completed")))})),go(S,_o.EventType.MESSAGE,(Y=>{if(!C){const rt=Y.data[0];Qt(!!rt,16349);const W=rt,nt=W?.error||W[0]?.error;if(nt){ot(Xe,`RPC '${t}' stream ${o} received error:`,nt);const tt=nt.status;let lt=(function(Nt){const D=Re[Nt];if(D!==void 0)return Q1(D)})(tt),At=nt.message;lt===void 0&&(lt=Z.INTERNAL,At="Unknown error status: "+tt+" with message "+nt.message),C=!0,G.o_(new dt(lt,At)),S.close()}else ot(Xe,`RPC '${t}' stream ${o} received:`,rt),G.__(rt)}})),Qa.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return f1()}}function wR(r){return new Qa(r)}function Hd(){return typeof document<"u"?document:null}function Th(r){return new Nx(r,!0)}Qa.c_=!1;class lE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const K0="PersistentStream";class oE{constructor(t,i,a,o,c,d,g,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new dt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(K0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends oE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Mx(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?wi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=am(v)?{documents:Vx(c,v)}:{query:Ux(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=X1(c,d.resumeToken);const y=om(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=sh(c,d.snapshotVersion.toTimestamp());const y=om(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=Lx(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.K_(i)}}class RR extends oE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kx(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Ox(this.serializer,a)))};this.K_(i)}}class CR{}class NR extends CR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(Z.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,um(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IR(r,t,i,a){return new NR(r,t,i,a)}class DR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class MR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(ot(Gr,"Restarting streams for network reachability change."),await(async function(v){const y=St(v);y.Ea.add(4),await $o(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new DR(a,o)}}async function bh(r){if(Qr(r))for(const t of r.Ra)await t(!0)}async function $o(r){for(const t of r.Ra)await t(!1)}function uE(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?$m(i):ol(i).O_()&&Xm(i,t))}function Ym(r,t){const i=St(r),a=ol(i);i.Ia.delete(t),a.O_()&&cE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Va.set("Unknown"))}function Xm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(r).Z_(t)}function cE(r,t){r.da.$e(t),ol(r).X_(t)}function $m(r){r.da=new wx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Va.ua()}function Jm(r){return Qr(r)&&!ol(r).x_()&&r.Ia.size>0}function Qr(r){return St(r).Ea.size===0}function hE(r){r.da=void 0}async function OR(r){r.Va.set("Online")}async function kR(r){r.Ia.forEach(((t,i)=>{Xm(r,t)}))}async function VR(r,t){hE(r),Jm(r)?(r.Va.ha(t),$m(r)):r.Va.set("Unknown")}async function UR(r,t,i){if(r.Va.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,t)}catch(a){ot(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof Bc?r.da.Xe(t):t instanceof K1?r.da.st(t):r.da.tt(t),!i.isEqual(Tt.min()))try{const a=await aE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),cE(c,v);const x=new Gs(S.target,v,y,S.sequenceNumber);Xm(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ot(Gr,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!ll(t))throw t;r.Ea.add(1),await $o(r),r.Va.set("Offline"),i||(i=()=>aE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function fE(r,t){return t().catch((i=>ah(r,i,t)))}async function Sh(r){const t=St(r),i=er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;jR(t);)try{const o=await yR(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,LR(t,o)}catch(o){await ah(t,o)}dE(t)&&mE(t)}function jR(r){return Qr(r)&&r.Ta.length<10}function LR(r,t){r.Ta.push(t);const i=er(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function dE(r){return Qr(r)&&!er(r).x_()&&r.Ta.length>0}function mE(r){er(r).start()}async function zR(r){er(r).ra()}async function PR(r){const t=er(r);for(const i of r.Ta)t.ea(i.mutations)}async function BR(r,t,i){const a=r.Ta.shift(),o=Bm.from(a,t,i);await fE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sh(r)}async function qR(r,t){t&&er(r).Y_&&await(async function(a,o){if((function(d){return bx(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();er(a).B_(),await fE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Sh(a)}})(r,t),dE(r)&&mE(r)}async function Y0(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(Gr,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await $o(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function HR(r,t){const i=St(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await $o(i),i.Va.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(i,a,o){const c=St(i);return c.sa(),new xR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:OR.bind(null,r),Yo:kR.bind(null,r),t_:VR.bind(null,r),J_:UR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Jm(r)?$m(r):r.Va.set("Unknown")):(await r.ma.stop(),hE(r))}))),r.ma}function er(r){return r.fa||(r.fa=(function(i,a,o){const c=St(i);return c.sa(),new RR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zR.bind(null,r),t_:qR.bind(null,r),ta:PR.bind(null,r),na:BR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Zm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,t){if(es("AsyncQueue",`${t}: ${r}`),ll(r))return new dt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=vo(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class X0{constructor(){this.ga=new ue(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class el{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new el(t,i,Ka.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class GR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class FR{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=St(i),c=o.queries;o.queries=$0(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new dt(Z.ABORTED,"Firestore shutting down"))}}function $0(){return new Fr((r=>O1(r)),gh)}async function QR(r,t){const i=St(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new GR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Wm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&tp(i)}async function KR(r,t){const i=St(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YR(r,t){const i=St(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&tp(i)}function XR(r,t,i){const a=St(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function tp(r){r.Ca.forEach((t=>{t.next()}))}var mm,J0;(J0=mm||(mm={})).Ma="default",J0.Cache="cache";class $R{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new el(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class pE{constructor(t){this.key=t}}class gE{constructor(t){this.key=t}}class JR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=k1(t),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new X0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,x)=>{const C=o.get(S),G=yh(this.query,x)?x:null,Y=!!C&&this.mutatedKeys.has(C.key),rt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;C&&G?C.data.isEqual(G.data)?Y!==rt&&(a.track({type:3,doc:G}),W=!0):this.su(C,G)||(a.track({type:2,doc:G}),W=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(g=!0)):!C&&G?(a.track({type:0,doc:G}),W=!0):C&&!G&&(a.track({type:1,doc:C}),W=!0,(v||y)&&(g=!0)),W&&(G?(d=d.add(G),c=rt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,x)=>(function(G,Y){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:W})}};return rt(G)-rt(Y)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new el(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new gE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new pE(a))})),i}cu(t){this.Za=t.ks,this.Ya=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ep="SyncEngine";class ZR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WR{constructor(t){this.key=t,this.hu=!1}}class tC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((g=>O1(g)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(yt.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eC(r,t,i=!0){const a=bE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yE(a,t,i,!0),o}async function nC(r,t){const i=bE(r);await yE(i,t,!0,!1)}async function yE(r,t,i,a){const o=await _R(r.localStore,Si(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await iC(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&uE(r.remoteStore,o),g}async function iC(r,t,i,a,o){r.pu=(x,C,G)=>(async function(rt,W,nt,tt){let lt=W.view.ru(nt);lt.Ss&&(lt=await H0(rt.localStore,W.query,!1).then((({documents:D})=>W.view.ru(D,lt))));const At=tt&&tt.targetChanges.get(W.targetId),Ft=tt&&tt.targetMismatches.get(W.targetId)!=null,Nt=W.view.applyChanges(lt,rt.isPrimaryClient,At,Ft);return W0(rt,W.targetId,Nt.au),Nt.snapshot})(r,x,C,G);const c=await H0(r.localStore,t,!0),d=new JR(t,c.ks),g=d.ru(c.documents),v=Xo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);W0(r,i,y.au);const S=new ZR(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function sC(r,t,i){const a=St(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ym(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(al)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function rC(r,t){const i=St(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function aC(r,t,i){const a=dC(r);try{const o=await(function(d,g){const v=St(d),y=re.now(),S=g.reduce(((G,Y)=>G.add(Y.key)),jt());let x,C;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Y=ns(),rt=jt();return v.xs.getEntries(G,S).next((W=>{Y=W,Y.forEach(((nt,tt)=>{tt.isValidDocument()||(rt=rt.add(nt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Y))).next((W=>{x=W;const nt=[];for(const tt of g){const lt=yx(tt,x.get(tt.key).overlayedDocument);lt!=null&&nt.push(new sr(tt.key,lt,x1(lt.value.mapValue),Ai.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,nt,g)})).next((W=>{C=W;const nt=W.applyToLocalDocumentSet(x,rt);return v.documentOverlayCache.saveOverlays(G,W.batchId,nt)}))})).then((()=>({batchId:C.batchId,changes:U1(x)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Ut)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Jo(a,o.changes),await Sh(a.remoteStore)}catch(o){const c=Wm(o,"Failed to persist write");i.reject(c)}}async function _E(r,t){const i=St(r);try{const a=await pR(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qt(d.hu,14607):o.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Jo(i,a,t)}catch(a){await al(a)}}function Z0(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=St(d);v.onlineState=g;let y=!1;v.queries.forEach(((S,x)=>{for(const C of x.ba)C.va(g)&&(y=!0)})),y&&tp(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lC(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ue(yt.comparator);d=d.insert(c,Je.newNoDocument(c,Tt.min()));const g=jt().add(c),v=new Eh(Tt.min(),new Map,new ue(Ut),d,g);await _E(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),np(a)}else await fm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(al)}async function oC(r,t){const i=St(r),a=t.batch.batchId;try{const o=await mR(i.localStore,t);EE(i,a,null),vE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jo(i,o)}catch(o){await al(o)}}async function uC(r,t,i){const a=St(r);try{const o=await(function(d,g){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((x=>(Qt(x!==null,37113),S=x.keys(),v.mutationQueue.removeMutationBatch(y,x)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);EE(a,t,i),vE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jo(a,o)}catch(o){await al(o)}}function vE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function EE(r,t,i){const a=St(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||TE(r,a)}))}function TE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Ym(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),np(r))}function W0(r,t,i){for(const a of i)a instanceof pE?(r.Vu.addReference(a.key,t),cC(r,a)):a instanceof gE?(ot(ep,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||TE(r,a.key)):vt(19791,{wu:a})}function cC(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(ot(ep,"New document in limbo: "+i),r.Eu.add(a),np(r))}function np(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(se.fromString(t)),a=r.fu.next();r.Au.set(a,new WR(i)),r.Ru=r.Ru.insert(i,a),uE(r.remoteStore,new Gs(Si(zm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Jo(r,t,i){const a=St(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Qm.Es(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const S=St(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(y,(C=>J.forEach(C.Ts,(G=>S.persistence.referenceDelegate.addReference(x,C.targetId,G))).next((()=>J.forEach(C.Is,(G=>S.persistence.referenceDelegate.removeReference(x,C.targetId,G)))))))))}catch(x){if(!ll(x))throw x;ot(Km,"Failed to update sequence numbers: "+x)}for(const x of y){const C=x.targetId;if(!x.fromCache){const G=S.vs.get(C),Y=G.snapshotVersion,rt=G.withLastLimboFreeSnapshotVersion(Y);S.vs=S.vs.insert(C,rt)}}})(a.localStore,c))}async function hC(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ot(ep,"User change. New user:",t.toKey());const a=await rE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new dt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jo(i,a.Ns)}}function fC(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let o=jt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function bE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lC.bind(null,t),t.Pu.J_=YR.bind(null,t.eventManager),t.Pu.yu=XR.bind(null,t.eventManager),t}function dC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uC.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dR(this.persistence,new cR,t.initialUser,this.serializer)}Cu(t){return new sE(Fm.Vi,this.serializer)}Du(t){return new ER}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class mC extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new sE((a=>rh.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hC.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FR})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=wR(t.databaseInfo);return IR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new MR(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Z0(this.syncEngine,i,0)),(function(){return Q0.v()?new Q0:new TR})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,S){const x=new tC(o,c,d,g,v,y);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);ot(Gr,"RemoteStore shutting down."),a.Ea.add(5),await $o(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class pC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const nr="FirestoreClient";class gC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(nr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function tv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yC(r);ot(nr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Y0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Y0(t.remoteStore,o))),r._onlineComponents=t}async function yC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(nr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new lh)}}else ot(nr,"Using default OfflineComponentProvider"),await Gd(r,new mC(void 0));return r._offlineComponents}async function SE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(nr,"Using user provided OnlineComponentProvider"),await tv(r,r._uninitializedComponentsProvider._online)):(ot(nr,"Using default OnlineComponentProvider"),await tv(r,new gm))),r._onlineComponents}function _C(r){return SE(r).then((t=>t.syncEngine))}async function ev(r){const t=await SE(r),i=t.eventManager;return i.onListen=eC.bind(null,t.syncEngine),i.onUnlisten=sC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rC.bind(null,t.syncEngine),i}function vC(r,t,i,a){const o=new pC(a),c=new $R(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>QR(await ev(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>KR(await ev(r),c)))}}function EC(r,t){const i=new Lr;return r.asyncQueue.enqueueAndForget((async()=>aC(await _C(r),t,i))),i.promise}function AE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const TC="ComponentProvider",nv=new Map;function bC(r,t,i,a,o){return new zw(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,AE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const wE="firestore.googleapis.com",iv=!0;class sv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=iv}else this.host=t.host,this.ssl=t.ssl??iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kx)throw new dt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Cw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _w;switch(a.type){case"firstParty":return new bw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=nv.get(i);a&&(ot(TC,"Removing Datastore"),nv.delete(i),a.terminate())})(this),Promise.resolve()}}function SC(r,t,i,a={}){r=Xs(r,Ah);const o=nl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(Sv(`https://${g}`),Av("Firestore",!0)),c.host!==wE&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Pr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=$e.MOCK_USER;else{y=zb(a.mockUserToken,r._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new dt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(x)}r._authCredentials=new vw(new m1(y,S))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Ne{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ko(i,Ne._jsonSchema))return new Ne(t,a||null,new yt(se.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class $s extends wh{constructor(t,i,a){super(t,i,zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new yt(t))}withConverter(t){return new $s(this.firestore,t,this._path)}}function AC(r,t,...i){if(r=We(r),p1("collection","path",t),r instanceof Ah){const a=se.fromString(t,...i);return y0(a),new $s(r,null,a)}{if(!(r instanceof Ne||r instanceof $s))throw new dt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return y0(a),new $s(r.firestore,null,a)}}function yo(r,t,...i){if(r=We(r),arguments.length===1&&(t=Mm.newId()),p1("doc","path",t),r instanceof Ah){const a=se.fromString(t,...i);return g0(a),new Ne(r,null,new yt(a))}{if(!(r instanceof Ne||r instanceof $s))throw new dt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return g0(a),new Ne(r.firestore,r instanceof $s?r.converter:null,new yt(a))}}const rv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&ot(rv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;ot(rv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",lv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function lv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Lo extends Ah{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new av,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function wC(r,t){const i=typeof r=="object"?r:bm(),a=typeof r=="string"?r:Zc,o=Tm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=jb("firestore");c&&SC(o,...c)}return o}function xE(r){if(r._terminated)throw new dt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xC(r),r._firestoreClient}function xC(r){const t=r._freezeSettings(),i=bC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ke.fromBase64String(t))}catch(i){throw new dt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ko(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ce("string",jn._jsonSchemaVersion),bytes:Ce("string")};class ip{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sp{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Ko(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ce("string",xi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ko(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new dt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Ce("string",Jn._jsonSchemaVersion),vectorValues:Ce("object")};const RC=/^__.*__$/;class CC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yo(t,this.data,i,this.fieldTransforms)}}class RE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function CE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:r})}}class rp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new rp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(CE(this.dataSource)&&RC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class NC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,o=!1){return new rp({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NE(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new NC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function IC(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);ap("Data must be an object, but it was:",d,a);const g=IE(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const x of c.mergeFields){const C=zo(t,x,i);if(!d.contains(C))throw new dt(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);OE(S,C)||S.push(C)}v=new bn(S),y=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,y=d.fieldTransforms;return new CC(new fn(g),v,y)}class xh extends sp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}function DC(r,t,i,a){const o=r.createContext(1,t,i);ap("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();ir(a,((v,y)=>{const S=ME(t,v,i);y=We(y);const x=o.childContextForFieldPath(S);if(y instanceof xh)c.push(S);else{const C=Rh(y,x);C!=null&&(c.push(S),d.set(S,C))}}));const g=new bn(c);return new RE(d,g,o.fieldTransforms)}function MC(r,t,i,a,o,c){const d=r.createContext(1,t,i),g=[zo(t,a,i)],v=[o];if(c.length%2!=0)throw new dt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(zo(t,c[C])),v.push(c[C+1]);const y=[],S=fn.empty();for(let C=g.length-1;C>=0;--C)if(!OE(y,g[C])){const G=g[C];let Y=v[C];Y=We(Y);const rt=d.childContextForFieldPath(G);if(Y instanceof xh)y.push(G);else{const W=Rh(Y,rt);W!=null&&(y.push(G),S.set(G,W))}}const x=new bn(y);return new RE(S,x,d.fieldTransforms)}function Rh(r,t){if(DE(r=We(r)))return ap("Unsupported field value:",t,r),IE(r,t);if(r instanceof sp)return(function(a,o){if(!CE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=Rh(g,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:sh(o.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:X1(o.serializer,a._byteString)};if(a instanceof Ne){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Jn)return(function(d,g){const v=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[A1]:{stringValue:w1},[Wc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Pm(g.serializer,S)}))}}}}}})(a,o);if(nE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Om(a)}`)})(r,t)}function IE(r,t){const i={};return _1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(r,((a,o)=>{const c=Rh(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function DE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof xi||r instanceof jn||r instanceof Ne||r instanceof sp||r instanceof Jn||nE(r))}function ap(r,t,i){if(!DE(i)||!g1(i)){const a=Om(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function zo(r,t,i){if((t=We(t))instanceof ip)return t._internalPath;if(typeof t=="string")return ME(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const OC=new RegExp("[~\\*/\\[\\]]");function ME(r,t,i){if(t.search(OC)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ip(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new dt(Z.INVALID_ARGUMENT,g+r+v)}function OE(r,t){return r.some((i=>i.isEqual(t)))}class kC{convertValue(t,i="none"){switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ir(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new xi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(t));default:return null}}convertTimestamp(t){const i=Zs(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Qt(eE(a),9688,{name:t});const o=new ko(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return o.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class kE extends kC{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}const ov="@firebase/firestore",uv="4.10.0";function cv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class VE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(zo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VC extends VE{data(){return super.data()}}function UC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function jC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class To{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zr extends VE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",zr._jsonSchema={type:Ce("string",zr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qc extends zr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:LC(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ce("string",Ya._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function hv(r,t,i){r=Xs(r,Ne);const a=Xs(r.firestore,Lo),o=jC(r.converter,t),c=NE(a);return UE(a,[IC(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ai.none())])}function zC(r,t,i,...a){r=Xs(r,Ne);const o=Xs(r.firestore,Lo),c=NE(o);let d;return d=typeof(t=We(t))=="string"||t instanceof ip?MC(c,"updateDoc",r._key,t,i,a):DC(c,"updateDoc",r._key,t),UE(o,[d.toMutation(r._key,Ai.exists(!0))])}function Fd(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||cv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(cv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ne)d=Xs(r.firestore,Lo),g=zm(r._key.path),c={next:y=>{t[a]&&t[a](PC(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Xs(r,wh);d=Xs(y.firestore,Lo),g=y._query;const S=new kE(d);c={next:x=>{t[a]&&t[a](new Ya(d,S,y,x))},error:t[a+1],complete:t[a+2]},UC(r._query)}const v=xE(d);return vC(v,g,o,c)}function UE(r,t){const i=xE(r);return EC(i,t)}function PC(r,t,i){const a=i.docs.get(t._key),o=new kE(r);return new zr(r,o,t._key,a,new To(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){yw(il),Xa(new Br("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Lo(new Ew(a.getProvider("auth-internal")),new Sw(d,a.getProvider("app-check-internal")),Pw(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ks(ov,uv,t),Ks(ov,uv,"esm2020")})();const jE=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const BC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const qC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const fv=r=>{const t=qC(r);return t.charAt(0).toUpperCase()+t.slice(1)};var HC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const FC=pt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>pt.createElement("svg",{ref:v,...HC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:jE("lucide",o),...!c&&!GC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>pt.createElement(y,S)),...Array.isArray(c)?c:[c]]));const gt=(r,t)=>{const i=pt.forwardRef(({className:a,...o},c)=>pt.createElement(FC,{ref:c,iconNode:t,className:jE(`lucide-${BC(fv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=fv(r),i};const QC=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],KC=gt("arrow-down",QC);const YC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],XC=gt("arrow-left-right",YC);const $C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],JC=gt("arrow-left",$C);const ZC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WC=gt("arrow-right",ZC);const tN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],eN=gt("arrow-up",tN);const nN=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],iN=gt("bath",nN);const sN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],rN=gt("calculator",sN);const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qd=gt("calendar",aN);const lN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],oN=gt("car",lN);const uN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cN=gt("check",uN);const hN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fN=gt("chevron-right",hN);const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mN=gt("circle-alert",dN);const pN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gN=gt("circle-check-big",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_N=gt("circle-check",yN);const vN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EN=gt("clock",vN);const TN=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],bN=gt("cloud-lightning",TN);const SN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],AN=gt("cloud-rain",SN);const wN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],dv=gt("cloud",wN);const xN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],RN=gt("coins",xN);const CN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],NN=gt("dollar-sign",CN);const IN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],DN=gt("ellipsis",IN);const MN=[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]],ON=gt("equal",MN);const kN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],VN=gt("external-link",kN);const UN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jN=gt("eye-off",UN);const LN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zN=gt("eye",LN);const PN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BN=gt("file-text",PN);const qN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HN=gt("globe",qN);const GN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],FN=gt("house",GN);const QN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],KN=gt("image",QN);const YN=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],XN=gt("list-checks",YN);const $N=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LE=gt("loader-circle",$N);const JN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ZN=gt("lock",JN);const WN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tI=gt("log-in",WN);const eI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nI=gt("map-pin",eI);const iI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sI=gt("package",iI);const rI=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zE=gt("pen-line",rI);const aI=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],lI=gt("pill",aI);const oI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ym=gt("plane",oI);const uI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Co=gt("plus",uI);const cI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PE=gt("search",cI);const hI=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],fI=gt("settings-2",hI);const dI=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],mI=gt("shirt",dI);const pI=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],gI=gt("shopping-bag",pI);const yI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_I=gt("smartphone",yI);const vI=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],EI=gt("snowflake",vI);const TI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bI=gt("sparkles",TI);const SI=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],AI=gt("sticky-note",SI);const wI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lp=gt("sun",wI);const xI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],op=gt("trash-2",xI);const RI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CI=gt("trending-up",RI);const NI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],II=gt("user",NI);const DI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],MI=gt("utensils",DI);const OI=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],kI=gt("wallet",OI);const VI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UI=gt("x",VI),BE=" V4.3 - 2026/02/15 18:40",Ls={TWD:" - ",USD:" - ",JPY:" - ",KRW:" - ",THB:" - ",VND:" - ",HKD:" - ",EUR:" - ",CNY:" - ",GBP:" - ",SGD:" - ",AUD:" - "},mv=[{id:"food",name:"",icon:MI,color:"text-orange-500",bg:"bg-orange-50"},{id:"stay",name:"",icon:FN,color:"text-indigo-500",bg:"bg-indigo-50"},{id:"transport",name:"",icon:oN,color:"text-blue-500",bg:"bg-blue-50"},{id:"shopping",name:"",icon:gI,color:"text-pink-500",bg:"bg-pink-50"},{id:"play",name:"",icon:bI,color:"text-yellow-600",bg:"bg-yellow-50"},{id:"other",name:"",icon:DN,color:"text-slate-500",bg:"bg-slate-50"}],pv=[{id:"cat_3c",name:"3C ",icon:_I,items:["","",""]},{id:"cat_clothing",name:"",icon:mI,items:["","","",""]},{id:"cat_toiletries",name:"",icon:iN,items:["","",""]},{id:"cat_medicine",name:"",icon:lI,items:["","","OK "]},{id:"cat_docs",name:"",icon:BN,items:["","",""]},{id:"cat_others",name:"",icon:sI,items:["","",""]}],jI=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65"},qE=nS().length>0?bm():Rv(jI),Hc=pw(qE),zs=wC(qE),ja="travel-yeh",gv=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}))}catch{return""}},LI=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{weekday:"long"}))}catch{return""}},zI=r=>{if(!r)return null;const t=/(https?:\/\/[^\s]+)/g;return r.split(t).map((a,o)=>a.match(/^https?:\/\//)?T.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",onClick:c=>c.stopPropagation(),children:[a," ",T.jsx(VN,{size:12})]},o):a)},PI=r=>r===0?{label:"",tips:"",icon:lp,color:"text-orange-500"}:r>=1&&r<=3?{label:"",tips:"",icon:dv,color:"text-blue-400"}:r>=51&&r<=67?{label:"",tips:"",icon:AN,color:"text-blue-600"}:r>=71&&r<=77?{label:"",tips:"",icon:EI,color:"text-cyan-300"}:r>=95?{label:"",tips:"",icon:bN,color:"text-purple-600"}:{label:"",tips:"",icon:dv,color:"text-blue-400"},BI=({itineraryData:r,updateItinField:t})=>{const i=Array.isArray(r?.expenses)?r.expenses:[],[a,o]=pt.useState(""),[c,d]=pt.useState(""),[g,v]=pt.useState("food"),y=pt.useMemo(()=>i.reduce((C,G)=>C+(parseFloat(G.amount)||0),0),[i]),S=pt.useMemo(()=>{const C={};return i.forEach(G=>{C[G.category]=(C[G.category]||0)+(parseFloat(G.amount)||0)}),C},[i]),x=async C=>{if(C.preventDefault(),!a||!c)return;const G={id:Date.now().toString(),item:a,amount:c,category:g,date:new Date().toISOString()};await t("expenses",[...i,G]),o(""),d("")};return T.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10 px-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[T.jsxs("div",{className:"md:col-span-2 bg-white p-10 rounded-[3.5rem] shadow-xl border border-slate-100 flex flex-col justify-center",children:[T.jsx("h3",{className:"text-slate-400 font-black text-xs uppercase tracking-widest mb-2 ml-1",children:""}),T.jsxs("div",{className:"flex items-baseline gap-2 justify-center md:justify-start",children:[T.jsxs("span",{className:"text-6xl font-black text-slate-900 tracking-tighter",children:["$",y.toLocaleString()]}),T.jsx("span",{className:"text-slate-300 font-bold uppercase tracking-widest text-xs",children:"twd"})]})]}),T.jsxs("div",{className:"bg-slate-900 p-8 rounded-[3rem] shadow-xl text-white",children:[T.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:""}),T.jsx("div",{className:"space-y-3",children:mv.map(C=>{const G=S[C.id]||0,Y=y>0?Math.round(G/y*100):0;return T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(C.icon,{size:14,className:C.color}),T.jsx("span",{className:"text-xs font-bold text-slate-300",children:C.name})]}),T.jsxs("span",{className:"text-xs font-mono font-bold text-slate-100",children:["$",G.toLocaleString()," (",Y,"%)"]})]},C.id)})})]})]}),T.jsx("div",{className:"bg-white p-8 rounded-[4rem] shadow-lg border border-slate-100",children:T.jsxs("form",{onSubmit:x,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,placeholder:"",value:a,onChange:C=>o(C.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),T.jsxs("div",{className:"w-full md:w-48 space-y-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,type:"number",placeholder:"0",value:c,onChange:C=>d(C.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),T.jsxs("div",{className:"w-full md:w-40 space-y-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),T.jsx("select",{value:g,onChange:C=>v(C.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-black outline-none cursor-pointer shadow-inner",children:mv.map(C=>T.jsx("option",{value:C.id,children:C.name},C.id))})]}),T.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-4 rounded-2xl shadow-xl hover:bg-blue-700 active:scale-95 transition-all flex items-center justify-center shadow-blue-100",children:T.jsx(Co,{size:28})})]})}),T.jsx("div",{className:"bg-white rounded-[3rem] shadow-xl border border-slate-50 overflow-hidden",children:T.jsx("table",{className:"w-full text-left",children:T.jsx("tbody",{className:"divide-y divide-slate-50",children:i.length>0?[...i].reverse().map(C=>T.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[T.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:C.item}),T.jsx("td",{className:"px-8 py-5",children:T.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 text-[10px] font-black uppercase text-slate-500",children:C.category})}),T.jsxs("td",{className:"px-8 py-5 text-right font-mono font-black text-slate-800",children:["$",parseFloat(C.amount).toLocaleString()]}),T.jsx("td",{className:"px-8 py-5 text-center",children:T.jsx("button",{onClick:async()=>await t("expenses",i.filter(G=>G.id!==C.id)),className:"text-slate-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:T.jsx(op,{size:18})})})]},C.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"px-8 py-20 text-center text-slate-300 font-bold italic tracking-widest",children:""})})})})})]})},qI=({tripInfo:r})=>{const t=pt.useMemo(()=>{if(!r?.startDate||!r?.duration)return"";try{const x=new Date(r.startDate);return x.setDate(x.getDate()+(parseInt(r.duration)-1)),x.toISOString().split("T")[0]}catch{return""}},[r]),[i,a]=pt.useState({dest:r?.city||"",start:r?.startDate||new Date().toISOString().split("T")[0],end:t}),[o,c]=pt.useState(!1),[d,g]=pt.useState(null),[v,y]=pt.useState(null),S=async x=>{if(x&&x.preventDefault(),!!i.dest){c(!0),y(null);try{const G=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(i.dest)}&count=1&language=zh&format=json`)).json();if(!G.results?.length)throw new Error("");const{latitude:Y,longitude:rt,name:W}=G.results[0],tt=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${Y}&longitude=${rt}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto&start_date=${i.start}&end_date=${i.end||i.start}`)).json();g({location:W,daily:(tt.daily?.time||[]).map((lt,At)=>({date:lt,max:tt.daily.temperature_2m_max[At],min:tt.daily.temperature_2m_min[At],code:tt.daily.weather_code[At]}))})}catch(C){y(C.message)}finally{c(!1)}}};return T.jsxs("div",{className:"animate-fade-in space-y-10 w-full max-w-5xl mx-auto pb-10 px-4",children:[T.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-xl border border-slate-100",children:[T.jsxs("h3",{className:"text-2xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[T.jsx(lp,{className:"text-orange-500"})," "]}),T.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,value:i.dest,onChange:x=>a({...i,dest:x.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none font-bold shadow-inner"})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,type:"date",value:i.start,onChange:x=>a({...i,start:x.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-inner"})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,type:"date",value:i.end,min:i.start,onChange:x=>a({...i,end:x.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-inner"})]}),T.jsxs("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white h-[60px] rounded-3xl font-black shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-blue-100",children:[o?T.jsx(LE,{className:"animate-spin"}):T.jsx(PE,{size:20})," "]})]}),v&&T.jsx("p",{className:"mt-4 text-red-500 text-xs font-bold animate-pulse",children:v})]}),d&&T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.daily.map(x=>{const C=PI(x.code);return T.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-lg group transition-transform hover:-translate-y-1",children:[T.jsx("p",{className:"text-[10px] font-black text-slate-300 mb-4",children:x.date}),T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx(C.icon,{size:48,className:C.color}),T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"text-3xl font-black text-slate-800",children:[Math.round(x.max),""]}),T.jsxs("p",{className:"text-sm font-bold text-slate-300",children:[Math.round(x.min),""]})]})]}),T.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl",children:[T.jsx("p",{className:`font-black text-sm mb-1 ${C.color}`,children:C.label}),T.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed font-bold",children:C.tips})]})]},x.date)})})]})},HI=({itineraryData:r,updateItinField:t})=>{const[i,a]=pt.useState({}),[o,c]=pt.useState("USD"),[d,g]=pt.useState("TWD"),[v,y]=pt.useState(1),[S,x]=pt.useState(!0),[C,G]=pt.useState(""),[Y,rt]=pt.useState(!1),[W,nt]=pt.useState("0"),tt=r?.customRates||{},lt=r?.useCustom||{};pt.useEffect(()=>{Hc&&(async()=>{x(!0);try{const M=await(await fetch(`https://open.er-api.com/v6/latest/${o}`)).json();M.result==="success"&&a(M.rates||{})}catch(k){console.error(k)}finally{x(!1)}})()},[o]);const At=A=>{if(A==="C")nt("0");else if(A==="=")try{const k=W.replace(/[^-+*/.0-9]/g,"");if(!k){nt("0");return}const M=new Function(`return ${k}`)();nt(String(parseFloat(Number(M).toFixed(8))))}catch{nt("Error")}else nt(k=>k==="0"||k==="Error"?A:k+A)},Ft=lt[d]&&tt[d]?tt[d]:i[d]||0,Nt=(v*Ft).toFixed(2),D=()=>{const A=o;c(d),g(A)},R=Object.keys(Ls).filter(A=>Ls[A].includes(C)||A.includes(C.toUpperCase()));return T.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10 px-4",children:[T.jsxs("div",{className:"bg-white rounded-[3.5rem] shadow-2xl border border-slate-100 overflow-hidden p-8 md:p-14 transition-all",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-8 items-center",children:[T.jsxs("div",{className:"md:col-span-3",children:[T.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:""}),T.jsxs("div",{className:"relative",children:[T.jsx(NN,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:24}),T.jsx("input",{type:"number",value:v,onChange:A=>y(parseFloat(A.target.value)||0),className:"w-full pl-14 pr-4 py-6 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none transition-all text-2xl font-black shadow-inner"}),T.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:T.jsx("select",{value:o,onChange:A=>c(A.target.value),className:"bg-white border shadow-sm rounded-xl px-2 py-1 text-xs font-black outline-none",children:Object.keys(Ls).map(A=>T.jsx("option",{value:A,children:Ls[A]},A))})})]})]}),T.jsx("div",{className:"flex justify-center md:col-span-1",children:T.jsx("button",{onClick:D,className:"bg-blue-50 p-4 rounded-full text-blue-600 shadow-inner group hover:bg-blue-600 hover:text-white transition-all active:scale-90 shadow-md",children:T.jsx(XC,{className:"md:rotate-0 rotate-90",size:28})})}),T.jsxs("div",{className:"md:col-span-3",children:[T.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:""}),T.jsxs("div",{className:"w-full pl-8 pr-6 py-5 bg-blue-600 rounded-[2rem] text-white flex items-center justify-between shadow-xl shadow-blue-100",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-3xl font-black tracking-tight",children:Nt}),T.jsx("p",{className:"text-blue-100 text-[10px] mt-1 font-bold",children:Ls[d]})]}),T.jsx("select",{value:d,onChange:A=>g(A.target.value),className:"bg-blue-700 text-white border-none rounded-xl px-3 py-1.5 text-xs font-black outline-none",children:Object.keys(Ls).map(A=>T.jsx("option",{value:A,children:Ls[A]},A))})]})]})]}),T.jsxs("div",{className:"mt-8 flex justify-between items-center px-2",children:[T.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[T.jsx(CI,{size:16,className:"text-green-500"})," "]}),T.jsxs("button",{onClick:()=>rt(!Y),className:"flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all bg-white border text-slate-600 shadow-sm active:scale-95 shadow-md",children:[T.jsx(fI,{size:16})," "]})]})]}),Y&&T.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-2xl overflow-hidden animate-fade-in",children:[T.jsxs("div",{className:"p-8 border-b flex justify-between items-center bg-slate-50/50",children:[T.jsx("h3",{className:"font-black text-xl text-slate-800",children:""}),T.jsxs("div",{className:"relative",children:[T.jsx(PE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),T.jsx("input",{type:"text",placeholder:"...",value:C,onChange:A=>G(A.target.value),className:"pl-12 pr-6 py-3 border rounded-2xl text-sm font-bold outline-none w-64 shadow-inner"})]})]}),T.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] font-black sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-8 py-5",children:""}),T.jsx("th",{className:"px-8 py-5 text-right",children:""}),T.jsx("th",{className:"px-8 py-5 text-center",children:""}),T.jsx("th",{className:"px-8 py-5 text-right",children:""})]})}),T.jsx("tbody",{className:"divide-y divide-slate-50",children:R.map(A=>T.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors",children:[T.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:Ls[A]}),T.jsx("td",{className:"px-8 py-5 text-right font-mono font-bold",children:i[A]?.toFixed(4)}),T.jsx("td",{className:"px-8 py-5 text-center",children:T.jsx("button",{onClick:()=>t(`useCustom.${A}`,!lt[A]),className:`px-4 py-1.5 rounded-full text-[10px] font-black transition-all ${lt[A]?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:lt[A]?"":""})}),T.jsx("td",{className:"px-8 py-5 text-right",children:T.jsx("input",{type:"number",step:"0.0001",disabled:!lt[A],value:tt[A]||"",onChange:k=>t(`customRates.${A}`,parseFloat(k.target.value)||0),className:`w-24 p-2 border rounded-xl text-sm text-right font-bold ${lt[A]?"bg-white border-orange-300 ring-4 ring-orange-50":"bg-slate-50 shadow-inner"}`})})]},A))})]})})]}),T.jsxs("div",{className:"bg-slate-900 text-white p-8 md:p-12 rounded-[4rem] shadow-2xl border border-slate-800",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-8 px-2",children:[T.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-blue-500/20 shadow-lg",children:T.jsx(rN,{size:24})}),T.jsx("h4",{className:"font-black text-2xl tracking-tight",children:" (8)"})]}),T.jsx("div",{className:"bg-black/40 p-8 rounded-[2.5rem] mb-10 text-right shadow-inner border border-white/5 overflow-hidden",children:T.jsx("span",{className:"text-5xl md:text-6xl font-black font-mono tracking-tighter text-white block truncate leading-tight",children:W})}),T.jsxs("div",{className:"grid grid-cols-4 gap-4 md:gap-6",children:[["7","8","9","/","4","5","6","*","1","2","3","-","0",".","C","+"].map(A=>T.jsx("button",{onClick:()=>At(A),className:`py-6 md:py-8 rounded-[1.5rem] font-black text-3xl transition-all shadow-sm active:scale-95 ${isNaN(A)&&A!=="."?"bg-blue-600 text-white hover:bg-blue-500":"bg-white/5 hover:bg-white/10 border border-white/5"}`,children:A},A)),T.jsx("button",{onClick:()=>At("="),className:"col-span-2 py-8 bg-green-600 text-white rounded-[1.5rem] font-black text-2xl hover:bg-green-500 transition-all active:scale-95 shadow-lg",children:T.jsx(ON,{size:32})}),T.jsx("button",{onClick:()=>y(parseFloat(W)||0),className:"col-span-2 py-8 bg-white text-slate-900 rounded-[1.5rem] font-black text-xl hover:bg-slate-100 transition-all active:scale-95 shadow-xl",children:""})]})]})]})},GI=({itineraryData:r,updateItinField:t})=>{const i=Array.isArray(r?.checklist)?r.checklist:[],[a,o]=pt.useState(""),[c,d]=pt.useState(null),[g,v]=pt.useState(null),[y,S]=pt.useState(""),x=i.filter(nt=>nt.completed).length,C=i.length>0?Math.round(x/i.length*100):0,G=pt.useMemo(()=>{const nt={};return pv.forEach(tt=>nt[tt.id]=[]),i.forEach(tt=>{const lt=tt.categoryId||"cat_others";nt[lt]&&nt[lt].push(tt)}),nt},[i]),Y=async nt=>{const tt=i.map(lt=>lt.id===nt?{...lt,completed:!lt.completed}:lt);await t("checklist",tt)},rt=async nt=>{const tt=i.filter(lt=>lt.id!==nt);await t("checklist",tt)},W=async nt=>{if(!y.trim())return;const tt=i.map(lt=>lt.id===nt?{...lt,text:y.trim()}:lt);await t("checklist",tt),v(null)};return T.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10 px-4",children:[T.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-xl border border-slate-100 text-center",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-4 gap-4",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),T.jsxs("p",{className:"text-sm font-bold text-slate-400",children:[" ",i.length,"  ",x," "]})]}),T.jsxs("span",{className:"text-6xl font-black text-blue-600 italic",children:[C,"%"]})]}),T.jsx("div",{className:"w-full h-4 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:T.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${C}%`}})})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:pv.map(nt=>T.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-lg border border-slate-50 flex flex-col hover:shadow-xl transition-all",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:T.jsx(nt.icon,{size:24})}),T.jsx("h4",{className:"text-xl font-black text-slate-800",children:nt.name})]}),T.jsx("button",{onClick:()=>d(nt.id===c?null:nt.id),className:"p-2 text-slate-300 hover:text-blue-500 transition-colors",children:T.jsx(Co,{size:20})})]}),c===nt.id&&T.jsxs("div",{className:"mb-4 flex gap-2 animate-fade-in",children:[T.jsx("input",{autoFocus:!0,placeholder:"...",value:a,onChange:tt=>o(tt.target.value),onKeyDown:tt=>tt.key==="Enter"&&(async()=>{const lt={id:Date.now().toString(),text:a.trim(),completed:!1,categoryId:nt.id};await t("checklist",[...i,lt]),o(""),d(null)})(),className:"flex-1 p-3 bg-slate-50 border-2 border-blue-100 rounded-xl text-sm font-bold outline-none shadow-inner"}),T.jsx("button",{onClick:async()=>{const tt={id:Date.now().toString(),text:a.trim(),completed:!1,categoryId:nt.id};await t("checklist",[...i,tt]),o(""),d(null)},className:"bg-blue-600 text-white px-4 rounded-xl font-black shadow-md shadow-blue-100",children:T.jsx(_N,{size:18})})]}),T.jsx("div",{className:"space-y-3",children:(G[nt.id]||[]).map(tt=>T.jsx("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all group ${tt.completed?"bg-slate-50 opacity-60":"bg-white hover:border-blue-100 shadow-sm"}`,children:g===tt.id?T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("input",{autoFocus:!0,value:y,onChange:lt=>S(lt.target.value),onKeyDown:lt=>lt.key==="Enter"&&W(tt.id),className:"flex-1 p-1 bg-slate-50 border-b-2 border-blue-500 outline-none text-sm font-bold"}),T.jsx("button",{onClick:()=>W(tt.id),className:"text-blue-600 hover:bg-blue-50 p-1 rounded-lg transition-colors",children:T.jsx(cN,{size:16})})]}):T.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[T.jsx("div",{onClick:()=>Y(tt.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all cursor-pointer ${tt.completed?"bg-green-500 border-green-500 text-white shadow-md shadow-green-100":"border-slate-200 hover:border-blue-300"}`,children:tt.completed&&T.jsx(gN,{size:14})}),T.jsx("span",{onClick:()=>Y(tt.id),className:`text-sm font-bold flex-1 cursor-pointer ${tt.completed?"line-through text-slate-400 italic":"text-slate-700"}`,children:tt.text}),T.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[T.jsx("button",{onClick:()=>{v(tt.id),S(tt.text)},className:"p-1.5 text-slate-300 hover:text-blue-500",children:T.jsx(zE,{size:14})}),T.jsx("button",{onClick:()=>rt(tt.id),className:"p-1.5 text-slate-300 hover:text-red-500",children:T.jsx(op,{size:14})})]})]})},tt.id))})]},nt.id))})]})},FI=({onLoginSuccess:r})=>{const[t,i]=pt.useState(""),[a,o]=pt.useState(""),[c,d]=pt.useState(""),g=v=>{v.preventDefault(),t==="abc"&&a==="abc"?r():(d(""),o(""))};return T.jsx("div",{className:"min-h-screen w-full bg-slate-50 flex items-center justify-center p-6 font-sans",children:T.jsxs("div",{className:"max-w-md w-full animate-fade-in",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("div",{className:"w-20 h-20 bg-blue-600 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl rotate-12",children:T.jsx(ym,{size:40})}),T.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:""}),T.jsx("p",{className:"text-slate-400 font-bold mt-2",children:""})]}),T.jsxs("form",{onSubmit:g,className:"bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 space-y-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),T.jsxs("div",{className:"relative",children:[T.jsx(II,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),T.jsx("input",{required:!0,type:"text",placeholder:"",value:t,onChange:v=>i(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),T.jsxs("div",{className:"relative",children:[T.jsx(ZN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),T.jsx("input",{required:!0,type:"password",placeholder:"",value:a,onChange:v=>o(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold"})]})]}),c&&T.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-xs font-bold bg-red-50 p-3 rounded-xl animate-pulse",children:[T.jsx(mN,{size:14})," ",c]}),T.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-5 rounded-2xl font-black flex items-center justify-center gap-3 shadow-xl shadow-blue-100 transition-all active:scale-95",children:[T.jsx(tI,{size:20})," "]})]}),T.jsx("p",{className:"text-center text-slate-300 text-[10px] font-bold mt-8 uppercase tracking-widest",children:BE})]})})},QI=()=>{const[r,t]=pt.useState(!1),[i,a]=pt.useState("home"),[o,c]=pt.useState("itinerary"),[d,g]=pt.useState(null),[v,y]=pt.useState(null),[S,x]=pt.useState([]),[C,G]=pt.useState(!0),[Y,rt]=pt.useState(1),[W,nt]=pt.useState({country:"",city:"",startDate:"",duration:3}),[tt,lt]=pt.useState({days:{},checklist:[],expenses:[],customRates:{},useCustom:{}}),[At,Ft]=pt.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[Nt,D]=pt.useState(null),[R,A]=pt.useState({}),[k,M]=pt.useState({type:"",message:""}),[U,N]=pt.useState(!1),[ee,fe]=pt.useState({}),[Q,at]=pt.useState(1);pt.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const $=document.createElement("script");$.id="tailwind-cdn",$.src="https://cdn.tailwindcss.com",document.head.appendChild($)}const w=document.createElement("style");w.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { min-height: 100vh !important; width: 100% !important; background-color: #f8fafc; font-family: 'Noto Sans TC', sans-serif; margin: 0; padding: 0; }
      #root { display: flex; flex-direction: column; align-items: center; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(w),(()=>{let $=document.querySelector("link[rel~='icon']");$||($=document.createElement("link"),$.rel="icon",document.head.appendChild($)),$.href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232563eb'%3E%3Cpath d='M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z'/%3E%3C/svg%3E"})()},[]),pt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await eA(Hc,__initial_auth_token):await $S(Hc)}catch($){console.error("Auth failed",$)}finally{G(!1)}})();const B=sA(Hc,$=>{$&&g($)});return()=>B()},[]),pt.useEffect(()=>{if(!d||!zs||!r)return;const w=AC(zs,"artifacts",ja,"public","data","trips");return Fd(w,B=>{x(B.docs.map($=>({id:$.id,...$.data()})).sort(($,it)=>new Date(it.createdAt)-new Date($.createdAt)))},B=>{B.code==="permission-denied"&&M({type:"error",message:""})})},[d,r]),pt.useEffect(()=>{if(!d||!v||!zs||!r)return;const w=yo(zs,"artifacts",ja,"public","data","itineraries",v),B=Fd(w,et=>{if(et.exists()){const ht=et.data();lt({days:ht.days||{},checklist:ht.checklist||[],expenses:ht.expenses||[],customRates:ht.customRates||{},useCustom:ht.useCustom||{}}),a("editor")}},et=>console.error("Itinerary Error:",et)),$=yo(zs,"artifacts",ja,"public","data","trips",v),it=Fd($,et=>{et.exists()&&nt(et.data())});return()=>{B(),it()}},[d,v,r]);const ct=async(w,B)=>{if(!(!d||!v))try{await zC(yo(zs,"artifacts",ja,"public","data","itineraries",v),{[w]:B})}catch($){console.error($)}},Mt=async w=>{if(!d||!v)return;const B={...tt.days},$=Y+w;if($<1||$>parseInt(W.duration||"0"))return;const it=B[Y],et=B[$];B[Y]=et,B[$]=it,await ct("days",B),rt($),M({type:"success",message:""})},qt=async w=>{if(w.preventDefault(),!d)return;G(!0);const B=crypto.randomUUID(),$={};for(let it=1;it<=Math.max(1,parseInt(W.duration));it++)$[it]={spots:[],flights:[],weather:null};try{await hv(yo(zs,"artifacts",ja,"public","data","trips",B),{...W,creator:d.uid,createdAt:new Date().toISOString()}),await hv(yo(zs,"artifacts",ja,"public","data","itineraries",B),{days:$,checklist:[],expenses:[],customRates:{},useCustom:{}}),y(B)}catch(it){console.error(it)}finally{G(!1)}};return r?C?T.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[T.jsx(LE,{className:"animate-spin text-blue-600 mb-2",size:48}),T.jsx("p",{className:"text-slate-500 font-bold italic tracking-widest leading-none",children:"..."})]}):T.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen",children:[k.message&&T.jsxs("div",{className:`fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border ${k.type==="success"?"bg-green-50 border-green-100 text-green-600":"bg-red-50 border-red-100 text-red-600"}`,children:[" ",T.jsx("span",{className:"font-bold text-sm",children:k.message}),T.jsx("button",{onClick:()=>M({type:"",message:""}),children:T.jsx(UI,{size:14})})," "]}),i==="home"?T.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-fade-in",children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200 shadow-lg",children:T.jsx(ym,{size:48})}),T.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase leading-none",children:"Travel Planner"}),T.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center uppercase",children:" - "})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start px-4",children:[T.jsxs("div",{className:"space-y-6",children:[T.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[T.jsx(Co,{className:"text-blue-600"})," "]}),T.jsxs("form",{onSubmit:qt,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:W.country,onChange:w=>nt({...W,country:w.target.value})})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:W.city,onChange:w=>nt({...W,city:w.target.value})})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:W.startDate,onChange:w=>nt({...W,startDate:w.target.value})})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),T.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:W.duration,onChange:w=>nt({...W,duration:w.target.value})})]})]}),T.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all active:scale-95 shadow-blue-100 flex items-center justify-center gap-2",children:[T.jsx(Co,{size:24})," "]})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[T.jsx(Qd,{className:"text-blue-600"}),"  (",S.length,")"]}),T.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:S.map(w=>T.jsxs("div",{onClick:()=>y(w.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-5",children:[T.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm shadow-inner",children:T.jsx(HN,{size:24})}),T.jsxs("div",{children:[T.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[w.city," "]}),T.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:[w.country,"  ",w.startDate]})]})]}),T.jsx(fN,{className:"text-slate-200 group-hover:text-blue-600"})]},w.id))})]})]}),T.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:BE})]}):T.jsxs("div",{className:"w-full flex flex-col items-center pb-24 animate-fade-in px-4",children:[T.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50 shadow-sm max-w-[100vw] overflow-x-hidden",children:[T.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[T.jsx(ym,{size:24,className:"rotate-45"}),T.jsx("span",{className:"tracking-tighter uppercase font-black font-sans hidden sm:inline",children:"Traveler"})]}),T.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:["itinerary","weather","expenses","checklist","currency"].map(w=>T.jsx("button",{onClick:()=>c(w),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${o===w?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400 hover:text-slate-600"}`,children:w==="itinerary"?"":w==="weather"?"":w==="expenses"?"":w==="checklist"?"":""},w))}),T.jsxs("div",{className:"text-right font-black text-slate-800 tracking-tight truncate max-w-[150px]",children:[W.city," "]})]}),T.jsx("main",{className:"w-full max-w-5xl p-4 md:p-12",children:o==="itinerary"?T.jsxs("div",{className:"space-y-12",children:[T.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(tt?.days||{}).map(w=>T.jsxs("button",{onClick:()=>{rt(parseInt(w)),D(null)},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${Y===parseInt(w)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[T.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),T.jsx("span",{className:"text-3xl leading-none",children:w}),T.jsx("span",{className:"text-[10px] mt-1 font-bold",children:gv(W.startDate,parseInt(w)).split("/").slice(1).join("/")})]},w))}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",Y]}),T.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200",children:[T.jsx("button",{onClick:()=>Mt(-1),disabled:Y===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:T.jsx(JC,{size:20})}),T.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),T.jsx("button",{onClick:()=>Mt(1),disabled:Y===parseInt(W.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:T.jsx(WC,{size:20})})]})]}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("span",{className:"text-lg text-slate-400 font-bold ml-1 mb-1 block tracking-tight",children:["(",gv(W.startDate,Y)," ",LI(W.startDate,Y),")"]}),T.jsx("input",{className:"text-3xl md:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 w-full transition-all",placeholder:"...",value:tt?.days?.[Y]?.title||"",onChange:w=>ct(`days.${Y}.title`,w.target.value)})]})]}),T.jsx("div",{className:"flex justify-center md:justify-start",children:T.jsxs("button",{onClick:()=>N(!U),className:`flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border ${U?"bg-blue-600 text-white border-blue-600 shadow-blue-100 shadow-md":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:[U?T.jsx(jN,{size:16}):T.jsx(zN,{size:16})," ",U?"":""]})})]}),T.jsxs("div",{className:"bg-white p-6 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[T.jsxs("form",{onSubmit:async w=>{w.preventDefault();const B=tt?.days?.[Y]?.spots||[];await ct(`days.${Y}.spots`,[...B,{...At,id:Date.now().toString()}]),Ft({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[T.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[T.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm shadow-inner",children:[T.jsx(EN,{size:18,className:"text-blue-500"}),T.jsx("input",{type:"time",value:At.time,onChange:w=>Ft({...At,time:w.target.value}),className:"bg-transparent font-black outline-none w-24"})]}),T.jsx("input",{placeholder:"",required:!0,value:At.spot,onChange:w=>Ft({...At,spot:w.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm shadow-inner"})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("div",{className:"w-1/3 flex items-center gap-2 bg-white px-4 py-2 rounded-xl border shadow-sm text-xs font-bold text-slate-400",children:[T.jsx(KN,{size:18}),T.jsx("input",{placeholder:"",value:At.imageUrl,onChange:w=>Ft({...At,imageUrl:w.target.value}),className:"bg-transparent outline-none w-full"})]}),T.jsx("textarea",{placeholder:" ()...",value:At.note,onChange:w=>Ft({...At,note:w.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm shadow-sm shadow-inner"}),T.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black active:scale-95 shadow-lg flex items-center justify-center shadow-slate-200 shadow-md",children:T.jsx(Co,{size:24})})]})]}),T.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full",children:[(tt?.days?.[Y]?.spots||[]).map((w,B)=>{const $=U||!!ee[w.id],it=Nt===w.id;return T.jsxs("div",{className:"relative pl-2 group",children:[T.jsxs("div",{className:"absolute left-[-15px] top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[T.jsx("button",{onClick:et=>{et.stopPropagation();const ht=[...tt.days[Y].spots];B>0&&([ht[B],ht[B-1]]=[ht[B-1],ht[B]],ct(`days.${Y}.spots`,ht))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:T.jsx(eN,{size:20})}),T.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md group-hover:scale-110 transition-transform",children:w.time}),T.jsx("button",{onClick:et=>{et.stopPropagation();const ht=[...tt.days[Y].spots];B<tt.days[Y].spots?.length-1&&([ht[B],ht[B+1]]=[ht[B+1],ht[B]],ct(`days.${Y}.spots`,ht))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:T.jsx(KC,{size:20})})]}),T.jsx("div",{onClick:()=>!it&&fe(et=>({...et,[w.id]:!et[w.id]})),className:`p-10 bg-white border rounded-[3rem] transition-all cursor-pointer ${it?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:it?T.jsxs("div",{className:"space-y-4 animate-fade-in",onClick:et=>et.stopPropagation(),children:[T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"time",value:R.time,onChange:et=>A({...R,time:et.target.value}),className:"p-3 border rounded-xl font-black w-32 bg-slate-50 outline-none shadow-inner"}),T.jsx("input",{value:R.spot,onChange:et=>A({...R,spot:et.target.value}),className:"flex-1 p-3 border rounded-xl font-black bg-slate-50 outline-none shadow-inner"})]}),T.jsx("input",{placeholder:"...",value:R.imageUrl||"",onChange:et=>A({...R,imageUrl:et.target.value}),className:"w-full p-3 border rounded-xl bg-slate-50 outline-none text-xs font-bold shadow-inner"}),T.jsx("textarea",{value:R.note,onChange:et=>A({...R,note:et.target.value}),className:"w-full p-3 border rounded-xl h-24 bg-slate-50 outline-none text-sm shadow-inner"}),T.jsxs("div",{className:"flex justify-end gap-3",children:[T.jsx("button",{onClick:et=>{et.stopPropagation(),D(null)},className:"text-sm font-bold text-slate-400 px-4",children:""}),T.jsx("button",{onClick:async et=>{et.stopPropagation();const ht=tt.days[Y].spots.map(Ct=>Ct.id===Nt?R:Ct);await ct(`days.${Y}.spots`,ht),D(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg shadow-blue-100",children:""})]})]}):T.jsxs("div",{className:"flex justify-between items-start gap-4",children:[T.jsxs("div",{className:"space-y-4 flex-1",children:[T.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[T.jsx("h4",{className:"text-3xl font-black text-slate-800 leading-tight tracking-tight",children:w.spot}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(w.spot)}`,target:"_blank",rel:"noreferrer",onClick:et=>et.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-xl transition-all inline-flex items-center gap-1.5 text-xs font-black shadow-sm shadow-blue-100 hover:bg-blue-600 hover:text-white",children:[T.jsx(nI,{size:14})," "]}),(w.note||w.imageUrl)&&T.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1.5 text-[10px] font-black uppercase ${$?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[T.jsx(AI,{size:12})," ",$?"":""]})]})]}),$&&T.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100 space-y-4 animate-fade-in",onClick:et=>et.stopPropagation(),children:[w.imageUrl&&T.jsx("div",{className:"relative group/img overflow-hidden rounded-2xl border border-white shadow-sm max-w-md",children:T.jsx("img",{src:w.imageUrl,alt:w.spot,className:"w-full max-w-md h-auto rounded-2xl shadow-sm border border-white cursor-zoom-in",onError:et=>et.target.style.display="none",onClick:et=>{et.stopPropagation(),window.open(w.imageUrl,"_blank")}})}),T.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:zI(w.note)||""})]})]}),T.jsxs("div",{className:"flex flex-col gap-2 transition-all",children:[T.jsx("button",{onClick:et=>{et.stopPropagation(),D(w.id),A({...w})},className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all shadow-sm",children:T.jsx(zE,{size:20})}),T.jsx("button",{onClick:async et=>{if(et.stopPropagation(),confirm("")){const ht=tt.days[Y].spots.filter(Ct=>Ct.id!==w.id);await ct(`days.${Y}.spots`,ht)}},className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm",children:T.jsx(op,{size:20})})]})]})})]},w.id)}),!tt?.days?.[Y]?.spots?.length&&T.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[T.jsx(Qd,{className:"text-slate-100 mx-auto mb-6 opacity-20",size:80}),T.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}):o==="weather"?T.jsx(qI,{tripInfo:W}):o==="expenses"?T.jsx(BI,{itineraryData:tt,updateItinField:ct}):o==="checklist"?T.jsx(GI,{itineraryData:tt,updateItinField:ct}):T.jsx(HI,{itineraryData:tt,updateItinField:ct})}),T.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[T.jsx("button",{onClick:()=>c("itinerary"),className:`p-4 rounded-2xl transition-all ${o==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:T.jsx(Qd,{size:20})}),T.jsx("button",{onClick:()=>c("weather"),className:`p-4 rounded-2xl transition-all ${o==="weather"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:T.jsx(lp,{size:20})}),T.jsx("button",{onClick:()=>c("expenses"),className:`p-4 rounded-2xl transition-all ${o==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:T.jsx(kI,{size:20})}),T.jsx("button",{onClick:()=>c("checklist"),className:`p-4 rounded-2xl transition-all ${o==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:T.jsx(XN,{size:20})}),T.jsx("button",{onClick:()=>c("currency"),className:`p-4 rounded-2xl transition-all ${o==="currency"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:T.jsx(RN,{size:20})})]})]})]}):T.jsx(FI,{onLoginSuccess:()=>t(!0)})};Cb.createRoot(document.getElementById("root")).render(T.jsx(pt.StrictMode,{children:T.jsx(QI,{})}));
