(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var xd={exports:{}},po={};var O_;function bb(){if(O_)return po;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=t,po.jsx=i,po.jsxs=i,po}var M_;function Sb(){return M_||(M_=1,xd.exports=bb()),xd.exports}var S=Sb(),Cd={exports:{}},St={};var V_;function Ab(){if(V_)return St;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,X={};function rt(O,Y,st){this.props=O,this.context=Y,this.refs=X,this.updater=st||Z}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ht(){}ht.prototype=rt.prototype;function ft(O,Y,st){this.props=O,this.context=Y,this.refs=X,this.updater=st||Z}var Rt=ft.prototype=new ht;Rt.constructor=ft,W(Rt,rt.prototype),Rt.isPureReactComponent=!0;var Ht=Array.isArray;function wt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Y,st){var lt=st.ref;return{$$typeof:r,type:O,key:Y,ref:lt!==void 0?lt:null,props:st}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var x=/\/+/g;function nt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function Vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function k(O,Y,st,lt,Tt){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var Bt=!1;if(O===null)Bt=!0;else switch(It){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(O.$$typeof){case r:case t:Bt=!0;break;case b:return Bt=O._init,k(Bt(O._payload),Y,st,lt,Tt)}}if(Bt)return Tt=Tt(O),Bt=lt===""?"."+nt(O,0):lt,Ht(Tt)?(st="",Bt!=null&&(st=Bt.replace(x,"$&/")+"/"),k(Tt,Y,st,"",function(ar){return ar})):Tt!=null&&(D(Tt)&&(Tt=V(Tt,st+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(x,"$&/")+"/")+Bt)),Y.push(Tt)),1;Bt=0;var Ne=lt===""?".":lt+":";if(Ht(O))for(var le=0;le<O.length;le++)lt=O[le],It=Ne+nt(lt,le),Bt+=k(lt,Y,st,It,Tt);else if(le=G(O),typeof le=="function")for(O=le.call(O),le=0;!(lt=O.next()).done;)lt=lt.value,It=Ne+nt(lt,le++),Bt+=k(lt,Y,st,It,Tt);else if(It==="object"){if(typeof O.then=="function")return k(Vt(O),Y,st,lt,Tt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function Q(O,Y,st){if(O==null)return O;var lt=[],Tt=0;return k(O,lt,"","",function(It){return Y.call(st,It,Tt++)}),lt}function et(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Et=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},_t={map:Q,forEach:function(O,Y,st){Q(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return Q(O,function(){Y++}),Y},toArray:function(O){return Q(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=w,St.Children=_t,St.Component=rt,St.Fragment=i,St.Profiler=o,St.PureComponent=ft,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=W({},O.props),Tt=O.key;if(Y!=null)for(It in Y.key!==void 0&&(Tt=""+Y.key),Y)!A.call(Y,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&Y.ref===void 0||(lt[It]=Y[It]);var It=arguments.length-2;if(It===1)lt.children=st;else if(1<It){for(var Bt=Array(It),Ne=0;Ne<It;Ne++)Bt[Ne]=arguments[Ne+2];lt.children=Bt}return C(O.type,Tt,lt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,Y,st){var lt,Tt={},It=null;if(Y!=null)for(lt in Y.key!==void 0&&(It=""+Y.key),Y)A.call(Y,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Tt[lt]=Y[lt]);var Bt=arguments.length-2;if(Bt===1)Tt.children=st;else if(1<Bt){for(var Ne=Array(Bt),le=0;le<Bt;le++)Ne[le]=arguments[le+2];Tt.children=Ne}if(O&&O.defaultProps)for(lt in Bt=O.defaultProps,Bt)Tt[lt]===void 0&&(Tt[lt]=Bt[lt]);return C(O,It,Tt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:g,render:O}},St.isValidElement=D,St.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:et}},St.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},St.startTransition=function(O){var Y=N.T,st={};N.T=st;try{var lt=O(),Tt=N.S;Tt!==null&&Tt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(wt,Et)}catch(It){Et(It)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),N.T=Y}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(O){return N.H.use(O)},St.useActionState=function(O,Y,st){return N.H.useActionState(O,Y,st)},St.useCallback=function(O,Y){return N.H.useCallback(O,Y)},St.useContext=function(O){return N.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},St.useEffect=function(O,Y){return N.H.useEffect(O,Y)},St.useEffectEvent=function(O){return N.H.useEffectEvent(O)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(O,Y,st){return N.H.useImperativeHandle(O,Y,st)},St.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},St.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},St.useMemo=function(O,Y){return N.H.useMemo(O,Y)},St.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},St.useReducer=function(O,Y,st){return N.H.useReducer(O,Y,st)},St.useRef=function(O){return N.H.useRef(O)},St.useState=function(O){return N.H.useState(O)},St.useSyncExternalStore=function(O,Y,st){return N.H.useSyncExternalStore(O,Y,st)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.4",St}var k_;function Tm(){return k_||(k_=1,Cd.exports=Ab()),Cd.exports}var gt=Tm(),Id={exports:{}},go={},Nd={exports:{}},Dd={};var U_;function wb(){return U_||(U_=1,(function(r){function t(k,Q){var et=k.length;k.push(Q);t:for(;0<et;){var Et=et-1>>>1,_t=k[Et];if(0<o(_t,Q))k[Et]=Q,k[et]=_t,et=Et;else break t}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Q=k[0],et=k.pop();if(et!==Q){k[0]=et;t:for(var Et=0,_t=k.length,O=_t>>>1;Et<O;){var Y=2*(Et+1)-1,st=k[Y],lt=Y+1,Tt=k[lt];if(0>o(st,et))lt<_t&&0>o(Tt,st)?(k[Et]=Tt,k[lt]=et,Et=lt):(k[Et]=st,k[Y]=et,Et=Y);else if(lt<_t&&0>o(Tt,et))k[Et]=Tt,k[lt]=et,Et=lt;else break t}}return Q}function o(k,Q){var et=k.sortIndex-Q.sortIndex;return et!==0?et:k.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,w=null,R=3,G=!1,Z=!1,W=!1,X=!1,rt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Rt(k){for(var Q=i(y);Q!==null;){if(Q.callback===null)a(y);else if(Q.startTime<=k)a(y),Q.sortIndex=Q.expirationTime,t(v,Q);else break;Q=i(y)}}function Ht(k){if(W=!1,Rt(k),!Z)if(i(v)!==null)Z=!0,wt||(wt=!0,U());else{var Q=i(y);Q!==null&&Vt(Ht,Q.startTime-k)}}var wt=!1,N=-1,A=5,C=-1;function V(){return X?!0:!(r.unstable_now()-C<A)}function D(){if(X=!1,wt){var k=r.unstable_now();C=k;var Q=!0;try{t:{Z=!1,W&&(W=!1,ht(N),N=-1),G=!0;var et=R;try{e:{for(Rt(k),w=i(v);w!==null&&!(w.expirationTime>k&&V());){var Et=w.callback;if(typeof Et=="function"){w.callback=null,R=w.priorityLevel;var _t=Et(w.expirationTime<=k);if(k=r.unstable_now(),typeof _t=="function"){w.callback=_t,Rt(k),Q=!0;break e}w===i(v)&&a(v),Rt(k)}else a(v);w=i(v)}if(w!==null)Q=!0;else{var O=i(y);O!==null&&Vt(Ht,O.startTime-k),Q=!1}}break t}finally{w=null,R=et,G=!1}Q=void 0}}finally{Q?U():wt=!1}}}var U;if(typeof ft=="function")U=function(){ft(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,nt=x.port2;x.port1.onmessage=D,U=function(){nt.postMessage(null)}}else U=function(){rt(D,0)};function Vt(k,Q){N=rt(function(){k(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(k){switch(R){case 1:case 2:case 3:var Q=3;break;default:Q=R}var et=R;R=Q;try{return k()}finally{R=et}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(k,Q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var et=R;R=k;try{return Q()}finally{R=et}},r.unstable_scheduleCallback=function(k,Q,et){var Et=r.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Et+et:Et):et=Et,k){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=et+_t,k={id:b++,callback:Q,priorityLevel:k,startTime:et,expirationTime:_t,sortIndex:-1},et>Et?(k.sortIndex=et,t(y,k),i(v)===null&&k===i(y)&&(W?(ht(N),N=-1):W=!0,Vt(Ht,et-Et))):(k.sortIndex=_t,t(v,k),Z||G||(Z=!0,wt||(wt=!0,U()))),k},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(k){var Q=R;return function(){var et=R;R=Q;try{return k.apply(this,arguments)}finally{R=et}}}})(Dd)),Dd}var L_;function Rb(){return L_||(L_=1,Nd.exports=wb()),Nd.exports}var Od={exports:{}},Ye={};var j_;function xb(){if(j_)return Ye;j_=1;var r=Tm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:G}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:R,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var z_;function Cb(){if(z_)return Od.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=xb(),Od.exports}var P_;function Ib(){if(P_)return go;P_=1;var r=Rb(),t=Tm(),i=Cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),Ht=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case rt:return"Profiler";case X:return"StrictMode";case Ht:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ft:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case Rt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:nt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return nt(e(n))}catch{}}return null}var Vt=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Et=[],_t=-1;function O(e){return{current:e}}function Y(e){0>_t||(e.current=Et[_t],Et[_t]=null,_t--)}function st(e,n){_t++,Et[_t]=e.current,e.current=n}var lt=O(null),Tt=O(null),It=O(null),Bt=O(null);function Ne(e,n){switch(st(It,n),st(Tt,e),st(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(lt),st(lt,e)}function le(){Y(lt),Y(Tt),Y(It)}function ar(e){e.memoizedState!==null&&st(Bt,e);var n=lt.current,s=n_(n,e.type);n!==s&&(st(Tt,e),st(lt,s))}function Yr(e){Tt.current===e&&(Y(lt),Y(Tt)),Bt.current===e&&(Y(Bt),co._currentValue=et)}var Xr,$r;function Wn(e){if(Xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var cl=!1;function lr(e,n){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var F=`
`+I[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return Wn("Activity");default:return""}}function fl(e){try{var n="",s=null;do n+=hl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Xo=r.unstable_requestPaint,tn=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,$o=r.unstable_IdlePriority,Jo=r.log,Zo=r.unstable_setDisableYieldValue,jn=null,ze=null;function Sn(e){if(typeof Jo=="function"&&Zo(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(jn,e)}catch{}}var de=Math.clz32?Math.clz32:tu,Wo=Math.log,Jr=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wo(e)/Jr|0)|0}var ti=256,ur=262144,ve=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ei(l):(p&=E,p!==0?h=ei(p):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=l&~f,E!==0?h=ei(E):p!==0?h=ei(p):s||(s=l&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-de(s),$=1<<F;E[F]=0,I[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~$}l!==0&&hr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function hr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function pl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-de(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function gl(e,n){var s=n&-n;return s=(s&42)!==0?1:fr(s),(s&(e.suspendedLanes|n))!==0?0:s}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Pn(e,n){var s=Q.p;try{return Q.p=e,n()}finally{Q.p=s}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,ke="__reactProps$"+Bn,si="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,Oh="__reactListeners$"+Bn,iu="__reactHandles$"+Bn,su="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Wr(e){delete e[Ee],delete e[ke],delete e[Zr],delete e[Oh],delete e[iu]}function ai(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[Ee])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[Ee]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ri]=!0}var yl=new Set,_l={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function ru(e){return _e.call(Tl,e)?!0:_e.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function ta(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function dr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=us(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function sn(e){return e.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Sl(e,p,Ue(n)):s!=null?Sl(e,p,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function au(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Xt(e)}function Sl(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function hs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Vt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Xt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Al(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Al(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Rl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,hi=null;function pr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(a(90));ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&dr(l)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&cs(e,!!s.multiple,n,!1)}}}var sa=!1;function ms(e,n,s){if(sa)return e(n,s);sa=!0;try{var l=e(n);return l}finally{if(sa=!1,(ds!==null||hi!==null)&&(nc(),ds&&(n=ds,e=hi,hi=ds=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Rn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{gr=!1}var fi=null,xl=null,yr=null;function Cl(){if(yr)return yr;var e,n=xl,s=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return yr=h.slice(e,1<l?1-l:void 0)}function _r(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Gn(){return!1}function Pe(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Gn,this.isPropagationStopped=Gn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pe(Di),ps=w({},Di,{view:0,detail:0}),Il=Pe(ps),gs,ra,mi,aa=w({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(gs=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=gs=0,mi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Nl=Pe(aa),vr=w({},aa,{dataTransfer:0}),cu=Pe(vr),hu=w({},ps,{relatedTarget:0}),Er=Pe(hu),Dl=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Pe(Dl),la=w({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Pe(la),mu=w({},Di,{data:0}),pi=Pe(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ys(){return _u}var en=w({},ps,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Pe(en),Eu=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(Eu),u=w({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=Pe(u),_=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(_),j=w({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(j),it=w({},Di,{newState:0,oldState:0}),xt=Pe(it),me=[9,13,27,32],Qt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var xn=Rn&&"TextEvent"in window&&!oe,gi=Rn&&(!Qt||oe&&8<oe&&11>=oe),Fn=" ",Qn=!1;function Tr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function QE(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function KE(e,n){if(ua)return e==="compositionend"||!Qt&&Tr(e,n)?(e=Cl(),yr=xl=fi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YE[e.type]:n==="textarea"}function dp(e,n,s,l){ds?hi?hi.push(l):hi=[l]:ds=l,n=uc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ol=null,Ml=null;function XE(e){Xy(e,0)}function Tu(e){var n=dn(e);if(dr(n))return e}function mp(e,n){if(e==="change")return n}var pp=!1;if(Rn){var Mh;if(Rn){var Vh="oninput"in document;if(!Vh){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Vh=typeof gp.oninput=="function"}Mh=Vh}else Mh=!1;pp=Mh&&(!document.documentMode||9<document.documentMode)}function yp(){Ol&&(Ol.detachEvent("onpropertychange",_p),Ml=Ol=null)}function _p(e){if(e.propertyName==="value"&&Tu(Ml)){var n=[];dp(n,Ml,e,wn(e)),ms(XE,n)}}function $E(e,n,s){e==="focusin"?(yp(),Ol=n,Ml=s,Ol.attachEvent("onpropertychange",_p)):e==="focusout"&&yp()}function JE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Ml)}function ZE(e,n){if(e==="click")return Tu(n)}function WE(e,n){if(e==="input"||e==="change")return Tu(n)}function tT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:tT;function Vl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,n){var s=vp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vp(s)}}function Tp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var eT=Rn&&"documentMode"in document&&11>=document.documentMode,ca=null,Uh=null,kl=null,Lh=!1;function Sp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||ca==null||ca!==ci(l)||(l=ca,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=uc(Uh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ca)))}function br(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},jh={},Ap={};Rn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Sr(e){if(jh[e])return jh[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ap)return jh[e]=n[s];return e}var wp=Sr("animationend"),Rp=Sr("animationiteration"),xp=Sr("animationstart"),nT=Sr("transitionrun"),iT=Sr("transitionstart"),sT=Sr("transitioncancel"),Cp=Sr("transitionend"),Ip=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Kn(e,n){Ip.set(e,n),oi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],fa=0,Ph=0;function Su(){for(var e=fa,n=Ph=fa=0;n<e;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Np(s,h,f)}}function Au(e,n,s,l){Cn[fa++]=e,Cn[fa++]=n,Cn[fa++]=s,Cn[fa++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return Au(e,n,s,l),wu(e)}function Ar(e,n){return Au(e,null,null,n),wu(e)}function Np(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<io)throw io=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function rT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new rT(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=cb(e,s,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,s,n,h),e.elementType=C,e.lanes=f,e;case W:return wr(s.children,h,f,n);case X:p=8,h|=24;break;case rt:return e=gn(12,s,n,h|2),e.elementType=rt,e.lanes=f,e;case Ht:return e=gn(13,s,n,h),e.elementType=Ht,e.lanes=f,e;case wt:return e=gn(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:p=10;break t;case ht:p=9;break t;case Rt:p=11;break t;case N:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=gn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function wr(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Op(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mp=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=Mp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fl(n)},Mp.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var ma=[],pa=0,xu=null,Ul=0,Nn=[],Dn=0,_s=null,yi=1,_i="";function Vi(e,n){ma[pa++]=Ul,ma[pa++]=xu,xu=e,Ul=n}function Vp(e,n,s){Nn[Dn++]=yi,Nn[Dn++]=_i,Nn[Dn++]=_s,_s=e;var l=yi;e=_i;var h=32-de(l)-1;l&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,yi=1<<32-de(n)+h|s<<h|l,_i=f+e}else yi=1<<f|s<<h|l,_i=e}function Fh(e){e.return!==null&&(Vi(e,1),Vp(e,1,0))}function Qh(e){for(;e===xu;)xu=ma[--pa],ma[pa]=null,Ul=ma[--pa],ma[pa]=null;for(;e===_s;)_s=Nn[--Dn],Nn[Dn]=null,_i=Nn[--Dn],Nn[Dn]=null,yi=Nn[--Dn],Nn[Dn]=null}function kp(e,n){Nn[Dn++]=yi,Nn[Dn++]=_i,Nn[Dn++]=_s,yi=n.id,_i=n.overflow,_s=e}var Be=null,ie=null,Pt=!1,vs=null,On=!1,Kh=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(In(n,e)),Kh}function Up(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[ke]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)Mt(ro[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),au(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),hs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Wy(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Es(e,!0)}function Lp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ga(e){if(e!==Be)return!1;if(!Pt)return Lp(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ie&&Es(e),Lp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=o_(e)}else n===27?(n=ie,Vs(e.type)?(e=yd,yd=null,ie=e):ie=n):ie=Be?Vn(e.stateNode.nextSibling):null;return!0}function Rr(){ie=Be=null,Pt=!1}function Yh(){var e=vs;return e!==null&&(un===null?un=e:un.push.apply(un,e),vs=null),e}function Ll(e){vs===null?vs=[e]:vs.push(e)}var Xh=O(null),xr=null,ki=null;function Ts(e,n,s){st(Xh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Xh.current,Y(Xh)}function $h(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ya(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Bt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&Jh(n,e,s,l),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){xr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return jp(xr,e)}function Iu(e,n){return xr===null&&Cr(e),jp(e,n)}function jp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var aT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},lT=r.unstable_scheduleCallback,oT=r.unstable_NormalPriority,Se={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new aT,data:new Map,refCount:0}}function jl(e){e.refCount--,e.refCount===0&&lT(oT,function(){e.controller.abort()})}var zl=null,Wh=0,_a=0,va=null;function uT(e,n){if(zl===null){var s=zl=[];Wh=0,_a=id(),va={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(zp,zp),n}function zp(){if(--Wh===0&&zl!==null){va!==null&&(va.status="fulfilled");var e=zl;zl=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Pp=k.S;k.S=function(e,n){Sy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uT(e,n),Pp!==null&&Pp(e,n)};var Ir=O(null);function tf(){var e=Ir.current;return e!==null?e:ne.pooledCache}function Nu(e,n){n===null?st(Ir,Ir.current):st(Ir,n.pool)}function Bp(){var e=tf();return e===null?null:{parent:Se._currentValue,pool:e}}var Ea=Error(a(460)),ef=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fp(e),e}throw Dr=n,Ea}}function Nr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Dr=s,Ea):s}}var Dr=null;function Gp(){if(Dr===null)throw Error(a(459));var e=Dr;return Dr=null,e}function Fp(e){if(e===Ea||e===Du)throw Error(a(483))}var Ta=null,Pl=0;function Mu(e){var n=Pl;return Pl+=1,Ta===null&&(Ta=[]),Hp(Ta,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===R?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qp(e){function n(L,M){if(e){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function s(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Mi(L,M),L.index=0,L.sibling=null,L}function f(L,M,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,M,z,K){return M===null||M.tag!==6?(M=Hh(z,L.mode,K),M.return=L,M):(M=h(M,z),M.return=L,M)}function I(L,M,z,K){var dt=z.type;return dt===W?F(L,M,z.props.children,K,z.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Nr(dt)===M.type)?(M=h(M,z.props),Bl(M,z),M.return=L,M):(M=Ru(z.type,z.key,z.props,null,L.mode,K),Bl(M,z),M.return=L,M)}function P(L,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Gh(z,L.mode,K),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function F(L,M,z,K,dt){return M===null||M.tag!==7?(M=wr(z,L.mode,K,dt),M.return=L,M):(M=h(M,z),M.return=L,M)}function $(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return z=Ru(M.type,M.key,M.props,null,L.mode,z),Bl(z,M),z.return=L,z;case Z:return M=Gh(M,L.mode,z),M.return=L,M;case A:return M=Nr(M),$(L,M,z)}if(Vt(M)||U(M))return M=wr(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return $(L,Mu(M),z);if(M.$$typeof===ft)return $(L,Iu(L,M),z);Vu(L,M)}return null}function B(L,M,z,K){var dt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:E(L,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===dt?I(L,M,z,K):null;case Z:return z.key===dt?P(L,M,z,K):null;case A:return z=Nr(z),B(L,M,z,K)}if(Vt(z)||U(z))return dt!==null?null:F(L,M,z,K,null);if(typeof z.then=="function")return B(L,M,Mu(z),K);if(z.$$typeof===ft)return B(L,M,Iu(L,z),K);Vu(L,z)}return null}function H(L,M,z,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(z)||null,E(M,L,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return L=L.get(K.key===null?z:K.key)||null,I(M,L,K,dt);case Z:return L=L.get(K.key===null?z:K.key)||null,P(M,L,K,dt);case A:return K=Nr(K),H(L,M,z,K,dt)}if(Vt(K)||U(K))return L=L.get(z)||null,F(M,L,K,dt,null);if(typeof K.then=="function")return H(L,M,z,Mu(K),dt);if(K.$$typeof===ft)return H(L,M,z,Iu(M,K),dt);Vu(M,K)}return null}function ot(L,M,z,K){for(var dt=null,Gt=null,ut=M,Nt=M=0,Ut=null;ut!==null&&Nt<z.length;Nt++){ut.index>Nt?(Ut=ut,ut=null):Ut=ut.sibling;var Ft=B(L,ut,z[Nt],K);if(Ft===null){ut===null&&(ut=Ut);break}e&&ut&&Ft.alternate===null&&n(L,ut),M=f(Ft,M,Nt),Gt===null?dt=Ft:Gt.sibling=Ft,Gt=Ft,ut=Ut}if(Nt===z.length)return s(L,ut),Pt&&Vi(L,Nt),dt;if(ut===null){for(;Nt<z.length;Nt++)ut=$(L,z[Nt],K),ut!==null&&(M=f(ut,M,Nt),Gt===null?dt=ut:Gt.sibling=ut,Gt=ut);return Pt&&Vi(L,Nt),dt}for(ut=l(ut);Nt<z.length;Nt++)Ut=H(ut,L,Nt,z[Nt],K),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Nt:Ut.key),M=f(Ut,M,Nt),Gt===null?dt=Ut:Gt.sibling=Ut,Gt=Ut);return e&&ut.forEach(function(zs){return n(L,zs)}),Pt&&Vi(L,Nt),dt}function pt(L,M,z,K){if(z==null)throw Error(a(151));for(var dt=null,Gt=null,ut=M,Nt=M=0,Ut=null,Ft=z.next();ut!==null&&!Ft.done;Nt++,Ft=z.next()){ut.index>Nt?(Ut=ut,ut=null):Ut=ut.sibling;var zs=B(L,ut,Ft.value,K);if(zs===null){ut===null&&(ut=Ut);break}e&&ut&&zs.alternate===null&&n(L,ut),M=f(zs,M,Nt),Gt===null?dt=zs:Gt.sibling=zs,Gt=zs,ut=Ut}if(Ft.done)return s(L,ut),Pt&&Vi(L,Nt),dt;if(ut===null){for(;!Ft.done;Nt++,Ft=z.next())Ft=$(L,Ft.value,K),Ft!==null&&(M=f(Ft,M,Nt),Gt===null?dt=Ft:Gt.sibling=Ft,Gt=Ft);return Pt&&Vi(L,Nt),dt}for(ut=l(ut);!Ft.done;Nt++,Ft=z.next())Ft=H(ut,L,Nt,Ft.value,K),Ft!==null&&(e&&Ft.alternate!==null&&ut.delete(Ft.key===null?Nt:Ft.key),M=f(Ft,M,Nt),Gt===null?dt=Ft:Gt.sibling=Ft,Gt=Ft);return e&&ut.forEach(function(Tb){return n(L,Tb)}),Pt&&Vi(L,Nt),dt}function ee(L,M,z,K){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:t:{for(var dt=z.key;M!==null;){if(M.key===dt){if(dt=z.type,dt===W){if(M.tag===7){s(L,M.sibling),K=h(M,z.props.children),K.return=L,L=K;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Nr(dt)===M.type){s(L,M.sibling),K=h(M,z.props),Bl(K,z),K.return=L,L=K;break t}s(L,M);break}else n(L,M);M=M.sibling}z.type===W?(K=wr(z.props.children,L.mode,K,z.key),K.return=L,L=K):(K=Ru(z.type,z.key,z.props,null,L.mode,K),Bl(K,z),K.return=L,L=K)}return p(L);case Z:t:{for(dt=z.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(L,M.sibling),K=h(M,z.children||[]),K.return=L,L=K;break t}else{s(L,M);break}else n(L,M);M=M.sibling}K=Gh(z,L.mode,K),K.return=L,L=K}return p(L);case A:return z=Nr(z),ee(L,M,z,K)}if(Vt(z))return ot(L,M,z,K);if(U(z)){if(dt=U(z),typeof dt!="function")throw Error(a(150));return z=dt.call(z),pt(L,M,z,K)}if(typeof z.then=="function")return ee(L,M,Mu(z),K);if(z.$$typeof===ft)return ee(L,M,Iu(L,z),K);Vu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(L,M.sibling),K=h(M,z),K.return=L,L=K):(s(L,M),K=Hh(z,L.mode,K),K.return=L,L=K),p(L)):s(L,M)}return function(L,M,z,K){try{Pl=0;var dt=ee(L,M,z,K);return Ta=null,dt}catch(ut){if(ut===Ea||ut===Du)throw ut;var Gt=gn(29,ut,null,L.mode);return Gt.lanes=K,Gt.return=L,Gt}}}var Or=Qp(!0),Kp=Qp(!1),bs=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(e),Np(e,null,s),n}return Au(e,l,n,s),wu(e)}function ql(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,pl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Hl(){if(af){var e=va;if(e!==null)throw e}}function Gl(e,n,s,l){af=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,F=P=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(kt&B)===B:(l&B)===B){B!==0&&B===_a&&(af=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;B=n;var ee=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){$=ot.call(ee,$,B);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,B=typeof ot=="function"?ot.call(ee,$,B):ot,B==null)break t;$=w({},$,B);break t;case 2:bs=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,I=$):F=F.next=H,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=$),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Is|=p,e.lanes=p,e.memoizedState=$}}function Yp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Yp(s[e],n)}var ba=O(null),ku=O(0);function $p(e,n){e=Fi,st(ku,e),st(ba,n),Fi=e|n.baseLanes}function lf(){st(ku,Fi),st(ba,ba.current)}function of(){Fi=ku.current,Y(ba),Y(ku)}var yn=O(null),Mn=null;function ws(e){var n=e.alternate;st(pe,pe.current&1),st(yn,e),Mn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Mn=e)}function uf(e){st(pe,pe.current),st(yn,e),Mn===null&&(Mn=e)}function Jp(e){e.tag===22?(st(pe,pe.current),st(yn,e),Mn===null&&(Mn=e)):Rs()}function Rs(){st(pe,pe.current),st(yn,yn.current)}function _n(e){Y(yn),Mn===e&&(Mn=null),Y(pe)}var pe=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Ct=null,Wt=null,Ae=null,Lu=!1,Sa=!1,Mr=!1,ju=0,Fl=0,Aa=null,hT=0;function he(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return Li=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?Vg:Rf,Mr=!1,f=s(l,h),Mr=!1,Sa&&(f=Wp(n,s,l,h)),Zp(e),f}function Zp(e){k.H=Yl;var n=Wt!==null&&Wt.next!==null;if(Li=0,Ae=Wt=Ct=null,Lu=!1,Fl=0,Aa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Cu(e)&&(we=!0))}function Wp(e,n,s,l){Ct=e;var h=0;do{if(Sa&&(Aa=null),Fl=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=kg,f=n(s,l)}while(Sa);return f}function fT(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function ff(){var e=ju!==0;return ju=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Li=0,Ae=Wt=Ct=null,Sa=!1,Fl=ju=0,Aa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ct.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ae===null?Ct.memoizedState:Ae.next;if(n!==null)Ae=n,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?Ct.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Fl;return Fl+=1,Aa===null&&(Aa=[]),e=Hp(Aa,e,n),n=Ct,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Vg:Rf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===ft)return qe(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=ge();return gf(n,Wt,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,P=n,F=!1;do{var $=P.lane&-536870913;if($!==P.lane?(kt&$)===$:(Li&$)===$){var B=P.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===_a&&(F=!0);else if((Li&B)===B){P=P.next,B===_a&&(F=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=$,p=f):I=I.next=$,Ct.lanes|=B,Is|=B;$=P.action,Mr&&s(f,$),f=P.hasEagerState?P.eagerState:s(f,$)}else B={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=B,p=f):I=I.next=B,Ct.lanes|=$,Is|=$;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!pn(f,e.memoizedState)&&(we=!0,F&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function tg(e,n,s){var l=Ct,h=ge(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Wt||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,Ef(ig.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,wa(9,{destroy:void 0},ng.bind(null,l,h,s,n),null),ne===null)throw Error(a(349));f||(Li&127)!==0||eg(l,n,s)}return s}function eg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=zu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ng(e,n,s,l){n.value=s,n.getSnapshot=l,sg(n)&&rg(e)}function ig(e,n,s){return s(function(){sg(n)&&rg(e)})}function sg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function rg(e){var n=Ar(e,2);n!==null&&cn(n,e,2)}function _f(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Mr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function ag(e,n,s,l){return e.baseState=s,gf(e,Wt,typeof l=="function"?l:ji)}function dT(e,n,s,l,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};k.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,lg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=k.T,p={};k.T=p;try{var E=s(h,l),I=k.S;I!==null&&I(p,E),og(e,n,E)}catch(P){vf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),k.T=f}}else try{f=s(h,l),og(e,n,f)}catch(P){vf(e,n,P)}}function og(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ug(e,n,l)},function(l){return vf(e,n,l)}):ug(e,n,s)}function ug(e,n,s){n.status="fulfilled",n.value=s,cg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,lg(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,cg(n),n=n.next;while(n!==l)}e.action=null}function cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hg(e,n){return n}function fg(e,n){if(Pt){var s=ne.formState;if(s!==null){t:{var l=Ct;if(Pt){if(ie){e:{for(var h=ie,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Vn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},s.queue=l,s=Dg.bind(null,Ct,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=dT.bind(null,Ct,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function dg(e){var n=ge();return mg(n,Wt,e)}function mg(e,n,s){if(n=gf(e,n,hg)[0],e=Bu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(p){throw p===Ea?Du:p}else l=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,wa(9,{destroy:void 0},mT.bind(null,h,s),null)),[l,f,e]}function mT(e,n){e.action=n}function pg(e){var n=ge(),s=Wt;if(s!==null)return mg(n,s,e);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function wa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=zu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function gg(){return ge().memoizedState}function qu(e,n,s,l){var h=nn();Ct.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Hu(e,n,s,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;Wt!==null&&l!==null&&cf(l,Wt.memoizedState.deps)?h.memoizedState=wa(n,f,s,l):(Ct.flags|=e,h.memoizedState=wa(1|n,f,s,l))}function yg(e,n){qu(8390656,8,e,n)}function Ef(e,n){Hu(2048,8,e,n)}function pT(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=zu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _g(e){var n=ge().memoizedState;return pT({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vg(e,n){return Hu(4,2,e,n)}function Eg(e,n){return Hu(4,4,e,n)}function Tg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bg(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,Tg.bind(null,n,e),s)}function Tf(){}function Sg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Ag(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Mr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function bf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),Ct.lanes|=e,Is|=e,s)}function wg(e,n,s,l){return pn(s,n)?s:ba.current!==null?(e=bf(e,s,l),pn(e,n)||(we=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(kt&261930)===0?(we=!0,e.memoizedState=s):(e=wy(),Ct.lanes|=e,Is|=e,n)}function Rg(e,n,s,l,h){var f=Q.p;Q.p=f!==0&&8>f?f:8;var p=k.T,E={};k.T=E,wf(e,!1,n,s);try{var I=h(),P=k.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=cT(I,l);Kl(e,n,F,Tn(e))}else Kl(e,n,l,Tn(e))}catch($){Kl(e,n,{then:function(){},status:"rejected",reason:$},Tn())}finally{Q.p=f,p!==null&&E.types!==null&&(p.types=E.types),k.T=p}}function gT(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=xg(e).queue;Rg(e,h,n,et,s===null?gT:function(){return Cg(e),s(l)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=xg(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},Tn())}function Af(){return qe(co)}function Ig(){return ge().memoizedState}function Ng(){return ge().memoizedState}function yT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ss(s);var l=As(n,e,s);l!==null&&(cn(l,n,s),ql(l,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function _T(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Og(n,s):(s=Bh(e,n,s,l),s!==null&&(cn(s,e,l),Mg(s,n,l)))}function Dg(e,n,s){var l=Tn();Kl(e,n,s,l)}function Kl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Og(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Au(e,n,h,0),ne===null&&Su(),!1}catch{}if(s=Bh(e,n,h,l),s!==null)return cn(s,e,l),Mg(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&cn(n,e,2)}function Gu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Og(e,n){Sa=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,pl(e,s)}}var Yl={readContext:qe,use:Pu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Yl.useEffectEvent=he;var Vg={readContext:qe,use:Pu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:yg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,Tg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var l=e();if(Mr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=nn();if(s!==void 0){var h=s(n);if(Mr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=_T.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Dg.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=nn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Rg.bind(null,Ct,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Ct,h=nn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(kt&127)!==0||eg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yg(ig.bind(null,l,f,e),[e]),l.flags|=2048,wa(9,{destroy:void 0},ng.bind(null,l,f,s,n),null),s},useId:function(){var e=nn(),n=ne.identifierPrefix;if(Pt){var s=_i,l=yi;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=hT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return nn().memoizedState=yT.bind(null,Ct)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:qe,use:Pu,useCallback:Sg,useContext:qe,useEffect:Ef,useImperativeHandle:bg,useInsertionEffect:vg,useLayoutEffect:Eg,useMemo:Ag,useReducer:Bu,useRef:gg,useState:function(){return Bu(ji)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return wg(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Bu(ji)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Af,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var s=ge();return ag(s,Wt,e,n)},useMemoCache:pf,useCacheRefresh:Ng};Rf.useEffectEvent=_g;var kg={readContext:qe,use:Pu,useCallback:Sg,useContext:qe,useEffect:Ef,useImperativeHandle:bg,useInsertionEffect:vg,useLayoutEffect:Eg,useMemo:Ag,useReducer:yf,useRef:gg,useState:function(){return yf(ji)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return Wt===null?bf(s,e,n):wg(s,Wt.memoizedState,e,n)},useTransition:function(){var e=yf(ji)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Af,useFormState:pg,useActionState:pg,useOptimistic:function(e,n){var s=ge();return Wt!==null?ag(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Ng};kg.useEffectEvent=_g;function xf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Ss(l);h.payload=n,s!=null&&(h.callback=s),n=As(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Ss(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=As(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=Ss(s);l.tag=2,n!=null&&(l.callback=n),n=As(e,l,s),n!==null&&(cn(n,e,s),ql(n,e,s))}};function Ug(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function Lg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jg(e){bu(e)}function zg(e){console.error(e)}function Pg(e){bu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function qg(e){return e=Ss(e),e.tag=3,e}function Hg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Bg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Bg(n,s,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function vT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?ic():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),ic(),!1}if(Pt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Kh&&(e=Error(a(422),{cause:l}),Ll(In(e,s)))):(l!==Kh&&(n=Error(a(423),{cause:l}),Ll(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,s),h=If(e.stateNode,l,h),rf(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),no===null?no=[f]:no.push(f),fe!==4&&(fe=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qg(h),Hg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),we=!1;function He(e,n,s,l){n.child=e===null?Kp(n,null,s,l):Or(n,e.child,s,l)}function Gg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Cr(n),l=hf(e,n,s,p,f,h),E=ff(),e!==null&&!we?(df(e,n,h),zi(e,n,h)):(Pt&&E&&Fh(n),n.flags|=1,He(e,n,l,h),n.child)}function Fg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qg(e,n,f,l,h)):(e=Ru(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(p,l)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Qg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,jf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Df(e,n,s,l,h)}function Kg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Yg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?$p(n,f):lf(),Jp(n);else return l=n.lanes=536870912,Yg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Nu(n,f.cachePool),$p(n,f),Rs(),n.memoizedState=null):(e!==null&&Nu(n,null),lf(),Rs());return He(e,n,h,s),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yg(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),lf(),Jp(n),e!==null&&ya(e,n,l,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xg(e,n,s){return Or(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function ET(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=Qu(n,l),n.lanes=536870912,Xl(null,e);if(uf(n),(e=ie)?(e=l_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Op(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Qu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Xg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ya(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(l=ne,l!==null&&(p=gl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ar(e,p),cn(l,e,p),Nf;ic(),n=Xg(e,n,s)}else e=f.treeContext,ie=Vn(p.nextSibling),Be=n,Pt=!0,vs=null,On=!1,e!==null&&kp(n,e),n=Qu(n,l),n.flags|=4096;return n}return e=Mi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Cr(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!we?(df(e,n,h),zi(e,n,h)):(Pt&&l&&Fh(n),n.flags|=1,He(e,n,s,h),n.child)}function $g(e,n,s,l,h,f){return Cr(n),n.updateQueue=null,s=Wp(n,l,s,h),Zp(e),l=ff(),e!==null&&!we?(df(e,n,f),zi(e,n,f)):(Pt&&l&&Fh(n),n.flags|=1,He(e,n,s,f),n.child)}function Jg(e,n,s,l,h){if(Cr(n),n.stateNode===null){var f=da,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):da,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(xf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Vr(s,E);f.props=I;var P=f.context,F=s.contextType;p=da,typeof F=="object"&&F!==null&&(p=qe(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Lg(n,f,l,p),bs=!1;var B=n.memoizedState;f.state=B,Gl(n,l,f,h),Hl(),P=n.memoizedState,E||B!==P||bs?(typeof $=="function"&&(xf(n,s,$,l),P=n.memoizedState),(I=bs||Ug(n,s,I,l,B,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,F=Vr(s,p),f.props=F,$=n.pendingProps,B=f.context,P=s.contextType,I=da,typeof P=="object"&&P!==null&&(I=qe(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==I)&&Lg(n,f,l,I),bs=!1,B=n.memoizedState,f.state=B,Gl(n,l,f,h),Hl();var H=n.memoizedState;p!==$||B!==H||bs||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(xf(n,s,E,l),H=n.memoizedState),(F=bs||Ug(n,s,F,l,B,H,I)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Zg(e,n,s,l){return Rr(),n.flags|=256,He(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Bp()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function Wg(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?ws(n):Rs(),(e=ie)?(e=l_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Op(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw Es(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Rs(),h=n.mode,E=Yu({mode:"hidden",children:E},h),l=wr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,Xl(null,l)):(ws(n),kf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),E=wr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Or(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,n=Xl(null,l));else if(ws(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Ll({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(we||ya(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=ne,p!==null&&(l=gl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ar(e,l),cn(p,e,l),Nf;pd(E)||ic(),n=Uf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=Vn(E.nextSibling),Be=n,Pt=!0,vs=null,On=!1,e!==null&&kp(n,e),n=kf(n,l.children),n.flags|=4096);return n}return h?(Rs(),E=l.fallback,h=n.mode,I=e.child,P=I.sibling,l=Mi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=wr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Bp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,p,s),n.memoizedState=Of,Xl(e.child,l)):(ws(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Or(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ey(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,st(pe,p),He(e,n,l,s),l=Pt?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function TT(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ts(n,Se,e.memoizedState.cache),Rr();break;case 27:case 5:ar(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wg(e,n,s):(ws(n),e=zi(e,n,s),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ya(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Kg(e,n,s,n.pendingProps);case 24:Ts(n,Se,e.memoizedState.cache)}return zi(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return we=!1,TT(e,n,s);we=(e.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&Vp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Nr(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=Vr(e,l),n.tag=1,n=Jg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Rt){n.tag=11,n=Gg(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=Fg(null,n,e,l,s);break t}}throw n=nt(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),Jg(e,n,l,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Gl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Ts(n,Se,l),l!==f.cache&&Jh(n,[Se],s,!0),Hl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(e,n,l,s);break t}else if(l!==h){h=In(Error(a(424)),n),Ll(h),n=Zg(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Vn(e.firstChild),Be=n,Pt=!0,vs=null,On=!0,s=Kp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),l===h){n=zi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,l=cc(It.current).createElement(s),l[Ee]=n,l[ke]=e,Ge(l,s,e),Te(l),n.stateNode=l):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ar(n),e===null&&Pt&&(l=n.stateNode=c_(n.type,n.pendingProps,It.current),Be=n,On=!0,h=ie,Vs(n.type)?(yd=h,ie=Vn(l.firstChild)):ie=h),He(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=l=ie)&&(l=JT(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,ie=Vn(l.firstChild),On=!1,h=!0):h=!1),h||Es(n)),ar(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,fT,null,null,s),co._currentValue=h),Ku(e,n),He(e,n,l,s),n.child;case 6:return e===null&&Pt&&((e=s=ie)&&(s=ZT(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,ie=null,e=!0):e=!1),e||Es(n)),null;case 13:return Wg(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Or(n,null,l,s):He(e,n,l,s),n.child;case 11:return Gg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cr(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return Fg(e,n,n.type,n.pendingProps,s);case 15:return Qg(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return ET(e,n,s);case 22:return Kg(e,n,s,n.pendingProps);case 24:return Cr(n),l=qe(Se),e===null?(h=tf(),h===null&&(h=ne,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),Ts(n,Se,h)):((e.lanes&s)!==0&&(sf(e,n),Gl(n,null,null,s),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Se,l)):(l=f.cache,Ts(n,Se,l),l!==h.cache&&Jh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Dr=Ou,ef}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(Iy())e.flags|=8192;else throw Dr=Ou,ef}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ia|=n)}function $l(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function bT(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Se),le(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(se(n),iy(n,f)):(se(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?(Pi(n),se(n),iy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Pi(n),se(n),zf(n,h,e,l,s)),null;case 27:if(Yr(n),s=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=lt.current,ga(n)?Up(n):(e=c_(h,l,s),n.stateNode=e,Pi(n))}return se(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=lt.current,ga(n))Up(n);else{var p=cc(It.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ee]=n,f[ke]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Pi(n)}}return se(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=It.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||Es(n,!0)}else e=cc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ga(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),se(n),null);case 4:return le(),e===null&&ld(n.stateNode.containerInfo),se(n),null;case 10:return Ui(n.type),se(n),null;case 19:if(Y(pe),l=n.memoizedState,l===null)return se(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,$l(l,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dp(s,e),s=s.sibling;return st(pe,pe.current&1|2),Pt&&Vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>tc&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pt)return se(n),null}else 2*tn()-l.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,s=pe.current,st(pe,h?s&1|2:s&1),Pt&&Vi(n,l.treeForkCount),e):(se(n),null);case 22:case 23:return _n(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Ir),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ST(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Se),le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return le(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),of(),e!==null&&Y(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Se),null;case 25:return null;default:return null}}function sy(e,n){switch(Qh(n),n.tag){case 3:Ui(Se),le();break;case 26:case 27:case 5:Yr(n);break;case 4:le();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(pe);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),of(),e!==null&&Y(Ir);break;case 24:Ui(Se)}}function Jl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Jt(n,n.return,E)}}function xs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(F){Jt(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){Jt(n,n.return,F)}}function ry(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xp(n,s)}catch(l){Jt(e,e.return,l)}}}function ay(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Jt(e,n,l)}}function Zl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Jt(e,n,h)}}function vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Jt(e,n,h)}else s.current=null}function ly(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Jt(e,e.return,h)}}function Pf(e,n,s){try{var l=e.stateNode;FT(l,e.type,s,n),l[ke]=n}catch(h){Jt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function $u(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[Ee]=e,n[ke]=s}catch(f){Jt(e,e.return,f)}}var Bi=!1,Re=!1,Hf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function AT(e,n){if(e=e.containerInfo,cd=yc,e=bp(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,P=0,F=0,$=e,B=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===s&&++P===h&&(E=p),B===f&&++F===l&&(I=p),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},yc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=Vr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Jt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function hy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),l&4&&Jl(5,s);break;case 1:if(Hi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Jt(s,s.return,p)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Jt(s,s.return,p)}}l&64&&ry(s),l&512&&Zl(s,s.return);break;case 3:if(Hi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xp(e,n)}catch(p){Jt(s,s.return,p)}}break;case 27:n===null&&l&4&&uy(s);case 26:case 5:Hi(e,s),n===null&&l&4&&ly(s),l&512&&Zl(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),l&4&&my(e,s);break;case 13:Hi(e,s),l&4&&py(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=MT.bind(null,s),WT(e,s))));break;case 22:if(l=s.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||Re,h=Bi;var f=Re;Bi=l,(Re=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,Re=f}break;case 30:break;default:Hi(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,an=!1;function qi(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:Re||vi(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||vi(s,n);var l=ue,h=an;Vs(s.type)&&(ue=s.stateNode,an=!1),qi(e,n,s),lo(s.stateNode),ue=l,an=h;break;case 5:Re||vi(s,n);case 6:if(l=ue,h=an,ue=null,qi(e,n,s),ue=l,an=h,ue!==null)if(an)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:ue!==null&&(an?(e=ue,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):r_(ue,s.stateNode));break;case 4:l=ue,h=an,ue=s.stateNode.containerInfo,an=!0,qi(e,n,s),ue=l,an=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),Re||xs(4,s,n),qi(e,n,s);break;case 1:Re||(vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ay(s,n,l)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:Re=(l=Re)||s.memoizedState!==null,qi(e,n,s),Re=l;break;default:qi(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Jt(n,n.return,s)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Jt(n,n.return,s)}}function wT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=wT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=VT.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){ue=E.stateNode,an=!1;break t}break;case 5:ue=E.stateNode,an=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ue===null)throw Error(a(160));dy(f,p,h),ue=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,e),n=n.sibling}var Yn=null;function gy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(xs(3,e,e.return),Jl(3,e),xs(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Yn;if(ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[Ee]=e,Te(f),l=f;break t;case"link":var p=g_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(p=g_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else y_(h,e.type,e.stateNode);else e.stateNode=p_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?y_(h,e.type,e.stateNode):p_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),s!==null&&l&4&&Pf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Jt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){Jt(e,e.return,ot)}}break;case 3:if(dc=null,h=Yn,Yn=hc(n.containerInfo),ln(n,e),Yn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(ot){Jt(e,e.return,ot)}Hf&&(Hf=!1,yy(e));break;case 4:l=Yn,Yn=hc(e.stateNode.containerInfo),ln(n,e),on(e),Yn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Bi,F=Re;if(Bi=P||h,Re=F||I,ln(n,e),Re=F,Bi=P,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Bi||Re||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Jt(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Jt(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?a_(H,!0):a_(I.stateNode,!1)}catch(ot){Jt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ju(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(oy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);$u(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=Bf(e);$u(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Bf(e);qf(e,P,I);break;default:throw Error(a(161))}}catch(F){Jt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),kr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),kr(n);break;case 27:lo(n.stateNode);case 26:case 5:vi(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Jl(4,f);break;case 1:if(Gi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Jt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Yp(I[h],E)}catch(P){Jt(l,l.return,P)}}s&&p&64&&ry(f),Zl(f,f.return);break;case 27:uy(f);case 26:case 5:Gi(h,f,s),s&&l===null&&p&4&&ly(f),Zl(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&p&4&&my(h,f);break;case 13:Gi(h,f,s),s&&p&4&&py(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Zl(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&jl(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jl(e))}function Xn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,l),n=n.sibling}function _y(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,l),h&2048&&Jl(9,n);break;case 1:Xn(e,n,s,l);break;case 3:Xn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jl(e)));break;case 12:if(h&2048){Xn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Jt(n,n.return,I)}}else Xn(e,n,s,l);break;case 31:Xn(e,n,s,l);break;case 13:Xn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,l):Wl(e,n):f._visibility&2?Xn(e,n,s,l):(f._visibility|=2,Ra(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:Xn(e,n,s,l),h&2048&&Ff(n.alternate,n);break;default:Xn(e,n,s,l)}}function Ra(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ra(f,p,E,I,h),Jl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ra(f,p,E,I,h):Wl(f,p):(F._visibility|=2,Ra(f,p,E,I,h)),h&&P&2048&&Gf(p.alternate,p);break;case 24:Ra(f,p,E,I,h),h&&P&2048&&Ff(p.alternate,p);break;default:Ra(f,p,E,I,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&Gf(l.alternate,l);break;case 24:Wl(s,l),h&2048&&Ff(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var to=8192;function xa(e,n,s){if(e.subtreeFlags&to)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&to&&e.memoizedState!==null&&hb(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=Yn;Yn=hc(e.stateNode.containerInfo),xa(e,n,s),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,xa(e,n,s),to=l):xa(e,n,s));break;default:xa(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,by(l,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&xs(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):eo(e);break;default:eo(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,by(l,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function by(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Le=l;else t:for(s=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(fy(l),l===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var RT={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},xT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Ot=null,kt=0,$t=0,vn=null,Cs=!1,Ca=!1,Qf=!1,Fi=0,fe=0,Is=0,Ur=0,Kf=0,En=0,Ia=0,no=null,un=null,Yf=!1,Wu=0,Sy=0,tc=1/0,ec=null,Ns=null,Oe=0,Ds=null,Na=null,Qi=0,Xf=0,$f=null,Ay=null,io=0,Jf=null;function Tn(){return(Kt&2)!==0&&kt!==0?kt&-kt:k.T!==null?id():nu()}function wy(){if(En===0)if((kt&536870912)===0||Pt){var e=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===ne&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Os(e,kt,En,!1)),cr(e,s),((Kt&2)===0||e!==ne)&&(e===ne&&((Kt&2)===0&&(Ur|=s),fe===4&&Os(e,kt,En,!1)),Ei(e))}function Ry(e,n,s){if((Kt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=l?NT(e,n):Wf(e,n,!0),f=l;do{if(h===0){Ca&&!l&&Os(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!CT(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=no;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Os(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(l,n,En,!Cs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Os(l,n,En,!Cs),ni(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=i_(xy.bind(null,l,s,un,ec,Yf,n,En,Ur,Ia,Cs,f,"Throttled",-0,0),h);break t}xy(l,s,un,ec,Yf,n,En,Ur,Ia,Cs,f,null,-0,0)}}break}while(!0);Ei(e)}function xy(e,n,s,l,h,f,p,E,I,P,F,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},vy(n,f,$);var ot=(f&62914560)===f?Wu-tn():(f&4194048)===f?Sy-tn():0;if(ot=fb($,ot),ot!==null){Qi=f,e.cancelPendingCommit=ot(ky.bind(null,e,n,f,s,l,h,p,E,I,F,$,null,B,H)),Os(e,f,p,!P);return}}ky(e,n,f,s,l,h,p,E,I)}function CT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,s,l){n&=~Kf,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&hr(e,s,n)}function nc(){return(Kt&6)===0?(so(0),!1):!0}function Zf(){if(Ot!==null){if($t===0)var e=Ot.return;else e=Ot,ki=xr=null,mf(e),Ta=null,Pl=0,e=Ot;for(;e!==null;)sy(e.alternate,e),e=e.return;Ot=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,YT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Zf(),ne=e,Ot=s=Mi(e.current,null),kt=n,$t=0,vn=null,Cs=!1,Ca=zn(e,n),Qf=!1,Ia=En=Kf=Ur=Is=fe=0,un=no=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Fi=n,Su(),s}function Cy(e,n){Ct=null,k.H=Yl,n===Ea||n===Du?(n=Gp(),$t=3):n===ef?(n=Gp(),$t=4):$t=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ot===null&&(fe=1,Fu(e,In(n,e.current)))}function Iy(){var e=yn.current;return e===null?!0:(kt&4194048)===kt?Mn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Mn:!1}function Ny(){var e=k.H;return k.H=Yl,e===null?Yl:e}function Dy(){var e=k.A;return k.A=RT,e}function ic(){fe=4,Cs||(kt&4194048)!==kt&&yn.current!==null||(Ca=!0),(Is&134217727)===0&&(Ur&134217727)===0||ne===null||Os(ne,kt,En,!1)}function Wf(e,n,s){var l=Kt;Kt|=2;var h=Ny(),f=Dy();(ne!==e||kt!==n)&&(ec=null,Da(e,n)),n=!1;var p=fe;t:do try{if($t!==0&&Ot!==null){var E=Ot,I=vn;switch($t){case 8:Zf(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=$t;if($t=0,vn=null,Oa(e,E,I,P),s&&Ca){p=0;break t}break;default:P=$t,$t=0,vn=null,Oa(e,E,I,P)}}IT(),p=fe;break}catch(F){Cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ki=xr=null,Kt=l,k.H=h,k.A=f,Ot===null&&(ne=null,kt=0,Su()),p}function IT(){for(;Ot!==null;)Oy(Ot)}function NT(e,n){var s=Kt;Kt|=2;var l=Ny(),h=Dy();ne!==e||kt!==n?(ec=null,tc=tn()+500,Da(e,n)):Ca=zn(e,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var f=vn;e:switch($t){case 1:$t=0,vn=null,Oa(e,n,f,1);break;case 2:case 9:if(qp(f)){$t=0,vn=null,My(n);break}n=function(){$t!==2&&$t!==9||ne!==e||($t=7),Ei(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:qp(f)?($t=0,vn=null,My(n)):($t=0,vn=null,Oa(e,n,f,7));break;case 5:var p=null;switch(Ot.tag){case 26:p=Ot.memoizedState;case 5:case 27:var E=Ot;if(p?__(p):E.stateNode.complete){$t=0,vn=null;var I=E.sibling;if(I!==null)Ot=I;else{var P=E.return;P!==null?(Ot=P,sc(P)):Ot=null}break e}}$t=0,vn=null,Oa(e,n,f,5);break;case 6:$t=0,vn=null,Oa(e,n,f,6);break;case 8:Zf(),fe=6;break t;default:throw Error(a(462))}}DT();break}catch(F){Cy(e,F)}while(!0);return ki=xr=null,k.H=l,k.A=h,Kt=s,Ot!==null?0:(ne=null,kt=0,Su(),fe)}function DT(){for(;Ot!==null&&!Ch();)Oy(Ot)}function Oy(e){var n=ny(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?sc(e):Ot=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=$g(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=$g(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:mf(n);default:sy(s,n),n=Ot=Dp(n,Fi),n=ny(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?sc(e):Ot=n}function Oa(e,n,s,l){ki=xr=null,mf(n),Ta=null,Pl=0;var h=n.return;try{if(vT(e,h,n,s,kt)){fe=1,Fu(e,In(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;fe=1,Fu(e,In(s,e.current)),Ot=null;return}n.flags&32768?(Pt||l===1?e=!0:Ca||(kt&536870912)!==0?e=!1:(Cs=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Cs);return}e=n.return;var s=bT(n.alternate,n,Fi);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);fe===0&&(fe=5)}function Vy(e,n){do{var s=ST(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);fe=6,Ot=null}function ky(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do rc();while(Oe!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Dh(e,s,f,p,E,I),e===ne&&(Ot=ne=null,kt=0),Na=n,Ds=e,Qi=s,Xf=f,$f=h,Ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kT(os,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,h=Q.p,Q.p=2,p=Kt,Kt|=4;try{AT(e,n,s)}finally{Kt=p,Q.p=h,k.T=l}}Oe=1,Uy(),Ly(),jy()}}function Uy(){if(Oe===1){Oe=0;var e=Ds,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var l=Q.p;Q.p=2;var h=Kt;Kt|=4;try{gy(n,e);var f=hd,p=bp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Tp(E.ownerDocument.documentElement,E)){if(I!==null&&kh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=E.textContent.length,pt=Math.min(I.start,ot),ee=I.end===void 0?pt:Math.min(I.end,ot);!H.extend&&pt>ee&&(p=ee,ee=pt,pt=p);var L=Ep(E,pt),M=Ep(E,ee);if(L&&M&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=$.createRange();z.setStart(L.node,L.offset),H.removeAllRanges(),pt>ee?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!cd,hd=cd=null}finally{Kt=h,Q.p=l,k.T=s}}e.current=n,Oe=2}}function Ly(){if(Oe===2){Oe=0;var e=Ds,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var l=Q.p;Q.p=2;var h=Kt;Kt|=4;try{hy(e,n.alternate,n)}finally{Kt=h,Q.p=l,k.T=s}}Oe=3}}function jy(){if(Oe===4||Oe===3){Oe=0,Xo();var e=Ds,n=Na,s=Qi,l=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Na=Ds=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Ii(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,h=Q.p,Q.p=2,k.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{k.T=n,Q.p=h}}(Qi&3)!==0&&rc(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?io++:(io=0,Jf=e):io=0,so(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jl(n)))}function rc(){return Uy(),Ly(),jy(),Py()}function Py(){if(Oe!==5)return!1;var e=Ds,n=Xf;Xf=0;var s=Ii(Qi),l=k.T,h=Q.p;try{Q.p=32>s?32:s,k.T=null,s=$f,$f=null;var f=Ds,p=Qi;if(Oe=0,Na=Ds=null,Qi=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,Ty(f.current),_y(f,f.current,p,s),Kt=E,so(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{Q.p=h,k.T=l,zy(e,n)}}function By(e,n,s){n=In(s,n),n=If(e.stateNode,n,2),e=As(e,n,2),e!==null&&(cr(e,2),Ei(e))}function Jt(e,n,s){if(e.tag===3)By(e,e,s);else for(;n!==null;){if(n.tag===3){By(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=In(s,e),s=qg(2),l=As(n,s,2),l!==null&&(Hg(s,l,n,e),cr(l,2),Ei(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new xT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=OT.bind(null,e,n,s),n.then(e,e))}function OT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(kt&s)===s&&(fe===4||fe===3&&(kt&62914560)===kt&&300>tn()-Wu?(Kt&2)===0&&Da(e,0):Kf|=s,Ia===kt&&(Ia=0)),Ei(e)}function qy(e,n){n===0&&(n=eu()),e=Ar(e,n),e!==null&&(cr(e,n),Ei(e))}function MT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(e,s)}function VT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),qy(e,s)}function kT(e,n){return De(e,n)}var ac=null,Ma=null,ed=!1,lc=!1,nd=!1,Ms=0;function Ei(e){e!==Ma&&e.next===null&&(Ma===null?ac=Ma=e:Ma=Ma.next=e),lc=!0,ed||(ed=!0,LT())}function so(e,n){if(!nd&&lc){nd=!0;do for(var s=!1,l=ac;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(l,f))}else f=kt,f=ni(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,Qy(l,f));l=l.next}while(s);nd=!1}}function UT(){Hy()}function Hy(){lc=ed=!1;var e=0;Ms!==0&&KT()&&(e=Ms);for(var n=tn(),s=null,l=ac;l!==null;){var h=l.next,f=Gy(l,n);f===0?(l.next=null,s===null?ac=h:s.next=h,h===null&&(Ma=s)):(s=l,(e!==0||(f&3)!==0)&&(lc=!0)),l=h}Oe!==0&&Oe!==5||so(e),Ms!==0&&(Ms=0)}function Gy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Nh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,s=kt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ls(l),Ii(s)){case 2:case 8:s=ml;break;case 32:s=os;break;case 268435456:s=$o;break;default:s=os}return l=Fy.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var l=kt;return l=ni(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ry(e,l,n),Gy(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(rc())return null;Ry(e,n,!0)}function LT(){XT(function(){(Kt&6)!==0?De(dl,UT):Hy()})}function id(){if(Ms===0){var e=_a;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ms=e}return Ms}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Yy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function jT(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[ke]||null).action),p=l.submitter;p&&(n=(n=p[ke]||null)?Ky(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=p?Yy(h,p):new FormData(h);Sf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Yy(h,p):new FormData(h),Sf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],zT=rd.toLowerCase(),PT=rd[0].toUpperCase()+rd.slice(1);Kn(zT,"on"+PT)}Kn(wp,"onAnimationEnd"),Kn(Rp,"onAnimationIteration"),Kn(xp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(nT,"onTransitionRun"),Kn(iT,"onTransitionStart"),Kn(sT,"onTransitionCancel"),Kn(Cp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=I}}}}function Mt(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var l=e+"__bubble";s.has(l)||($y(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),$y(s,e,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[oc]){e[oc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(BT.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,ad("selectionchange",!1,n))}}function $y(e,n,s,l){switch(w_(n)){case 2:var h=pb;break;case 8:h=gb;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ms(function(){var P=f,F=wn(s),$=[];t:{var B=Ip.get(e);if(B!==void 0){var H=di,ot=e;switch(e){case"keypress":if(_r(s)===0)break t;case"keydown":case"keyup":H=vu;break;case"focusin":ot="focus",H=Er;break;case"focusout":ot="blur",H=Er;break;case"beforeblur":case"afterblur":H=Er;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case wp:case Rp:case xp:H=fu;break;case Cp:H=T;break;case"scroll":case"scrollend":H=Il;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oi;break;case"toggle":case"beforetoggle":H=xt}var pt=(n&4)!==0,ee=!pt&&(e==="scroll"||e==="scrollend"),L=pt?B!==null?B+"Capture":null:B;pt=[];for(var M=P,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||L===null||(K=Hn(M,L),K!=null&&pt.push(ao(M,K,z))),ee)break;M=M.return}0<pt.length&&(B=new H(B,ot,null,s,F),$.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Rl&&(ot=s.relatedTarget||s.fromElement)&&(ai(ot)||ot[si]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=P,ot=ot?ai(ot):null,ot!==null&&(ee=c(ot),pt=ot.tag,ot!==ee||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(H=null,ot=P),H!==ot)){if(pt=Nl,K="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Oi,K="onPointerLeave",L="onPointerEnter",M="pointer"),ee=H==null?B:dn(H),z=ot==null?B:dn(ot),B=new pt(K,M+"leave",H,s,F),B.target=ee,B.relatedTarget=z,K=null,ai(F)===P&&(pt=new pt(L,M+"enter",ot,s,F),pt.target=z,pt.relatedTarget=ee,K=pt),ee=K,H&&ot)e:{for(pt=qT,L=H,M=ot,z=0,K=L;K;K=pt(K))z++;K=0;for(var dt=M;dt;dt=pt(dt))K++;for(;0<z-K;)L=pt(L),z--;for(;0<K-z;)M=pt(M),K--;for(;z--;){if(L===M||M!==null&&L===M.alternate){pt=L;break e}L=pt(L),M=pt(M)}pt=null}else pt=null;H!==null&&Jy($,B,H,pt,!1),ot!==null&&ee!==null&&Jy($,ee,ot,pt,!0)}}t:{if(B=P?dn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Gt=mp;else if(fp(B))if(pp)Gt=WE;else{Gt=JE;var ut=$E}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&na(P.elementType)&&(Gt=mp):Gt=ZE;if(Gt&&(Gt=Gt(e,P))){dp($,Gt,s,F);break t}ut&&ut(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Sl(B,"number",B.value)}switch(ut=P?dn(P):window,e){case"focusin":(fp(ut)||ut.contentEditable==="true")&&(ca=ut,Uh=P,kl=null);break;case"focusout":kl=Uh=ca=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Sp($,s,F);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":Sp($,s,F)}var Nt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ua?Tr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(gi&&s.locale!=="ko"&&(ua||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ua&&(Nt=Cl()):(fi=F,xl="value"in fi?fi.value:fi.textContent,ua=!0)),ut=uc(P,Ut),0<ut.length&&(Ut=new pi(Ut,e,null,s,F),$.push({event:Ut,listeners:ut}),Nt?Ut.data=Nt:(Nt=oa(s),Nt!==null&&(Ut.data=Nt)))),(Nt=xn?QE(e,s):KE(e,s))&&(Ut=uc(P,"onBeforeInput"),0<Ut.length&&(ut=new pi("onBeforeInput","beforeinput",null,s,F),$.push({event:ut,listeners:Ut}),ut.data=Nt)),jT($,e,P,s,F)}Xy($,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&l.unshift(ao(e,h,f)),h=Hn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function qT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Hn(s,f),P!=null&&p.unshift(ao(s,P,I))):h||(P=Hn(s,f),P!=null&&p.push(ao(s,P,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var HT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(HT,`
`).replace(GT,"")}function Wy(e,n){return n=Zy(n),Zy(e)===n}function te(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ia(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ia(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ta(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ta(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,ta(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ta(e,s,l)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,p,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),l&&te(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var E=f=p=h=null,I=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:te(e,n,l,F,s,null)}}au(e,f,E,I,P,p,h,!1);return;case"select":Mt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:te(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?cs(e,!!l,n,!1):s!=null&&cs(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,p,E,s,null)}hs(e,l,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":te(e,n,I,l,s,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Mt(ro[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,P,l,s,null)}return;default:if(na(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&ud(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&te(e,n,E,l,s,null))}function FT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,P=null,F=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||te(e,n,H,null,l,$)}}for(var B in l){var H=l[B];if($=s[B],l.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&te(e,n,B,H,l,$)}}ea(e,p,E,I,P,F,f,h);return;case"select":H=p=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||te(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&te(e,n,h,f,l,I)}n=E,s=p,l=H,B!=null?cs(e,!!s,B,!1):!!l!=!!s&&(n!=null?cs(e,!!s,n,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,p,h,l,f)}lu(e,B,H);return;case"option":for(var ot in s)B=s[ot],s.hasOwnProperty(ot)&&B!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:te(e,n,ot,null,l,B));for(I in l)B=l[I],H=s[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":te(e,n,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&te(e,n,pt,null,l,B);for(P in l)if(B=l[P],H=s[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:te(e,n,P,B,l,H)}return;default:if(na(n)){for(var ee in s)B=s[ee],s.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&ud(e,n,ee,void 0,l,B);for(F in l)B=l[F],H=s[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||ud(e,n,F,B,l,H);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&te(e,n,L,null,l,B);for($ in l)B=l[$],H=s[$],!l.hasOwnProperty($)||B===H||B==null&&H==null||te(e,n,$,B,l,H)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&t_(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],P=I.startTime;if(P>E)break;var F=I.transferSize,$=I.initiatorType;F&&t_($)&&(I=I.responseEnd,p+=F*(I<E?1:(E-P)/(I-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function KT(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch($T)}:i_;function $T(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function r_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),La(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&lo(e.ownerDocument.body);s=h}while(s);La(n)}function a_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JT(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function ZT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var kn=new Map,h_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=Q.d;Q.d={f:tb,r:eb,D:nb,C:ib,L:sb,m:rb,X:lb,S:ab,M:ob};function tb(){var e=Ki.f(),n=nc();return e||n}function eb(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Ki.r(e)}var Va=typeof document>"u"?null:document;function f_(e,n,s){var l=Va;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function nb(e){Ki.D(e),f_("dns-prefetch",e,null)}function ib(e,n){Ki.C(e,n),f_("preconnect",e,n)}function sb(e,n,s){Ki.L(e,n,s);var l=Va;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function rb(e,n){Ki.m(e,n);var s=Va;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),Ge(l,"link",e),Te(l),s.head.appendChild(l)}}}function ab(e,n,s){Ki.S(e,n,s);var l=Va;if(l&&e){var h=li(l).hoistableStyles,f=ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(oo(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&_d(e,s);var I=p=l.createElement("link");Te(I),Ge(I,"link",e),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function lb(e,n){Ki.X(e,n);var s=Va;if(s&&e){var l=li(s).hoistableScripts,h=Ua(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=w({src:e,async:!0},n),(n=kn.get(h))&&vd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ob(e,n){Ki.M(e,n);var s=Va;if(s&&e){var l=li(s).hoistableScripts,h=Ua(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&vd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function d_(e,n,s,l){var h=(h=It.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=li(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(oo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||ub(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=li(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+sn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Te(n),e.head.appendChild(n))}function Ua(e){return'[src="'+sn(e)+'"]'}function uo(e){return"script[async]"+e}function p_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ge(l,"style",h),fc(l,s.precedence,e),n.instance=l;case"stylesheet":h=ka(s.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=m_(s),(h=kn.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",l),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(uo(f)))?(n.instance=h,Te(h),h):(l=s,(h=kn.get(f))&&(l=w({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,s.precedence,e));return n.instance}function fc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function g_(e,n,s){if(dc===null){var l=new Map,h=dc=new Map;h.set(s,l)}else h=dc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function cb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,l=m_(l),(h=kn.get(h))&&_d(l,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function fb(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*QT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(db,e),pc=null,mc.call(e))}function db(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var l=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:ft,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function mb(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function v_(e,n,s,l,h,f,p,E,I,P,F,$){return e=new mb(e,n,s,p,I,P,F,$,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function E_(e){return e?(e=da,e):da}function T_(e,n,s,l,h,f){h=E_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ss(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=As(e,l,n),s!==null&&(cn(s,e,n),ql(s,e,n))}function b_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){b_(e,n),(e=e.alternate)&&b_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&cn(n,e,67108864),Td(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fr(n);var s=Ar(e,n);s!==null&&cn(s,e,n),Td(e,n)}}var yc=!0;function pb(e,n,s,l){var h=k.T;k.T=null;var f=Q.p;try{Q.p=2,bd(e,n,s,l)}finally{Q.p=f,k.T=h}}function gb(e,n,s,l){var h=k.T;k.T=null;var f=Q.p;try{Q.p=8,bd(e,n,s,l)}finally{Q.p=f,k.T=h}}function bd(e,n,s,l){if(yc){var h=Sd(l);if(h===null)od(e,n,l,_c,s),R_(e,l);else if(_b(h,e,n,s,l))l.stopPropagation();else if(R_(e,l),n&4&&-1<yb.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-de(p);E.entanglements[1]|=I,p&=~I}Ei(f),(Kt&6)===0&&(tc=tn()+500,so(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&cn(E,f,2),nc(),Td(f,2)}if(f=Sd(l),f===null&&od(e,n,l,_c,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function Sd(e){return e=wn(e),Ad(e)}var _c=null;function Ad(e){if(_c=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case dl:return 2;case ml:return 8;case os:case Ih:return 32;case $o:return 268435456;default:return 32}default:return 32}}var wd=!1,ks=null,Us=null,Ls=null,ho=new Map,fo=new Map,js=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _b(e,n,s,l,h){switch(n){case"focusin":return ks=mo(ks,e,n,s,l,h),!0;case"dragenter":return Us=mo(Us,e,n,s,l,h),!0;case"mouseover":return Ls=mo(Ls,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,s,l,h)),!0}return!1}function x_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){A_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){A_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=An(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){vc(e)&&s.delete(n)}function vb(){wd=!1,ks!==null&&vc(ks)&&(ks=null),Us!==null&&vc(Us)&&(Us=null),Ls!==null&&vc(Ls)&&(Ls=null),ho.forEach(C_),fo.forEach(C_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vb)))}var Tc=null;function I_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function La(e){function n(I){return Ec(I,e)}ks!==null&&Ec(ks,e),Us!==null&&Ec(Us,e),Ls!==null&&Ec(Ls,e),ho.forEach(n),fo.forEach(n);for(var s=0;s<js.length;s++){var l=js[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<js.length&&(s=js[0],s.blockedOn===null);)x_(s),s.blockedOn===null&&js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[ke]||null;if(typeof f=="function")p||I_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),I_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}bc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();T_(s,l,e,n,null,null)},bc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),nc(),n[si]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<js.length&&n!==0&&n<js[s].priority;s++);js.splice(s,0,e),s===0&&x_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(a(527,D_,"19.2.4"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{jn=Sc.inject(Eb),ze=Sc}catch{}}return go.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=jg,f=zg,p=Pg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,l,null,h,f,p,N_),e[si]=n.current,ld(e),new Rd(n)},go.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=jg,p=zg,E=Pg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=v_(e,1,!0,n,s??null,l,h,I,f,p,E,N_),n.context=E_(null),s=n.current,l=Tn(),l=fr(l),h=Ss(l),h.callback=null,As(s,h,l),s=l,n.current.lanes=s,cr(n,s),Ei(n),e[si]=n.current,ld(e),new bc(n)},go.version="19.2.4",go}var B_;function Nb(){if(B_)return Id.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=Ib(),Id.exports}var Db=Nb();const Ob=()=>{};var q_={};const Sv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Mb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let R=(g&15)<<2|y>>6,G=y&63;v||(G=64,d||(R=64)),a.push(i[b],i[w],i[R],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Sv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Mb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new Vb;const R=c<<2|g>>4;if(a.push(R),y!==64){const G=g<<4&240|y>>2;if(a.push(G),w!==64){const Z=y<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kb=function(r){const t=Sv(r);return Av.encodeByteArray(t,!0)},qc=function(r){return kb(r).replace(/\./g,"")},wv=function(r){try{return Av.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>Ub().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&wv(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return Ob()||Lb()||jb()||zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>uh()?.emulatorHosts?.[r],Pb=r=>{const t=Rv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},xv=()=>uh()?.config,Cv=r=>uh()?.[`_${r}`];class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iv(r){return(await fetch(r,{credentials:"include"})).ok}function qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const bo={};function Hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(bo))bo[t]?r.emulator.push(t):r.prod.push(t);return r}function Gb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let H_=!1;function Nv(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||bo[r]===t||bo[r]||H_)return;bo[r]=t;function i(R){return`__firebase__banner__${R}`}const a="__firebase__banner",c=Hb().prod.length>0;function d(){const R=document.getElementById(a);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,G){R.setAttribute("width","24"),R.setAttribute("id",G),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{H_=!0,d()},R}function b(R,G){R.setAttribute("id",G),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=Gb(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),X=document.getElementById(W)||document.createElement("a"),rt=i("preprendIcon"),ht=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ft=R.element;g(ft),b(X,W);const Rt=y();v(ht,rt),ft.append(ht,Z,X,Rt),document.body.appendChild(ft)}c?(Z.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Qb(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $b(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const tS="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tS,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?eS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new as(o,g,a)}}function eS(r,t){return r.replace(nS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const nS=/\{\$([^}]+)}/g;function iS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(G_(c)&&G_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function jo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function sS(r,t){const i=new rS(r,t);return i.subscribe.bind(i)}class rS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function We(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lr="[DEFAULT]";class lS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Bb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uS(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(r){return r===Lr?void 0:r}function uS(r){return r.instantiationMode==="EAGER"}class cS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const hS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},fS=Lt.INFO,dS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},mS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=dS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const pS=(r,t)=>t.some(i=>r instanceof i);let F_,Q_;function gS(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Yd=new WeakMap,Ov=new WeakMap,Vd=new WeakMap,Sm=new WeakMap;function _S(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ks(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Dv.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function vS(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ES(r){Xd=r(Xd)}function TS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return Ov.set(a,t.sort?t.sort():[t]),Ks(a)}:yS().includes(r)?function(...t){return r.apply(kd(this),t),Ks(Dv.get(this))}:function(...t){return Ks(r.apply(kd(this),t))}}function bS(r){return typeof r=="function"?TS(r):(r instanceof IDBTransaction&&vS(r),pS(r,gS())?new Proxy(r,Xd):r)}function Ks(r){if(r instanceof IDBRequest)return _S(r);if(Vd.has(r))return Vd.get(r);const t=bS(r);return t!==r&&(Vd.set(r,t),Sm.set(t,r)),t}const kd=r=>Sm.get(r);function SS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Ks(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Ks(d.result),v.oldVersion,v.newVersion,Ks(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const AS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],Ud=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=wS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||AS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Ud.set(t,c),c}ES(r=>({...r,get:(t,i,a)=>K_(t,i)||r.get(t,i,a),has:(t,i)=>!!K_(t,i)||r.has(t,i)}));class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xS(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",Y_="0.14.7";const ts=new bm("@firebase/app"),CS="@firebase/app-compat",IS="@firebase/analytics-compat",NS="@firebase/analytics",DS="@firebase/app-check-compat",OS="@firebase/app-check",MS="@firebase/auth",VS="@firebase/auth-compat",kS="@firebase/database",US="@firebase/data-connect",LS="@firebase/database-compat",jS="@firebase/functions",zS="@firebase/functions-compat",PS="@firebase/installations",BS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",GS="@firebase/performance",FS="@firebase/performance-compat",QS="@firebase/remote-config",KS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",$S="@firebase/firestore",JS="@firebase/ai",ZS="@firebase/firestore-compat",WS="firebase",tA="12.8.0";const Jd="[DEFAULT]",eA={[$d]:"fire-core",[CS]:"fire-core-compat",[NS]:"fire-analytics",[IS]:"fire-analytics-compat",[OS]:"fire-app-check",[DS]:"fire-app-check-compat",[MS]:"fire-auth",[VS]:"fire-auth-compat",[kS]:"fire-rtdb",[US]:"fire-data-connect",[LS]:"fire-rtdb-compat",[jS]:"fire-fn",[zS]:"fire-fn-compat",[PS]:"fire-iid",[BS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[GS]:"fire-perf",[FS]:"fire-perf-compat",[QS]:"fire-rc",[KS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[$S]:"fire-fst",[ZS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[WS]:"fire-js-all"};const Hc=new Map,nA=new Map,Zd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Zd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of Hc.values())X_(i,r);for(const i of nA.values())X_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}const iA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Lo("app","Firebase",iA);class sA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const sl=tA;function Mv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(i||(i=xv()),!i)throw Ys.create("no-options");const c=Hc.get(o);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Ys.create("duplicate-app",{appName:o})}const d=new cS(o);for(const v of Zd.values())d.addComponent(v);const g=new sA(i,a,d);return Hc.set(o,g),g}function Vv(r=Jd){const t=Hc.get(r);if(!t&&r===Jd&&xv())return Mv();if(!t)throw Ys.create("no-app",{appName:r});return t}function Xs(r,t,i){let a=eA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rA="firebase-heartbeat-database",aA=1,Co="firebase-heartbeat-store";let Ld=null;function kv(){return Ld||(Ld=SS(rA,aA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function lA(r){try{const i=(await kv()).transaction(Co),a=await i.objectStore(Co).get(Uv(r));return await i.done,a}catch(t){if(t instanceof as)ts.warn(t.message);else{const i=Ys.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function $_(r,t){try{const a=(await kv()).transaction(Co,"readwrite");await a.objectStore(Co).put(t,Uv(r)),await a.done}catch(i){if(i instanceof as)ts.warn(i.message);else{const a=Ys.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function Uv(r){return`${r.name}!${r.options.appId}`}const oA=1024,uA=30;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uA){const o=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=hA(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ts.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function hA(r,t=oA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Z_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?Wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function dA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function mA(r){Xa(new qr("platform-logger",t=>new RS(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new cA(t),"PRIVATE")),Xs($d,Y_,r),Xs($d,Y_,"esm2020"),Xs("fire-js","")}mA("");var pA="firebase",gA="12.8.0";Xs(pA,gA,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yA=Lv,jv=new Lo("auth","Firebase",Lv());const Gc=new bm("@firebase/auth");function _A(r,...t){Gc.logLevel<=Lt.WARN&&Gc.warn(`Auth (${sl}): ${r}`,...t)}function Oc(r,...t){Gc.logLevel<=Lt.ERROR&&Gc.error(`Auth (${sl}): ${r}`,...t)}function es(r,...t){throw wm(r,...t)}function bi(r,...t){return wm(r,...t)}function zv(r,t,i){const a={...yA(),[t]:i};return new Lo("auth","Firebase",a).create(t,{appName:r.name})}function Zi(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return jv.create(r,...t)}function vt(r,t,...i){if(!r)throw wm(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function ns(r,t){r||$i(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function vA(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}function EA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||Yb()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||Xb()}get(){return EA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Pv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AA=new zo(3e4,6e4);function Po(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rl(r,t,i,a,o={}){return Bv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=jo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Kb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),Pv.fetch()(await qv(r,r.config.apiHost,i,g),y)})}async function Bv(r,t,i){r._canInitEmulator=!1;const a={...bA,...t};try{const o=new wA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ac(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(r,b,y);es(r,b)}}catch(o){if(o instanceof as)throw o;es(r,"network-request-failed",{message:String(o)})}}async function xm(r,t,i,a,o={}){const c=await rl(r,t,i,a,o);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,o):`${r.config.apiScheme}://${o}`;return SA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),AA.get())})}}function Ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=bi(r,t,a);return o.customData._tokenResponse=i,o}async function RA(r,t){return rl(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return rl(r,"POST","/v1/accounts:lookup",t)}function So(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xA(r,t=!1){const i=We(r),a=await i.getIdToken(t),o=Cm(a);vt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:So(jd(o.auth_time)),issuedAtTime:So(jd(o.iat)),expirationTime:So(jd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=wv(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t0(r){const t=Cm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&CA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function CA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Io(r,Fc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Hv(o.providerUserInfo):[],d=DA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function NA(r){const t=We(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OA(r,t){const i=await Bv(r,{},async()=>{const a=jo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await qv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),Pv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MA(r,t){return rl(r,"POST","/v2/accounts:revokeToken",Po(r,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):t0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=t0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await OA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ha;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(vt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Ps(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new IA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return xA(this,t)}reload(){return NA(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Io(this,RA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:G,providerData:Z,stsTokenManager:W}=i;vt(w&&W,t,"internal-error");const X=Ha.fromJSON(this.name,W);vt(typeof w=="string",t,"internal-error"),Ps(a,t.name),Ps(o,t.name),vt(typeof R=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(g,t.name),Ps(v,t.name),Ps(y,t.name),Ps(b,t.name);const rt=new $n({uid:w,auth:t,email:o,emailVerified:R,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:X,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(rt.providerData=Z.map(ht=>({...ht}))),v&&(rt._redirectEventId=v),rt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ha;o.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];vt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Hv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ha;g.updateFromIdToken(a);const v=new $n({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const e0=new Map;function Ji(r){ns(r instanceof Function,"Expected a class definition");let t=e0.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,e0.set(r,t),t)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Gv.type="NONE";const n0=Gv;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Ji(n0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ji(n0);const d=Mc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const R=await Fc(t,{idToken:b}).catch(()=>{});if(!R)break;w=await $n._fromGetAccountInfoResponse(t,R,b)}else w=$n._fromJSON(t,b);y!==c&&(g=w),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ga(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,a))}}function i0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Yv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($v(t))return"Blackberry";if(Jv(t))return"Webos";if(Qv(t))return"Safari";if((t.includes("chrome/")||Kv(t))&&!t.includes("edge/"))return"Chrome";if(Xv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Fv(r=Ze()){return/firefox\//i.test(r)}function Qv(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kv(r=Ze()){return/crios\//i.test(r)}function Yv(r=Ze()){return/iemobile/i.test(r)}function Xv(r=Ze()){return/android/i.test(r)}function $v(r=Ze()){return/blackberry/i.test(r)}function Jv(r=Ze()){return/webos/i.test(r)}function Im(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VA(r=Ze()){return Im(r)&&!!window.navigator?.standalone}function kA(){return $b()&&document.documentMode===10}function Zv(r=Ze()){return Im(r)||Xv(r)||Jv(r)||$v(r)||/windows phone/i.test(r)||Yv(r)}function Wv(r,t=[]){let i;switch(r){case"Browser":i=i0(Ze());break;case"Worker":i=`${i0(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class UA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LA(r,t={}){return rl(r,"GET","/v2/passwordPolicy",Po(r,t))}const jA=6;class zA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class PA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new UA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Zi(this));const i=t?We(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LA(this),i=new zA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_A(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bo(r){return We(r)}class s0{constructor(t){this.auth=t,this.observer=null,this.addObserver=sS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(r){Nm=r}function qA(r){return Nm.loadJS(r)}function HA(){return Nm.gapiScript}function GA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function FA(r,t){const i=Am(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Br(c,t??{}))return o;es(o,"already-initialized")}return i.initialize({options:t})}function QA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function KA(r,t,i){const a=Bo(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=t1(t),{host:d,port:g}=YA(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Br(y,a.config.emulator)&&Br(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(Iv(`${c}//${d}${v}`),Nv("Auth",!0)):XA()}function t1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function YA(r){const t=t1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:r0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:r0(d)}}}function r0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function XA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class e1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function Fa(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",Po(r,t))}const $A="http://localhost";class Hr extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Hr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:$A,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jo(i)}return t}}class n1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class qo extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends qo{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Gs extends qo{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Fs extends qo{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function JA(r,t){return xm(r,"POST","/v1/accounts:signUp",Po(r,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await $n._fromIdTokenResponse(t,a,o),d=a0(a);return new is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=a0(a);return new is({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function a0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function ZA(r){if(Un(r.app))return Promise.reject(Zi(r));const t=Bo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await JA(t,{returnSecureToken:!0}),a=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends as{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Kc(t,i,a,o)}}function i1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function WA(r,t,i=!1){const a=await Io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return is._forOperation(r,"link",a)}async function tw(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Zi(a));const o="reauthenticate";try{const c=await Io(r,i1(a,o,t,r),i);vt(c.idToken,a,"internal-error");const d=Cm(c.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(r.uid===g,a,"user-mismatch"),is._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function ew(r,t,i=!1){if(Un(r.app))return Promise.reject(Zi(r));const a="signIn",o=await i1(r,a,t),c=await is._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function nw(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Po(r,t))}async function iw(r,t){if(Un(r.app))return Promise.reject(Zi(r));const i=Bo(r),a=await nw(i,{token:t,returnSecureToken:!0}),o=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function sw(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function rw(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function aw(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class s1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lw=1e3,ow=10;class r1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ow):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}r1.type="LOCAL";const uw=r1;class a1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}a1.type="SESSION";const l1=a1;function cw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await cw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Dm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(R.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function fw(r){Si().location.href=r}function o1(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){return navigator?.serviceWorker?.controller||null}function pw(){return o1()?self:null}const u1="firebaseLocalStorageDb",gw=1,Xc="firebaseLocalStorage",c1="fbase_key";class Ho{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function yw(){const r=indexedDB.deleteDatabase(u1);return new Ho(r).toPromise()}function em(){const r=indexedDB.open(u1,gw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:c1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await yw(),t(await em()))})})}async function l0(r,t,i){const a=hh(r,!0).put({[c1]:t,value:i});return new Ho(a).toPromise()}async function _w(r,t){const i=hh(r,!1).get(t),a=await new Ho(i).toPromise();return a===void 0?null:a.value}function o0(r,t){const i=hh(r,!0).delete(t);return new Ho(i).toPromise()}const vw=800,Ew=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(pw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await l0(t,Yc,"1"),await o0(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>l0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>o0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=hh(o,!1).getAll();return new Ho(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const Tw=h1;new zo(3e4,6e4);function bw(r,t){return t?Ji(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends e1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Sw(r){return ew(r.auth,new Om(r),r.bypassAuthState)}function Aw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),tw(i,new Om(r),r.bypassAuthState)}async function ww(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),WA(i,new Om(r),r.bypassAuthState)}class f1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Sw;case"linkViaPopup":case"linkViaRedirect":return ww;case"reauthViaPopup":case"reauthViaRedirect":return Aw;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new zo(2e3,1e4);class qa extends f1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}qa.currentPopupAction=null;const xw="pendingRedirect",Vc=new Map;class Cw extends f1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await Iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(r,t){const i=Ow(t),a=Dw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Nw(r,t){Vc.set(r._key(),t)}function Dw(r){return Ji(r._redirectPersistence)}function Ow(r){return Mc(xw,r.config.apiKey,r.name)}async function Mw(r,t,i=!1){if(Un(r.app))return Promise.reject(Zi(r));const a=Bo(r),o=bw(a,t),d=await new Cw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Vw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!d1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(t))}saveEventToCache(t){this.cachedEventUids.add(u0(t)),this.lastProcessedEventTime=Date.now()}}function u0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function d1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(r);default:return!1}}async function Lw(r,t={}){return rl(r,"GET","/v1/projects",t)}const jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function Pw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Lw(r);for(const i of t)try{if(Bw(i))return}catch{}es(r,"unauthorized-domain")}function Bw(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(jw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const qw=new zo(3e4,6e4);function c0(){const r=Si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Hw(r){return new Promise((t,i)=>{function a(){c0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c0(),i(bi(r,"network-request-failed"))},timeout:qw.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const o=GA("iframefcb");return Si()[o]=()=>{gapi.load?a():i(bi(r,"network-request-failed"))},qA(`${HA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function Gw(r){return kc=kc||Hw(r),kc}const Fw=new zo(5e3,15e3),Qw="__/auth/iframe",Kw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,Kw):`https://${r.config.authDomain}/${Qw}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=Xw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jo(a).slice(1)}`}async function Jw(r){const t=await Gw(r),i=Si().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:$w(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),g=Si().setTimeout(()=>{c(d)},Fw.get());function v(){Si().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Zw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,t2=600,e2="_blank",n2="http://localhost";class h0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(r,t,i,a=Ww,o=t2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Zw,width:a.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=Kv(y)?e2:i),Fv(y)&&(t=t||n2,v.scrollbars="yes");const b=Object.entries(v).reduce((R,[G,Z])=>`${R}${G}=${Z},`,"");if(VA(y)&&g!=="_self")return s2(t||"",g),new h0(null);const w=window.open(t||"",g,b);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new h0(w)}function s2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const r2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function f0(r,t,i,a,o,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof n1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",iS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof qo){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${l2}=${encodeURIComponent(v)}`:"";return`${o2(r)}?${jo(g).slice(1)}${y}`}function o2({config:r}){return r.emulator?Rm(r,a2):`https://${r.authDomain}/${r2}`}const zd="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=Mw,this._overrideRedirectResult=Nw}async _openPopup(t,i,a,o){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await f0(t,i,a,Wd(),o);return i2(t,c,Dm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await f0(t,i,a,Wd(),o);return fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Jw(t),a=new kw(t);return i.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zv()||Qv()||Im()}}const c2=u2;var d0="@firebase/auth",m0="1.12.0";class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},y=new PA(a,o,c,v);return QA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=Bo(t.getProvider("auth").getImmediate());return(a=>new h2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(d0,m0,f2(r)),Xs(d0,m0,"esm2020")}const m2=300,p2=Cv("authIdTokenMaxAge")||m2;let p0=null;const g2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>p2)return;const o=i?.token;p0!==o&&(p0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y2(r=Vv()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=FA(r,{popupRedirectResolver:c2,persistence:[Tw,uw,l1]}),a=Cv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=g2(c.toString());rw(i,d,()=>d(i.currentUser)),sw(i,g=>d(g))}}const o=Rv("auth");return o&&KA(i,`http://${o}`),i}function _2(){return document.getElementsByTagName("head")?.[0]??document}BA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",_2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,m1;(function(){var r;function t(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,U){for(var x=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)x[nt-2]=arguments[nt];return A.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],D=N.g[2];let U=N.g[3],x;x=A+(U^C&(D^U))+V[0]+3614090360&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(D^A&(C^D))+V[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=D+(C^U&(A^C))+V[2]+606105819&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(A^D&(U^A))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(U^C&(D^U))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(D^A&(C^D))+V[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=D+(C^U&(A^C))+V[6]+2821735955&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(A^D&(U^A))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(U^C&(D^U))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(D^A&(C^D))+V[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=D+(C^U&(A^C))+V[10]+4294925233&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(A^D&(U^A))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(U^C&(D^U))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(D^A&(C^D))+V[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=D+(C^U&(A^C))+V[14]+2792965006&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(A^D&(U^A))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(D^U&(C^D))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(A^C))+V[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(U^A))+V[11]+643717713&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(D^U))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(D^U&(C^D))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(A^C))+V[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(U^A))+V[15]+3634488961&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(D^U))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(D^U&(C^D))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(A^C))+V[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(U^A))+V[3]+4107603335&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(D^U))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(D^U&(C^D))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(A^C))+V[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(U^A))+V[7]+1735328473&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(D^U))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(C^D^U)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^D)+V[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=D+(U^A^C)+V[11]+1839030562&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^A)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(C^D^U)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^D)+V[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=D+(U^A^C)+V[7]+4139469664&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^A)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(C^D^U)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^D)+V[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=D+(U^A^C)+V[3]+3572445317&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^A)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(C^D^U)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^D)+V[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=D+(U^A^C)+V[15]+530742520&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^A)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(D^(C|~U))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~D))+V[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=D+(A^(U|~C))+V[14]+2878612391&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~A))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=A+(D^(C|~U))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~D))+V[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=D+(A^(U|~C))+V[10]+4293915773&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~A))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=A+(D^(C|~U))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~D))+V[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=D+(A^(U|~C))+V[6]+2734768916&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~A))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=A+(D^(C|~U))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~D))+V[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=D+(A^(U|~C))+V[2]+718787259&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<A;){if(D==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<A;)if(V[D++]=N[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[A++]=this.g[C]>>>V&255;return N};function c(N,A){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function d(N,A){this.h=A;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==A||(C[D]=U,V=!1)}this.g=C}var g={};function v(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return X(y(-N));const A=[];let C=1;for(let V=0;N>=C;V++)A[V]=N/C|0,C*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return X(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=w;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const x=parseInt(N.substring(U,U+D),A);D<8?(D=y(Math.pow(A,D)),V=V.j(D).add(y(x))):(V=V.j(C),V=V.add(y(x)))}return V}var w=v(0),R=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-X(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(W(this))return"-"+X(this).toString(N);const A=y(Math.pow(N,6));var C=this;let V="";for(;;){const D=Rt(C,A).g;C=rt(C,D.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,Z(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=rt(this,N),W(N)?-1:Z(N)?0:1};function X(N){const A=N.g.length,C=[];for(let V=0;V<A;V++)C[V]=~N.g[V];return new d(C,~N.h).add(R)}r.abs=function(){return W(this)?X(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=A;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),x=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,U&=65535,x&=65535,C[D]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function rt(N,A){return N.add(X(A))}r.j=function(N){if(Z(this)||Z(N))return w;if(W(this))return W(N)?X(this).j(X(N)):X(X(this).j(N));if(W(N))return X(this.j(X(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,x=this.i(V)&65535,nt=N.i(D)>>>16,Vt=N.i(D)&65535;C[2*V+2*D]+=x*Vt,ht(C,2*V+2*D),C[2*V+2*D+1]+=U*Vt,ht(C,2*V+2*D+1),C[2*V+2*D+1]+=x*nt,ht(C,2*V+2*D+1),C[2*V+2*D+2]+=U*nt,ht(C,2*V+2*D+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new d(C,0)};function ht(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ft(N,A){this.g=N,this.h=A}function Rt(N,A){if(Z(A))throw Error("division by zero");if(Z(N))return new ft(w,w);if(W(N))return A=Rt(X(N),A),new ft(X(A.g),X(A.h));if(W(A))return A=Rt(N,X(A)),new ft(X(A.g),A.h);if(N.g.length>30){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var C=R,V=A;V.l(N)<=0;)C=Ht(C),V=Ht(V);var D=wt(C,1),U=wt(V,1);for(V=wt(V,2),C=wt(C,2);!Z(V);){var x=U.add(V);x.l(N)<=0&&(D=D.add(C),U=x),V=wt(V,1),C=wt(C,1)}return A=rt(N,D.j(A)),new ft(D,A)}for(D=w;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),x=U.j(A);W(x)||x.l(N)>0;)C-=V,U=y(C),x=U.j(A);Z(U)&&(U=R),D=D.add(U),N=rt(N,x)}return new ft(D,N)}r.B=function(N){return Rt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Ht(N){const A=N.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function wt(N,A){const C=A>>5;A%=32;const V=N.g.length-C,D=[];for(let U=0;U<V;U++)D[U]=A>0?N.i(U+C)>>>A|N.i(U+C+1)<<32-A:N.i(U+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,m1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,$s=d}).apply(typeof g0<"u"?g0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,_o,g1,Uc,nm,y1,_1,v1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in _))break t;_=_[j]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,j,q){for(var it=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)it[xt-2]=arguments[xt];return m.prototype[j].apply(T,it)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=u.length||0;const q=j.length||0;u.length=_+q;for(let it=0;it<q;it++)u[_+it]=j[it]}else u.push(j)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,_){const T=ft.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new W(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,wt=!1,N=new ht,A=()=>{const u=Promise.resolve(void 0);Ht=()=>{u.then(C)}};function C(){for(var u;u=rt();){try{u.h.call(u.g)}catch(_){X(_)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(nt,D),nt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),k=0;function Q(u,m,_,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=j,this.key=++k,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Et(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function _t(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let _,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(_ in T)u[_]=T[_];for(let q=0;q<Y.length;q++)_=Y[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,_,T,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=It(u,m,T,j);return it>-1?(m=u[it],_||(m.fa=!1)):(m=new Q(m,this.src,q,!!T,j),m.fa=_,u.push(m)),m};function Tt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],j=Array.prototype.indexOf.call(T,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(T,j,1),q&&(et(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function It(u,m,_,T){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return j}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Ne={};function le(u,m,_,T,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)le(u,m[q],_,T,j);return null}return _=fl(_),u&&u[Vt]?u.J(m,_,g(T)?!!T.capture:!1,j):ar(u,m,_,!1,T,j)}function ar(u,m,_,T,j,q){if(!m)throw Error("Invalid event type");const it=g(j)?!!j.capture:!!j;let xt=lr(u);if(xt||(u[Bt]=xt=new lt(u)),_=xt.add(m,_,T,it,q),_.proxy)return _;if(T=Yr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(j=it),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yr(){function u(_){return m.call(u.src,u.listener,_)}const m=cl;return u}function Xr(u,m,_,T,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xr(u,m[q],_,T,j);else T=g(T)?!!T.capture:!!T,_=fl(_),u&&u[Vt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=It(m,_,T,j),_>-1&&(et(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,_,T,j)),(_=u>-1?m[u]:null)&&$r(_))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Vt])Tt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Wn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=lr(m))?(Tt(_,u),_.h==0&&(_.src=null,m[Bt]=null)):et(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new nt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=_.call(T,m)}return u}function lr(u){return u=u[Bt],u instanceof lt?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function _e(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}w(_e,V),_e.prototype[Vt]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Xr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(T,u),st(m,j)}j=!0;let q,it;if(_)for(it=_.length-1;it>=0;it--)q=m.g=_[it],j=ls(q,T,!0,m)&&j;if(q=m.g=u,j=ls(q,T,!0,m)&&j,j=ls(q,T,!1,m)&&j,_)for(it=0;it<_.length;it++)q=m.g=_[it],j=ls(q,T,!1,m)&&j}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)et(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ls(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==_){const xt=it.listener,me=it.ha||it.src;it.fa&&Tt(u.i,it),j=xt.call(me,T)!==!1&&j}}return j&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){V.call(this),this.h=u,this.g={}}w(or,V);var dl=[];function ml(u){Et(u.g,function(m,_){this.g.hasOwnProperty(_)&&$r(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),ml(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Ih=d.JSON.parse,$o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jo(){}function Zo(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}w(ze,D);function Sn(){D.call(this,"c")}w(Sn,D);var de={},Wo=null;function Jr(){return Wo=Wo||new _e}de.Ia="serverreachability";function tu(u){D.call(this,de.Ia,u)}w(tu,D);function ti(u){const m=Jr();De(m,new tu(m))}de.STAT_EVENT="statevent";function ur(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}w(ur,D);function ve(u){const m=Jr();De(m,new ur(m,u))}de.Ja="timingevent";function ei(u,m){D.call(this,de.Ja,u),this.size=m}w(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,j,q){u.info(function(){if(u.g)if(q){var it="",xt=q.split("&");for(let Qt=0;Qt<xt.length;Qt++){var me=xt[Qt].split("=");if(me.length>1){const oe=me[0];me=me[1];const xn=oe.split("_");it=xn.length>=2&&xn[1]=="type"?it+(oe+"="+me+"&"):it+(oe+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+_+`
`+it})}function eu(u,m,_,T,j,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+_+`
`+q+" "+it})}function ii(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(T?" "+T:"")})}function cr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return os(q)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function fr(){}w(fr,Jo),fr.prototype.g=function(){return new XMLHttpRequest},gl=new fr;function Ii(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function si(u,m,_){u.M=1,u.A=dr(be(m)),u.u=_,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Bn,u.g=yu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(dl[0]=j.toString()),j=dl);for(let q=0;q<j.length;q++){const it=le(_,j[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const xt=Gn(this.g),me=this.g.ya(),Qt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||xt!=4||me==7||(me==8||Qt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var _=Oh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var q=T;break e}}q=null}if(u=q)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),An(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<_.length;)if(oe=su(this,_),oe==ke){xt==4&&(this.m=4,ve(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ii(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,oe,null),li(this,oe);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Dl(it),it.P=!0,ve(11))}}else ii(this.i,this.l,_,null),li(this,_);xt==4&&dn(this),this.o&&!this.K&&(xt==4?du(this.j,this):(this.o=!1,ri(this)))}else Di(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),An(this)}}}catch{}};function Oh(u){if(!iu(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let _="";const T=m.length,j=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(j&&q==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ti(),ve(17)),dn(this),this.m=2,An(this)):Wr(this,this.T-u)};function An(u){u.j.I==0||u.K||du(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)la(_),gs(_);else break t;Er(_),ve(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&la(_),!x(m))for(j=_.Ba.g.parse(m),m=0;m<j.length;m++){let Qt=j[m];const oe=Qt[0];if(!(oe<=_.K))if(_.K=oe,Qt=Qt[1],_.I==2)if(Qt[0]=="c"){_.M=Qt[1],_.ba=Qt[2];const xn=Qt[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const gi=Qt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Fn=Qt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const Tr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var q=T.h;q.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vl(q,q.h),q.h=null))}if(T.G){const oa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Xt(T.J,T.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var it=u;if(T.na=gu(T,T.L?T.ba:null,T.W),it.L){El(T.h,it);var xt=it,me=T.O;me&&(xt.H=me),xt.D&&(ai(xt),ri(xt)),T.g=it}else hu(T);_.i.length>0&&mi(_)}else Qt[0]!="stop"&&Qt[0]!="close"||pi(_,7);else _.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?pi(_,7):Il(_):Qt[0]!="noop"&&_.l&&_.l.qa(Qt),_.A=0)}}ti(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let j,q=null;T>=0?(j=u[_].substring(0,T),q=u[_].substring(T+1)):j=u[_],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,bl(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),us(this,m[4]),this.h=ci(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(mr(m,ea,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mr(m,ea,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?Sl:au,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,lu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)us(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let it=0;it<j.length;){const xt=j[it++];xt=="."?T&&it==j.length&&q.push(""):xt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==j.length&&q.push("")):(q.push(xt),T=!0)}T=q.join("/")}else T=j}return _?m.h=T:_=u.i.toString()!=="",_?bl(m,uu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function Ue(u,m,_){u.j=_?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,_){m instanceof hs?(u.i=m,ia(u.i,u.l)):(_||(m=mr(m,cs)),u.i=new hs(m,u.l))}function Xt(u,m,_){u.i.set(m,_)}function dr(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,au=/[#\?:]/g,Sl=/[#\?]/g,cs=/[#\?@]/g,lu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=hs.prototype,r.add=function(u,m){rn(this),this.i=null,u=fs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ou(u,m){rn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Al(u,m){return rn(u),m=fs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(j){u.call(m,j,T,this)},this)},this)};function wl(u,m){rn(u);let _=[];if(typeof m=="string")Al(u,m)&&(_=_.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=fs(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function na(u,m,_){ou(u,m),_.length>0&&(u.i=null,u.g.set(fs(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const j=Ii(_);_=wl(this,_);for(let q=0;q<_.length;q++){let it=j;_[q]!==""&&(it+="="+Ii(_[q])),u.push(it)}}return this.i=u.join("&")};function uu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const j=T.toLowerCase();T!=j&&(ou(this,T),na(this,j,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=b(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const _=new zn,T=new AbortController,j=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(_)}catch{}}function ds(){this.g=new $o}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Jo),hi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(pr,_e),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Hn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},r.Na=function(u){this.g&&(this.response=u,ms(this))},r.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Et(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function gr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&Ii(_):Xt(u,m,_))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Zt,_e);var fi=/^https?$/i,xl=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){yr(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)_.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xl,m,void 0)>=0)||T||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of _)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){yr(this,q)}};function yr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),Ni(u)}function Cl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},r.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=q===0){let it=String(u.D).match(ru)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!fi.test(it?it.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var j=Gn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Cl(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var _=nu(u[T]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[j]||[];m[j]=q,q.push(_)}_t(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ps.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),mi(this)};function Il(u){if(ra(u),u.I==3){var m=u.V++,_=be(u.J);if(Xt(_,"SID",u.M),Xt(_,"RID",m),Xt(_,"TYPE","terminate"),vr(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=dr(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}pu(u)}function gs(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function ra(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ht||A(),wt||(Ht(),wt=!0),N.add(m,u),u.D=0}}function aa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Pn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=cu(this,j,m),_=be(this.J),Xt(_,"RID",u),Xt(_,"CVER",22),this.G&&Xt(_,"X-HTTP-Session-Id",this.G),vr(this,_),q&&(this.R?m="headers="+Ii(Rn(q))+"&"+m:this.u&&gr(_,this.u,q)),vl(this.h,j),this.Ra&&Xt(_,"TYPE","init"),this.S?(Xt(_,"$req",m),Xt(_,"SID","null"),j.U=!0,si(j,_,null)):si(j,_,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Xt(T,"SID",u.M),Xt(T,"RID",_),Xt(T,"AID",u.K),vr(u,T),u.u&&u.o&&gr(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,_),si(_,T,m)}function vr(u,m){u.H&&Et(u.H,function(_,T){Xt(m,T,_)}),u.l&&Et({},function(_,T){Xt(m,T,_)})}function cu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var j=u.i;let xt=-1;for(;;){const me=["count="+_];xt==-1?_>0?(xt=j[0].g,me.push("ofs="+xt)):xt=0:me.push("ofs="+xt);let Qt=!0;for(let oe=0;oe<_;oe++){var q=j[oe].g;const xn=j[oe].map;if(q-=xt,q<0)xt=Math.max(0,j[oe].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var it=xn instanceof Map?xn:Object.entries(xn);for(const[gi,Fn]of it){let Qn=Fn;g(Fn)&&(Qn=os(Fn)),me.push(q+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw me.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(xn)}}if(Qt){it=me.join("&");break t}}it=void 0}return u=u.i.splice(0,_),m.G=u,it}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ht||A(),wt||(Ht(),wt=!0),N.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),gs(this),fu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),vr(u,m),u.u&&u.o&&gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=dr(be(m)),_.u=null,_.R=!0,Zr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,gs(this),Er(this),ve(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){la(u),Dl(u),u.g=null;var T=2}else if(ui(u.h,m))_=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=Jr(),De(T,new ei(T,_)),mi(u)}else hu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&Er(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),j){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function mu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const j=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),dr(T),j?qn(T.toString(),_):Rl(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),pu(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,_){var T=_ instanceof mn?be(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new mn(null);T&&Ue(q,T),m&&(q.g=m),j&&us(q,j),_&&(q.h=_),T=q}return _=u.G,m=u.wa,_&&m&&Xt(T,_,m),Xt(T,"VER",u.ka),vr(u,T),T}function yu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new hi({ab:_})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}w(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Il(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=os(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,en.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(vu,ze);function Eu(){Sn.call(this),this.status=1}w(Eu,Sn);function Oi(u){this.g=u}w(Oi,_u),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new vu(u))},Oi.prototype.pa=function(u){De(this.g,new Eu)},Oi.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,v1=function(){return new ys},_1=function(){return Jr()},y1=de,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Uc=hr,pl.COMPLETE="complete",g1=pl,Zo.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,_o=Zo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,p1=Zt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let al="12.8.0";function v2(r){al=r}const Gr=new bm("@firebase/firestore");function ja(){return Gr.logLevel}function at(r,...t){if(Gr.logLevel<=Lt.DEBUG){const i=t.map(Mm);Gr.debug(`Firestore (${al}): ${r}`,...i)}}function ss(r,...t){if(Gr.logLevel<=Lt.ERROR){const i=t.map(Mm);Gr.error(`Firestore (${al}): ${r}`,...i)}}function $a(r,...t){if(Gr.logLevel<=Lt.WARN){const i=t.map(Mm);Gr.warn(`Firestore (${al}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,E1(r,a,i)}function E1(r,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Yt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||E1(t,o,a)}function At(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class T1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new T1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class S2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new S2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=R2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Pd(o)===Pd(c)?jt(o,c):Pd(o)?1:-1}return jt(r.length,t.length)}const x2=55296,C2=57343;function Pd(r){const t=r.charCodeAt(0);return t>=x2&&t<=C2}function Ja(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const _0="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ti.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),o=Ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $s.fromString(t.substring(4,t.length-2))}}class re extends Ti{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return I2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Qe([_0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(re.fromString(t))}static fromName(t){return new mt(re.fromString(t).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new re(t.slice()))}}function b1(r,t,i){if(!i)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function N2(r,t,i,a){if(t===!0&&a===!0)throw new ct(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function v0(r){if(!mt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function E0(r){if(mt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function S1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Wi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Go(r,t){if(!S1(r))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(tt.INVALID_ARGUMENT,i);return!0}const T0=-62135596800,b0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*b0);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<T0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Go(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ae(0,0))}static max(){return new bt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const No=-1;function D2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new Zs(o,mt.empty(),t)}function O2(r){return new Zs(r.readTime,r.key,No)}class Zs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(bt.min(),mt.empty(),No)}static max(){return new Zs(bt.max(),mt.empty(),No)}}function M2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==V2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function U2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Um=-1;function dh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function L2(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const A1="";function j2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=S0(t)),t=z2(r.get(i),t);return S0(t)}function z2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case A1:i+="";break;default:i+=c}}return i}function S0(r){return r+A1+""}function A0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function sr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function w1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Fe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(t){return new w0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class w0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new R1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=P2.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function tr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const x1="server_timestamp",C1="__type__",I1="__previous_value__",N1="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[C1]?.stringValue===x1}function mh(r){const t=r.mapValue.fields[I1];return Lm(t)?mh(t):t}function Do(r){const t=Ws(r.mapValue.fields[N1].timestampValue);return new ae(t.seconds,t.nanos)}class B2{constructor(t,i,a,o,c,d,g,v,y,b,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const Jc="(default)";class Oo{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Oo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Oo&&t.projectId===this.projectId&&t.database===this.database}}function q2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(r.options.projectId,t)}const D1="__type__",H2="__max__",xc={mapValue:{}},O1="__vector__",Zc="value";function er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:F2(r)?9007199254740991:G2(r)?10:11:yt(28295,{value:r})}function xi(r,t){if(r===t)return!0;const i=er(r);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Do(r).isEqual(Do(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ws(o.timestampValue),g=Ws(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(A0(d)!==A0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!xi(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Mo(r,t){return(r.values||[]).find((i=>xi(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=er(r),a=er(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return R0(r.timestampValue,t.timestampValue);case 4:return R0(Do(r),Do(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=tr(c),v=tr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=jt(g[y],v[y]);if(b!==0)return b}return jt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=jt(ye(c.latitude),ye(d.latitude));return g!==0?g:jt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Zc]?.arrayValue,b=v[Zc]?.arrayValue,w=jt(y?.values?.length||0,b?.values?.length||0);return w!==0?w:x0(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const R=im(v[w],b[w]);if(R!==0)return R;const G=Za(g[v[w]],y[b[w]]);if(G!==0)return G}return jt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function R0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=Ws(r),a=Ws(t),o=jt(i.seconds,a.seconds);return o!==0?o:jt(i.nanos,a.nanos)}function x0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Za(i[o],a[o]);if(c)return c}return jt(i.length,a.length)}function Wa(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${sm(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Lc(r){switch(er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return sr(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function C0(r){return!!r&&"nullValue"in r}function I0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function G2(r){return(r?.mapValue?.fields||{})[D1]?.stringValue===O1}function Ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return sr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ao(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ao(r.arrayValue.values[i]);return t}return{...r}}function F2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Ao(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){sr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(Ao(this.value))}}function M1(r){const t=[];return sr(r.fields,((i,a)=>{const o=new Qe([i]);if(jc(a)){const c=M1(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new bn(t)}class Je{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,bt.min(),bt.min(),bt.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,bt.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,bt.min(),bt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,bt.min(),bt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function N0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function D0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function Q2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class V1{}class Me extends V1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Y2(t,i,a):i==="array-contains"?new J2(t,a):i==="in"?new Z2(t,a):i==="not-in"?new W2(t,a):i==="array-contains-any"?new tR(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new X2(t,a):new $2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends V1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return k1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(r){return r.op==="and"}function U1(r){return K2(r)&&k1(r)}function K2(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function am(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(U1(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function L1(r,t){return r instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&xi(a.value,o.value)})(r,t):r instanceof Ci?(function(a,o){return o instanceof Ci&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&L1(d,o.filters[g])),!0):!1})(r,t):void yt(19439)}function j1(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(j1).join(" ,")+"}"})(r):"Filter"}class Y2 extends Me{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class X2 extends Me{constructor(t,i){super(t,"in",i),this.keys=z1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class $2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=z1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function z1(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class J2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Mo(i.arrayValue,this.value)}}class Z2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Mo(this.value.arrayValue,i)}}class W2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Mo(this.value.arrayValue,i)}}class tR extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Mo(this.value.arrayValue,a)))}}class eR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function O0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new eR(r,t,i,a,o,c,d)}function zm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Q2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!L1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!D0(r.startAt,t.startAt)&&D0(r.endAt,t.endAt)}function lm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ph{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nR(r,t,i,a,o,c,d,g){return new ph(r,t,i,a,o,c,d,g)}function Bm(r){return new ph(r)}function M0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iR(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function sR(r){return r.collectionGroup!==null}function wo(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new th(Qe.keyField(),a))}return t.Ie}function Ai(r){const t=At(r);return t.Ee||(t.Ee=rR(t,wo(r))),t.Ee}function rR(r,t){if(r.limitType==="F")return O0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new th(o.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return O0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function om(r,t,i){return new ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Pm(Ai(r),Ai(t))&&r.limitType===t.limitType}function P1(r){return`${zm(Ai(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>j1(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of wo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=N0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,wo(a),o)||a.endAt&&!(function(d,g,v){const y=N0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,wo(a),o))})(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function B1(r){return(t,i)=>{let a=!1;for(const o of wo(r)){const c=lR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function lR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Za(v,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}const oR=new ce(mt.comparator);function rs(){return oR}const q1=new ce(mt.comparator);function vo(...r){let t=q1;for(const i of r)t=t.insert(i.key,i);return t}function H1(r){let t=q1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return Ro()}function G1(){return Ro()}function Ro(){return new Qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uR=new ce(mt.comparator),cR=new Ve(mt.comparator);function zt(...r){let t=cR;for(const i of r)t=t.add(i);return t}const hR=new Ve(jt);function fR(){return hR}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function F1(r){return{integerValue:""+r}}function dR(r,t){return L2(t)?F1(t):qm(r,t)}class _h{constructor(){this._=void 0}}function mR(r,t,i){return r instanceof eh?(function(o,c){const d={fields:{[C1]:{stringValue:x1},[N1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=mh(c)),c&&(d.fields[I1]=c),{mapValue:d}})(i,t):r instanceof Vo?K1(r,t):r instanceof ko?Y1(r,t):(function(o,c){const d=Q1(o,c),g=V0(d)+V0(o.Ae);return rm(d)&&rm(o.Ae)?F1(g):qm(o.serializer,g)})(r,t)}function pR(r,t,i){return r instanceof Vo?K1(r,t):r instanceof ko?Y1(r,t):i}function Q1(r,t){return r instanceof nh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends _h{}class Vo extends _h{constructor(t){super(),this.elements=t}}function K1(r,t){const i=X1(t);for(const a of r.elements)i.some((o=>xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class ko extends _h{constructor(t){super(),this.elements=t}}function Y1(r,t){let i=X1(t);for(const a of r.elements)i=i.filter((o=>!xi(o,a)));return{arrayValue:{values:i}}}class nh extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function V0(r){return ye(r.integerValue||r.doubleValue)}function X1(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Vo&&o instanceof Vo||a instanceof ko&&o instanceof ko?Ja(a.elements,o.elements,xi):a instanceof nh&&o instanceof nh?xi(a.Ae,o.Ae):a instanceof eh&&o instanceof eh})(r.transform,t.transform)}class yR{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function $1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,Jn.none()):new Fo(r.key,r.data,Jn.none());{const i=r.data,a=fn.empty();let o=new Ve(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new rr(r.key,a,new bn(o.toArray()),Jn.none())}}function _R(r,t,i){r instanceof Fo?(function(o,c,d){const g=o.value.clone(),v=U0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof rr?(function(o,c,d){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=U0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(J1(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function xo(r,t,i,a){return r instanceof Fo?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=c.value.clone(),b=L0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof rr?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=L0(c.fieldTransforms,v,d),b=d.data;return b.setAll(J1(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function vR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=Q1(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function k0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>gR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fo extends vh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends vh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function J1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function U0(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,pR(d,g,i[o]))}return a}function L0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,mR(c,d,t))}return a}class Hm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&_R(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=xo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=xo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=G1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=$1(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>k0(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>k0(i,a)))}}class Gm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Gm(t,i,a,o)}}class bR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SR{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,qt;function AR(r){switch(r){case tt.OK:return yt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Z1(r){if(r===void 0)return ss("GRPC error has no .code"),tt.UNKNOWN;switch(r){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return yt(39323,{code:r})}}(qt=xe||(xe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new $s([4294967295,4294967295],0);function j0(r){const t=wR().encode(r),i=new m1;return i.update(t),new Uint8Array(i.digest())}function z0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $s([i,a],0),new $s([o,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$s.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply($s.fromNumber(a)));return o.compare(RR)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=j0(t),[a,o]=z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=j0(t),[a,o]=z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(bt.min(),o,new ce(jt),rs(),zt())}}class Qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Qo(a,i,zt(),zt(),zt())}}class Pc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class W1{constructor(t,i){this.targetId=t,this.Ce=i}}class tE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class P0{constructor(){this.ve=0,this.Fe=B0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Qo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=B0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xR{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.He=Cc(),this.Je=Cc(),this.Ze=new ce(jt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(lm(c))if(a===0){const d=new mt(c.path);this.et(i,d,Je.newNoDocument(d,bt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=tr(a).toUint8Array()}catch(v){if(v instanceof R1)return $a("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Fm(d,o,c)}catch(v){return $a(v instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Eh(t,i,this.Ze,this.je,a);return this.je=rs(),this.He=Cc(),this.Je=Cc(),this.Ze=new ce(jt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new P0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(jt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(jt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new P0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ce(mt.comparator)}function B0(){return new ce(mt.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},IR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OR(r,t){return ih(r,t.toTimestamp())}function wi(r){return Yt(!!r,49232),bt.fromTimestamp((function(i){const a=Ws(i);return new ae(a.seconds,a.nanos)})(r))}function Qm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function nE(r){const t=re.fromString(r);return Yt(lE(t),10190,{key:t.toString()}),t}function hm(r,t){return Qm(r.databaseId,t.path)}function Bd(r,t){const i=nE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(sE(i))}function iE(r,t){return Qm(r.databaseId,t)}function MR(r){const t=nE(r);return t.length===4?re.emptyPath():sE(t)}function fm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q0(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function VR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Yt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?tt.UNKNOWN:Z1(y.code);return new ct(b,y.message||"")})(d);i=new tE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):bt.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Pc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?wi(a.readTime):bt.min(),d=Je.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new SR(o,c),g=a.targetId;i=new W1(g,d)}}return i}function kR(r,t){let i;if(t instanceof Fo)i={update:q0(r,t.key,t.value)};else if(t instanceof Hm)i={delete:hm(r,t.key)};else if(t instanceof rr)i={update:q0(r,t.key,t.data),updateMask:GR(t.fieldMask)};else{if(!(t instanceof ER))return yt(16599,{dt:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:OR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function UR(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?wi(o.updateTime):wi(c);return d.isEqual(bt.min())&&(d=wi(c)),new yR(d,o.transformResults||[])})(i,t)))):[]}function LR(r,t){return{documents:[iE(r,t.path)]}}function jR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iE(r,o);const c=(function(y){if(y.length!==0)return aE(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(R){return{field:Pa(R.field),direction:BR(R.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=um(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function zR(r){let t=MR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Yt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const R=rE(w);return R instanceof Ci&&U1(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((R=>(function(Z){return new th(Ba(Z.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(R)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let R;return R=typeof w=="object"?w.value:w,dh(R)?null:R})(i.limit));let v=null;i.startAt&&(v=(function(w){const R=!!w.before,G=w.values||[];return new Wc(G,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const R=!w.before,G=w.values||[];return new Wc(G,R)})(i.endAt)),nR(t,o,d,c,g,"F",v,y)}function PR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ba(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>rE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function BR(r){return CR[r]}function qR(r){return IR[r]}function HR(r){return NR[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Qe.fromServerFormat(r.fieldPath)}function aE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(I0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(C0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(I0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(C0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((o=>aE(o)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function GR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function oE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Qs{constructor(t,i,a,o,c=bt.min(),d=bt.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FR{constructor(t){this.yt=t}}function QR(r){const t=zR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class KR{constructor(){this.Sn=new YR}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Zs.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class YR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(re.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(re.comparator)).toArray()}}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(uE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class tl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const G0="LruGarbageCollector",XR=1048576;function F0([r,t],[i,a]){const o=jt(r,i);return o===0?jt(t,a):o}class $R{constructor(t){this.Pr=t,this.buffer=new Ve(F0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();F0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(G0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?at(G0,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Ar(3e5)}))}}class ZR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(fh.ce);const a=new $R(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(H0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),ja()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function WR(r,t){return new ZR(r,t)}class tx{constructor(){this.changes=new Qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ex{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nx{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&xo(a.mutation,o,bn.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=vo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=rs();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof rr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),xo(b.mutation,y,b.mutation.getFieldMask(),ae.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new ex(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ro();let o=new ce(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||bn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const w=(o.get(g.batchId)||zt()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,w=G1();b.forEach((R=>{if(!c.has(R)){const G=$1(i.get(R),a.get(R));G!==null&&w.set(R,G),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return iR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(jr());let g=No,v=c;return d.next((y=>J.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((R=>{v=v.insert(b,R)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,zt()))).next((b=>({batchId:g,changes:H1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(w,R){return new ph(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((w,R)=>{d=d.insert(w,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=vo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&xo(b.mutation,y,bn.empty(),ae.now()),yh(i,y)&&(g=g.insert(v,y))})),g}))}}class ix{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:QR(o.bundledQuery),readTime:wi(o.readTime)}})(i)),J.resolve()}}class sx{constructor(){this.overlays=new ce(mt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=jr(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ce(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=jr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return J.resolve(g)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class rx{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Km{constructor(){this.kr=new Ve(je.Kr),this.qr=new Ve(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new je(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new je(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new re([])),a=new je(i,t),o=new je(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new re([])),a=new je(i,t),o=new je(i,t+1);let c=zt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||jt(t.Hr,i.Hr)}static Ur(t,i){return jt(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class ax{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(je.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new je(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Um:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(jt);return i.forEach((o=>{const c=new je(o,0),d=new je(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new je(new mt(c),0);let g=new Ve(jt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new je(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new je(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lx{constructor(t){this.ti=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=rs();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||M2(O2(b),a)<=0||(o.has(b.key)||yh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new ox(this)}getSize(t){return J.resolve(this.size)}}class ox extends tx{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class ux{constructor(t){this.persistence=t,this.ri=new Qr((i=>zm(i)),Pm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=tl._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new tl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class cE{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new rx,this.referenceDelegate=t(this),this.li=new ux(this),this.indexManager=new KR,this.remoteDocumentCache=(function(o){return new lx(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new FR(i),this.Pi=new ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new ax(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new cx(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class cx extends k2{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Ai=null}static Vi(t){return new Ym(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=mt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Qr((a=>j2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=WR(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(t,i.fromCache,a,o)}}class hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Jb()?8:U2(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hx;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(ja()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(ja()<=Lt.DEBUG&&at("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ja()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):J.resolve())}gs(t,i){if(M0(i))return J.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=om(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return M0(i)||o.isEqual(bt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(ja()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.Ds(t,d,i,D2(o,No)).next((g=>g)))}))}bs(t,i){let a=new Ve(B1(t));return i.forEach(((o,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return ja()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(t,i,Zs.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",dx=3e8;class mx{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ce(jt),this.Fs=new Qr((c=>zm(c)),Pm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function px(r,t,i,a){return new mx(r,t,i,a)}async function hE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=zt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function gx(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const w=y.batch,R=w.keys();let G=J.resolve();return R.forEach((Z=>{G=G.next((()=>b.getEntry(v,Z))).next((W=>{const X=y.docVersions.get(Z);Yt(X!==null,48541),W.version.compareTo(X)<0&&(w.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),b.addEntry(W)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function fE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yx(r,t){const i=At(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((b,w)=>{const R=o.get(w);if(!R)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let G=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),o=o.insert(w,G),(function(W,X,rt){return W.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=dx?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(R,G,b)&&g.push(i.li.updateTargetData(c,G))}));let v=rs(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(_x(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(bt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function _x(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=rs();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(bt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function vx(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Ex(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function dm(r,t,i){const a=At(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;at($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Q0(r,t,i){const a=At(r);let o=bt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const w=At(v),R=w.Fs.get(b);return R!==void 0?J.resolve(w.vs.get(R)):w.li.getTargetData(y,b)})(a,d,Ai(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:bt.min(),i?c:zt()))).next((g=>(Tx(a,aR(t),g),{documents:g,ks:c})))))}function Tx(r,t,i){let a=r.Ms.get(t)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class K0{constructor(){this.activeTargetIds=fR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bx{constructor(){this.vo=new K0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new K0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Sx{Mo(t){}shutdown(){}}const Y0="ConnectivityMonitor";class X0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Y0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Y0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function mm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const qd="RestConnection",Ax={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wx{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=mm(),g=this.Qo(t,i.toUriEncodedString());at(qd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(g),b=il(y);return this.zo(t,g,v,a,b).then((w=>(at(qd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw $a(qd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=Ax[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Rx{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yo=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Qa extends wx{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Qa.c_){const t=_1();yo(t,y1.STAT_EVENT,(i=>{i.stat===nm.PROXY?at(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&at(Xe,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(t,i,a,o,c){const d=mm();return new Promise(((g,v)=>{const y=new p1;y.setWithCredentials(!0),y.listenOnce(g1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const w=y.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Uc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),v(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const R=y.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const W=(function(rt){const ht=rt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ht)>=0?ht:tt.UNKNOWN})(Z.status);v(new ct(W,Z.message))}else v(new ct(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);at(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let w=!1,R=!1;const G=new Rx({Ho:Z=>{R?at(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(w||(at(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),w=!0),at(Xe,`RPC '${t}' stream ${o} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return yo(b,_o.EventType.OPEN,(()=>{R||(at(Xe,`RPC '${t}' stream ${o} transport opened.`),G.i_())})),yo(b,_o.EventType.CLOSE,(()=>{R||(R=!0,at(Xe,`RPC '${t}' stream ${o} transport closed`),G.o_(),this.E_(b))})),yo(b,_o.EventType.ERROR,(Z=>{R||(R=!0,$a(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),yo(b,_o.EventType.MESSAGE,(Z=>{if(!R){const W=Z.data[0];Yt(!!W,16349);const X=W,rt=X?.error||X[0]?.error;if(rt){at(Xe,`RPC '${t}' stream ${o} received error:`,rt);const ht=rt.status;let ft=(function(wt){const N=xe[wt];if(N!==void 0)return Z1(N)})(ht),Rt=rt.message;ft===void 0&&(ft=tt.INTERNAL,Rt="Unknown error status: "+ht+" with message "+rt.message),R=!0,G.o_(new ct(ft,Rt)),b.close()}else at(Xe,`RPC '${t}' stream ${o} received:`,W),G.__(W)}})),Qa.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return v1()}}function xx(r){return new Qa(r)}function Hd(){return typeof document<"u"?document:null}function Th(r){return new DR(r,!0)}Qa.c_=!1;class dE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $0="PersistentStream";class mE{constructor(t,i,a,o,c,d,g,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at($0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cx extends mE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?wi(d.readTime):bt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=lm(v)?{documents:LR(c,v)}:{query:jR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=eE(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=PR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.K_(i)}}class Ix extends mE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=UR(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kR(this.serializer,a)))};this.K_(i)}}class Nx{}class Dx extends Nx{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,cm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Ox(r,t,i,a){return new Dx(r,t,i,a)}class Mx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class Vx{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Kr(this)&&(at(Fr,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await Ko(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new Mx(a,o)}}async function bh(r){if(Kr(r))for(const t of r.Ra)await t(!0)}async function Ko(r){for(const t of r.Ra)await t(!1)}function pE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):ul(i).O_()&&Zm(i,t))}function Jm(r,t){const i=At(r),a=ul(i);i.Ia.delete(t),a.O_()&&gE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Kr(i)&&i.Va.set("Unknown"))}function Zm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(r).Z_(t)}function gE(r,t){r.da.$e(t),ul(r).X_(t)}function Wm(r){r.da=new xR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Va.ua()}function tp(r){return Kr(r)&&!ul(r).x_()&&r.Ia.size>0}function Kr(r){return At(r).Ea.size===0}function yE(r){r.da=void 0}async function kx(r){r.Va.set("Online")}async function Ux(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function Lx(r,t){yE(r),tp(r)?(r.Va.ha(t),Wm(r)):r.Va.set("Unknown")}async function jx(r,t,i){if(r.Va.set("Online"),t instanceof tE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,t)}catch(a){at(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof Pc?r.da.Xe(t):t instanceof W1?r.da.st(t):r.da.tt(t),!i.isEqual(bt.min()))try{const a=await fE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),gE(c,v);const w=new Qs(b.target,v,y,b.sequenceNumber);Zm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(Fr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!ol(t))throw t;r.Ea.add(1),await Ko(r),r.Va.set("Offline"),i||(i=()=>fE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Fr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function _E(r,t){return t().catch((i=>rh(r,i,t)))}async function Sh(r){const t=At(r),i=nr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;zx(t);)try{const o=await vx(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,Px(t,o)}catch(o){await rh(t,o)}vE(t)&&EE(t)}function zx(r){return Kr(r)&&r.Ta.length<10}function Px(r,t){r.Ta.push(t);const i=nr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function vE(r){return Kr(r)&&!nr(r).x_()&&r.Ta.length>0}function EE(r){nr(r).start()}async function Bx(r){nr(r).ra()}async function qx(r){const t=nr(r);for(const i of r.Ta)t.ea(i.mutations)}async function Hx(r,t,i){const a=r.Ta.shift(),o=Gm.from(a,t,i);await _E(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sh(r)}async function Gx(r,t){t&&nr(r).Y_&&await(async function(a,o){if((function(d){return AR(d)&&d!==tt.ABORTED})(o.code)){const c=a.Ta.shift();nr(a).B_(),await _E(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Sh(a)}})(r,t),vE(r)&&EE(r)}async function J0(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(Fr,"RemoteStore received new credentials");const a=Kr(i);i.Ea.add(3),await Ko(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function Fx(r,t){const i=At(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Ko(i),i.Va.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new Cx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:kx.bind(null,r),Yo:Ux.bind(null,r),t_:Lx.bind(null,r),J_:jx.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),tp(r)?Wm(r):r.Va.set("Unknown")):(await r.ma.stop(),yE(r))}))),r.ma}function nr(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new Ix(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Bx.bind(null,r),t_:Gx.bind(null,r),ta:qx.bind(null,r),na:Hx.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Fr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new ep(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(ss("AsyncQueue",`${t}: ${r}`),ol(r))return new ct(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=vo(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Z0{constructor(){this.ga=new ce(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class el{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new el(t,i,Ka.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Qx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Kx{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=W0(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function W0(){return new Qr((r=>P1(r)),gh)}async function Yx(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new Qx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=np(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function Xx(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $x(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&ip(i)}function Jx(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function ip(r){r.Ca.forEach((t=>{t.next()}))}var pm,tv;(tv=pm||(pm={})).Ma="default",tv.Cache="cache";class Zx{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new el(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class TE{constructor(t){this.key=t}}class bE{constructor(t){this.key=t}}class Wx{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=B1(t),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Z0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,w)=>{const R=o.get(b),G=yh(this.query,w)?w:null,Z=!!R&&this.mutatedKeys.has(R.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let X=!1;R&&G?R.data.isEqual(G.data)?Z!==W&&(a.track({type:3,doc:G}),X=!0):this.su(R,G)||(a.track({type:2,doc:G}),X=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(g=!0)):!R&&G?(a.track({type:0,doc:G}),X=!0):R&&!G&&(a.track({type:1,doc:R}),X=!0,(v||y)&&(g=!0)),X&&(G?(d=d.add(G),c=W?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(G,Z){const W=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:X})}};return W(G)-W(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new el(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new bE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new TE(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sp="SyncEngine";class tC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class eC{constructor(t){this.key=t,this.hu=!1}}class nC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((g=>P1(g)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(mt.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iC(r,t,i=!0){const a=CE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await SE(a,t,i,!0),o}async function sC(r,t){const i=CE(r);await SE(i,t,!0,!1)}async function SE(r,t,i,a){const o=await Ex(r.localStore,Ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await rC(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&pE(r.remoteStore,o),g}async function rC(r,t,i,a,o){r.pu=(w,R,G)=>(async function(W,X,rt,ht){let ft=X.view.ru(rt);ft.Ss&&(ft=await Q0(W.localStore,X.query,!1).then((({documents:N})=>X.view.ru(N,ft))));const Rt=ht&&ht.targetChanges.get(X.targetId),Ht=ht&&ht.targetMismatches.get(X.targetId)!=null,wt=X.view.applyChanges(ft,W.isPrimaryClient,Rt,Ht);return nv(W,X.targetId,wt.au),wt.snapshot})(r,w,R,G);const c=await Q0(r.localStore,t,!0),d=new Wx(t,c.ks),g=d.ru(c.documents),v=Qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);nv(r,i,y.au);const b=new tC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function aC(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),gm(a,o.targetId)})).catch(ll)):(gm(a,o.targetId),await dm(a.localStore,o.targetId,!0))}async function lC(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function oC(r,t,i){const a=pC(r);try{const o=await(function(d,g){const v=At(d),y=ae.now(),b=g.reduce(((G,Z)=>G.add(Z.key)),zt());let w,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=rs(),W=zt();return v.xs.getEntries(G,b).next((X=>{Z=X,Z.forEach(((rt,ht)=>{ht.isValidDocument()||(W=W.add(rt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Z))).next((X=>{w=X;const rt=[];for(const ht of g){const ft=vR(ht,w.get(ht.key).overlayedDocument);ft!=null&&rt.push(new rr(ht.key,ft,M1(ft.value.mapValue),Jn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,rt,g)})).next((X=>{R=X;const rt=X.applyToLocalDocumentSet(w,W);return v.documentOverlayCache.saveOverlays(G,X.batchId,rt)}))})).then((()=>({batchId:R.batchId,changes:H1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ce(jt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Yo(a,o.changes),await Sh(a.remoteStore)}catch(o){const c=np(o,"Failed to persist write");i.reject(c)}}async function AE(r,t){const i=At(r);try{const a=await yx(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Yt(d.hu,14607):o.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Yo(i,a,t)}catch(a){await ll(a)}}function ev(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=At(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,w)=>{for(const R of w.ba)R.va(g)&&(y=!0)})),y&&ip(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function uC(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ce(mt.comparator);d=d.insert(c,Je.newNoDocument(c,bt.min()));const g=zt().add(c),v=new Eh(bt.min(),new Map,new ce(jt),d,g);await AE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),rp(a)}else await dm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(ll)}async function cC(r,t){const i=At(r),a=t.batch.batchId;try{const o=await gx(i.localStore,t);RE(i,a,null),wE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yo(i,o)}catch(o){await ll(o)}}async function hC(r,t,i){const a=At(r);try{const o=await(function(d,g){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(Yt(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);RE(a,t,i),wE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yo(a,o)}catch(o){await ll(o)}}function wE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function RE(r,t,i){const a=At(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||xE(r,a)}))}function xE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Jm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),rp(r))}function nv(r,t,i){for(const a of i)a instanceof TE?(r.Vu.addReference(a.key,t),fC(r,a)):a instanceof bE?(at(sp,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||xE(r,a.key)):yt(19791,{wu:a})}function fC(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(at(sp,"New document in limbo: "+i),r.Eu.add(a),rp(r))}function rp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(re.fromString(t)),a=r.fu.next();r.Au.set(a,new eC(i)),r.Ru=r.Ru.insert(i,a),pE(r.remoteStore,new Qs(Ai(Bm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Yo(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Xm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(R=>J.forEach(R.Ts,(G=>b.persistence.referenceDelegate.addReference(w,R.targetId,G))).next((()=>J.forEach(R.Is,(G=>b.persistence.referenceDelegate.removeReference(w,R.targetId,G)))))))))}catch(w){if(!ol(w))throw w;at($m,"Failed to update sequence numbers: "+w)}for(const w of y){const R=w.targetId;if(!w.fromCache){const G=b.vs.get(R),Z=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(R,W)}}})(a.localStore,c))}async function dC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(sp,"User change. New user:",t.toKey());const a=await hE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ct(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yo(i,a.Ns)}}function mC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function CE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uC.bind(null,t),t.Pu.J_=$x.bind(null,t.eventManager),t.Pu.yu=Jx.bind(null,t.eventManager),t}function pC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hC.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return px(this.persistence,new fx,t.initialUser,this.serializer)}Cu(t){return new cE(Ym.Vi,this.serializer)}Du(t){return new bx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class gC extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new cE((a=>sh.Vi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),await Fx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Kx})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=xx(t.databaseInfo);return Ox(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new Vx(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>ev(this.syncEngine,i,0)),(function(){return X0.v()?new X0:new Sx})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,b){const w=new nC(o,c,d,g,v,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Fr,"RemoteStore shutting down."),a.Ea.add(5),await Ko(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class yC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class _C{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),at(ir,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await hE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function iv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await vC(r);at(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>J0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>J0(t.remoteStore,o))),r._onlineComponents=t}async function vC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ir,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new ah)}}else at(ir,"Using default OfflineComponentProvider"),await Gd(r,new gC(void 0));return r._offlineComponents}async function IE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ir,"Using user provided OnlineComponentProvider"),await iv(r,r._uninitializedComponentsProvider._online)):(at(ir,"Using default OnlineComponentProvider"),await iv(r,new ym))),r._onlineComponents}function EC(r){return IE(r).then((t=>t.syncEngine))}async function sv(r){const t=await IE(r),i=t.eventManager;return i.onListen=iC.bind(null,t.syncEngine),i.onUnlisten=aC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=sC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=lC.bind(null,t.syncEngine),i}function TC(r,t,i,a){const o=new yC(a),c=new Zx(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>Yx(await sv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Xx(await sv(r),c)))}}function bC(r,t){const i=new zr;return r.asyncQueue.enqueueAndForget((async()=>oC(await EC(r),t,i))),i.promise}function NE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const SC="ComponentProvider",rv=new Map;function AC(r,t,i,a,o){return new B2(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,NE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const DE="firestore.googleapis.com",av=!0;class lv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DE,this.ssl=av}else this.host=t.host,this.ssl=t.ssl??av;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XR)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new E2;switch(a.type){case"firstParty":return new A2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=rv.get(i);a&&(at(SC,"Removing Datastore"),rv.delete(i),a.terminate())})(this),Promise.resolve()}}function wC(r,t,i,a={}){r=Wi(r,Ah);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(Iv(`https://${g}`),Nv("Firestore",!0)),c.host!==DE&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Br(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=qb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(w)}r._authCredentials=new T2(new T1(y,b))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Go(i,Ie._jsonSchema))return new Ie(t,a||null,new mt(re.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class Js extends wh{constructor(t,i,a){super(t,i,Bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new mt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function RC(r,t,...i){if(r=We(r),b1("collection","path",t),r instanceof Ah){const a=re.fromString(t,...i);return E0(a),new Js(r,null,a)}{if(!(r instanceof Ie||r instanceof Js))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return E0(a),new Js(r.firestore,null,a)}}function Bs(r,t,...i){if(r=We(r),arguments.length===1&&(t=Vm.newId()),b1("doc","path",t),r instanceof Ah){const a=re.fromString(t,...i);return v0(a),new Ie(r,null,new mt(a))}{if(!(r instanceof Ie||r instanceof Js))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return v0(a),new Ie(r.firestore,r instanceof Js?r.converter:null,new mt(a))}}const ov="AsyncQueue";class uv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&at(ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;at(ov,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",cv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ep.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function cv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class nl extends Ah{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new uv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uv(t),this._firestoreClient=void 0,await t}}}function xC(r,t){const i=typeof r=="object"?r:Vv(),a=typeof r=="string"?r:Jc,o=Am(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Pb("firestore");c&&wC(o,...c)}return o}function OE(r){if(r._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CC(r),r._firestoreClient}function CC(r){const t=r._freezeSettings(),i=AC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new _C(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Go(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class ap{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lp{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Go(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Go(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ce("string",Zn._jsonSchemaVersion),vectorValues:Ce("object")};const IC=/^__.*__$/;class NC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fo(t,this.data,i,this.fieldTransforms)}}class ME{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class op{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(VE(this.dataSource)&&IC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class DC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,o=!1){return new op({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kE(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new DC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function OC(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);up("Data must be an object, but it was:",d,a);const g=UE(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const R=Uo(t,w,i);if(!d.contains(R))throw new ct(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);zE(b,R)||b.push(R)}v=new bn(b),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new NC(new fn(g),v,y)}class Rh extends lp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function MC(r,t,i,a){const o=r.createContext(1,t,i);up("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();sr(a,((v,y)=>{const b=jE(t,v,i);y=We(y);const w=o.childContextForFieldPath(b);if(y instanceof Rh)c.push(b);else{const R=xh(y,w);R!=null&&(c.push(b),d.set(b,R))}}));const g=new bn(c);return new ME(d,g,o.fieldTransforms)}function VC(r,t,i,a,o,c){const d=r.createContext(1,t,i),g=[Uo(t,a,i)],v=[o];if(c.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)g.push(Uo(t,c[R])),v.push(c[R+1]);const y=[],b=fn.empty();for(let R=g.length-1;R>=0;--R)if(!zE(y,g[R])){const G=g[R];let Z=v[R];Z=We(Z);const W=d.childContextForFieldPath(G);if(Z instanceof Rh)y.push(G);else{const X=xh(Z,W);X!=null&&(y.push(G),b.set(G,X))}}const w=new bn(y);return new ME(b,w,d.fieldTransforms)}function xh(r,t){if(LE(r=We(r)))return up("Unsupported field value:",t,r),UE(r,t);if(r instanceof lp)return(function(a,o){if(!VE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=xh(g,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:eE(o.serializer,a._byteString)};if(a instanceof Ie){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,g){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[D1]:{stringValue:O1},[Zc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return qm(g.serializer,b)}))}}}}}})(a,o);if(oE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${km(a)}`)})(r,t)}function UE(r,t){const i={};return w1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(r,((a,o)=>{const c=xh(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function LE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Ri||r instanceof Ln||r instanceof Ie||r instanceof lp||r instanceof Zn||oE(r))}function up(r,t,i){if(!LE(i)||!S1(i)){const a=km(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Uo(r,t,i){if((t=We(t))instanceof ap)return t._internalPath;if(typeof t=="string")return jE(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const kC=new RegExp("[~\\*/\\[\\]]");function jE(r,t,i){if(t.search(kC)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ap(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ct(tt.INVALID_ARGUMENT,g+r+v)}function zE(r,t){return r.some((i=>i.isEqual(t)))}class UC{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Ri(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Do(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Yt(lE(a),9688,{name:t});const o=new Oo(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class PE extends UC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}const hv="@firebase/firestore",fv="4.10.0";function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class BE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Uo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LC extends BE{data(){return super.data()}}function jC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function zC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class To{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends BE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Uo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ce("string",Pr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Bc extends Pr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:PC(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ce("string",Ya._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function mv(r,t,i){r=Wi(r,Ie);const a=Wi(r.firestore,nl),o=zC(r.converter,t),c=kE(a);return cp(a,[OC(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Jn.none())])}function pv(r,t,i,...a){r=Wi(r,Ie);const o=Wi(r.firestore,nl),c=kE(o);let d;return d=typeof(t=We(t))=="string"||t instanceof ap?VC(c,"updateDoc",r._key,t,i,a):MC(c,"updateDoc",r._key,t),cp(o,[d.toMutation(r._key,Jn.exists(!0))])}function gv(r){return cp(Wi(r.firestore,nl),[new Hm(r._key,Jn.none())])}function Fd(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ie)d=Wi(r.firestore,nl),g=Bm(r._key.path),c={next:y=>{t[a]&&t[a](BC(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Wi(r,wh);d=Wi(y.firestore,nl),g=y._query;const b=new PE(d);c={next:w=>{t[a]&&t[a](new Ya(d,b,y,w))},error:t[a+1],complete:t[a+2]},jC(r._query)}const v=OE(d);return TC(v,g,o,c)}function cp(r,t){const i=OE(r);return bC(i,t)}function BC(r,t,i){const a=i.docs.get(t._key),o=new PE(r);return new Pr(r,o,t._key,a,new To(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){v2(sl),Xa(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new nl(new b2(a.getProvider("auth-internal")),new w2(d,a.getProvider("app-check-internal")),q2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xs(hv,fv,t),Xs(hv,fv,"esm2020")})();const qE=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const qC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const HC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const yv=r=>{const t=HC(r);return t.charAt(0).toUpperCase()+t.slice(1)};var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const QC=gt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>gt.createElement("svg",{ref:v,...GC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:qE("lucide",o),...!c&&!FC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>gt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Dt=(r,t)=>{const i=gt.forwardRef(({className:a,...o},c)=>gt.createElement(QC,{ref:c,iconNode:t,className:qE(`lucide-${qC(yv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=yv(r),i};const KC=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],YC=Dt("arrow-down",KC);const XC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],$C=Dt("arrow-left-right",XC);const JC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ZC=Dt("arrow-up",JC);const WC=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],tI=Dt("bath",WC);const eI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_v=Dt("calculator",eI);const nI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nc=Dt("calendar",nI);const iI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sI=Dt("chevron-right",iI);const rI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aI=Dt("circle-alert",rI);const lI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oI=Dt("circle-check-big",lI);const uI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cI=Dt("circle-check",uI);const hI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fI=Dt("clock",hI);const dI=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],mI=Dt("cloud-lightning",dI);const pI=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],gI=Dt("cloud-rain",pI);const yI=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],vv=Dt("cloud",yI);const _I=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Ev=Dt("coins",_I);const vI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],EI=Dt("dollar-sign",vI);const TI=[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]],bI=Dt("equal",TI);const SI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AI=Dt("file-text",SI);const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],RI=Dt("globe",wI);const xI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Tv=Dt("list-checks",xI);const CI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hp=Dt("loader-circle",CI);const II=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NI=Dt("map-pin",II);const DI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],OI=Dt("package",DI);const MI=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qd=Dt("pen-line",MI);const VI=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],kI=Dt("pill",VI);const UI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],bv=Dt("plane",UI);const LI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_m=Dt("plus",LI);const jI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zI=Dt("rotate-ccw",jI);const PI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],BI=Dt("save",PI);const qI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],HE=Dt("search",qI);const HI=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],GI=Dt("settings-2",HI);const FI=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],QI=Dt("shirt",FI);const KI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],YI=Dt("smartphone",KI);const XI=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],$I=Dt("snowflake",XI);const JI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oh=Dt("sun",JI);const ZI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vm=Dt("trash-2",ZI);const WI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tN=Dt("trending-up",WI);const eN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GE=Dt("x",eN),nN=" V1.6 - 2026/02/06 10:45",Dc={TWD:" - ",USD:" - ",JPY:" - ",KRW:" - ",THB:" - ",VND:" - ",HKD:" - ",EUR:" - ",CNY:" - ",GBP:" - ",SGD:" - ",AUD:" - "},Em=[{id:"cat_3c",name:"3C ",icon:YI,items:["","","","","","",""]},{id:"cat_clothing",name:"",icon:QI,items:["","","","","","","","",""]},{id:"cat_toiletries",name:"",icon:tI,items:["","","","","","","",""]},{id:"cat_medicine",name:"",icon:kI,items:["","","","","OK ",""]},{id:"cat_docs",name:"",icon:AI,items:["","","","","","",""]},{id:"cat_others",name:"",icon:OI,items:["","","","","",""]}],iN=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch(r){console.error("Firebase Config Parse Error",r)}return{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65",measurementId:"G-46DG11FWVQ"}},sN=iN(),FE=Mv(sN),Kd=y2(FE),Yi=xC(FE),Xi="travel-yeh",rN=(r,t)=>{if(!r)return"";try{const i=new Date(r);return i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})}catch{return""}},aN=r=>{if(!r)return"";const t=new Date(r);return`${t.getFullYear()}/${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}`},lN=({tripInfo:r})=>{const t=gt.useMemo(()=>{if(!r?.startDate||!r?.duration)return"";try{const R=new Date(r.startDate);return R.setDate(R.getDate()+(parseInt(r.duration)-1)),R.toISOString().split("T")[0]}catch{return""}},[r]),[i,a]=gt.useState({dest:r?.city||"",start:r?.startDate||new Date().toISOString().split("T")[0],end:t}),[o,c]=gt.useState(!1),[d,g]=gt.useState(null),[v,y]=gt.useState(null);gt.useEffect(()=>{r&&a({dest:r.city||"",start:r.startDate||"",end:t})},[r,t]);const b=R=>R===0?{icon:oh,label:"",color:"text-orange-500",tip:""}:R<=3?{icon:vv,label:"",color:"text-blue-400",tip:""}:R>=51&&R<=67?{icon:gI,label:"",color:"text-blue-600",tip:""}:R>=95?{icon:mI,label:"",color:"text-indigo-700",tip:""}:R>=71&&R<=77?{icon:$I,label:"",color:"text-sky-300",tip:""}:{icon:vv,label:"",color:"text-slate-400",tip:""},w=async R=>{if(R&&R.preventDefault(),!!i.dest){c(!0),y(null);try{const Z=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(i.dest)}&count=1&language=zh&format=json`)).json();if(!Z.results||Z.results.length===0)throw new Error("");const{latitude:W,longitude:X,name:rt}=Z.results[0],ft=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${W}&longitude=${X}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto&start_date=${i.start}&end_date=${i.end||i.start}`)).json();if(!ft.daily)throw new Error("");g({location:rt,daily:ft.daily.time.map((Rt,Ht)=>({date:Rt,max:ft.daily.temperature_2m_max[Ht],min:ft.daily.temperature_2m_min[Ht],code:ft.daily.weather_code[Ht]}))})}catch(G){y(G.message)}finally{c(!1)}}};return S.jsxs("div",{className:"animate-fade-in space-y-10 w-full max-w-5xl mx-auto",children:[S.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-xl border border-slate-100",children:[S.jsxs("h3",{className:"text-2xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[S.jsx(oh,{className:"text-orange-500"})," "]}),S.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,value:i.dest,onChange:R=>a({...i,dest:R.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none font-bold shadow-inner transition-all",placeholder:""})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"date",value:i.start,onChange:R=>a({...i,start:R.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-sm"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"date",value:i.end,min:i.start,onChange:R=>a({...i,end:R.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-sm"})]}),S.jsxs("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white h-[60px] rounded-3xl font-black shadow-lg hover:bg-blue-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[o?S.jsx(hp,{className:"animate-spin"}):S.jsx(HE,{size:20})," "]})]}),v&&S.jsxs("p",{className:"mt-4 text-red-500 text-xs font-bold flex items-center gap-2 animate-pulse",children:[S.jsx(aI,{size:16})," ",v]})]}),d&&S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.daily.map(R=>{const G=b(R.code);return S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-lg hover:-translate-y-1 transition-all group",children:[S.jsx("p",{className:"text-[10px] font-black text-slate-300 mb-4",children:R.date}),S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsx(G.icon,{className:`${G.color} group-hover:scale-110 transition-transform`,size:48}),S.jsxs("div",{className:"text-right",children:[S.jsxs("p",{className:"text-3xl font-black text-slate-800",children:[Math.round(R.max),""]}),S.jsxs("p",{className:"text-sm font-bold text-slate-300",children:[Math.round(R.min),""]})]})]}),S.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl",children:[S.jsx("p",{className:`font-black text-sm mb-1 ${G.color}`,children:G.label}),S.jsx("p",{className:"text-[11px] text-slate-500 font-bold leading-relaxed",children:G.tip})]})]},R.date)})})]})},oN=({itineraryData:r,updateItinField:t})=>{const[i,a]=gt.useState(null),[o,c]=gt.useState(""),[d,g]=gt.useState(null),[v,y]=gt.useState(""),b=r?.checklist||[],w=b.filter(W=>W.completed).length,R=b.length>0?Math.round(w/b.length*100):0,G=gt.useMemo(()=>{const W={};return Em.forEach(X=>W[X.id]=[]),b.forEach(X=>{const rt=X.categoryId||"cat_others";W[rt]||(W[rt]=[]),W[rt].push(X)}),W},[b]),Z=async W=>{if(!v.trim())return;const X={id:Date.now().toString(),text:v.trim(),completed:!1,categoryId:W};await t("checklist",[...b,X]),y(""),g(null)};return S.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto",children:[S.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-xl border border-slate-100",children:[S.jsxs("div",{className:"flex justify-between items-end mb-4",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),S.jsxs("p",{className:"text-sm font-bold text-slate-400",children:[" ",b.length,"  ",w," "]})]}),S.jsxs("span",{className:"text-5xl font-black text-blue-600 italic leading-none",children:[R,"%"]})]}),S.jsx("div",{className:"w-full h-4 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:S.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000 ease-out shadow-lg",style:{width:`${R}%`}})})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Em.map(W=>S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-lg border border-slate-100 flex flex-col h-fit hover:shadow-2xl transition-all",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl shadow-sm",children:S.jsx(W.icon,{size:24})}),S.jsx("h4",{className:"text-xl font-black text-slate-800",children:W.name})]}),S.jsx("button",{onClick:()=>g(W.id===d?null:W.id),className:"p-2 text-slate-300 hover:text-blue-500 transition-colors",children:S.jsx(_m,{size:20})})]}),d===W.id&&S.jsxs("div",{className:"mb-4 flex gap-2 animate-fade-in",children:[S.jsx("input",{autoFocus:!0,placeholder:"...",value:v,onChange:X=>y(X.target.value),onKeyDown:X=>X.key==="Enter"&&Z(W.id),className:"flex-1 p-3 bg-slate-50 border-2 border-blue-100 rounded-xl text-sm font-bold outline-none shadow-sm transition-all focus:border-blue-500"}),S.jsx("button",{onClick:()=>Z(W.id),className:"bg-blue-600 text-white px-4 rounded-xl font-black shadow-md",children:S.jsx(cI,{size:18})})]}),S.jsx("div",{className:"space-y-3",children:(G[W.id]||[]).map(X=>S.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all group ${X.completed?"bg-slate-50 border-slate-100 opacity-60":"bg-white border-slate-100 hover:border-blue-100 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[S.jsx("button",{onClick:async()=>await t("checklist",b.map(rt=>rt.id===X.id?{...rt,completed:!rt.completed}:rt)),className:`w-7 h-7 rounded-full flex items-center justify-center border-2 transition-all ${X.completed?"bg-green-500 border-green-500 text-white":"border-slate-200 hover:border-blue-500"}`,children:X.completed&&S.jsx(oI,{size:16})}),i===X.id?S.jsx("input",{autoFocus:!0,value:o,onChange:rt=>c(rt.target.value),onBlur:async()=>{await t("checklist",b.map(rt=>rt.id===X.id?{...rt,text:o}:rt)),a(null)},className:"bg-blue-50 px-2 py-1 rounded font-bold outline-none flex-1 border-b-2 border-blue-500"}):S.jsx("span",{onClick:()=>{a(X.id),c(X.text)},className:`text-sm font-bold cursor-text flex-1 ${X.completed?"line-through text-slate-400 italic":"text-slate-700"}`,children:X.text})]}),S.jsx("button",{onClick:async()=>await t("checklist",b.filter(rt=>rt.id!==X.id)),className:"p-1.5 text-slate-200 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:S.jsx(vm,{size:16})})]},X.id))})]},W.id))})]})},uN=()=>{const[r,t]=gt.useState({}),[i,a]=gt.useState("USD"),[o,c]=gt.useState("TWD"),[d,g]=gt.useState(1),[v,y]=gt.useState(!0),[b,w]=gt.useState(""),[R,G]=gt.useState(!1),[Z,W]=gt.useState("0"),[X,rt]=gt.useState(!1),[ht,ft]=gt.useState(()=>{try{return JSON.parse(localStorage.getItem("custom_rates"))||{}}catch{return{}}}),[Rt,Ht]=gt.useState(()=>{try{return JSON.parse(localStorage.getItem("use_custom_status"))||{}}catch{return{}}}),wt=async()=>{y(!0);try{const Vt=await(await fetch(`https://open.er-api.com/v6/latest/${i}`)).json();Vt.result==="success"&&t(Vt.rates||{})}catch(nt){console.error(nt)}finally{y(!1)}};gt.useEffect(()=>{wt()},[i]),gt.useEffect(()=>{localStorage.setItem("custom_rates",JSON.stringify(ht)),localStorage.setItem("use_custom_status",JSON.stringify(Rt))},[ht,Rt]);const N=nt=>{if(nt==="C")W("0");else if(nt==="=")try{const Vt=Function(`'use strict'; return (${Z})`)();W(String(Number(Vt).toFixed(2)))}catch{W("Error")}else W(Vt=>Vt==="0"||Vt==="Error"?nt:Vt+nt)},A=()=>{const nt=parseFloat(Z);isNaN(nt)||g(nt),rt(!1)},C=()=>{const nt=i;a(o),c(nt)},V=gt.useMemo(()=>{const nt=Rt[o]&&ht[o]?ht[o]:r[o]||0;return(d*nt).toFixed(2)},[d,o,r,ht,Rt]),D=Object.keys(Dc),U=D.filter(nt=>(Dc[nt]||"").toLowerCase().includes(b.toLowerCase())||nt.toLowerCase().includes(b.toLowerCase())),x=nt=>Dc[nt]||nt;return S.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto",children:[S.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${X?"max-h-[600px] mb-8 opacity-100":"max-h-0 opacity-0"}`,children:S.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[3.5rem] shadow-2xl border border-slate-800",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[S.jsxs("h4",{className:"font-black text-xl flex items-center gap-2 text-blue-400",children:[S.jsx(_v,{size:24})," "]}),S.jsx("button",{onClick:()=>rt(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:S.jsx(GE,{size:20})})]}),S.jsx("div",{className:"bg-black/40 p-8 rounded-[2rem] mb-8 text-right shadow-inner border border-white/5 overflow-hidden",children:S.jsx("span",{className:"text-5xl font-black font-mono tracking-tighter text-white block truncate",children:Z})}),S.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[["7","8","9","/","4","5","6","*","1","2","3","-","0",".","C","+"].map(nt=>S.jsx("button",{onClick:()=>N(nt),className:`py-6 rounded-2xl font-black text-2xl transition-all shadow-sm ${isNaN(nt)&&nt!=="."?"bg-blue-600 text-white hover:bg-blue-500":"bg-white/10 hover:bg-white/20"}`,children:nt},nt)),S.jsxs("button",{onClick:()=>N("="),className:"col-span-2 py-6 bg-green-600 text-white rounded-2xl font-black text-2xl hover:bg-green-500 transition-all flex items-center justify-center gap-2 shadow-md",children:[S.jsx(bI,{size:28})," "]}),S.jsx("button",{onClick:A,className:"col-span-2 py-6 bg-white text-slate-900 rounded-2xl font-black text-xl hover:bg-slate-100 transition-all flex items-center justify-center gap-2 shadow-xl active:scale-95",children:""})]})]})}),S.jsxs("div",{className:"bg-white rounded-[3.5rem] shadow-2xl border border-slate-100 overflow-hidden transition-all",children:[S.jsx("div",{className:"p-10 md:p-14",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-8 items-center",children:[S.jsxs("div",{className:"md:col-span-3",children:[S.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:""}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 pointer-events-none",children:S.jsx(EI,{size:24})}),S.jsx("input",{type:"number",value:d,onChange:nt=>g(nt.target.value),className:"w-full pl-14 pr-16 py-5 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-3xl outline-none transition-all text-2xl font-black shadow-inner"}),S.jsx("button",{onClick:()=>rt(!X),className:`absolute right-14 top-1/2 -translate-y-1/2 p-2 rounded-xl transition-all ${X?"text-blue-600 bg-blue-50":"text-slate-300 hover:text-blue-500 hover:bg-slate-100"}`,title:"",children:S.jsx(_v,{size:22})}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:S.jsx("select",{value:i,onChange:nt=>a(nt.target.value),className:"bg-white border shadow-sm rounded-xl px-2 py-1 text-xs font-black cursor-pointer outline-none transition-all max-w-[150px]",children:D.map(nt=>S.jsx("option",{value:nt,children:x(nt)},nt))})})]}),S.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2 ml-1",children:x(i)})]}),S.jsx("div",{className:"flex justify-center md:col-span-1",children:S.jsx("button",{onClick:C,className:"bg-blue-50 p-4 rounded-full text-blue-600 shadow-inner hover:bg-blue-600 hover:text-white hover:rotate-180 transition-all duration-500 active:scale-90 group shadow-md",children:S.jsx($C,{className:"md:rotate-0 rotate-90",size:28})})}),S.jsxs("div",{className:"md:col-span-3",children:[S.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:""}),S.jsxs("div",{className:"w-full pl-8 pr-6 py-5 bg-blue-600 rounded-[2rem] text-white flex items-center justify-between shadow-xl shadow-blue-100",children:[S.jsxs("div",{children:[S.jsx("span",{className:"text-3xl font-black tracking-tight",children:V}),S.jsx("p",{className:"text-blue-100 text-[10px] mt-1 font-bold",children:x(o)})]}),S.jsx("select",{value:o,onChange:nt=>c(nt.target.value),className:"bg-blue-700 text-white border-none rounded-xl px-3 py-1.5 text-xs font-black cursor-pointer outline-none max-w-[150px] transition-all",children:D.map(nt=>S.jsx("option",{value:nt,children:x(nt)},nt))})]})]})]})}),S.jsxs("div",{className:"bg-slate-50 border-t px-10 py-5 flex flex-wrap gap-4 justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[S.jsx(tN,{size:16,className:"text-green-500"}),S.jsx("span",{children:Rt[o]?"":""})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("button",{onClick:()=>G(!R),className:`flex items-center gap-2 px-5 py-2.5 rounded-2xl text-xs font-black transition-all ${R?"bg-blue-600 text-white shadow-lg":"bg-white border text-slate-600 shadow-sm hover:border-blue-100"}`,children:[S.jsx(GI,{size:16})," "]}),S.jsx("button",{onClick:wt,className:"text-xs font-black text-blue-600 p-2 hover:bg-blue-100 rounded-xl transition-all",children:S.jsx(zI,{size:16})})]})]})]}),R&&S.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-2xl overflow-hidden animate-fade-in",children:[S.jsxs("div",{className:"p-8 border-b flex justify-between items-center bg-slate-50/50",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-black text-xl text-slate-800 tracking-tight",children:""}),S.jsx("p",{className:"text-xs text-slate-400 font-bold tracking-tight",children:""})]}),S.jsxs("div",{className:"relative",children:[S.jsx(HE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),S.jsx("input",{type:"text",placeholder:"...",value:b,onChange:nt=>w(nt.target.value),className:"pl-12 pr-6 py-3 border rounded-2xl text-sm font-bold outline-none focus:ring-4 ring-blue-50 w-64 transition-all shadow-sm"})]})]}),S.jsx("div",{className:"max-h-[400px] overflow-y-auto scrollbar-hide",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase font-black sticky top-0 z-10",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-8 py-5",children:""}),S.jsx("th",{className:"px-8 py-5 text-right",children:""}),S.jsx("th",{className:"px-8 py-5 text-center",children:""}),S.jsx("th",{className:"px-8 py-5 text-right",children:""})]})}),S.jsx("tbody",{className:"divide-y divide-slate-50",children:U.map(nt=>S.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors",children:[S.jsxs("td",{className:"px-8 py-5",children:[S.jsx("div",{className:"font-black text-slate-700 leading-tight",children:Dc[nt]}),S.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:nt})]}),S.jsx("td",{className:"px-8 py-5 text-right font-mono text-slate-500 text-sm font-bold",children:r[nt]?.toFixed(4)}),S.jsx("td",{className:"px-8 py-5 text-center",children:S.jsx("button",{onClick:()=>Ht(Vt=>({...Vt,[nt]:!Vt[nt]})),className:`px-4 py-1.5 rounded-full text-[10px] font-black transition-all ${Rt[nt]?"bg-orange-100 text-orange-600 border border-orange-200":"bg-green-100 text-green-600 border border-green-200"}`,children:Rt[nt]?"":""})}),S.jsx("td",{className:"px-8 py-5 text-right",children:S.jsx("input",{type:"number",step:"0.0001",disabled:!Rt[nt],value:ht[nt]||"",onChange:Vt=>ft(k=>({...k,[nt]:parseFloat(Vt.target.value)||0})),className:`w-24 p-2 border rounded-xl text-sm text-right font-bold transition-all ${Rt[nt]?"bg-white border-orange-300 ring-4 ring-orange-50":"bg-slate-50 border-transparent"}`})})]},nt))})]})})]}),v&&S.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-[200] flex flex-col items-center justify-center",children:[S.jsx(hp,{className:"animate-spin text-blue-600 mb-2",size:48}),S.jsx("p",{className:"text-blue-600 font-black tracking-widest italic",children:"..."})]})]})},cN=()=>{const[r,t]=gt.useState("home"),[i,a]=gt.useState("itinerary"),[o,c]=gt.useState(null),[d,g]=gt.useState(null),[v,y]=gt.useState([]),[b,w]=gt.useState(!0),[R,G]=gt.useState(1),[Z,W]=gt.useState({country:"",city:"",startDate:"",duration:3}),[X,rt]=gt.useState({days:{},checklist:[]}),[ht,ft]=gt.useState({time:"09:00",spot:"",note:""}),[Rt,Ht]=gt.useState(null),[wt,N]=gt.useState({}),[A,C]=gt.useState({type:"",message:""}),[V,D]=gt.useState(null);gt.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const Q=document.createElement("script");Q.id="tailwind-cdn",Q.src="https://cdn.tailwindcss.com",document.head.appendChild(Q)}const k=document.createElement("style");k.id="premium-ui-engine-final",k.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { 
        min-height: 100vh !important; width: 100% !important; margin: 0 !important; padding: 0 !important; 
        background-color: #f8fafc !important; font-family: 'Noto Sans TC', sans-serif !important; 
      }
      #root { display: flex !important; flex-direction: column !important; align-items: center !important; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      .premium-slider::-webkit-scrollbar { height: 6px; }
      .premium-slider::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 10px; }
      .premium-slider::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 10px; border: 2px solid #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(k)},[]),gt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await iw(Kd,__initial_auth_token):await ZA(Kd)}catch(et){console.error("Auth failed",et)}})();const Q=aw(Kd,et=>{c(et),w(!1)});return()=>Q()},[]),gt.useEffect(()=>{if(!o)return;const k=RC(Yi,"artifacts",Xi,"public","data","trips");return Fd(k,Q=>{const et=Q.docs.map(Et=>({id:Et.id,...Et.data()}));y(et.sort((Et,_t)=>new Date(_t.createdAt)-new Date(Et.createdAt)))},Q=>{Q.code==="permission-denied"&&C({type:"error",message:""})})},[o]),gt.useEffect(()=>{if(!o||!d)return;const k=Bs(Yi,"artifacts",Xi,"public","data","itineraries",d),Q=Fd(k,_t=>{if(_t.exists()){const O=_t.data();rt({days:O.days||{},checklist:O.checklist||[]}),t("editor")}}),et=Bs(Yi,"artifacts",Xi,"public","data","trips",d),Et=Fd(et,_t=>{_t.exists()&&W(_t.data())});return()=>{Q(),Et()}},[o,d]);const U=async(k,Q)=>{if(!(!o||!d))try{await pv(Bs(Yi,"artifacts",Xi,"public","data","itineraries",d),{[k]:Q})}catch(et){console.error("Update failed",et)}},x=async k=>{if(k.preventDefault(),!!o)if(w(!0),V)try{await pv(Bs(Yi,"artifacts",Xi,"public","data","trips",V),{...Z}),C({type:"success",message:""}),D(null),W({country:"",city:"",startDate:"",duration:3})}catch(Q){console.error(Q)}finally{w(!1)}else{const Q=crypto.randomUUID(),et={};for(let _t=1;_t<=Math.max(1,parseInt(Z.duration));_t++)et[_t]={spots:[],title:""};const Et=[];Em.forEach(_t=>_t.items.forEach((O,Y)=>Et.push({id:`${_t.id}_${Y}`,text:O,completed:!1,categoryId:_t.id})));try{await mv(Bs(Yi,"artifacts",Xi,"public","data","trips",Q),{...Z,creator:o.uid,createdAt:new Date().toISOString()}),await mv(Bs(Yi,"artifacts",Xi,"public","data","itineraries",Q),{days:et,checklist:Et}),g(Q)}catch(_t){console.error(_t)}finally{w(!1)}}},nt=async(k,Q)=>{if(k.stopPropagation(),!!confirm(""))try{await gv(Bs(Yi,"artifacts",Xi,"public","data","trips",Q)),await gv(Bs(Yi,"artifacts",Xi,"public","data","itineraries",Q)),C({type:"success",message:""})}catch(et){console.error(et)}},Vt=(k,Q)=>{k.stopPropagation(),D(Q.id),W({country:Q.country,city:Q.city,startDate:Q.startDate,duration:Q.duration})};return b?S.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[S.jsx(hp,{className:"animate-spin text-blue-600 mb-2",size:48}),S.jsx("p",{className:"text-slate-500 font-black italic tracking-widest leading-none",children:"..."})]}):S.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen",children:[A.message&&S.jsxs("div",{className:`fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border ${A.type==="error"?"bg-red-50 border-red-100 text-red-600":"bg-green-50 border-green-100 text-green-600"}`,children:[" ",S.jsx("span",{className:"font-bold text-sm",children:String(A.message)}),S.jsx("button",{onClick:()=>C({type:"",message:""}),children:S.jsx(GE,{size:14})})," "]}),r==="home"?S.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-fade-in",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200",children:S.jsx(bv,{size:48})}),S.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase leading-none",children:"Travel Planner"}),S.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center",children:""})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[V?S.jsx(Qd,{className:"text-blue-600"}):S.jsx(_m,{className:"text-blue-600"})," ",V?"":""]}),S.jsxs("form",{onSubmit:x,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white shadow-slate-200",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm",value:Z.country,onChange:k=>W({...Z,country:k.target.value})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm",value:Z.city,onChange:k=>W({...Z,city:k.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm",value:Z.startDate,onChange:k=>W({...Z,startDate:k.target.value})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm",value:Z.duration,onChange:k=>W({...Z,duration:k.target.value})})]})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all",children:V?"":""}),V&&S.jsx("button",{type:"button",onClick:()=>{D(null),W({country:"",city:"",startDate:"",duration:3})},className:"w-full text-slate-400 font-bold py-2 hover:text-slate-600 transition-colors",children:""})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[S.jsx(Nc,{className:"text-blue-600"}),"  (",v.length,")"]}),S.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:v.map(k=>S.jsxs("div",{onClick:()=>g(k.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-5",children:[S.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm",children:S.jsx(RI,{size:24})}),S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight leading-tight",children:[k.city," "]}),S.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:[k.country,"  ",k.startDate]}),S.jsxs("p",{className:"text-[9px] text-slate-300 font-bold mt-1",children:[" ",aN(k.createdAt)]})]})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[S.jsx("button",{onClick:Q=>Vt(Q,k),className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all",children:S.jsx(Qd,{size:18})}),S.jsx("button",{onClick:Q=>nt(Q,k.id),className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all",children:S.jsx(vm,{size:18})})]}),S.jsx(sI,{className:"text-slate-200 group-hover:text-blue-600 transition-colors"})]})]},k.id))})]})]}),S.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:nN})]}):S.jsxs("div",{className:"w-full flex flex-col items-center pb-24",children:[S.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50",children:[S.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[S.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-2xl group-hover:rotate-12 transition-transform shadow-lg shadow-blue-100",children:S.jsx(bv,{size:24,className:"rotate-45"})}),S.jsx("span",{className:"tracking-tighter uppercase font-black font-sans",children:"Traveler"})]}),S.jsxs("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:[S.jsxs("button",{onClick:()=>a("itinerary"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="itinerary"?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400"}`,children:[S.jsx(Nc,{size:14})," "]}),S.jsxs("button",{onClick:()=>a("weather"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="weather"?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400"}`,children:[S.jsx(oh,{size:14})," "]}),S.jsxs("button",{onClick:()=>a("checklist"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="checklist"?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400"}`,children:[S.jsx(Tv,{size:14})," "]}),S.jsxs("button",{onClick:()=>a("currency"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="currency"?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400"}`,children:[S.jsx(Ev,{size:14})," "]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"font-black text-slate-800 text-xl leading-none",children:[Z.city," "]}),S.jsx("div",{className:"text-[11px] text-slate-400 font-bold uppercase mt-1 inline-block bg-slate-50 px-2 py-0.5 rounded-full",children:Z.startDate})]})]}),S.jsx("main",{className:"w-full max-w-5xl p-6 md:p-12 animate-fade-in",children:i==="itinerary"?S.jsxs("div",{className:"space-y-12",children:[S.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(X?.days||{}).map(k=>S.jsxs("button",{onClick:()=>{G(parseInt(k)),Ht(null)},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${R===parseInt(k)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[S.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),S.jsx("span",{className:"text-3xl leading-none",children:k}),S.jsx("span",{className:"text-[10px] mt-1 font-bold",children:rN(Z.startDate,parseInt(k))})]},k))}),S.jsxs("div",{className:"text-center md:text-left space-y-4",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[S.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",R]}),S.jsx("input",{className:"text-3xl md:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 flex-1 transition-all",placeholder:"...",value:X?.days?.[R]?.title||"",onChange:k=>U(`days.${R}.title`,k.target.value)})]}),S.jsx("div",{className:"h-1 bg-slate-100 rounded-full w-full max-w-[400px]"})]}),S.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[S.jsxs("form",{onSubmit:async k=>{k.preventDefault();const Q=X?.days?.[R]?.spots||[];await U(`days.${R}.spots`,[...Q,{...ht,id:Date.now().toString()}]),ft({time:"09:00",spot:"",note:""})},className:"mb-12 space-y-3 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[S.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[S.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm",children:[S.jsx(fI,{size:18,className:"text-blue-500"}),S.jsx("input",{type:"time",value:ht.time,onChange:k=>ft({...ht,time:k.target.value}),className:"bg-transparent font-black outline-none w-24 shadow-none"})]}),S.jsx("input",{placeholder:"",required:!0,value:ht.spot,onChange:k=>ft({...ht,spot:k.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm"})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("textarea",{placeholder:"...",value:ht.note,onChange:k=>ft({...ht,note:k.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none bg-white outline-none shadow-sm text-sm"}),S.jsxs("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black flex flex-col items-center justify-center gap-1 active:scale-95 shadow-lg",children:[S.jsx(_m,{size:24}),S.jsx("span",{className:"text-[10px]",children:""})]})]})]}),S.jsxs("div",{className:"space-y-10 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full",children:[(X?.days?.[R]?.spots||[]).map((k,Q)=>S.jsxs("div",{className:"relative pl-20 group",children:[S.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[S.jsx("button",{onClick:async()=>{const et=[...X.days[R].spots];Q!==0&&([et[Q],et[Q-1]]=[et[Q-1],et[Q]],await U(`days.${R}.spots`,et))},className:"text-slate-200 hover:text-blue-600 active:scale-125 transition-all",children:S.jsx(ZC,{size:20})}),S.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md transition-transform group-hover:scale-110",children:k.time}),S.jsx("button",{onClick:async()=>{const et=[...X.days[R].spots];Q!==et.length-1&&([et[Q],et[Q+1]]=[et[Q+1],et[Q]],await U(`days.${R}.spots`,et))},className:"text-slate-200 hover:text-blue-600 active:scale-125 transition-all",children:S.jsx(YC,{size:20})})]}),S.jsx("div",{className:`p-10 bg-white border rounded-[3rem] transition-all group/item ${Rt===k.id?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:Rt===k.id?S.jsxs("div",{className:"space-y-4 flex-1 animate-fade-in",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"time",value:wt.time,onChange:et=>N({...wt,time:et.target.value}),className:"p-3 border rounded-xl font-black text-sm w-32 bg-slate-50 outline-none"}),S.jsx("input",{value:wt.spot,onChange:et=>N({...wt,spot:et.target.value}),className:"flex-1 p-3 border rounded-xl font-black text-sm bg-slate-50 outline-none"})]}),S.jsx("textarea",{value:wt.note,onChange:et=>N({...wt,note:et.target.value}),className:"w-full p-3 border rounded-xl text-sm h-24 resize-none bg-slate-50 outline-none"}),S.jsxs("div",{className:"flex justify-end gap-3",children:[S.jsx("button",{onClick:()=>Ht(null),className:"text-sm font-bold text-slate-400 px-4 transition-colors",children:""}),S.jsxs("button",{onClick:async()=>{const et=X.days[R].spots.map(Et=>Et.id===Rt?wt:Et);await U(`days.${R}.spots`,et),Ht(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg hover:bg-blue-700 transition-all active:scale-95",children:[S.jsx(BI,{size:16})," "]})]})]}):S.jsxs("div",{className:"flex justify-between items-start gap-4",children:[S.jsxs("div",{className:"space-y-4 flex-1",children:[S.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S.jsx("h4",{className:"text-3xl font-black text-slate-800 tracking-tight leading-tight",children:k.spot}),S.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.spot)}`,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-xl transition-all inline-flex items-center gap-1.5 text-xs font-black shadow-sm",children:[S.jsx(NI,{size:14})," "]})]}),S.jsx("div",{className:"bg-slate-50/50 p-6 rounded-2xl border border-slate-100",children:S.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:k.note||"..."})})]}),S.jsxs("div",{className:"flex flex-col gap-2 opacity-0 group-hover/item:opacity-100 transition-all",children:[S.jsx("button",{onClick:()=>{Ht(k.id),N({...k})},className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all",children:S.jsx(Qd,{size:20})}),S.jsx("button",{onClick:async()=>await U(`days.${R}.spots`,X.days[R].spots.filter(et=>et.id!==k.id)),className:"p-3 text-slate-300 hover:text-red-500 bg-red-50 rounded-2xl transition-all",children:S.jsx(vm,{size:20})})]})]})})]},k.id)),(!X?.days?.[R]?.spots||X.days[R].spots.length===0)&&S.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[S.jsx(Nc,{className:"text-slate-100 mx-auto mb-6",size:80}),S.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}):i==="weather"?S.jsx(lN,{tripInfo:Z}):i==="checklist"?S.jsx(oN,{itineraryData:X,updateItinField:U}):S.jsx(uN,{})}),S.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[S.jsx("button",{onClick:()=>a("itinerary"),className:`p-4 rounded-2xl transition-all ${i==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(Nc,{size:20})}),S.jsx("button",{onClick:()=>a("weather"),className:`p-4 rounded-2xl transition-all ${i==="weather"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(oh,{size:20})}),S.jsx("button",{onClick:()=>a("checklist"),className:`p-4 rounded-2xl transition-all ${i==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(Tv,{size:20})}),S.jsx("button",{onClick:()=>a("currency"),className:`p-4 rounded-2xl transition-all ${i==="currency"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(Ev,{size:20})})]})]})]})};Db.createRoot(document.getElementById("root")).render(S.jsx(gt.StrictMode,{children:S.jsx(cN,{})}));
