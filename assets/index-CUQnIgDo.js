(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var xd={exports:{}},po={};var I_;function gb(){if(I_)return po;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=t,po.jsx=i,po.jsxs=i,po}var N_;function yb(){return N_||(N_=1,xd.exports=gb()),xd.exports}var S=yb(),Cd={exports:{}},Et={};var D_;function _b(){if(D_)return Et;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.iterator;function j(A){return A===null||typeof A!="object"?null:(A=D&&A[D]||A["@@iterator"],typeof A=="function"?A:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Y={};function lt(A,q,W){this.props=A,this.context=q,this.refs=Y,this.updater=W||K}lt.prototype.isReactComponent={},lt.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},lt.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function ht(){}ht.prototype=lt.prototype;function mt(A,q,W){this.props=A,this.context=q,this.refs=Y,this.updater=W||K}var Ut=mt.prototype=new ht;Ut.constructor=mt,et(Ut,lt.prototype),Ut.isPureReactComponent=!0;var Wt=Array.isArray;function St(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(A,q,W){var $=W.ref;return{$$typeof:r,type:A,key:q,ref:$!==void 0?$:null,props:W}}function V(A,q){return N(A.type,q,A.props)}function O(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function U(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return q[W]})}var x=/\/+/g;function ee(A,q){return typeof A=="object"&&A!==null&&A.key!=null?U(""+A.key):q.toString(36)}function fe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(St,St):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function G(A,q,W,$,rt){var gt=typeof A;(gt==="undefined"||gt==="boolean")&&(A=null);var Lt=!1;if(A===null)Lt=!0;else switch(gt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(A.$$typeof){case r:case t:Lt=!0;break;case b:return Lt=A._init,G(Lt(A._payload),q,W,$,rt)}}if(Lt)return rt=rt(A),Lt=$===""?"."+ee(A,0):$,Wt(rt)?(W="",Lt!=null&&(W=Lt.replace(x,"$&/")+"/"),G(rt,q,W,"",function(rr){return rr})):rt!=null&&(O(rt)&&(rt=V(rt,W+(rt.key==null||A&&A.key===rt.key?"":(""+rt.key).replace(x,"$&/")+"/")+Lt)),q.push(rt)),1;Lt=0;var Ne=$===""?".":$+":";if(Wt(A))for(var ae=0;ae<A.length;ae++)$=A[ae],gt=Ne+ee($,ae),Lt+=G($,q,W,gt,rt);else if(ae=j(A),typeof ae=="function")for(A=ae.call(A),ae=0;!($=A.next()).done;)$=$.value,gt=Ne+ee($,ae++),Lt+=G($,q,W,gt,rt);else if(gt==="object"){if(typeof A.then=="function")return G(fe(A),q,W,$,rt);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function it(A,q,W){if(A==null)return A;var $=[],rt=0;return G(A,$,"","",function(gt){return q.call(W,gt,rt++)}),$}function ot(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var It=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Bt={map:it,forEach:function(A,q,W){it(A,function(){q.apply(this,arguments)},W)},count:function(A){var q=0;return it(A,function(){q++}),q},toArray:function(A){return it(A,function(q){return q})||[]},only:function(A){if(!O(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Et.Activity=w,Et.Children=Bt,Et.Component=lt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=mt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},Et.cache=function(A){return function(){return A.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(A,q,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var $=et({},A.props),rt=A.key;if(q!=null)for(gt in q.key!==void 0&&(rt=""+q.key),q)!R.call(q,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&q.ref===void 0||($[gt]=q[gt]);var gt=arguments.length-2;if(gt===1)$.children=W;else if(1<gt){for(var Lt=Array(gt),Ne=0;Ne<gt;Ne++)Lt[Ne]=arguments[Ne+2];$.children=Lt}return N(A.type,rt,$)},Et.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Et.createElement=function(A,q,W){var $,rt={},gt=null;if(q!=null)for($ in q.key!==void 0&&(gt=""+q.key),q)R.call(q,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(rt[$]=q[$]);var Lt=arguments.length-2;if(Lt===1)rt.children=W;else if(1<Lt){for(var Ne=Array(Lt),ae=0;ae<Lt;ae++)Ne[ae]=arguments[ae+2];rt.children=Ne}if(A&&A.defaultProps)for($ in Lt=A.defaultProps,Lt)rt[$]===void 0&&(rt[$]=Lt[$]);return N(A,gt,rt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(A){return{$$typeof:g,render:A}},Et.isValidElement=O,Et.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:ot}},Et.memo=function(A,q){return{$$typeof:y,type:A,compare:q===void 0?null:q}},Et.startTransition=function(A){var q=I.T,W={};I.T=W;try{var $=A(),rt=I.S;rt!==null&&rt(W,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(St,It)}catch(gt){It(gt)}finally{q!==null&&W.types!==null&&(q.types=W.types),I.T=q}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(A){return I.H.use(A)},Et.useActionState=function(A,q,W){return I.H.useActionState(A,q,W)},Et.useCallback=function(A,q){return I.H.useCallback(A,q)},Et.useContext=function(A){return I.H.useContext(A)},Et.useDebugValue=function(){},Et.useDeferredValue=function(A,q){return I.H.useDeferredValue(A,q)},Et.useEffect=function(A,q){return I.H.useEffect(A,q)},Et.useEffectEvent=function(A){return I.H.useEffectEvent(A)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(A,q,W){return I.H.useImperativeHandle(A,q,W)},Et.useInsertionEffect=function(A,q){return I.H.useInsertionEffect(A,q)},Et.useLayoutEffect=function(A,q){return I.H.useLayoutEffect(A,q)},Et.useMemo=function(A,q){return I.H.useMemo(A,q)},Et.useOptimistic=function(A,q){return I.H.useOptimistic(A,q)},Et.useReducer=function(A,q,W){return I.H.useReducer(A,q,W)},Et.useRef=function(A){return I.H.useRef(A)},Et.useState=function(A){return I.H.useState(A)},Et.useSyncExternalStore=function(A,q,W){return I.H.useSyncExternalStore(A,q,W)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.4",Et}var O_;function Em(){return O_||(O_=1,Cd.exports=_b()),Cd.exports}var Tt=Em(),Id={exports:{}},go={},Nd={exports:{}},Dd={};var M_;function vb(){return M_||(M_=1,(function(r){function t(G,it){var ot=G.length;G.push(it);t:for(;0<ot;){var It=ot-1>>>1,Bt=G[It];if(0<o(Bt,it))G[It]=it,G[ot]=Bt,ot=It;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ot=G.pop();if(ot!==it){G[0]=ot;t:for(var It=0,Bt=G.length,A=Bt>>>1;It<A;){var q=2*(It+1)-1,W=G[q],$=q+1,rt=G[$];if(0>o(W,ot))$<Bt&&0>o(rt,W)?(G[It]=rt,G[$]=ot,It=$):(G[It]=W,G[q]=ot,It=q);else if($<Bt&&0>o(rt,ot))G[It]=rt,G[$]=ot,It=$;else break t}}return it}function o(G,it){var ot=G.sortIndex-it.sortIndex;return ot!==0?ot:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,w=null,D=3,j=!1,K=!1,et=!1,Y=!1,lt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ut(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function Wt(G){if(et=!1,Ut(G),!K)if(i(v)!==null)K=!0,St||(St=!0,U());else{var it=i(y);it!==null&&fe(Wt,it.startTime-G)}}var St=!1,I=-1,R=5,N=-1;function V(){return Y?!0:!(r.unstable_now()-N<R)}function O(){if(Y=!1,St){var G=r.unstable_now();N=G;var it=!0;try{t:{K=!1,et&&(et=!1,ht(I),I=-1),j=!0;var ot=D;try{e:{for(Ut(G),w=i(v);w!==null&&!(w.expirationTime>G&&V());){var It=w.callback;if(typeof It=="function"){w.callback=null,D=w.priorityLevel;var Bt=It(w.expirationTime<=G);if(G=r.unstable_now(),typeof Bt=="function"){w.callback=Bt,Ut(G),it=!0;break e}w===i(v)&&a(v),Ut(G)}else a(v);w=i(v)}if(w!==null)it=!0;else{var A=i(y);A!==null&&fe(Wt,A.startTime-G),it=!1}}break t}finally{w=null,D=ot,j=!1}it=void 0}}finally{it?U():St=!1}}}var U;if(typeof mt=="function")U=function(){mt(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=O,U=function(){ee.postMessage(null)}}else U=function(){lt(O,0)};function fe(G,it){I=lt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var ot=D;D=it;try{return G()}finally{D=ot}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=D;D=G;try{return it()}finally{D=ot}},r.unstable_scheduleCallback=function(G,it,ot){var It=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?It+ot:It):ot=It,G){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=ot+Bt,G={id:b++,callback:it,priorityLevel:G,startTime:ot,expirationTime:Bt,sortIndex:-1},ot>It?(G.sortIndex=ot,t(y,G),i(v)===null&&G===i(y)&&(et?(ht(I),I=-1):et=!0,fe(Wt,ot-It))):(G.sortIndex=Bt,t(v,G),K||j||(K=!0,St||(St=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var it=D;return function(){var ot=D;D=it;try{return G.apply(this,arguments)}finally{D=ot}}}})(Dd)),Dd}var V_;function Eb(){return V_||(V_=1,Nd.exports=vb()),Nd.exports}var Od={exports:{}},Ye={};var k_;function Tb(){if(k_)return Ye;k_=1;var r=Em();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:j}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:D,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var U_;function bb(){if(U_)return Od.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Tb(),Od.exports}var L_;function Sb(){if(L_)return go;L_=1;var r=Eb(),t=Em(),i=bb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,D=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case lt:return"Profiler";case Y:return"StrictMode";case Wt:return"Suspense";case St:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case mt:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},It=[],Bt=-1;function A(e){return{current:e}}function q(e){0>Bt||(e.current=It[Bt],It[Bt]=null,Bt--)}function W(e,n){Bt++,It[Bt]=e.current,e.current=n}var $=A(null),rt=A(null),gt=A(null),Lt=A(null);function Ne(e,n){switch(W(gt,n),W(rt,e),W($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q($),W($,e)}function ae(){q($),q(rt),q(gt)}function rr(e){e.memoizedState!==null&&W(Lt,e);var n=$.current,s=Wy(n,e.type);n!==s&&(W(rt,e),W($,s))}function Yr(e){rt.current===e&&(q($),q(rt)),Lt.current===e&&(q(Lt),co._currentValue=ot)}var Xr,$r;function Wn(e){if(Xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var cl=!1;function ar(e,n){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var B=F}Reflect.construct(e,[],J)}else{try{J.call()}catch(F){B=F}e.call(J.prototype)}}else{try{throw Error()}catch(F){B=F}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),z=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return Wn("Activity");default:return""}}function fl(e){try{var n="",s=null;do n+=hl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Zo=r.unstable_requestPaint,tn=r.unstable_now,lr=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,Wo=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,zn=null,ze=null;function An(e){if(typeof tu=="function"&&eu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var de=Math.clz32?Math.clz32:iu,nu=Math.log,Jr=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/Jr|0)|0}var ti=256,or=262144,ve=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ei(l):(p&=E,p!==0?h=ei(p):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=l&~f,E!==0?h=ei(E):p!==0?h=ei(p):s||(s=l&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-de(s),J=1<<Q;E[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}s&=~J}l!==0&&cr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function cr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function pl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-de(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function gl(e,n){var s=n&-n;return s=(s&42)!==0?1:hr(s),(s&(e.suspendedLanes|n))!==0?0:s}function hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function Bn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,ke="__reactProps$"+qn,si="__reactContainer$"+qn,Zr="__reactEvents$"+qn,Oh="__reactListeners$"+qn,au="__reactHandles$"+qn,lu="__reactResources$"+qn,ri="__reactMarker$"+qn;function Wr(e){delete e[Ee],delete e[ke],delete e[Zr],delete e[Oh],delete e[au]}function ai(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Ee])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function wn(e){if(e=e[Ee]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ri]=!0}var yl=new Set,_l={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function ou(e){return _e.call(Tl,e)?!0:_e.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function ta(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function fr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ls(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dr=/[\n"\\]/g;function sn(e){return e.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Sl(e,p,Ue(n)):s!=null?Sl(e,p,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function uu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function Sl(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function us(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Al(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Al(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Rl=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,hi=null;function mr(e){var n=wn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(a(90));ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&fr(l)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var sa=!1;function fs(e,n,s){if(sa)return e(n,s);sa=!0;try{var l=e(n);return l}finally{if(sa=!1,(hs!==null||hi!==null)&&(rc(),hs&&(n=hs,e=hi,hi=hs=null,mr(n),e)))for(n=0;n<e.length;n++)mr(e[n])}}function Fn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(xn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{pr=!1}var fi=null,xl=null,gr=null;function Cl(){if(gr)return gr;var e,n=xl,s=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return gr=h.slice(e,1<l?1-l:void 0)}function yr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Gn(){return!1}function je(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Gn,this.isPropagationStopped=Gn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Oi),ds=w({},Oi,{view:0,detail:0}),Il=je(ds),ms,ra,mi,aa=w({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ms=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=ms=0,mi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Nl=je(aa),_r=w({},aa,{dataTransfer:0}),du=je(_r),mu=w({},ds,{relatedTarget:0}),vr=je(mu),Dl=w({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=je(Dl),la=w({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=je(la),yu=w({},Oi,{data:0}),pi=je(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function ps(){return Tu}var en=w({},ds,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=je(en),Su=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=je(Su),u=w({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=je(u),_=w({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=w({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=je(L),nt=w({},Oi,{newState:0,oldState:0}),At=je(nt),me=[9,13,27,32],qt=xn&&"CompositionEvent"in window,le=null;xn&&"documentMode"in document&&(le=document.documentMode);var Cn=xn&&"TextEvent"in window&&!le,gi=xn&&(!qt||le&&8<le&&11>=le),Qn=" ",Kn=!1;function Er(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function jE(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function BE(e,n){if(ua)return e==="compositionend"||!qt&&Er(e,n)?(e=Cl(),gr=xl=fi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qE[e.type]:n==="textarea"}function cp(e,n,s,l){hs?hi?hi.push(l):hi=[l]:hs=l,n=fc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ol=null,Ml=null;function HE(e){Qy(e,0)}function Au(e){var n=dn(e);if(fr(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(xn){var Mh;if(xn){var Vh="oninput"in document;if(!Vh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Vh=typeof dp.oninput=="function"}Mh=Vh}else Mh=!1;fp=Mh&&(!document.documentMode||9<document.documentMode)}function mp(){Ol&&(Ol.detachEvent("onpropertychange",pp),Ml=Ol=null)}function pp(e){if(e.propertyName==="value"&&Au(Ml)){var n=[];cp(n,Ml,e,Rn(e)),fs(HE,n)}}function FE(e,n,s){e==="focusin"?(mp(),Ol=n,Ml=s,Ol.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function GE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ml)}function QE(e,n){if(e==="click")return Au(n)}function KE(e,n){if(e==="input"||e==="change")return Au(n)}function YE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:YE;function Vl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var XE=xn&&"documentMode"in document&&11>=document.documentMode,ca=null,Uh=null,kl=null,Lh=!1;function Ep(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||ca==null||ca!==ci(l)||(l=ca,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=fc(Uh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ca)))}function Tr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Ph={},Tp={};xn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function br(e){if(Ph[e])return Ph[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Ph[e]=n[s];return e}var bp=br("animationend"),Sp=br("animationiteration"),Ap=br("animationstart"),$E=br("transitionrun"),JE=br("transitionstart"),ZE=br("transitioncancel"),wp=br("transitionend"),Rp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Yn(e,n){Rp.set(e,n),oi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],fa=0,jh=0;function Ru(){for(var e=fa,n=jh=fa=0;n<e;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&xp(s,h,f)}}function xu(e,n,s,l){In[fa++]=e,In[fa++]=n,In[fa++]=s,In[fa++]=l,jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return xu(e,n,s,l),Cu(e)}function Sr(e,n){return xu(e,null,null,n),Cu(e)}function xp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<io)throw io=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function WE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new WE(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=sb(e,s,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=gn(31,s,n,h),e.elementType=N,e.lanes=f,e;case et:return Ar(s.children,h,f,n);case Y:p=8,h|=24;break;case lt:return e=gn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case Wt:return e=gn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case St:return e=gn(19,s,n,h),e.elementType=St,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:p=10;break t;case ht:p=9;break t;case Ut:p=11;break t;case I:p=14;break t;case R:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=gn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ar(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Ip(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Np.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fl(n)},Np.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var ma=[],pa=0,Nu=null,Ul=0,Dn=[],On=0,gs=null,yi=1,_i="";function ki(e,n){ma[pa++]=Ul,ma[pa++]=Nu,Nu=e,Ul=n}function Dp(e,n,s){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=gs,gs=e;var l=yi;e=_i;var h=32-de(l)-1;l&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,yi=1<<32-de(n)+h|s<<h|l,_i=f+e}else yi=1<<f|s<<h|l,_i=e}function Gh(e){e.return!==null&&(ki(e,1),Dp(e,1,0))}function Qh(e){for(;e===Nu;)Nu=ma[--pa],ma[pa]=null,Ul=ma[--pa],ma[pa]=null;for(;e===gs;)gs=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null,yi=Dn[--On],Dn[On]=null}function Op(e,n){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=gs,yi=n.id,_i=n.overflow,gs=e}var Be=null,ne=null,kt=!1,ys=null,Mn=!1,Kh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Nn(n,e)),Kh}function Mp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[ke]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)Ct(ro[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),us(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||_s(e,!0)}function Vp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function ga(e){if(e!==Be)return!1;if(!kt)return Vp(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ne&&_s(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=r_(e)}else n===27?(n=ne,Os(e.type)?(e=yd,yd=null,ne=e):ne=n):ne=Be?kn(e.stateNode.nextSibling):null;return!0}function wr(){ne=Be=null,kt=!1}function Yh(){var e=ys;return e!==null&&(un===null?un=e:un.push.apply(un,e),ys=null),e}function Ll(e){ys===null?ys=[e]:ys.push(e)}var Xh=A(null),Rr=null,Ui=null;function vs(e,n,s){W(Xh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Xh.current,q(Xh)}function $h(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ya(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&Jh(n,e,s,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Rr=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return kp(Rr,e)}function Ou(e,n){return Rr===null&&xr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var tT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},eT=r.unstable_scheduleCallback,nT=r.unstable_NormalPriority,Se={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new tT,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&eT(nT,function(){e.controller.abort()})}var zl=null,Wh=0,_a=0,va=null;function iT(e,n){if(zl===null){var s=zl=[];Wh=0,_a=id(),va={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Up,Up),n}function Up(){if(--Wh===0&&zl!==null){va!==null&&(va.status="fulfilled");var e=zl;zl=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function sT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=G.S;G.S=function(e,n){Ey=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iT(e,n),Lp!==null&&Lp(e,n)};var Cr=A(null);function tf(){var e=Cr.current;return e!==null?e:te.pooledCache}function Mu(e,n){n===null?W(Cr,Cr.current):W(Cr,n.pool)}function Pp(){var e=tf();return e===null?null:{parent:Se._currentValue,pool:e}}var Ea=Error(a(460)),ef=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Nr=n,Ea}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,Ea):s}}var Nr=null;function Bp(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function qp(e){if(e===Ea||e===Vu)throw Error(a(483))}var Ta=null,jl=0;function Uu(e){var n=jl;return jl+=1,Ta===null&&(Ta=[]),jp(Ta,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(k,M){if(e){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Vi(k,M),k.index=0,k.sibling=null,k}function f(k,M,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,P,X){return M===null||M.tag!==6?(M=Hh(P,k.mode,X),M.return=k,M):(M=h(M,P),M.return=k,M)}function C(k,M,P,X){var ft=P.type;return ft===et?Q(k,M,P.props.children,X,P.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&Ir(ft)===M.type)?(M=h(M,P.props),Bl(M,P),M.return=k,M):(M=Iu(P.type,P.key,P.props,null,k.mode,X),Bl(M,P),M.return=k,M)}function z(k,M,P,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Fh(P,k.mode,X),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function Q(k,M,P,X,ft){return M===null||M.tag!==7?(M=Ar(P,k.mode,X,ft),M.return=k,M):(M=h(M,P),M.return=k,M)}function J(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return P=Iu(M.type,M.key,M.props,null,k.mode,P),Bl(P,M),P.return=k,P;case K:return M=Fh(M,k.mode,P),M.return=k,M;case R:return M=Ir(M),J(k,M,P)}if(fe(M)||U(M))return M=Ar(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return J(k,Uu(M),P);if(M.$$typeof===mt)return J(k,Ou(k,M),P);Lu(k,M)}return null}function B(k,M,P,X){var ft=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,M,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===ft?C(k,M,P,X):null;case K:return P.key===ft?z(k,M,P,X):null;case R:return P=Ir(P),B(k,M,P,X)}if(fe(P)||U(P))return ft!==null?null:Q(k,M,P,X,null);if(typeof P.then=="function")return B(k,M,Uu(P),X);if(P.$$typeof===mt)return B(k,M,Ou(k,P),X);Lu(k,P)}return null}function F(k,M,P,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(P)||null,E(M,k,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return k=k.get(X.key===null?P:X.key)||null,C(M,k,X,ft);case K:return k=k.get(X.key===null?P:X.key)||null,z(M,k,X,ft);case R:return X=Ir(X),F(k,M,P,X,ft)}if(fe(X)||U(X))return k=k.get(P)||null,Q(M,k,X,ft,null);if(typeof X.then=="function")return F(k,M,P,Uu(X),ft);if(X.$$typeof===mt)return F(k,M,P,Ou(M,X),ft);Lu(M,X)}return null}function at(k,M,P,X){for(var ft=null,zt=null,ut=M,Rt=M=0,Dt=null;ut!==null&&Rt<P.length;Rt++){ut.index>Rt?(Dt=ut,ut=null):Dt=ut.sibling;var jt=B(k,ut,P[Rt],X);if(jt===null){ut===null&&(ut=Dt);break}e&&ut&&jt.alternate===null&&n(k,ut),M=f(jt,M,Rt),zt===null?ft=jt:zt.sibling=jt,zt=jt,ut=Dt}if(Rt===P.length)return s(k,ut),kt&&ki(k,Rt),ft;if(ut===null){for(;Rt<P.length;Rt++)ut=J(k,P[Rt],X),ut!==null&&(M=f(ut,M,Rt),zt===null?ft=ut:zt.sibling=ut,zt=ut);return kt&&ki(k,Rt),ft}for(ut=l(ut);Rt<P.length;Rt++)Dt=F(ut,k,Rt,P[Rt],X),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?Rt:Dt.key),M=f(Dt,M,Rt),zt===null?ft=Dt:zt.sibling=Dt,zt=Dt);return e&&ut.forEach(function(Ls){return n(k,Ls)}),kt&&ki(k,Rt),ft}function pt(k,M,P,X){if(P==null)throw Error(a(151));for(var ft=null,zt=null,ut=M,Rt=M=0,Dt=null,jt=P.next();ut!==null&&!jt.done;Rt++,jt=P.next()){ut.index>Rt?(Dt=ut,ut=null):Dt=ut.sibling;var Ls=B(k,ut,jt.value,X);if(Ls===null){ut===null&&(ut=Dt);break}e&&ut&&Ls.alternate===null&&n(k,ut),M=f(Ls,M,Rt),zt===null?ft=Ls:zt.sibling=Ls,zt=Ls,ut=Dt}if(jt.done)return s(k,ut),kt&&ki(k,Rt),ft;if(ut===null){for(;!jt.done;Rt++,jt=P.next())jt=J(k,jt.value,X),jt!==null&&(M=f(jt,M,Rt),zt===null?ft=jt:zt.sibling=jt,zt=jt);return kt&&ki(k,Rt),ft}for(ut=l(ut);!jt.done;Rt++,jt=P.next())jt=F(ut,k,Rt,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?Rt:jt.key),M=f(jt,M,Rt),zt===null?ft=jt:zt.sibling=jt,zt=jt);return e&&ut.forEach(function(pb){return n(k,pb)}),kt&&ki(k,Rt),ft}function Zt(k,M,P,X){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var ft=P.key;M!==null;){if(M.key===ft){if(ft=P.type,ft===et){if(M.tag===7){s(k,M.sibling),X=h(M,P.props.children),X.return=k,k=X;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&Ir(ft)===M.type){s(k,M.sibling),X=h(M,P.props),Bl(X,P),X.return=k,k=X;break t}s(k,M);break}else n(k,M);M=M.sibling}P.type===et?(X=Ar(P.props.children,k.mode,X,P.key),X.return=k,k=X):(X=Iu(P.type,P.key,P.props,null,k.mode,X),Bl(X,P),X.return=k,k=X)}return p(k);case K:t:{for(ft=P.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),X=h(M,P.children||[]),X.return=k,k=X;break t}else{s(k,M);break}else n(k,M);M=M.sibling}X=Fh(P,k.mode,X),X.return=k,k=X}return p(k);case R:return P=Ir(P),Zt(k,M,P,X)}if(fe(P))return at(k,M,P,X);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(k,M,P,X)}if(typeof P.then=="function")return Zt(k,M,Uu(P),X);if(P.$$typeof===mt)return Zt(k,M,Ou(k,P),X);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),X=h(M,P),X.return=k,k=X):(s(k,M),X=Hh(P,k.mode,X),X.return=k,k=X),p(k)):s(k,M)}return function(k,M,P,X){try{jl=0;var ft=Zt(k,M,P,X);return Ta=null,ft}catch(ut){if(ut===Ea||ut===Vu)throw ut;var zt=gn(29,ut,null,k.mode);return zt.lanes=X,zt.return=k,zt}}}var Dr=Hp(!0),Fp=Hp(!1),Es=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),xp(e,null,s),n}return xu(e,l,n,s),Cu(e)}function ql(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,pl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Hl(){if(af){var e=va;if(e!==null)throw e}}function Fl(e,n,s,l){af=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;p=0,Q=z=C=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Nt&B)===B:(l&B)===B){B!==0&&B===_a&&(af=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;B=n;var Zt=s;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){J=at.call(Zt,J,B);break t}J=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,B=typeof at=="function"?at.call(Zt,J,B):at,B==null)break t;J=w({},J,B);break t;case 2:Es=!0}}B=E.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=F,C=J):Q=Q.next=F,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=J),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=J}}function Gp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Gp(s[e],n)}var ba=A(null),Pu=A(0);function Kp(e,n){e=Qi,W(Pu,e),W(ba,n),Qi=e|n.baseLanes}function lf(){W(Pu,Qi),W(ba,ba.current)}function of(){Qi=Pu.current,q(ba),q(Pu)}var yn=A(null),Vn=null;function Ss(e){var n=e.alternate;W(pe,pe.current&1),W(yn,e),Vn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Vn=e)}function uf(e){W(pe,pe.current),W(yn,e),Vn===null&&(Vn=e)}function Yp(e){e.tag===22?(W(pe,pe.current),W(yn,e),Vn===null&&(Vn=e)):As()}function As(){W(pe,pe.current),W(yn,yn.current)}function _n(e){q(yn),Vn===e&&(Vn=null),q(pe)}var pe=A(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,wt=null,$t=null,Ae=null,ju=!1,Sa=!1,Or=!1,Bu=0,Gl=0,Aa=null,rT=0;function ce(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return Pi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Dg:Rf,Or=!1,f=s(l,h),Or=!1,Sa&&(f=$p(n,s,l,h)),Xp(e),f}function Xp(e){G.H=Yl;var n=$t!==null&&$t.next!==null;if(Pi=0,Ae=$t=wt=null,ju=!1,Gl=0,Aa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Du(e)&&(we=!0))}function $p(e,n,s,l){wt=e;var h=0;do{if(Sa&&(Aa=null),Gl=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Og,f=n(s,l)}while(Sa);return f}function aT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(wt.flags|=1024),n}function ff(){var e=Bu!==0;return Bu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Pi=0,Ae=$t=wt=null,Sa=!1,Gl=Bu=0,Aa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if($t===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?wt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Gl;return Gl+=1,Aa===null&&(Aa=[]),e=jp(Aa,e,n),n=wt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dg:Rf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===mt)return qe(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ge();return gf(n,$t,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,z=n,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Nt&J)===J:(Pi&J)===J){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===_a&&(Q=!0);else if((Pi&B)===B){z=z.next,B===_a&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=J,p=f):C=C.next=J,wt.lanes|=B,xs|=B;J=z.action,Or&&s(f,J),f=z.hasEagerState?z.eagerState:s(f,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,p=f):C=C.next=B,wt.lanes|=J,xs|=J;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=E,!pn(f,e.memoizedState)&&(we=!0,Q&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jp(e,n,s){var l=wt,h=ge(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn(($t||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,Ef(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,wa(9,{destroy:void 0},Wp.bind(null,l,h,s,n),null),te===null)throw Error(a(349));f||(Pi&127)!==0||Zp(l,n,s)}return s}function Zp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=qu(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,l){n.value=s,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function ng(e){var n=Sr(e,2);n!==null&&cn(n,e,2)}function _f(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Or){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function ig(e,n,s,l){return e.baseState=s,gf(e,$t,typeof l=="function"?l:zi)}function lT(e,n,s,l,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,l),C=G.S;C!==null&&C(p,E),rg(e,n,E)}catch(z){vf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,l),rg(e,n,f)}catch(z){vf(e,n,z)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(e,n,l)},function(l){return vf(e,n,l)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(kt){var s=te.formState;if(s!==null){t:{var l=wt;if(kt){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=kn(h.nextSibling),l=h.data==="F!";break t}}_s(l)}l=!1}l&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Cg.bind(null,wt,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,wt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=lT.bind(null,wt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cg(e){var n=ge();return hg(n,$t,e)}function hg(e,n,s){if(n=gf(e,n,og)[0],e=Fu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(p){throw p===Ea?Vu:p}else l=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,wa(9,{destroy:void 0},oT.bind(null,h,s),null)),[l,f,e]}function oT(e,n){e.action=n}function fg(e){var n=ge(),s=$t;if(s!==null)return hg(n,s,e);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function wa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=qu(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dg(){return ge().memoizedState}function Gu(e,n,s,l){var h=nn();wt.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Qu(e,n,s,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&cf(l,$t.memoizedState.deps)?h.memoizedState=wa(n,f,s,l):(wt.flags|=e,h.memoizedState=wa(1|n,f,s,l))}function mg(e,n){Gu(8390656,8,e,n)}function Ef(e,n){Qu(2048,8,e,n)}function uT(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=qu(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=ge().memoizedState;return uT({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Qu(4,2,e,n)}function yg(e,n){return Qu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,_g.bind(null,n,e),s)}function Tf(){}function Eg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Or){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l}function bf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),wt.lanes|=e,xs|=e,s)}function bg(e,n,s,l){return pn(s,n)?s:ba.current!==null?(e=bf(e,s,l),pn(e,n)||(we=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=s):(e=by(),wt.lanes|=e,xs|=e,n)}function Sg(e,n,s,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,wf(e,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=sT(C,l);Kl(e,n,Q,Tn(e))}else Kl(e,n,l,Tn(e))}catch(J){Kl(e,n,{then:function(){},status:"rejected",reason:J},Tn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function cT(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;Sg(e,h,n,ot,s===null?cT:function(){return wg(e),s(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},Tn())}function Af(){return qe(co)}function Rg(){return ge().memoizedState}function xg(){return ge().memoizedState}function hT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ts(s);var l=bs(n,e,s);l!==null&&(cn(l,n,s),ql(l,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function fT(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Ig(n,s):(s=Bh(e,n,s,l),s!==null&&(cn(s,e,l),Ng(s,n,l)))}function Cg(e,n,s){var l=Tn();Kl(e,n,s,l)}function Kl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ig(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return xu(e,n,h,0),te===null&&Ru(),!1}catch{}if(s=Bh(e,n,h,l),s!==null)return cn(s,e,l),Ng(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&cn(n,e,2)}function Ku(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Ig(e,n){Sa=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ng(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,pl(e,s)}}var Yl={readContext:qe,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Yl.useEffectEvent=ce;var Dg={readContext:qe,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var l=e();if(Or){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=nn();if(s!==void 0){var h=s(n);if(Or){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=fT.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Cg.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=nn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Sg.bind(null,wt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=wt,h=nn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Nt&127)!==0||Zp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,wa(9,{destroy:void 0},Wp.bind(null,l,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(kt){var s=_i,l=yi;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=rT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return nn().memoizedState=hT.bind(null,wt)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:qe,use:Hu,useCallback:Eg,useContext:qe,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Fu,useRef:dg,useState:function(){return Fu(zi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return bg(s,$t.memoizedState,e,n)},useTransition:function(){var e=Fu(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Jp,useId:Rg,useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=ge();return ig(s,$t,e,n)},useMemoCache:pf,useCacheRefresh:xg};Rf.useEffectEvent=pg;var Og={readContext:qe,use:Hu,useCallback:Eg,useContext:qe,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:yf,useRef:dg,useState:function(){return yf(zi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return $t===null?bf(s,e,n):bg(s,$t.memoizedState,e,n)},useTransition:function(){var e=yf(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Jp,useId:Rg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=ge();return $t!==null?ig(s,$t,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:xg};Og.useEffectEvent=pg;function xf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Ts(l);h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Ts(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=Ts(s);l.tag=2,n!=null&&(l.callback=n),n=bs(e,l,s),n!==null&&(cn(n,e,s),ql(n,e,s))}};function Mg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function Vg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Mr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){wu(e)}function Ug(e){console.error(e)}function Lg(e){wu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function zg(e){return e=Ts(e),e.tag=3,e}function jg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,l),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function dT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?ac():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),ac(),!1}if(kt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Kh&&(e=Error(a(422),{cause:l}),Ll(Nn(e,s)))):(l!==Kh&&(n=Error(a(423),{cause:l}),Ll(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,s),h=If(e.stateNode,l,h),rf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),no===null?no=[f]:no.push(f),he!==4&&(he=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),we=!1;function He(e,n,s,l){n.child=e===null?Fp(n,null,s,l):Dr(n,e.child,s,l)}function Bg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return xr(n),l=hf(e,n,s,p,f,h),E=ff(),e!==null&&!we?(df(e,n,h),ji(e,n,h)):(kt&&E&&Gh(n),n.flags|=1,He(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=Iu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(p,l)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,Pf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Df(e,n,s,l,h)}function Fg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Gg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Kp(n,f):lf(),Yp(n);else return l=n.lanes=536870912,Gg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Mu(n,f.cachePool),Kp(n,f),As(),n.memoizedState=null):(e!==null&&Mu(n,null),lf(),As());return He(e,n,h,s),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),lf(),Yp(n),e!==null&&ya(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Dr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function mT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,Xl(null,e);if(uf(n),(e=ne)?(e=s_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Ip(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ya(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(l=te,l!==null&&(p=gl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sr(e,p),cn(l,e,p),Nf;ac(),n=Qg(e,n,s)}else e=f.treeContext,ne=kn(p.nextSibling),Be=n,kt=!0,ys=null,Mn=!1,e!==null&&Op(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=Vi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return xr(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!we?(df(e,n,h),ji(e,n,h)):(kt&&l&&Gh(n),n.flags|=1,He(e,n,s,h),n.child)}function Kg(e,n,s,l,h,f){return xr(n),n.updateQueue=null,s=$p(n,l,s,h),Xp(e),l=ff(),e!==null&&!we?(df(e,n,f),ji(e,n,f)):(kt&&l&&Gh(n),n.flags|=1,He(e,n,s,f),n.child)}function Yg(e,n,s,l,h){if(xr(n),n.stateNode===null){var f=da,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):da,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(xf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Mr(s,E);f.props=C;var z=f.context,Q=s.contextType;p=da,typeof Q=="object"&&Q!==null&&(p=qe(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Vg(n,f,l,p),Es=!1;var B=n.memoizedState;f.state=B,Fl(n,l,f,h),Hl(),z=n.memoizedState,E||B!==z||Es?(typeof J=="function"&&(xf(n,s,J,l),z=n.memoizedState),(C=Es||Mg(n,s,C,l,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,Q=Mr(s,p),f.props=Q,J=n.pendingProps,B=f.context,z=s.contextType,C=da,typeof z=="object"&&z!==null&&(C=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==J||B!==C)&&Vg(n,f,l,C),Es=!1,B=n.memoizedState,f.state=B,Fl(n,l,f,h),Hl();var F=n.memoizedState;p!==J||B!==F||Es||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(xf(n,s,E,l),F=n.memoizedState),(Q=Es||Mg(n,s,Q,l,B,F,C)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Xg(e,n,s,l){return wr(),n.flags|=256,He(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Pp()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function $g(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ss(n):As(),(e=ne)?(e=s_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Ip(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw _s(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(As(),h=n.mode,E=Ju({mode:"hidden",children:E},h),l=Ar(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,Xl(null,l)):(Ss(n),kf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),E=Ar(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Dr(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,n=Xl(null,l));else if(Ss(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Ll({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(we||ya(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=te,p!==null&&(l=gl(p,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Sr(e,l),cn(p,e,l),Nf;pd(E)||ac(),n=Uf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ne=kn(E.nextSibling),Be=n,kt=!0,ys=null,Mn=!1,e!==null&&Op(n,e),n=kf(n,l.children),n.flags|=4096);return n}return h?(As(),E=l.fallback,h=n.mode,C=e.child,z=C.sibling,l=Vi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Ar(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(C=Se._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,p,s),n.memoizedState=Of,Xl(e.child,l)):(Ss(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Dr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Zg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,W(pe,p),He(e,n,l,s),l=kt?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,s,n);else if(e.tag===19)Jg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function pT(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),vs(n,Se,e.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(Ss(n),e=ji(e,n,s),e!==null?e.sibling:null);Ss(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ya(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Zg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Fg(e,n,s,n.pendingProps);case 24:vs(n,Se,e.memoizedState.cache)}return ji(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return we=!1,pT(e,n,s);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Dp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=Mr(e,l),n.tag=1,n=Yg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=Bg(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Mr(l,n.pendingProps),Yg(e,n,l,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Fl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,vs(n,Se,l),l!==f.cache&&Jh(n,[Se],s,!0),Hl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,s);break t}else if(l!==h){h=Nn(Error(a(424)),n),Ll(h),n=Xg(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=kn(e.firstChild),Be=n,kt=!0,ys=null,Mn=!0,s=Fp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wr(),l===h){n=ji(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,l=dc(gt.current).createElement(s),l[Ee]=n,l[ke]=e,Fe(l,s,e),Te(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rr(n),e===null&&kt&&(l=n.stateNode=l_(n.type,n.pendingProps,gt.current),Be=n,Mn=!0,h=ne,Os(n.type)?(yd=h,ne=kn(l.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=ne)&&(l=GT(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Be=n,ne=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||_s(n)),rr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,aT,null,null,s),co._currentValue=h),$u(e,n),He(e,n,l,s),n.child;case 6:return e===null&&kt&&((e=s=ne)&&(s=QT(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||_s(n)),null;case 13:return $g(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Dr(n,null,l,s):He(e,n,l,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,xr(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Zg(e,n,s);case 31:return mT(e,n,s);case 22:return Fg(e,n,s,n.pendingProps);case 24:return xr(n),l=qe(Se),e===null?(h=tf(),h===null&&(h=te,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),vs(n,Se,h)):((e.lanes&s)!==0&&(sf(e,n),Fl(n,null,null,s),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Se,l)):(l=f.cache,vs(n,Se,l),l!==h.cache&&Jh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Nr=ku,ef}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Nr=ku,ef}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ia|=n)}function $l(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function gT(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(Se),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ie(n),ty(n,f)):(ie(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?(Bi(n),ie(n),ty(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Bi(n),ie(n),zf(n,h,e,l,s)),null;case 27:if(Yr(n),s=gt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=$.current,ga(n)?Mp(n):(e=l_(h,l,s),n.stateNode=e,Bi(n))}return ie(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=$.current,ga(n))Mp(n);else{var p=dc(gt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ee]=n,f[ke]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return ie(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=gt.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||_s(n,!0)}else e=dc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ga(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&ld(n.stateNode.containerInfo),ie(n),null;case 10:return Li(n.type),ie(n),null;case 19:if(q(pe),l=n.memoizedState,l===null)return ie(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,$l(l,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return W(pe,pe.current&1|2),kt&&ki(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*tn()-l.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,s=pe.current,W(pe,h?s&1|2:s&1),kt&&ki(n,l.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&q(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function yT(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(pe),null;case 4:return ae(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),of(),e!==null&&q(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Se),null;case 25:return null;default:return null}}function ey(e,n){switch(Qh(n),n.tag){case 3:Li(Se),ae();break;case 26:case 27:case 5:Yr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:q(pe);break;case 10:Li(n.type);break;case 22:case 23:_n(n),of(),e!==null&&q(Cr);break;case 24:Li(Se)}}function Jl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function ws(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(Q){Yt(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){Yt(n,n.return,Q)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(l){Yt(e,e.return,l)}}}function iy(e,n,s){s.props=Mr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Zl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Yt(e,n,h)}}function vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function jf(e,n,s){try{var l=e.stateNode;zT(l,e.type,s,n),l[ke]=n}catch(h){Yt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Wu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,s),n[Ee]=e,n[ke]=s}catch(f){Yt(e,e.return,f)}}var qi=!1,Re=!1,Hf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Le=null;function _T(e,n){if(e=e.containerInfo,cd=Ec,e=vp(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,C=-1,z=0,Q=0,J=e,B=null;e:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(E=p+h),J!==f||l!==0&&J.nodeType!==3||(C=p+l),J.nodeType===3&&(p+=J.nodeValue.length),(F=J.firstChild)!==null;)B=J,J=F;for(;;){if(J===e)break e;if(B===s&&++z===h&&(E=p),B===f&&++Q===l&&(C=p),(F=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=F}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},Ec=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var at=Mr(s.type,h);e=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),l&4&&Jl(5,s);break;case 1:if(Fi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(s,s.return,p)}else{var h=Mr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(s,s.return,p)}}l&64&&ny(s),l&512&&Zl(s,s.return);break;case 3:if(Fi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){Yt(s,s.return,p)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:Fi(e,s),n===null&&l&4&&sy(s),l&512&&Zl(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),l&4&&hy(e,s);break;case 13:Fi(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=xT.bind(null,s),KT(e,s))));break;case 22:if(l=s.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||Re,h=qi;var f=Re;qi=l,(Re=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),qi=h,Re=f}break;case 30:break;default:Fi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Hi(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:Re||vi(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||vi(s,n);var l=oe,h=an;Os(s.type)&&(oe=s.stateNode,an=!1),Hi(e,n,s),lo(s.stateNode),oe=l,an=h;break;case 5:Re||vi(s,n);case 6:if(l=oe,h=an,oe=null,Hi(e,n,s),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:oe!==null&&(an?(e=oe,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):n_(oe,s.stateNode));break;case 4:l=oe,h=an,oe=s.stateNode.containerInfo,an=!0,Hi(e,n,s),oe=l,an=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),Re||ws(4,s,n),Hi(e,n,s);break;case 1:Re||(vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:Re=(l=Re)||s.memoizedState!==null,Hi(e,n,s),Re=l;break;default:Hi(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Yt(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Yt(n,n.return,s)}}function vT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=vT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=CT.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));cy(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Xn=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(ws(3,e,e.return),Jl(3,e),ws(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,s),f[Ee]=e,Te(f),l=f;break t;case"link":var p=d_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),s!==null&&l&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(Re||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Yt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(at){Yt(e,e.return,at)}}break;case 3:if(gc=null,h=Xn,Xn=mc(n.containerInfo),ln(n,e),Xn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Yt(e,e.return,at)}Hf&&(Hf=!1,my(e));break;case 4:l=Xn,Xn=mc(e.stateNode.containerInfo),ln(n,e),on(e),Xn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=qi,Q=Re;if(qi=z||h,Re=Q||C,ln(n,e),Re=Q,qi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||qi||Re||Vr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Yt(C,C.return,at)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Yt(C,C.return,at)}}}else if(n.tag===18){if(s===null){C=n;try{var F=C.stateNode;h?i_(F,!0):i_(C.stateNode,!1)}catch(at){Yt(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tc(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=Bf(e);Wu(e,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Bf(e);qf(e,z,C);break;default:throw Error(a(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Vr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Vr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Vr(n);break;case 27:lo(n.stateNode);case 26:case 5:vi(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Jl(4,f);break;case 1:if(Gi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gp(C[h],E)}catch(z){Yt(l,l.return,z)}}s&&p&64&&ny(f),Zl(f,f.return);break;case 27:ay(f);case 26:case 5:Gi(h,f,s),s&&l===null&&p&4&&sy(f),Zl(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&p&4&&hy(h,f);break;case 13:Gi(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Zl(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pl(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function $n(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,s,l),h&2048&&Jl(9,n);break;case 1:$n(e,n,s,l);break;case 3:$n(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){$n(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else $n(e,n,s,l);break;case 31:$n(e,n,s,l);break;case 13:$n(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,s,l):Wl(e,n):f._visibility&2?$n(e,n,s,l):(f._visibility|=2,Ra(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(p,n);break;case 24:$n(e,n,s,l),h&2048&&Gf(n.alternate,n);break;default:$n(e,n,s,l)}}function Ra(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,C=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ra(f,p,E,C,h),Jl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ra(f,p,E,C,h):Wl(f,p):(Q._visibility|=2,Ra(f,p,E,C,h)),h&&z&2048&&Ff(p.alternate,p);break;case 24:Ra(f,p,E,C,h),h&&z&2048&&Gf(p.alternate,p);break;default:Ra(f,p,E,C,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&Ff(l.alternate,l);break;case 24:Wl(s,l),h&2048&&Gf(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var to=8192;function xa(e,n,s){if(e.subtreeFlags&to)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&to&&e.memoizedState!==null&&rb(s,Xn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=Xn;Xn=mc(e.stateNode.containerInfo),xa(e,n,s),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,xa(e,n,s),to=l):xa(e,n,s));break;default:xa(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&ws(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):eo(e);break;default:eo(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function vy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Le=l;else t:for(s=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(uy(l),l===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var ET={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},TT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,xt=null,Nt=0,Kt=0,vn=null,Rs=!1,Ca=!1,Qf=!1,Qi=0,he=0,xs=0,kr=0,Kf=0,En=0,Ia=0,no=null,un=null,Yf=!1,nc=0,Ey=0,ic=1/0,sc=null,Cs=null,Oe=0,Is=null,Na=null,Ki=0,Xf=0,$f=null,Ty=null,io=0,Jf=null;function Tn(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?id():ru()}function by(){if(En===0)if((Nt&536870912)===0||kt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ns(e,Nt,En,!1)),ur(e,s),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(kr|=s),he===4&&Ns(e,Nt,En,!1)),Ei(e))}function Sy(e,n,s){if((Ht&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=l?AT(e,n):Wf(e,n,!0),f=l;do{if(h===0){Ca&&!l&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!bT(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=no;var C=E.current.memoizedState.isDehydrated;if(C&&(Da(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!C){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ns(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,En,!Rs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Ns(l,n,En,!Rs),ni(l,0,!0)!==0)break t;Ki=n,l.timeoutHandle=t_(Ay.bind(null,l,s,un,sc,Yf,n,En,kr,Ia,Rs,f,"Throttled",-0,0),h);break t}Ay(l,s,un,sc,Yf,n,En,kr,Ia,Rs,f,null,-0,0)}}break}while(!0);Ei(e)}function Ay(e,n,s,l,h,f,p,E,C,z,Q,J,B,F){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},gy(n,f,J);var at=(f&62914560)===f?nc-tn():(f&4194048)===f?Ey-tn():0;if(at=ab(J,at),at!==null){Ki=f,e.cancelPendingCommit=at(Oy.bind(null,e,n,f,s,l,h,p,E,C,Q,J,null,B,F)),Ns(e,f,p,!z);return}}Oy(e,n,f,s,l,h,p,E,C)}function bT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,l){n&=~Kf,n&=~kr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&cr(e,s,n)}function rc(){return(Ht&6)===0?(so(0),!1):!0}function Zf(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,Ui=Rr=null,mf(e),Ta=null,jl=0,e=xt;for(;e!==null;)ey(e.alternate,e),e=e.return;xt=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,qT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,Zf(),te=e,xt=s=Vi(e.current,null),Nt=n,Kt=0,vn=null,Rs=!1,Ca=jn(e,n),Qf=!1,Ia=En=Kf=kr=xs=he=0,un=no=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Qi=n,Ru(),s}function wy(e,n){wt=null,G.H=Yl,n===Ea||n===Vu?(n=Bp(),Kt=3):n===ef?(n=Bp(),Kt=4):Kt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,xt===null&&(he=1,Yu(e,Nn(n,e.current)))}function Ry(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function xy(){var e=G.H;return G.H=Yl,e===null?Yl:e}function Cy(){var e=G.A;return G.A=ET,e}function ac(){he=4,Rs||(Nt&4194048)!==Nt&&yn.current!==null||(Ca=!0),(xs&134217727)===0&&(kr&134217727)===0||te===null||Ns(te,Nt,En,!1)}function Wf(e,n,s){var l=Ht;Ht|=2;var h=xy(),f=Cy();(te!==e||Nt!==n)&&(sc=null,Da(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&xt!==null){var E=xt,C=vn;switch(Kt){case 8:Zf(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,Oa(e,E,C,z),s&&Ca){p=0;break t}break;default:z=Kt,Kt=0,vn=null,Oa(e,E,C,z)}}ST(),p=he;break}catch(Q){wy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Ui=Rr=null,Ht=l,G.H=h,G.A=f,xt===null&&(te=null,Nt=0,Ru()),p}function ST(){for(;xt!==null;)Iy(xt)}function AT(e,n){var s=Ht;Ht|=2;var l=xy(),h=Cy();te!==e||Nt!==n?(sc=null,ic=tn()+500,Da(e,n)):Ca=jn(e,n);t:do try{if(Kt!==0&&xt!==null){n=xt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Oa(e,n,f,1);break;case 2:case 9:if(zp(f)){Kt=0,vn=null,Ny(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:zp(f)?(Kt=0,vn=null,Ny(n)):(Kt=0,vn=null,Oa(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?p_(p):E.stateNode.complete){Kt=0,vn=null;var C=E.sibling;if(C!==null)xt=C;else{var z=E.return;z!==null?(xt=z,lc(z)):xt=null}break e}}Kt=0,vn=null,Oa(e,n,f,5);break;case 6:Kt=0,vn=null,Oa(e,n,f,6);break;case 8:Zf(),he=6;break t;default:throw Error(a(462))}}wT();break}catch(Q){wy(e,Q)}while(!0);return Ui=Rr=null,G.H=l,G.A=h,Ht=s,xt!==null?0:(te=null,Nt=0,Ru(),he)}function wT(){for(;xt!==null&&!Ch();)Iy(xt)}function Iy(e){var n=Wg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?lc(e):xt=n}function Ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kg(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Kg(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:mf(n);default:ey(s,n),n=xt=Cp(n,Qi),n=Wg(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?lc(e):xt=n}function Oa(e,n,s,l){Ui=Rr=null,mf(n),Ta=null,jl=0;var h=n.return;try{if(dT(e,h,n,s,Nt)){he=1,Yu(e,Nn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;he=1,Yu(e,Nn(s,e.current)),xt=null;return}n.flags&32768?(kt||l===1?e=!0:Ca||(Nt&536870912)!==0?e=!1:(Rs=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Rs);return}e=n.return;var s=gT(n.alternate,n,Qi);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);he===0&&(he=5)}function Dy(e,n){do{var s=yT(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);he=6,xt=null}function Oy(e,n,s,l,h,f,p,E,C){e.cancelPendingCommit=null;do oc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Dh(e,s,f,p,E,C),e===te&&(xt=te=null,Nt=0),Na=n,Is=e,Ki=s,Xf=f,$f=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,IT(as,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,p=Ht,Ht|=4;try{_T(e,n,s)}finally{Ht=p,it.p=h,G.T=l}}Oe=1,My(),Vy(),ky()}}function My(){if(Oe===1){Oe=0;var e=Is,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var h=Ht;Ht|=4;try{dy(n,e);var f=hd,p=vp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(C!==null&&kh(E)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var F=B.getSelection(),at=E.textContent.length,pt=Math.min(C.start,at),Zt=C.end===void 0?pt:Math.min(C.end,at);!F.extend&&pt>Zt&&(p=Zt,Zt=pt,pt=p);var k=yp(E,pt),M=yp(E,Zt);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=J.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),pt>Zt?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(J=[],F=E;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ec=!!cd,hd=cd=null}finally{Ht=h,it.p=l,G.T=s}}e.current=n,Oe=2}}function Vy(){if(Oe===2){Oe=0;var e=Is,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var h=Ht;Ht|=4;try{oy(e,n.alternate,n)}finally{Ht=h,it.p=l,G.T=s}}Oe=3}}function ky(){if(Oe===4||Oe===3){Oe=0,Zo();var e=Is,n=Na,s=Ki,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Na=Is=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Ni(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Ki&3)!==0&&oc(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?io++:(io=0,Jf=e):io=0,so(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function oc(){return My(),Vy(),ky(),Ly()}function Ly(){if(Oe!==5)return!1;var e=Is,n=Xf;Xf=0;var s=Ni(Ki),l=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=$f,$f=null;var f=Is,p=Ki;if(Oe=0,Na=Is=null,Ki=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,_y(f.current),py(f,f.current,p,s),Ht=E,so(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{it.p=h,G.T=l,Uy(e,n)}}function Py(e,n,s){n=Nn(s,n),n=If(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(ur(e,2),Ei(e))}function Yt(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cs===null||!Cs.has(l))){e=Nn(s,e),s=zg(2),l=bs(n,s,2),l!==null&&(jg(s,l,n,e),ur(l,2),Ei(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new TT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=RT.bind(null,e,n,s),n.then(e,e))}function RT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Nt&s)===s&&(he===4||he===3&&(Nt&62914560)===Nt&&300>tn()-nc?(Ht&2)===0&&Da(e,0):Kf|=s,Ia===Nt&&(Ia=0)),Ei(e)}function zy(e,n){n===0&&(n=su()),e=Sr(e,n),e!==null&&(ur(e,n),Ei(e))}function xT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function CT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function IT(e,n){return De(e,n)}var uc=null,Ma=null,ed=!1,cc=!1,nd=!1,Ds=0;function Ei(e){e!==Ma&&e.next===null&&(Ma===null?uc=Ma=e:Ma=Ma.next=e),cc=!0,ed||(ed=!0,DT())}function so(e,n){if(!nd&&cc){nd=!0;do for(var s=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=Nt,f=ni(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);nd=!1}}function NT(){jy()}function jy(){cc=ed=!1;var e=0;Ds!==0&&BT()&&(e=Ds);for(var n=tn(),s=null,l=uc;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?uc=h:s.next=h,h===null&&(Ma=s)):(s=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}Oe!==0&&Oe!==5||so(e),Ds!==0&&(Ds=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Nh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Nt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&rs(l),Ni(s)){case 2:case 8:s=ml;break;case 32:s=as;break;case 268435456:s=Wo;break;default:s=as}return l=qy.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var l=Nt;return l=ni(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),By(e,tn()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(oc())return null;Sy(e,n,!0)}function DT(){HT(function(){(Ht&6)!==0?De(dl,NT):jy()})}function id(){if(Ds===0){var e=_a;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ds=e}return Ds}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Gy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function OT(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[ke]||null).action),p=l.submitter;p&&(n=(n=p[ke]||null)?Fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var C=p?Gy(h,p):new FormData(h);Sf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Gy(h,p):new FormData(h),Sf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],MT=rd.toLowerCase(),VT=rd[0].toUpperCase()+rd.slice(1);Yn(MT,"on"+VT)}Yn(bp,"onAnimationEnd"),Yn(Sp,"onAnimationIteration"),Yn(Ap,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn($E,"onTransitionRun"),Yn(JE,"onTransitionStart"),Yn(ZE,"onTransitionCancel"),Yn(wp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=C}}}}function Ct(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var l=e+"__bubble";s.has(l)||(Ky(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),Ky(s,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[hc]){e[hc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(kT.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ad("selectionchange",!1,n))}}function Ky(e,n,s,l){switch(b_(n)){case 2:var h=ub;break;case 8:h=cb;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue t}E=E.parentNode}}l=l.return}fs(function(){var z=f,Q=Rn(s),J=[];t:{var B=Rp.get(e);if(B!==void 0){var F=di,at=e;switch(e){case"keypress":if(yr(s)===0)break t;case"keydown":case"keyup":F=bu;break;case"focusin":at="focus",F=vr;break;case"focusout":at="blur",F=vr;break;case"beforeblur":case"afterblur":F=vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case bp:case Sp:case Ap:F=pu;break;case wp:F=T;break;case"scroll":case"scrollend":F=Il;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mi;break;case"toggle":case"beforetoggle":F=At}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?B!==null?B+"Capture":null:B;pt=[];for(var M=z,P;M!==null;){var X=M;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||k===null||(X=Fn(M,k),X!=null&&pt.push(ao(M,X,P))),Zt)break;M=M.return}0<pt.length&&(B=new F(B,at,null,s,Q),J.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&s!==Rl&&(at=s.relatedTarget||s.fromElement)&&(ai(at)||at[si]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(at=s.relatedTarget||s.toElement,F=z,at=at?ai(at):null,at!==null&&(Zt=c(at),pt=at.tag,at!==Zt||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(F=null,at=z),F!==at)){if(pt=Nl,X="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Mi,X="onPointerLeave",k="onPointerEnter",M="pointer"),Zt=F==null?B:dn(F),P=at==null?B:dn(at),B=new pt(X,M+"leave",F,s,Q),B.target=Zt,B.relatedTarget=P,X=null,ai(Q)===z&&(pt=new pt(k,M+"enter",at,s,Q),pt.target=P,pt.relatedTarget=Zt,X=pt),Zt=X,F&&at)e:{for(pt=UT,k=F,M=at,P=0,X=k;X;X=pt(X))P++;X=0;for(var ft=M;ft;ft=pt(ft))X++;for(;0<P-X;)k=pt(k),P--;for(;0<X-P;)M=pt(M),X--;for(;P--;){if(k===M||M!==null&&k===M.alternate){pt=k;break e}k=pt(k),M=pt(M)}pt=null}else pt=null;F!==null&&Yy(J,B,F,pt,!1),at!==null&&Zt!==null&&Yy(J,Zt,at,pt,!0)}}t:{if(B=z?dn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var zt=hp;else if(up(B))if(fp)zt=KE;else{zt=GE;var ut=FE}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&na(z.elementType)&&(zt=hp):zt=QE;if(zt&&(zt=zt(e,z))){cp(J,zt,s,Q);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Sl(B,"number",B.value)}switch(ut=z?dn(z):window,e){case"focusin":(up(ut)||ut.contentEditable==="true")&&(ca=ut,Uh=z,kl=null);break;case"focusout":kl=Uh=ca=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ep(J,s,Q);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":Ep(J,s,Q)}var Rt;if(qt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ua?Er(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(gi&&s.locale!=="ko"&&(ua||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ua&&(Rt=Cl()):(fi=Q,xl="value"in fi?fi.value:fi.textContent,ua=!0)),ut=fc(z,Dt),0<ut.length&&(Dt=new pi(Dt,e,null,s,Q),J.push({event:Dt,listeners:ut}),Rt?Dt.data=Rt:(Rt=oa(s),Rt!==null&&(Dt.data=Rt)))),(Rt=Cn?jE(e,s):BE(e,s))&&(Dt=fc(z,"onBeforeInput"),0<Dt.length&&(ut=new pi("onBeforeInput","beforeinput",null,s,Q),J.push({event:ut,listeners:Dt}),ut.data=Rt)),OT(J,e,z,s,Q)}Qy(J,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,s),h!=null&&l.unshift(ao(e,h,f)),h=Fn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function UT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Fn(s,f),z!=null&&p.unshift(ao(s,z,C))):h||(z=Fn(s,f),z!=null&&p.push(ao(s,z,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var LT=/\r\n?/g,PT=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(LT,`
`).replace(PT,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function Jt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ia(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ia(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ta(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ta(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,ta(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ta(e,s,l)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,p,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),l&&Jt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=p=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Jt(e,n,l,Q,s,null)}}uu(e,f,E,C,z,p,h,!1);return;case"select":Ct("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Jt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?os(e,!!l,n,!1):s!=null&&os(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,p,E,s,null)}us(e,l,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,n,C,l,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ct(ro[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,l,s,null)}return;default:if(na(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&ud(e,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Jt(e,n,E,l,s,null))}function zT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,z=null,Q=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||Jt(e,n,F,null,l,J)}}for(var B in l){var F=l[B];if(J=s[B],l.hasOwnProperty(B)&&(F!=null||J!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==J&&Jt(e,n,B,F,l,J)}}ea(e,p,E,C,z,Q,f,h);return;case"select":F=p=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||Jt(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Jt(e,n,h,f,l,C)}n=E,s=p,l=F,B!=null?os(e,!!s,B,!1):!!l!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,p,h,l,f)}cu(e,B,F);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Jt(e,n,at,null,l,B));for(C in l)B=l[C],F=s[C],l.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,n,C,B,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Jt(e,n,pt,null,l,B);for(z in l)if(B=l[z],F=s[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Jt(e,n,z,B,l,F)}return;default:if(na(n)){for(var Zt in s)B=s[Zt],s.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&ud(e,n,Zt,void 0,l,B);for(Q in l)B=l[Q],F=s[Q],!l.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||ud(e,n,Q,B,l,F);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&Jt(e,n,k,null,l,B);for(J in l)B=l[J],F=s[J],!l.hasOwnProperty(J)||B===F||B==null&&F==null||Jt(e,n,J,B,l,F)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Jy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>E)break;var Q=C.transferSize,J=C.initiatorType;Q&&Jy(J)&&(C=C.responseEnd,p+=Q*(C<E?1:(E-z)/(C-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function BT(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(FT)}:t_;function FT(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),La(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&lo(e.ownerDocument.body);s=h}while(s);La(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function GT(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function QT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function KT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var Un=new Map,o_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=it.d;it.d={f:YT,r:XT,D:$T,C:JT,L:ZT,m:WT,X:eb,S:tb,M:nb};function YT(){var e=Yi.f(),n=rc();return e||n}function XT(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function u_(e,n,s){var l=Va;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function $T(e){Yi.D(e),u_("dns-prefetch",e,null)}function JT(e,n){Yi.C(e,n),u_("preconnect",e,n)}function ZT(e,n,s){Yi.L(e,n,s);var l=Va;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}Un.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function WT(e,n){Yi.m(e,n);var s=Va;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Un.has(f)&&(e=w({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),Fe(l,"link",e),Te(l),s.head.appendChild(l)}}}function tb(e,n,s){Yi.S(e,n,s);var l=Va;if(l&&e){var h=li(l).hoistableStyles,f=ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(oo(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&_d(e,s);var C=p=l.createElement("link");Te(C),Fe(C,"link",e),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function eb(e,n){Yi.X(e,n);var s=Va;if(s&&e){var l=li(s).hoistableScripts,h=Ua(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=w({src:e,async:!0},n),(n=Un.get(h))&&vd(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function nb(e,n){Yi.M(e,n);var s=Va;if(s&&e){var l=li(s).hoistableScripts,h=Ua(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&vd(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=gt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=li(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(oo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||ib(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=li(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+sn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",s),Te(n),e.head.appendChild(n))}function Ua(e){return'[src="'+sn(e)+'"]'}function uo(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Fe(l,"style",h),pc(l,s.precedence,e),n.instance=l;case"stylesheet":h=ka(s.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=h_(s),(h=Un.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Fe(f,"link",l),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(uo(f)))?(n.instance=h,Te(h),h):(l=s,(h=Un.get(f))&&(l=w({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,s.precedence,e));return n.instance}function pc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function d_(e,n,s){if(gc===null){var l=new Map,h=gc=new Map;h.set(s,l)}else h=gc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function sb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,l=h_(l),(h=Un.get(h))&&_d(l,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Fe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function ab(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*jT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(lb,e),_c=null,yc.call(e))}function lb(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var l=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function ob(e,n,s,l,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(e,n,s,l,h,f,p,E,C,z,Q,J){return e=new ob(e,n,s,p,C,z,Q,J,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function y_(e){return e?(e=da,e):da}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=bs(e,l,n),s!==null&&(cn(s,e,n),ql(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&cn(n,e,67108864),Td(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Tn();n=hr(n);var s=Sr(e,n);s!==null&&cn(s,e,n),Td(e,n)}}var Ec=!0;function ub(e,n,s,l){var h=G.T;G.T=null;var f=it.p;try{it.p=2,bd(e,n,s,l)}finally{it.p=f,G.T=h}}function cb(e,n,s,l){var h=G.T;G.T=null;var f=it.p;try{it.p=8,bd(e,n,s,l)}finally{it.p=f,G.T=h}}function bd(e,n,s,l){if(Ec){var h=Sd(l);if(h===null)od(e,n,l,Tc,s),S_(e,l);else if(fb(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<hb.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-de(p);E.entanglements[1]|=C,p&=~C}Ei(f),(Ht&6)===0&&(ic=tn()+500,so(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&cn(E,f,2),rc(),Td(f,2)}if(f=Sd(l),f===null&&od(e,n,l,Tc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function Sd(e){return e=Rn(e),Ad(e)}var Tc=null;function Ad(e){if(Tc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case dl:return 2;case ml:return 8;case as:case Ih:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var wd=!1,Ms=null,Vs=null,ks=null,ho=new Map,fo=new Map,Us=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function fb(e,n,s,l,h){switch(n){case"focusin":return Ms=mo(Ms,e,n,s,l,h),!0;case"dragenter":return Vs=mo(Vs,e,n,s,l,h),!0;case"mouseover":return ks=mo(ks,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,s,l,h)),!0}return!1}function A_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=wn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){bc(e)&&s.delete(n)}function db(){wd=!1,Ms!==null&&bc(Ms)&&(Ms=null),Vs!==null&&bc(Vs)&&(Vs=null),ks!==null&&bc(ks)&&(ks=null),ho.forEach(w_),fo.forEach(w_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,db)))}var Ac=null;function R_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=wn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function La(e){function n(C){return Sc(C,e)}Ms!==null&&Sc(Ms,e),Vs!==null&&Sc(Vs,e),ks!==null&&Sc(ks,e),ho.forEach(n),fo.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[ke]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),R_(s)}}}function x_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}wc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();__(s,l,e,n,null,null)},wc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),rc(),n[si]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.4")throw Error(a(527,C_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var mb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zn=Rc.inject(mb),ze=Rc}catch{}}return go.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=kg,f=Ug,p=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,l,null,h,f,p,x_),e[si]=n.current,ld(e),new Rd(n)},go.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=kg,p=Ug,E=Lg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(e,1,!0,n,s??null,l,h,C,f,p,E,x_),n.context=y_(null),s=n.current,l=Tn(),l=hr(l),h=Ts(l),h.callback=null,bs(s,h,l),s=l,n.current.lanes=s,ur(n,s),Ei(n),e[si]=n.current,ld(e),new wc(n)},go.version="19.2.4",go}var P_;function Ab(){if(P_)return Id.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=Sb(),Id.exports}var wb=Ab();const Rb=()=>{};var z_={};const yv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},xb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,j=y&63;v||(j=64,d||(D=64)),a.push(i[b],i[w],i[D],i[j])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(yv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):xb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new Cb;const D=c<<2|g>>4;if(a.push(D),y!==64){const j=g<<4&240|y>>2;if(a.push(j),w!==64){const K=y<<6&192|w;a.push(K)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ib=function(r){const t=yv(r);return _v.encodeByteArray(t,!0)},Fc=function(r){return Ib(r).replace(/\./g,"")},vv=function(r){try{return _v.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Db=()=>Nb().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Mb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&vv(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return Rb()||Db()||Ob()||Mb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ev=r=>uh()?.emulatorHosts?.[r],Vb=r=>{const t=Ev(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Tv=()=>uh()?.config,bv=r=>uh()?.[`_${r}`];class kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(r){return(await fetch(r,{credentials:"include"})).ok}function Ub(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const So={};function Lb(){const r={prod:[],emulator:[]};for(const t of Object.keys(So))So[t]?r.emulator.push(t):r.prod.push(t);return r}function Pb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function Av(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||So[r]===t||So[r]||j_)return;So[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=Lb().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{j_=!0,d()},D}function b(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=Pb(a),j=i("text"),K=document.getElementById(j)||document.createElement("span"),et=i("learnmore"),Y=document.getElementById(et)||document.createElement("a"),lt=i("preprendIcon"),ht=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const mt=D.element;g(mt),b(Y,et);const Ut=y();v(ht,lt),mt.append(ht,K,Y,Ut),document.body.appendChild(mt)}c?(K.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function jb(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Gb(){return!jb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Kb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Yb="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Yb,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Xb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ss(o,g,a)}}function Xb(r,t){return r.replace($b,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const $b=/\{\$([^}]+)}/g;function Jb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(B_(c)&&B_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Bo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Zb(r,t){const i=new Wb(r,t);return i.subscribe.bind(i)}class Wb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");tS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function We(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lr="[DEFAULT]";class eS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new kb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iS(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nS(r){return r===Lr?void 0:r}function iS(r){return r.instantiationMode==="EAGER"}class sS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const rS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},aS=Ot.INFO,lS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},oS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=lS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=aS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const uS=(r,t)=>t.some(i=>r instanceof i);let q_,H_;function cS(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hS(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Yd=new WeakMap,Rv=new WeakMap,Vd=new WeakMap,bm=new WeakMap;function fS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&wv.set(i,r)}).catch(()=>{}),bm.set(t,r),t}function dS(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Rv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function mS(r){Xd=r(Xd)}function pS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return Rv.set(a,t.sort?t.sort():[t]),Gs(a)}:hS().includes(r)?function(...t){return r.apply(kd(this),t),Gs(wv.get(this))}:function(...t){return Gs(r.apply(kd(this),t))}}function gS(r){return typeof r=="function"?pS(r):(r instanceof IDBTransaction&&dS(r),uS(r,cS())?new Proxy(r,Xd):r)}function Gs(r){if(r instanceof IDBRequest)return fS(r);if(Vd.has(r))return Vd.get(r);const t=gS(r);return t!==r&&(Vd.set(r,t),bm.set(t,r)),t}const kd=r=>bm.get(r);function yS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const _S=["get","getKey","getAll","getAllKeys","count"],vS=["put","add","delete","clear"],Ud=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=vS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_S.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Ud.set(t,c),c}mS(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class ES{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function TS(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",G_="0.14.7";const Zi=new Tm("@firebase/app"),bS="@firebase/app-compat",SS="@firebase/analytics-compat",AS="@firebase/analytics",wS="@firebase/app-check-compat",RS="@firebase/app-check",xS="@firebase/auth",CS="@firebase/auth-compat",IS="@firebase/database",NS="@firebase/data-connect",DS="@firebase/database-compat",OS="@firebase/functions",MS="@firebase/functions-compat",VS="@firebase/installations",kS="@firebase/installations-compat",US="@firebase/messaging",LS="@firebase/messaging-compat",PS="@firebase/performance",zS="@firebase/performance-compat",jS="@firebase/remote-config",BS="@firebase/remote-config-compat",qS="@firebase/storage",HS="@firebase/storage-compat",FS="@firebase/firestore",GS="@firebase/ai",QS="@firebase/firestore-compat",KS="firebase",YS="12.8.0";const Jd="[DEFAULT]",XS={[$d]:"fire-core",[bS]:"fire-core-compat",[AS]:"fire-analytics",[SS]:"fire-analytics-compat",[RS]:"fire-app-check",[wS]:"fire-app-check-compat",[xS]:"fire-auth",[CS]:"fire-auth-compat",[IS]:"fire-rtdb",[NS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[OS]:"fire-fn",[MS]:"fire-fn-compat",[VS]:"fire-iid",[kS]:"fire-iid-compat",[US]:"fire-fcm",[LS]:"fire-fcm-compat",[PS]:"fire-perf",[zS]:"fire-perf-compat",[jS]:"fire-rc",[BS]:"fire-rc-compat",[qS]:"fire-gcs",[HS]:"fire-gcs-compat",[FS]:"fire-fst",[QS]:"fire-fst-compat",[GS]:"fire-vertex","fire-js":"fire-js",[KS]:"fire-js-all"};const Io=new Map,$S=new Map,Zd=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(Zd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of Io.values())Q_(i,r);for(const i of $S.values())Q_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new jo("app","Firebase",JS);class ZS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const sl=YS;function xv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=Tv()),!i)throw Qs.create("no-options");const c=Io.get(o);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new sS(o);for(const v of Zd.values())d.addComponent(v);const g=new ZS(i,a,d);return Io.set(o,g),g}function Am(r=Jd){const t=Io.get(r);if(!t&&r===Jd&&Tv())return xv();if(!t)throw Qs.create("no-app",{appName:r});return t}function WS(){return Array.from(Io.values())}function Ks(r,t,i){let a=XS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}$a(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const tA="firebase-heartbeat-database",eA=1,No="firebase-heartbeat-store";let Ld=null;function Cv(){return Ld||(Ld=yS(tA,eA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function nA(r){try{const i=(await Cv()).transaction(No),a=await i.objectStore(No).get(Iv(r));return await i.done,a}catch(t){if(t instanceof ss)Zi.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function K_(r,t){try{const a=(await Cv()).transaction(No,"readwrite");await a.objectStore(No).put(t,Iv(r)),await a.done}catch(i){if(i instanceof ss)Zi.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function Iv(r){return`${r.name}!${r.options.appId}`}const iA=1024,sA=30;class rA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>sA){const o=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:a}=aA(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zi.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function aA(r,t=iA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class lA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qb()?Kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function oA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function uA(r){$a(new qr("platform-logger",t=>new ES(t),"PRIVATE")),$a(new qr("heartbeat",t=>new rA(t),"PRIVATE")),Ks($d,G_,r),Ks($d,G_,"esm2020"),Ks("fire-js","")}uA("");var cA="firebase",hA="12.8.0";Ks(cA,hA,"app");function Nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fA=Nv,Dv=new jo("auth","Firebase",Nv());const Gc=new Tm("@firebase/auth");function dA(r,...t){Gc.logLevel<=Ot.WARN&&Gc.warn(`Auth (${sl}): ${r}`,...t)}function Vc(r,...t){Gc.logLevel<=Ot.ERROR&&Gc.error(`Auth (${sl}): ${r}`,...t)}function Wi(r,...t){throw wm(r,...t)}function bi(r,...t){return wm(r,...t)}function Ov(r,t,i){const a={...fA(),[t]:i};return new jo("auth","Firebase",a).create(t,{appName:r.name})}function Ji(r){return Ov(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Dv.create(r,...t)}function _t(r,t,...i){if(!r)throw wm(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function ts(r,t){r||Xi(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function mA(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function pA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mA()||qb()||"connection"in navigator)?navigator.onLine:!0}function gA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=zb()||Hb()}get(){return pA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Mv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _A=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vA=new qo(3e4,6e4);function Ho(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rl(r,t,i,a,o={}){return Vv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Bb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),Mv.fetch()(await kv(r,r.config.apiHost,i,g),y)})}async function Vv(r,t,i){r._canInitEmulator=!1;const a={...yA,...t};try{const o=new EA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw xc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ov(r,b,y);Wi(r,b)}}catch(o){if(o instanceof ss)throw o;Wi(r,"network-request-failed",{message:String(o)})}}async function xm(r,t,i,a,o={}){const c=await rl(r,t,i,a,o);return"mfaPendingCredential"in c&&Wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function kv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,o):`${r.config.apiScheme}://${o}`;return _A.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class EA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),vA.get())})}}function xc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=bi(r,t,a);return o.customData._tokenResponse=i,o}async function TA(r,t){return rl(r,"POST","/v1/accounts:delete",t)}async function Qc(r,t){return rl(r,"POST","/v1/accounts:lookup",t)}function Ao(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bA(r,t=!1){const i=We(r),a=await i.getIdToken(t),o=Cm(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ao(Pd(o.auth_time)),issuedAtTime:Ao(Pd(o.iat)),expirationTime:Ao(Pd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vv(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(r){const t=Cm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Do(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&SA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function SA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class AA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),a=await Do(r,Qc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Uv(o.providerUserInfo):[],d=RA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function wA(r){const t=We(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Uv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xA(r,t){const i=await Vv(r,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await kv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),Mv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function CA(r,t){return rl(r,"POST","/v2/accounts:revokeToken",Ho(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await xA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Fa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ps(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new AA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Do(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return bA(this,t)}reload(){return wA(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Do(this,TA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:D,isAnonymous:j,providerData:K,stsTokenManager:et}=i;_t(w&&et,t,"internal-error");const Y=Fa.fromJSON(this.name,et);_t(typeof w=="string",t,"internal-error"),Ps(a,t.name),Ps(o,t.name),_t(typeof D=="boolean",t,"internal-error"),_t(typeof j=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(g,t.name),Ps(v,t.name),Ps(y,t.name),Ps(b,t.name);const lt=new Jn({uid:w,auth:t,email:o,emailVerified:D,displayName:a,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Y,createdAt:y,lastLoginAt:b});return K&&Array.isArray(K)&&(lt.providerData=K.map(ht=>({...ht}))),v&&(lt._redirectEventId=v),lt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Uv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(a);const v=new Jn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Z_=new Map;function $i(r){ts(r instanceof Function,"Expected a class definition");let t=Z_.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Z_.set(r,t),t)}class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Lv.type="NONE";const W_=Lv;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga($i(W_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||$i(W_);const d=kc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const D=await Qc(t,{idToken:b}).catch(()=>{});if(!D)break;w=await Jn._fromGetAccountInfoResponse(t,D,b)}else w=Jn._fromJSON(t,b);y!==c&&(g=w),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ga(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,a))}}function t0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hv(t))return"Blackberry";if(Fv(t))return"Webos";if(zv(t))return"Safari";if((t.includes("chrome/")||jv(t))&&!t.includes("edge/"))return"Chrome";if(qv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Pv(r=Ze()){return/firefox\//i.test(r)}function zv(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jv(r=Ze()){return/crios\//i.test(r)}function Bv(r=Ze()){return/iemobile/i.test(r)}function qv(r=Ze()){return/android/i.test(r)}function Hv(r=Ze()){return/blackberry/i.test(r)}function Fv(r=Ze()){return/webos/i.test(r)}function Im(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function IA(r=Ze()){return Im(r)&&!!window.navigator?.standalone}function NA(){return Fb()&&document.documentMode===10}function Gv(r=Ze()){return Im(r)||qv(r)||Fv(r)||Hv(r)||/windows phone/i.test(r)||Bv(r)}function Qv(r,t=[]){let i;switch(r){case"Browser":i=t0(Ze());break;case"Worker":i=`${t0(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class DA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function OA(r,t={}){return rl(r,"GET","/v2/passwordPolicy",Ho(r,t))}const MA=6;class VA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??MA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class kA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new DA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Ji(this));const i=t?We(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OA(this),i=new VA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await CA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fo(r){return We(r)}class e0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Zb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UA(r){Nm=r}function LA(r){return Nm.loadJS(r)}function PA(){return Nm.gapiScript}function zA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function jA(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Br(c,t??{}))return o;Wi(o,"already-initialized")}return i.initialize({options:t})}function BA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function qA(r,t,i){const a=Fo(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Kv(t),{host:d,port:g}=HA(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Br(y,a.config.emulator)&&Br(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(Sv(`${c}//${d}${v}`),Av("Auth",!0)):FA()}function Kv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function HA(r){const t=Kv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:n0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:n0(d)}}}function n0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function FA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Yv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Qa(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",Ho(r,t))}const GA="http://localhost";class Hr extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Hr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:GA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bo(i)}return t}}class Xv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Go extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class js extends Go{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Bs extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Go{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Go{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function QA(r,t){return xm(r,"POST","/v1/accounts:signUp",Ho(r,t))}class es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Jn._fromIdTokenResponse(t,a,o),d=i0(a);return new es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=i0(a);return new es({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function i0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function s0(r){if(Ln(r.app))return Promise.reject(Ji(r));const t=Fo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new es({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await QA(t,{returnSecureToken:!0}),a=await es._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Yc extends ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Yc(t,i,a,o)}}function $v(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,t,a):c})}async function KA(r,t,i=!1){const a=await Do(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return es._forOperation(r,"link",a)}async function YA(r,t,i=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const c=await Do(r,$v(a,o,t,r),i);_t(c.idToken,a,"internal-error");const d=Cm(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),es._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function XA(r,t,i=!1){if(Ln(r.app))return Promise.reject(Ji(r));const a="signIn",o=await $v(r,a,t),c=await es._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function $A(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Ho(r,t))}async function JA(r,t){if(Ln(r.app))return Promise.reject(Ji(r));const i=Fo(r),a=await $A(i,{token:t,returnSecureToken:!0}),o=await es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function ZA(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function WA(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function t2(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Xc="__sak";class Jv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const e2=1e3,n2=10;class Zv extends Jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);NA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,n2):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zv.type="LOCAL";const i2=Zv;class Wv extends Jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Wv.type="SESSION";const t1=Wv;function s2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await s2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class r2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Dm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const D=w;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function a2(r){Si().location.href=r}function e1(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function l2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){return navigator?.serviceWorker?.controller||null}function u2(){return e1()?self:null}const n1="firebaseLocalStorageDb",c2=1,$c="firebaseLocalStorage",i1="fbase_key";class Qo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function h2(){const r=indexedDB.deleteDatabase(n1);return new Qo(r).toPromise()}function em(){const r=indexedDB.open(n1,c2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:i1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await h2(),t(await em()))})})}async function r0(r,t,i){const a=hh(r,!0).put({[i1]:t,value:i});return new Qo(a).toPromise()}async function f2(r,t){const i=hh(r,!1).get(t),a=await new Qo(i).toPromise();return a===void 0?null:a.value}function a0(r,t){const i=hh(r,!0).delete(t);return new Qo(i).toPromise()}const d2=800,m2=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>m2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(u2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await l2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await r0(t,Xc,"1"),await a0(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>r0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>f2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>a0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=hh(o,!1).getAll();return new Qo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const p2=s1;new qo(3e4,6e4);function g2(r,t){return t?$i(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends Yv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function y2(r){return XA(r.auth,new Om(r),r.bypassAuthState)}function _2(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),YA(i,new Om(r),r.bypassAuthState)}async function v2(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),KA(i,new Om(r),r.bypassAuthState)}class r1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E2=new qo(2e3,1e4);class Ha extends r1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,E2.get())};t()}}Ha.currentPopupAction=null;const T2="pendingRedirect",Uc=new Map;class b2 extends r1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await S2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(r,t){const i=R2(t),a=w2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function A2(r,t){Uc.set(r._key(),t)}function w2(r){return $i(r._redirectPersistence)}function R2(r){return kc(T2,r.config.apiKey,r.name)}async function x2(r,t,i=!1){if(Ln(r.app))return Promise.reject(Ji(r));const a=Fo(r),o=g2(a,t),d=await new b2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const C2=600*1e3;class I2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!N2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!a1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(t))}saveEventToCache(t){this.cachedEventUids.add(l0(t)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function a1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function N2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(r);default:return!1}}async function D2(r,t={}){return rl(r,"GET","/v1/projects",t)}const O2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function V2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await D2(r);for(const i of t)try{if(k2(i))return}catch{}Wi(r,"unauthorized-domain")}function k2(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!M2.test(i))return!1;if(O2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const U2=new qo(3e4,6e4);function o0(){const r=Si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function L2(r){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(bi(r,"network-request-failed"))},timeout:U2.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const o=zA("iframefcb");return Si()[o]=()=>{gapi.load?a():i(bi(r,"network-request-failed"))},LA(`${PA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function P2(r){return Lc=Lc||L2(r),Lc}const z2=new qo(5e3,15e3),j2="__/auth/iframe",B2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,B2):`https://${r.config.authDomain}/${j2}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=H2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function G2(r){const t=await P2(r),i=Si().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:F2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),g=Si().setTimeout(()=>{c(d)},z2.get());function v(){Si().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K2=500,Y2=600,X2="_blank",$2="http://localhost";class u0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J2(r,t,i,a=K2,o=Y2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Q2,width:a.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=jv(y)?X2:i),Pv(y)&&(t=t||$2,v.scrollbars="yes");const b=Object.entries(v).reduce((D,[j,K])=>`${D}${j}=${K},`,"");if(IA(y)&&g!=="_self")return Z2(t||"",g),new u0(null);const w=window.open(t||"",g,b);_t(w,r,"popup-blocked");try{w.focus()}catch{}return new u0(w)}function Z2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const W2="__/auth/handler",tw="emulator/auth/handler",ew=encodeURIComponent("fac");async function c0(r,t,i,a,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof Xv){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Jb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Go){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${ew}=${encodeURIComponent(v)}`:"";return`${nw(r)}?${Bo(g).slice(1)}${y}`}function nw({config:r}){return r.emulator?Rm(r,tw):`https://${r.authDomain}/${W2}`}const zd="webStorageSupport";class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=x2,this._overrideRedirectResult=A2}async _openPopup(t,i,a,o){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c0(t,i,a,Wd(),o);return J2(t,c,Dm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await c0(t,i,a,Wd(),o);return a2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await G2(t),a=new I2(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=V2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Gv()||zv()||Im()}}const sw=iw;var h0="@firebase/auth",f0="1.12.0";class rw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lw(r){$a(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(r)},y=new kA(a,o,c,v);return BA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new qr("auth-internal",t=>{const i=Fo(t.getProvider("auth").getImmediate());return(a=>new rw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(h0,f0,aw(r)),Ks(h0,f0,"esm2020")}const ow=300,uw=bv("authIdTokenMaxAge")||ow;let d0=null;const cw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>uw)return;const o=i?.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hw(r=Am()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=jA(r,{popupRedirectResolver:sw,persistence:[p2,i2,t1]}),a=bv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=cw(c.toString());WA(i,d,()=>d(i.currentUser)),ZA(i,g=>d(g))}}const o=Ev("auth");return o&&qA(i,`http://${o}`),i}function fw(){return document.getElementsByTagName("head")?.[0]??document}UA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",fw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lw("Browser");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,l1;(function(){var r;function t(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(V,O,U){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return R.prototype[O].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,N){N||(N=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)V[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],O=I.g[2];let U=I.g[3],x;x=R+(U^N&(O^U))+V[0]+3614090360&4294967295,R=N+(x<<7&4294967295|x>>>25),x=U+(O^R&(N^O))+V[1]+3905402710&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(N^U&(R^N))+V[2]+606105819&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(R^O&(U^R))+V[3]+3250441966&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(U^N&(O^U))+V[4]+4118548399&4294967295,R=N+(x<<7&4294967295|x>>>25),x=U+(O^R&(N^O))+V[5]+1200080426&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(N^U&(R^N))+V[6]+2821735955&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(R^O&(U^R))+V[7]+4249261313&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(U^N&(O^U))+V[8]+1770035416&4294967295,R=N+(x<<7&4294967295|x>>>25),x=U+(O^R&(N^O))+V[9]+2336552879&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(N^U&(R^N))+V[10]+4294925233&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(R^O&(U^R))+V[11]+2304563134&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(U^N&(O^U))+V[12]+1804603682&4294967295,R=N+(x<<7&4294967295|x>>>25),x=U+(O^R&(N^O))+V[13]+4254626195&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(N^U&(R^N))+V[14]+2792965006&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(R^O&(U^R))+V[15]+1236535329&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(O^U&(N^O))+V[1]+4129170786&4294967295,R=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(R^N))+V[6]+3225465664&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(U^R))+V[11]+643717713&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^R&(O^U))+V[0]+3921069994&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(N^O))+V[5]+3593408605&4294967295,R=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(R^N))+V[10]+38016083&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(U^R))+V[15]+3634488961&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^R&(O^U))+V[4]+3889429448&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(N^O))+V[9]+568446438&4294967295,R=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(R^N))+V[14]+3275163606&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(U^R))+V[3]+4107603335&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^R&(O^U))+V[8]+1163531501&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(N^O))+V[13]+2850285829&4294967295,R=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(R^N))+V[2]+4243563512&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(U^R))+V[7]+1735328473&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^R&(O^U))+V[12]+2368359562&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(N^O^U)+V[5]+4294588738&4294967295,R=N+(x<<4&4294967295|x>>>28),x=U+(R^N^O)+V[8]+2272392833&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^N)+V[11]+1839030562&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^R)+V[14]+4259657740&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(N^O^U)+V[1]+2763975236&4294967295,R=N+(x<<4&4294967295|x>>>28),x=U+(R^N^O)+V[4]+1272893353&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^N)+V[7]+4139469664&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^R)+V[10]+3200236656&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(N^O^U)+V[13]+681279174&4294967295,R=N+(x<<4&4294967295|x>>>28),x=U+(R^N^O)+V[0]+3936430074&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^N)+V[3]+3572445317&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^R)+V[6]+76029189&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(N^O^U)+V[9]+3654602809&4294967295,R=N+(x<<4&4294967295|x>>>28),x=U+(R^N^O)+V[12]+3873151461&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^N)+V[15]+530742520&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^R)+V[2]+3299628645&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(O^(N|~U))+V[0]+4096336452&4294967295,R=N+(x<<6&4294967295|x>>>26),x=U+(N^(R|~O))+V[7]+1126891415&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~N))+V[14]+2878612391&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~R))+V[5]+4237533241&4294967295,N=O+(x<<21&4294967295|x>>>11),x=R+(O^(N|~U))+V[12]+1700485571&4294967295,R=N+(x<<6&4294967295|x>>>26),x=U+(N^(R|~O))+V[3]+2399980690&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~N))+V[10]+4293915773&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~R))+V[1]+2240044497&4294967295,N=O+(x<<21&4294967295|x>>>11),x=R+(O^(N|~U))+V[8]+1873313359&4294967295,R=N+(x<<6&4294967295|x>>>26),x=U+(N^(R|~O))+V[15]+4264355552&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~N))+V[6]+2734768916&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~R))+V[13]+1309151649&4294967295,N=O+(x<<21&4294967295|x>>>11),x=R+(O^(N|~U))+V[4]+4149444226&4294967295,R=N+(x<<6&4294967295|x>>>26),x=U+(N^(R|~O))+V[11]+3174756917&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~N))+V[2]+718787259&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=N;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<R;)if(V[O++]=I.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<R;)if(V[O++]=I[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)I[R++]=this.g[N]>>>V&255;return I};function c(I,R){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function d(I,R){this.h=R;const N=[];let V=!0;for(let O=I.length-1;O>=0;O--){const U=I[O]|0;V&&U==R||(N[O]=U,V=!1)}this.g=N}var g={};function v(I){return-128<=I&&I<128?c(I,function(R){return new d([R|0],R<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return Y(y(-I));const R=[];let N=1;for(let V=0;I>=N;V++)R[V]=I/N|0,N*=4294967296;return new d(R,0)}function b(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return Y(b(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(R,8));let V=w;for(let U=0;U<I.length;U+=8){var O=Math.min(8,I.length-U);const x=parseInt(I.substring(U,U+O),R);O<8?(O=y(Math.pow(R,O)),V=V.j(O).add(y(x))):(V=V.j(N),V=V.add(y(x)))}return V}var w=v(0),D=v(1),j=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-Y(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);I+=(V>=0?V:4294967296+V)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(et(this))return"-"+Y(this).toString(I);const R=y(Math.pow(I,6));var N=this;let V="";for(;;){const O=Ut(N,R).g;N=lt(N,O.j(R));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,K(N))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function et(I){return I.h==-1}r.l=function(I){return I=lt(this,I),et(I)?-1:K(I)?0:1};function Y(I){const R=I.g.length,N=[];for(let V=0;V<R;V++)N[V]=~I.g[V];return new d(N,~I.h).add(D)}r.abs=function(){return et(this)?Y(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let V=0;for(let O=0;O<=R;O++){let U=V+(this.i(O)&65535)+(I.i(O)&65535),x=(U>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=x>>>16,U&=65535,x&=65535,N[O]=x<<16|U}return new d(N,N[N.length-1]&-2147483648?-1:0)};function lt(I,R){return I.add(Y(R))}r.j=function(I){if(K(this)||K(I))return w;if(et(this))return et(I)?Y(this).j(Y(I)):Y(Y(this).j(I));if(et(I))return Y(this.j(Y(I)));if(this.l(j)<0&&I.l(j)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var V=0;V<2*R;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const U=this.i(V)>>>16,x=this.i(V)&65535,ee=I.i(O)>>>16,fe=I.i(O)&65535;N[2*V+2*O]+=x*fe,ht(N,2*V+2*O),N[2*V+2*O+1]+=U*fe,ht(N,2*V+2*O+1),N[2*V+2*O+1]+=x*ee,ht(N,2*V+2*O+1),N[2*V+2*O+2]+=U*ee,ht(N,2*V+2*O+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new d(N,0)};function ht(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function mt(I,R){this.g=I,this.h=R}function Ut(I,R){if(K(R))throw Error("division by zero");if(K(I))return new mt(w,w);if(et(I))return R=Ut(Y(I),R),new mt(Y(R.g),Y(R.h));if(et(R))return R=Ut(I,Y(R)),new mt(Y(R.g),R.h);if(I.g.length>30){if(et(I)||et(R))throw Error("slowDivide_ only works with positive integers.");for(var N=D,V=R;V.l(I)<=0;)N=Wt(N),V=Wt(V);var O=St(N,1),U=St(V,1);for(V=St(V,2),N=St(N,2);!K(V);){var x=U.add(V);x.l(I)<=0&&(O=O.add(N),U=x),V=St(V,1),N=St(N,1)}return R=lt(I,O.j(R)),new mt(O,R)}for(O=w;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(N),x=U.j(R);et(x)||x.l(I)>0;)N-=V,U=y(N),x=U.j(R);K(U)&&(U=D),O=O.add(U),I=lt(I,x)}return new mt(O,I)}r.B=function(I){return Ut(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)&I.i(V);return new d(N,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)|I.i(V);return new d(N,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)^I.i(V);return new d(N,this.h^I.h)};function Wt(I){const R=I.g.length+1,N=[];for(let V=0;V<R;V++)N[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(N,I.h)}function St(I,R){const N=R>>5;R%=32;const V=I.g.length-N,O=[];for(let U=0;U<V;U++)O[U]=R>0?I.i(U+N)>>>R|I.i(U+N+1)<<32-R:I.i(U+N);return new d(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,l1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Ys=d}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var o1,vo,u1,Pc,nm,c1,h1,f1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,H){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return m.prototype[L].apply(T,nt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function K(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const H=L.length||0;u.length=_+H;for(let nt=0;nt<H;nt++)u[_+nt]=L[nt]}else u.push(L)}}class et{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,St=!1,I=new ht,R=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(N)}};function N(){for(var u;u=lt();){try{u.h.call(u.g)}catch(_){Y(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}St=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ee,O),ee.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Bt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let H=0;H<q.length;H++)_=q[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function $(u){this.src=u,this.g={},this.h=0}$.prototype.add=function(u,m,_,T,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const nt=gt(u,m,T,L);return nt>-1?(m=u[nt],_||(m.fa=!1)):(m=new it(m,this.src,H,!!T,L),m.fa=_,u.push(m)),m};function rt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(ot(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function gt(u,m,_,T){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,_,T,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ae(u,m[H],_,T,L);return null}return _=fl(_),u&&u[fe]?u.J(m,_,g(T)?!!T.capture:!1,L):rr(u,m,_,!1,T,L)}function rr(u,m,_,T,L,H){if(!m)throw Error("Invalid event type");const nt=g(L)?!!L.capture:!!L;let At=ar(u);if(At||(u[Lt]=At=new $(u)),_=At.add(m,_,T,nt,H),_.proxy)return _;if(T=Yr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yr(){function u(_){return m.call(u.src,u.listener,_)}const m=cl;return u}function Xr(u,m,_,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Xr(u,m[H],_,T,L);else T=g(T)?!!T.capture:!!T,_=fl(_),u&&u[fe]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=gt(m,_,T,L),_>-1&&(ot(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,_,T,L)),(_=u>-1?m[u]:null)&&$r(_))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])rt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Wn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ar(m))?(rt(_,u),_.h==0&&(_.src=null,m[Lt]=null)):ot(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=_.call(T,m)}return u}function ar(u){return u=u[Lt],u instanceof $?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function _e(){V.call(this),this.i=new $(this),this.M=this,this.G=null}w(_e,V),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Xr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(T,u),W(m,L)}L=!0;let H,nt;if(_)for(nt=_.length-1;nt>=0;nt--)H=m.g=_[nt],L=rs(H,T,!0,m)&&L;if(H=m.g=u,L=rs(H,T,!0,m)&&L,L=rs(H,T,!1,m)&&L,_)for(nt=0;nt<_.length;nt++)H=m.g=_[nt],L=rs(H,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ot(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function rs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const nt=m[H];if(nt&&!nt.da&&nt.capture==_){const At=nt.listener,me=nt.ha||nt.src;nt.fa&&rt(u.i,nt),L=At.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){V.call(this),this.h=u,this.g={}}w(lr,V);var dl=[];function ml(u){It(u.g,function(m,_){this.g.hasOwnProperty(_)&&$r(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),ml(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Ih=d.JSON.parse,Wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}w(ze,O);function An(){O.call(this,"c")}w(An,O);var de={},nu=null;function Jr(){return nu=nu||new _e}de.Ia="serverreachability";function iu(u){O.call(this,de.Ia,u)}w(iu,O);function ti(u){const m=Jr();De(m,new iu(m))}de.STAT_EVENT="statevent";function or(u,m){O.call(this,de.STAT_EVENT,u),this.stat=m}w(or,O);function ve(u){const m=Jr();De(m,new or(m,u))}de.Ja="timingevent";function ei(u,m){O.call(this,de.Ja,u),this.size=m}w(ei,O);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,L,H){u.info(function(){if(u.g)if(H){var nt="",At=H.split("&");for(let qt=0;qt<At.length;qt++){var me=At[qt].split("=");if(me.length>1){const le=me[0];me=me[1];const Cn=le.split("_");nt=Cn.length>=2&&Cn[1]=="type"?nt+(le+"="+me+"&"):nt+(le+"=redacted&")}}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function su(u,m,_,T,L,H,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+H+" "+nt})}function ii(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(T?" "+T:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return as(H)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function hr(){}w(hr,tu),hr.prototype.g=function(){return new XMLHttpRequest},gl=new hr;function Ni(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Bn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function si(u,m,_){u.M=1,u.A=fr(be(m)),u.u=_,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(_.i,"t",T),u.C=0,_=u.j.L,u.h=new qn,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let H=0;H<L.length;H++){const nt=ae(_,L[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?A(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||me==7||(me==8||qt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var _=Oh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var H=T;break e}}H=null}if(u=H)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),wn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<_.length;)if(le=lu(this,_),le==ke){At==4&&(this.m=4,ve(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ii(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,le,null),li(this,le);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),wn(this);else if(_.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Dl(nt),nt.P=!0,ve(11))}}else ii(this.i,this.l,_,null),li(this,_);At==4&&dn(this),this.o&&!this.K&&(At==4?gu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),wn(this)}}}catch{}};function Oh(u){if(!au(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(L&&H==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ke:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?ke:(m=m.slice(T,T+_),u.C=T+_,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(ti(),ve(17)),dn(this),this.m=2,wn(this)):Wr(this,this.T-u)};function wn(u){u.j.I==0||u.K||gu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)la(_),ms(_);else break t;vr(_),ve(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&la(_),!x(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const le=qt[0];if(!(le<=_.K))if(_.K=le,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const Cn=qt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const gi=qt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Qn=qt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Kn=u.g;if(Kn){const Er=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var H=T.h;H.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(vl(H,H.h),H.h=null))}if(T.G){const oa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Qt(T.J,T.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var nt=u;if(T.na=vu(T,T.L?T.ba:null,T.W),nt.L){El(T.h,nt);var At=nt,me=T.O;me&&(At.H=me),At.D&&(ai(At),ri(At)),T.g=nt}else mu(T);_.i.length>0&&mi(_)}else qt[0]!="stop"&&qt[0]!="close"||pi(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?pi(_,7):Il(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}ti(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return j(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,H=null;T>=0?(L=u[_].substring(0,T),H=u[_].substring(T+1)):L=u[_],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,bl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),ls(this,m[4]),this.h=ci(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ea,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ea,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(dr(_,_.charAt(0)=="/"?Sl:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",dr(_,cu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ls(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let nt=0;nt<L.length;){const At=L[nt++];At=="."?T&&nt==L.length&&H.push(""):At==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&nt==L.length&&H.push("")):(H.push(At),T=!0)}T=H.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?bl(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function Ue(u,m,_){u.j=_?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,_){m instanceof us?(u.i=m,ia(u.i,u.l)):(_||(m=dr(m,os)),u.i=new us(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function fr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,uu=/[#\?:]/g,Sl=/[#\?]/g,os=/[#\?@]/g,cu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=us.prototype,r.add=function(u,m){rn(this),this.i=null,u=cs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){rn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Al(u,m){return rn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){rn(u);let _=[];if(typeof m=="string")Al(u,m)&&(_=_.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=cs(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function na(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(cs(u,m),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ni(_);_=wl(this,_);for(let H=0;H<_.length;H++){let nt=L;_[H]!==""&&(nt+="="+Ni(_[H])),u.push(nt)}}return this.i=u.join("&")};function fu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(hu(this,T),na(this,L,_))},u)),u.j=m}function Hn(u,m){const _=new jn;if(d.Image){const T=new Image;T.onload=b(Rn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Rn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Rn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Rn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const _=new jn,T=new AbortController,L=setTimeout(()=>{T.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function hs(){this.g=new Wo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,tu),hi.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(mr,_e),r=mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Fn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return It(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function pr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=xn(_),typeof u=="string"?_!=null&&Ni(_):Qt(u,m,_))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,_e);var fi=/^https?$/i,xl=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){gr(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){gr(this,H)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),Di(u)}function Cl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},r.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=H===0){let nt=String(u.D).match(ou)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!fi.test(nt?nt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Cl(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var _=ru(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[L]||[];m[L]=H,H.push(_)}Bt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),mi(this)};function Il(u){if(ra(u),u.I==3){var m=u.V++,_=be(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),_r(u,_),m=new Bn(u,u.j,m),m.M=2,m.A=fr(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}_u(u)}function ms(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function ra(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||R(),St||(Wt(),St=!0),I.add(m,u),u.D=0}}function aa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=A(H),W(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),_=be(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),_r(this,_),H&&(this.R?m="headers="+Ni(xn(H))+"&"+m:this.u&&pr(_,this.u,H)),vl(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,si(L,_,null)):si(L,_,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",_),Qt(T,"AID",u.K),_r(u,T),u.u&&u.o&&pr(T,u.u,u.o),_=new Bn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,_),si(_,T,m)}function _r(u,m){u.H&&It(u.H,function(_,T){Qt(m,T,_)}),u.l&&It({},function(_,T){Qt(m,T,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const me=["count="+_];At==-1?_>0?(At=L[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let qt=!0;for(let le=0;le<_;le++){var H=L[le].g;const Cn=L[le].map;if(H-=At,H<0)At=Math.max(0,L[le].g-100),qt=!1;else try{H="req"+H+"_"||"";try{var nt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[gi,Qn]of nt){let Kn=Qn;g(Qn)&&(Kn=as(Qn)),me.push(H+gi+"="+encodeURIComponent(Kn))}}catch(gi){throw me.push(H+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Cn)}}if(qt){nt=me.join("&");break t}}nt=void 0}return u=u.i.splice(0,_),m.G=u,nt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||R(),St||(Wt(),St=!0),I.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ms(this),pu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=fr(be(m)),_.u=null,_.R=!0,Zr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),vr(this),ve(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){la(u),Dl(u),u.g=null;var T=2}else if(ui(u.h,m))_=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),De(T,new ei(T,_)),mi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&vr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),fr(T),L?Hn(T.toString(),_):Rl(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),_u(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ja,m),K(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var T=_ instanceof mn?be(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new mn(null);T&&Ue(H,T),m&&(H.g=m),L&&ls(H,L),_&&(H.h=_),T=H}return _=u.G,m=u.wa,_&&m&&Qt(T,_,m),Qt(T,"VER",u.ka),_r(u,T),T}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new hi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}w(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Il(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=as(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,en.Z.N.call(this)};function bu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,ze);function Su(){An.call(this),this.status=1}w(Su,An);function Mi(u){this.g=u}w(Mi,Tu),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new bu(u))},Mi.prototype.pa=function(u){De(this.g,new Su)},Mi.prototype.oa=function(){De(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,f1=function(){return new ps},h1=function(){return Jr()},c1=de,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Pc=cr,pl.COMPLETE="complete",u1=pl,eu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,vo=eu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,o1=Xt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let al="12.8.0";function dw(r){al=r}const Fr=new Tm("@firebase/firestore");function Pa(){return Fr.logLevel}function st(r,...t){if(Fr.logLevel<=Ot.DEBUG){const i=t.map(Mm);Fr.debug(`Firestore (${al}): ${r}`,...i)}}function ns(r,...t){if(Fr.logLevel<=Ot.ERROR){const i=t.map(Mm);Fr.error(`Firestore (${al}): ${r}`,...i)}}function Ja(r,...t){if(Fr.logLevel<=Ot.WARN){const i=t.map(Mm);Fr.warn(`Firestore (${al}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,d1(r,a,i)}function d1(r,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function Gt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||d1(t,o,a)}function bt(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class m1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class pw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new m1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class yw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class _w{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new yw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new p0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ew(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ew(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return jd(o)===jd(c)?Mt(o,c):jd(o)?1:-1}return Mt(r.length,t.length)}const Tw=55296,bw=57343;function jd(r){const t=r.charCodeAt(0);return t>=Tw&&t<=bw}function Za(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const g0="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ti.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),o=Ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class se extends Ti{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const Sw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return Sw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g0}static keyField(){return new Qe([g0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}function p1(r,t,i){if(!i)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Aw(r,t,i,a){if(t===!0&&a===!0)throw new ct(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function y0(r){if(!dt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _0(r){if(dt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function g1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Xs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ko(r,t){if(!g1(r))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(tt.INVALID_ARGUMENT,i);return!0}const v0=-62135596800,E0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*E0);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<v0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ko(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-v0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oo=-1;function ww(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Js(o,dt.empty(),t)}function Rw(r){return new Js(r.readTime,r.key,Oo)}class Js{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(vt.min(),dt.empty(),Oo)}static max(){return new Js(vt.max(),dt.empty(),Oo)}}function xw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const Cw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==Cw)throw r;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new Z(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Nw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Um=-1;function dh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function Dw(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const y1="";function Ow(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=T0(t)),t=Mw(r.get(i),t);return T0(t)}function Mw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case y1:i+="";break;default:i+=c}}return i}function T0(r){return r+y1+""}function b0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ir(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function _1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=Vw.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const E1="server_timestamp",T1="__type__",b1="__previous_value__",S1="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[T1]?.stringValue===E1}function mh(r){const t=r.mapValue.fields[b1];return Lm(t)?mh(t):t}function Mo(r){const t=Zs(r.mapValue.fields[S1].timestampValue);return new re(t.seconds,t.nanos)}class kw{constructor(t,i,a,o,c,d,g,v,y,b,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const Zc="(default)";class Vo{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Vo&&t.projectId===this.projectId&&t.database===this.database}}function Uw(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(r.options.projectId,t)}const A1="__type__",Lw="__max__",Nc={mapValue:{}},w1="__vector__",Wc="value";function tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:zw(r)?9007199254740991:Pw(r)?10:11:yt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=tr(r);if(i!==tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Mo(r).isEqual(Mo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),g=Zs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Ws(o.bytesValue).isEqual(Ws(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(b0(d)!==b0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ci(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function ko(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=tr(r),a=tr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return A0(r.timestampValue,t.timestampValue);case 4:return A0(Mo(r),Mo(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Ws(c),v=Ws(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Mt(g[y],v[y]);if(b!==0)return b}return Mt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(ye(c.latitude),ye(d.latitude));return g!==0?g:Mt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return w0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Wc]?.arrayValue,b=v[Wc]?.arrayValue,w=Mt(y?.values?.length||0,b?.values?.length||0);return w!==0?w:w0(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const D=im(v[w],b[w]);if(D!==0)return D;const j=Wa(g[v[w]],y[b[w]]);if(j!==0)return j}return Mt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function A0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Zs(r),a=Zs(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function w0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return Mt(i.length,a.length)}function tl(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ws(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${sm(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function zc(r){switch(tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ir(a.fields,((c,d)=>{o+=c.length+zc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function R0(r){return!!r&&"nullValue"in r}function x0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function Pw(r){return(r?.mapValue?.fields||{})[A1]?.stringValue===w1}function wo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ir(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(r.arrayValue.values[i]);return t}return{...r}}function zw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Lw}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=wo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ir(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(wo(this.value))}}function R1(r){const t=[];return ir(r.fields,((i,a)=>{const o=new Qe([i]);if(jc(a)){const c=R1(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Sn(t)}class Je{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function C0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function jw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class x1{}class Me extends x1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new qw(t,i,a):i==="array-contains"?new Gw(t,a):i==="in"?new Qw(t,a):i==="not-in"?new Kw(t,a):i==="array-contains-any"?new Yw(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Hw(t,a):new Fw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends x1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return C1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C1(r){return r.op==="and"}function I1(r){return Bw(r)&&C1(r)}function Bw(r){for(const t of r.filters)if(t instanceof Ii)return!1;return!0}function am(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(I1(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function N1(r,t){return r instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(r,t):r instanceof Ii?(function(a,o){return o instanceof Ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&N1(d,o.filters[g])),!0):!1})(r,t):void yt(19439)}function D1(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(r):r instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(D1).join(" ,")+"}"})(r):"Filter"}class qw extends Me{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Hw extends Me{constructor(t,i){super(t,"in",i),this.keys=O1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Fw extends Me{constructor(t,i){super(t,"not-in",i),this.keys=O1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function O1(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Gw extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&ko(i.arrayValue,this.value)}}class Qw extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ko(this.value.arrayValue,i)}}class Kw extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ko(this.value.arrayValue,i)}}class Yw extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ko(this.value.arrayValue,a)))}}class Xw{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function N0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new Xw(r,t,i,a,o,c,d)}function zm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!jw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!N1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!I0(r.startAt,t.startAt)&&I0(r.endAt,t.endAt)}function lm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ph{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $w(r,t,i,a,o,c,d,g){return new ph(r,t,i,a,o,c,d,g)}function Bm(r){return new ph(r)}function D0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Jw(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Zw(r){return r.collectionGroup!==null}function Ro(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new eh(Qe.keyField(),a))}return t.Ie}function Ai(r){const t=bt(r);return t.Ee||(t.Ee=Ww(t,Ro(r))),t.Ee}function Ww(r,t){if(r.limitType==="F")return N0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return N0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function om(r,t,i){return new ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return jm(Ai(r),Ai(t))&&r.limitType===t.limitType}function M1(r){return`${zm(Ai(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>D1(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ro(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=C0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Ro(a),o)||a.endAt&&!(function(d,g,v){const y=C0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Ro(a),o))})(r,t)}function tR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V1(r){return(t,i)=>{let a=!1;for(const o of Ro(r)){const c=eR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function eR(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Wa(v,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}const nR=new ue(dt.comparator);function is(){return nR}const k1=new ue(dt.comparator);function Eo(...r){let t=k1;for(const i of r)t=t.insert(i.key,i);return t}function U1(r){let t=k1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Pr(){return xo()}function L1(){return xo()}function xo(){return new Qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const iR=new ue(dt.comparator),sR=new Ve(dt.comparator);function Vt(...r){let t=sR;for(const i of r)t=t.add(i);return t}const rR=new Ve(Mt);function aR(){return rR}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function P1(r){return{integerValue:""+r}}function lR(r,t){return Dw(t)?P1(t):qm(r,t)}class _h{constructor(){this._=void 0}}function oR(r,t,i){return r instanceof nh?(function(o,c){const d={fields:{[T1]:{stringValue:E1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=mh(c)),c&&(d.fields[b1]=c),{mapValue:d}})(i,t):r instanceof Uo?j1(r,t):r instanceof Lo?B1(r,t):(function(o,c){const d=z1(o,c),g=O0(d)+O0(o.Ae);return rm(d)&&rm(o.Ae)?P1(g):qm(o.serializer,g)})(r,t)}function uR(r,t,i){return r instanceof Uo?j1(r,t):r instanceof Lo?B1(r,t):i}function z1(r,t){return r instanceof ih?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends _h{}class Uo extends _h{constructor(t){super(),this.elements=t}}function j1(r,t){const i=q1(t);for(const a of r.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends _h{constructor(t){super(),this.elements=t}}function B1(r,t){let i=q1(t);for(const a of r.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class ih extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function O0(r){return ye(r.integerValue||r.doubleValue)}function q1(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof Lo&&o instanceof Lo?Za(a.elements,o.elements,Ci):a instanceof ih&&o instanceof ih?Ci(a.Ae,o.Ae):a instanceof nh&&o instanceof nh})(r.transform,t.transform)}class hR{constructor(t,i){this.version=t,this.transformResults=i}}class wi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function H1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new G1(r.key,wi.none()):new Yo(r.key,r.data,wi.none());{const i=r.data,a=fn.empty();let o=new Ve(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new sr(r.key,a,new Sn(o.toArray()),wi.none())}}function fR(r,t,i){r instanceof Yo?(function(o,c,d){const g=o.value.clone(),v=V0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof sr?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=V0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(F1(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Co(r,t,i,a){return r instanceof Yo?(function(c,d,g,v){if(!Bc(c.precondition,d))return g;const y=c.value.clone(),b=k0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof sr?(function(c,d,g,v){if(!Bc(c.precondition,d))return g;const y=k0(c.fieldTransforms,v,d),b=d.data;return b.setAll(F1(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function dR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=z1(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function M0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,((c,d)=>cR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yo extends vh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sr extends vh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function F1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function V0(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,uR(d,g,i[o]))}return a}function k0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,oR(c,d,t))}return a}class G1 extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&fR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=L1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=H1(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>M0(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>M0(i,a)))}}class Hm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return iR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Hm(t,i,a,o)}}class gR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yR{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Pt;function _R(r){switch(r){case tt.OK:return yt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Q1(r){if(r===void 0)return ns("GRPC error has no .code"),tt.UNKNOWN;switch(r){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return yt(39323,{code:r})}}(Pt=xe||(xe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function vR(){return new TextEncoder}const ER=new Ys([4294967295,4294967295],0);function U0(r){const t=vR().encode(r),i=new l1;return i.update(t),new Uint8Array(i.digest())}function L0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([o,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(a<0)throw new To(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ys.fromNumber(a)));return o.compare(ER)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=U0(t),[a,o]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=U0(t),[a,o]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(vt.min(),o,new ue(Mt),is(),Vt())}}class Xo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xo(a,i,Vt(),Vt(),Vt())}}class qc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class K1{constructor(t,i){this.targetId=t,this.Ce=i}}class Y1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class P0{constructor(){this.ve=0,this.Fe=z0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Xo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=z0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class TR{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(lm(c))if(a===0){const d=new dt(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ws(a).toUint8Array()}catch(v){if(v instanceof v1)return Ja("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Fm(d,o,c)}catch(v){return Ja(v instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Eh(t,i,this.Ze,this.je,a);return this.je=is(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(Mt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new P0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new P0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ue(dt.comparator)}function z0(){return new ue(dt.comparator)}const bR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class wR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function RR(r,t){return sh(r,t.toTimestamp())}function Ri(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const a=Zs(i);return new re(a.seconds,a.nanos)})(r))}function Gm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function $1(r){const t=se.fromString(r);return Gt(eE(t),10190,{key:t.toString()}),t}function hm(r,t){return Gm(r.databaseId,t.path)}function Bd(r,t){const i=$1(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(Z1(i))}function J1(r,t){return Gm(r.databaseId,t)}function xR(r){const t=$1(r);return t.length===4?se.emptyPath():Z1(t)}function fm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z1(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function j0(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function CR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?tt.UNKNOWN:Q1(y.code);return new ct(b,y.message||"")})(d);i=new Y1(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):vt.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?Ri(a.readTime):vt.min(),d=Je.newNoDocument(o,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new yR(o,c),g=a.targetId;i=new K1(g,d)}}return i}function IR(r,t){let i;if(t instanceof Yo)i={update:j0(r,t.key,t.value)};else if(t instanceof G1)i={delete:hm(r,t.key)};else if(t instanceof sr)i={update:j0(r,t.key,t.data),updateMask:PR(t.fieldMask)};else{if(!(t instanceof mR))return yt(16599,{dt:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:RR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function NR(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ri(o.updateTime):Ri(c);return d.isEqual(vt.min())&&(d=Ri(c)),new hR(d,o.transformResults||[])})(i,t)))):[]}function DR(r,t){return{documents:[J1(r,t.path)]}}function OR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=J1(r,o);const c=(function(y){if(y.length!==0)return tE(Ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(D){return{field:ja(D.field),direction:kR(D.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=um(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function MR(r){let t=xR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const D=W1(w);return D instanceof Ii&&I1(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((D=>(function(K){return new eh(Ba(K.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let D;return D=typeof w=="object"?w.value:w,dh(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(w){const D=!!w.before,j=w.values||[];return new th(j,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const D=!w.before,j=w.values||[];return new th(j,D)})(i.endAt)),$w(t,o,d,c,g,"F",v,y)}function VR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function W1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ba(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>W1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function kR(r){return bR[r]}function UR(r){return SR[r]}function LR(r){return AR[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Qe.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(x0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(R0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(x0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(R0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:UR(i.op),value:i.value}}})(r):r instanceof Ii?(function(i){const a=i.getFilters().map((o=>tE(o)));return a.length===1?a[0]:{compositeFilter:{op:LR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function PR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function nE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Fs{constructor(t,i,a,o,c=vt.min(),d=vt.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zR{constructor(t){this.yt=t}}function jR(r){const t=MR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class BR{constructor(){this.Sn=new qR}addToCollectionParentIndex(t,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Js.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class qR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(se.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(se.comparator)).toArray()}}const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(iE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class el{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const q0="LruGarbageCollector",HR=1048576;function H0([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class FR{constructor(t){this.Pr=t,this.buffer=new Ve(H0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();H0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(q0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?st(q0,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Ar(3e5)}))}}class QR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(fh.ce);const a=new FR(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(B0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Pa()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function KR(r,t){return new QR(r,t)}class YR{constructor(){this.changes=new Qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class XR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class $R{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Co(a.mutation,o,Sn.empty(),re.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const o=Pr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=Eo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Pr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=is();const d=xo(),g=(function(){return xo()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof sr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Co(b.mutation,y,b.mutation.getFieldMask(),re.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new XR(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=xo();let o=new ue(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||Sn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const w=(o.get(g.batchId)||Vt()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,w=L1();b.forEach((D=>{if(!c.has(D)){const j=H1(i.get(D),a.get(D));j!==null&&w.set(D,j),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return Jw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Zw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Z.resolve(Pr());let g=Oo,v=c;return d.next((y=>Z.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((D=>{v=v.insert(b,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((b=>({batchId:g,changes:U1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let o=Eo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(v=>{const y=(function(w,D){return new ph(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((w,D)=>{d=d.insert(w,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=Eo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Co(b.mutation,y,Sn.empty(),re.now()),yh(i,y)&&(g=g.insert(v,y))})),g}))}}class JR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:jR(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),Z.resolve()}}class ZR{constructor(){this.overlays=new ue(dt.comparator),this.Lr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Pr();return Z.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const o=Pr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Pr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Pr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return Z.resolve(g)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new gR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class WR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Qm{constructor(){this.kr=new Ve(Pe.Kr),this.qr=new Ve(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new se([])),a=new Pe(i,t),o=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new se([])),a=new Pe(i,t),o=new Pe(i,t+1);let c=Vt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class tx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Pe.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Um:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Mt);return i.forEach((o=>{const c=new Pe(o,0),d=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),Z.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let g=new Ve(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Z.forEach(i.mutations,(o=>{const c=new Pe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),o=this.Jr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ex{constructor(t){this.ti=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=is();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||xw(Rw(b),a)<=0||(o.has(b.key)||yh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ni(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new nx(this)}getSize(t){return Z.resolve(this.size)}}class nx extends YR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class ix{constructor(t){this.persistence=t,this.ri=new Qr((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=el._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Z.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new el(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.lr(i),Z.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this.si.containsKey(i))}}class sE{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new WR,this.referenceDelegate=t(this),this.li=new ix(this),this.indexManager=new BR,this.remoteDocumentCache=(function(o){return new ex(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new zR(i),this.Pi=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ZR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new tx(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new sx(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return Z.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class sx extends Iw{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Ai=null}static Vi(t){return new Km(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(a=>{const o=dt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new Qr((a=>Ow(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=KR(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return Z.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return Z.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ym(t,i.fromCache,a,o)}}class rx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ax{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Gb()?8:Nw(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rx;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(Pa()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Pa()<=Ot.DEBUG&&st("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Pa()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):Z.resolve())}gs(t,i){if(D0(i))return Z.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=om(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return D0(i)||o.isEqual(vt.min())?Z.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Z.resolve(null):(Pa()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.Ds(t,d,i,ww(o,Oo)).next((g=>g)))}))}bs(t,i){let a=new Ve(V1(t));return i.forEach(((o,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return Pa()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(t,i,Js.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",lx=3e8;class ox{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ue(Mt),this.Fs=new Qr((c=>zm(c)),jm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $R(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function ux(r,t,i,a){return new ox(r,t,i,a)}async function rE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Vt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function cx(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const w=y.batch,D=w.keys();let j=Z.resolve();return D.forEach((K=>{j=j.next((()=>b.getEntry(v,K))).next((et=>{const Y=y.docVersions.get(K);Gt(Y!==null,48541),et.version.compareTo(Y)<0&&(w.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),b.addEntry(et)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function aE(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function hx(r,t){const i=bt(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((b,w)=>{const D=o.get(w);if(!D)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let j=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?j=j.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,a)),o=o.insert(w,j),(function(et,Y,lt){return et.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=lx?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(D,j,b)&&g.push(i.li.updateTargetData(c,j))}));let v=is(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(fx(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(vt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function fx(r,t,i){let a=Vt(),o=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=is();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):st(Xm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function dx(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function mx(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,Z.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function dm(r,t,i){const a=bt(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;st(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function F0(r,t,i){const a=bt(r);let o=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const w=bt(v),D=w.Fs.get(b);return D!==void 0?Z.resolve(w.vs.get(D)):w.li.getTargetData(y,b)})(a,d,Ai(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Vt()))).next((g=>(px(a,tR(t),g),{documents:g,ks:c})))))}function px(r,t,i){let a=r.Ms.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class G0{constructor(){this.activeTargetIds=aR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gx{constructor(){this.vo=new G0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new G0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yx{Mo(t){}shutdown(){}}const Q0="ConnectivityMonitor";class K0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(Q0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(Q0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function mm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const qd="RestConnection",_x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vx{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=mm(),g=this.Qo(t,i.toUriEncodedString());st(qd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(g),b=il(y);return this.zo(t,g,v,a,b).then((w=>(st(qd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ja(qd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=_x[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Ex{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yo=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ka extends vx{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ka.c_){const t=h1();yo(t,c1.STAT_EVENT,(i=>{i.stat===nm.PROXY?st(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&st(Xe,"STAT_EVENT: detected no buffering proxy")})),Ka.c_=!0}}zo(t,i,a,o,c){const d=mm();return new Promise(((g,v)=>{const y=new o1;y.setWithCredentials(!0),y.listenOnce(u1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const w=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Pc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),v(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const D=y.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const K=j?.error;if(K&&K.status&&K.message){const et=(function(lt){const ht=lt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ht)>=0?ht:tt.UNKNOWN})(K.status);v(new ct(et,K.message))}else v(new ct(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let w=!1,D=!1;const j=new Ex({Ho:K=>{D?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(w||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),w=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,K),b.send(K))},Jo:()=>b.close()});return yo(b,vo.EventType.OPEN,(()=>{D||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),j.i_())})),yo(b,vo.EventType.CLOSE,(()=>{D||(D=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),j.o_(),this.E_(b))})),yo(b,vo.EventType.ERROR,(K=>{D||(D=!0,Ja(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),j.o_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),yo(b,vo.EventType.MESSAGE,(K=>{if(!D){const et=K.data[0];Gt(!!et,16349);const Y=et,lt=Y?.error||Y[0]?.error;if(lt){st(Xe,`RPC '${t}' stream ${o} received error:`,lt);const ht=lt.status;let mt=(function(St){const I=xe[St];if(I!==void 0)return Q1(I)})(ht),Ut=lt.message;mt===void 0&&(mt=tt.INTERNAL,Ut="Unknown error status: "+ht+" with message "+lt.message),D=!0,j.o_(new ct(mt,Ut)),b.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,et),j.__(et)}})),Ka.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return f1()}}function Tx(r){return new Ka(r)}function Hd(){return typeof document<"u"?document:null}function Th(r){return new wR(r,!0)}Ka.c_=!1;class lE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Y0="PersistentStream";class oE{constructor(t,i,a,o,c,d,g,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Y0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bx extends oE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=CR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ri(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=lm(v)?{documents:DR(c,v)}:{query:OR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=X1(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=sh(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=VR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.K_(i)}}class Sx extends oE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=NR(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>IR(this.serializer,a)))};this.K_(i)}}class Ax{}class wx extends Ax{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,cm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Rx(r,t,i,a){return new wx(r,t,i,a)}class xx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class Cx{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Kr(this)&&(st(Gr,"Restarting streams for network reachability change."),await(async function(v){const y=bt(v);y.Ea.add(4),await $o(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new xx(a,o)}}async function bh(r){if(Kr(r))for(const t of r.Ra)await t(!0)}async function $o(r){for(const t of r.Ra)await t(!1)}function uE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Zm(i):ul(i).O_()&&Jm(i,t))}function $m(r,t){const i=bt(r),a=ul(i);i.Ia.delete(t),a.O_()&&cE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Kr(i)&&i.Va.set("Unknown"))}function Jm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(r).Z_(t)}function cE(r,t){r.da.$e(t),ul(r).X_(t)}function Zm(r){r.da=new TR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Va.ua()}function Wm(r){return Kr(r)&&!ul(r).x_()&&r.Ia.size>0}function Kr(r){return bt(r).Ea.size===0}function hE(r){r.da=void 0}async function Ix(r){r.Va.set("Online")}async function Nx(r){r.Ia.forEach(((t,i)=>{Jm(r,t)}))}async function Dx(r,t){hE(r),Wm(r)?(r.Va.ha(t),Zm(r)):r.Va.set("Unknown")}async function Ox(r,t,i){if(r.Va.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,t)}catch(a){st(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof qc?r.da.Xe(t):t instanceof K1?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const a=await aE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),cE(c,v);const w=new Fs(b.target,v,y,b.sequenceNumber);Jm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){st(Gr,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!ol(t))throw t;r.Ea.add(1),await $o(r),r.Va.set("Offline"),i||(i=()=>aE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function fE(r,t){return t().catch((i=>ah(r,i,t)))}async function Sh(r){const t=bt(r),i=er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;Mx(t);)try{const o=await dx(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,Vx(t,o)}catch(o){await ah(t,o)}dE(t)&&mE(t)}function Mx(r){return Kr(r)&&r.Ta.length<10}function Vx(r,t){r.Ta.push(t);const i=er(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function dE(r){return Kr(r)&&!er(r).x_()&&r.Ta.length>0}function mE(r){er(r).start()}async function kx(r){er(r).ra()}async function Ux(r){const t=er(r);for(const i of r.Ta)t.ea(i.mutations)}async function Lx(r,t,i){const a=r.Ta.shift(),o=Hm.from(a,t,i);await fE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sh(r)}async function Px(r,t){t&&er(r).Y_&&await(async function(a,o){if((function(d){return _R(d)&&d!==tt.ABORTED})(o.code)){const c=a.Ta.shift();er(a).B_(),await fE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Sh(a)}})(r,t),dE(r)&&mE(r)}async function X0(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),st(Gr,"RemoteStore received new credentials");const a=Kr(i);i.Ea.add(3),await $o(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function zx(r,t){const i=bt(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await $o(i),i.Va.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(i,a,o){const c=bt(i);return c.sa(),new bx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:Ix.bind(null,r),Yo:Nx.bind(null,r),t_:Dx.bind(null,r),J_:Ox.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Wm(r)?Zm(r):r.Va.set("Unknown")):(await r.ma.stop(),hE(r))}))),r.ma}function er(r){return r.fa||(r.fa=(function(i,a,o){const c=bt(i);return c.sa(),new Sx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kx.bind(null,r),t_:Px.bind(null,r),ta:Ux.bind(null,r),na:Lx.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tp{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new tp(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(r,t){if(ns("AsyncQueue",`${t}: ${r}`),ol(r))return new ct(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Eo(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $0{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new nl(t,i,Ya.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class jx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Bx{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),c=o.queries;o.queries=J0(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function J0(){return new Qr((r=>M1(r)),gh)}async function qx(r,t){const i=bt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new jx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=ep(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&np(i)}async function Hx(r,t){const i=bt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Fx(r,t){const i=bt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&np(i)}function Gx(r,t,i){const a=bt(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function np(r){r.Ca.forEach((t=>{t.next()}))}var pm,Z0;(Z0=pm||(pm={})).Ma="default",Z0.Cache="cache";class Qx{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class pE{constructor(t){this.key=t}}class gE{constructor(t){this.key=t}}class Kx{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=V1(t),this.tu=new Ya(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new $0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,w)=>{const D=o.get(b),j=yh(this.query,w)?w:null,K=!!D&&this.mutatedKeys.has(D.key),et=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Y=!1;D&&j?D.data.isEqual(j.data)?K!==et&&(a.track({type:3,doc:j}),Y=!0):this.su(D,j)||(a.track({type:2,doc:j}),Y=!0,(v&&this.eu(j,v)>0||y&&this.eu(j,y)<0)&&(g=!0)):!D&&j?(a.track({type:0,doc:j}),Y=!0):D&&!j&&(a.track({type:1,doc:D}),Y=!0,(v||y)&&(g=!0)),Y&&(j?(d=d.add(j),c=et?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(j,K){const et=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:Y})}};return et(j)-et(K)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new gE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new pE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ip="SyncEngine";class Yx{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Xx{constructor(t){this.key=t,this.hu=!1}}class $x{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((g=>M1(g)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(dt.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Jx(r,t,i=!0){const a=bE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yE(a,t,i,!0),o}async function Zx(r,t){const i=bE(r);await yE(i,t,!0,!1)}async function yE(r,t,i,a){const o=await mx(r.localStore,Ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await Wx(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&uE(r.remoteStore,o),g}async function Wx(r,t,i,a,o){r.pu=(w,D,j)=>(async function(et,Y,lt,ht){let mt=Y.view.ru(lt);mt.Ss&&(mt=await F0(et.localStore,Y.query,!1).then((({documents:I})=>Y.view.ru(I,mt))));const Ut=ht&&ht.targetChanges.get(Y.targetId),Wt=ht&&ht.targetMismatches.get(Y.targetId)!=null,St=Y.view.applyChanges(mt,et.isPrimaryClient,Ut,Wt);return tv(et,Y.targetId,St.au),St.snapshot})(r,w,D,j);const c=await F0(r.localStore,t,!0),d=new Kx(t,c.ks),g=d.ru(c.documents),v=Xo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);tv(r,i,y.au);const b=new Yx(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function tC(r,t,i){const a=bt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&$m(a.remoteStore,o.targetId),gm(a,o.targetId)})).catch(ll)):(gm(a,o.targetId),await dm(a.localStore,o.targetId,!0))}async function eC(r,t){const i=bt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function nC(r,t,i){const a=uC(r);try{const o=await(function(d,g){const v=bt(d),y=re.now(),b=g.reduce(((j,K)=>j.add(K.key)),Vt());let w,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let K=is(),et=Vt();return v.xs.getEntries(j,b).next((Y=>{K=Y,K.forEach(((lt,ht)=>{ht.isValidDocument()||(et=et.add(lt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,K))).next((Y=>{w=Y;const lt=[];for(const ht of g){const mt=dR(ht,w.get(ht.key).overlayedDocument);mt!=null&&lt.push(new sr(ht.key,mt,R1(mt.value.mapValue),wi.exists(!0)))}return v.mutationQueue.addMutationBatch(j,y,lt,g)})).next((Y=>{D=Y;const lt=Y.applyToLocalDocumentSet(w,et);return v.documentOverlayCache.saveOverlays(j,Y.batchId,lt)}))})).then((()=>({batchId:D.batchId,changes:U1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Mt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Jo(a,o.changes),await Sh(a.remoteStore)}catch(o){const c=ep(o,"Failed to persist write");i.reject(c)}}async function _E(r,t){const i=bt(r);try{const a=await hx(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Jo(i,a,t)}catch(a){await ll(a)}}function W0(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=bt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,w)=>{for(const D of w.ba)D.va(g)&&(y=!0)})),y&&np(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function iC(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const g=Vt().add(c),v=new Eh(vt.min(),new Map,new ue(Mt),d,g);await _E(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),sp(a)}else await dm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(ll)}async function sC(r,t){const i=bt(r),a=t.batch.batchId;try{const o=await cx(i.localStore,t);EE(i,a,null),vE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jo(i,o)}catch(o){await ll(o)}}async function rC(r,t,i){const a=bt(r);try{const o=await(function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(Gt(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);EE(a,t,i),vE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jo(a,o)}catch(o){await ll(o)}}function vE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function EE(r,t,i){const a=bt(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||TE(r,a)}))}function TE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&($m(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),sp(r))}function tv(r,t,i){for(const a of i)a instanceof pE?(r.Vu.addReference(a.key,t),aC(r,a)):a instanceof gE?(st(ip,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||TE(r,a.key)):yt(19791,{wu:a})}function aC(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(st(ip,"New document in limbo: "+i),r.Eu.add(a),sp(r))}function sp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(se.fromString(t)),a=r.fu.next();r.Au.set(a,new Xx(i)),r.Ru=r.Ru.insert(i,a),uE(r.remoteStore,new Fs(Ai(Bm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Jo(r,t,i){const a=bt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Ym.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(y,(D=>Z.forEach(D.Ts,(j=>b.persistence.referenceDelegate.addReference(w,D.targetId,j))).next((()=>Z.forEach(D.Is,(j=>b.persistence.referenceDelegate.removeReference(w,D.targetId,j)))))))))}catch(w){if(!ol(w))throw w;st(Xm,"Failed to update sequence numbers: "+w)}for(const w of y){const D=w.targetId;if(!w.fromCache){const j=b.vs.get(D),K=j.snapshotVersion,et=j.withLastLimboFreeSnapshotVersion(K);b.vs=b.vs.insert(D,et)}}})(a.localStore,c))}async function lC(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){st(ip,"User change. New user:",t.toKey());const a=await rE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ct(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jo(i,a.Ns)}}function oC(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let o=Vt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function bE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iC.bind(null,t),t.Pu.J_=Fx.bind(null,t.eventManager),t.Pu.yu=Gx.bind(null,t.eventManager),t}function uC(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return ux(this.persistence,new ax,t.initialUser,this.serializer)}Cu(t){return new sE(Km.Vi,this.serializer)}Du(t){return new gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class cC extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new GR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new sE((a=>rh.Vi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>W0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Bx})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=Tx(t.databaseInfo);return Rx(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new Cx(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>W0(this.syncEngine,i,0)),(function(){return K0.v()?new K0:new yx})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,b){const w=new $x(o,c,d,g,v,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);st(Gr,"RemoteStore shutting down."),a.Ea.add(5),await $o(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class hC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const nr="FirestoreClient";class fC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ep(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),st(nr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function ev(r,t){r.asyncQueue.verifyOperationInProgress();const i=await dC(r);st(nr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>X0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>X0(t.remoteStore,o))),r._onlineComponents=t}async function dC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(nr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new lh)}}else st(nr,"Using default OfflineComponentProvider"),await Fd(r,new cC(void 0));return r._offlineComponents}async function SE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(nr,"Using user provided OnlineComponentProvider"),await ev(r,r._uninitializedComponentsProvider._online)):(st(nr,"Using default OnlineComponentProvider"),await ev(r,new ym))),r._onlineComponents}function mC(r){return SE(r).then((t=>t.syncEngine))}async function nv(r){const t=await SE(r),i=t.eventManager;return i.onListen=Jx.bind(null,t.syncEngine),i.onUnlisten=tC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Zx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=eC.bind(null,t.syncEngine),i}function pC(r,t,i,a){const o=new hC(a),c=new Qx(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>qx(await nv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Hx(await nv(r),c)))}}function gC(r,t){const i=new zr;return r.asyncQueue.enqueueAndForget((async()=>nC(await mC(r),t,i))),i.promise}function AE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const yC="ComponentProvider",iv=new Map;function _C(r,t,i,a,o){return new kw(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,AE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const wE="firestore.googleapis.com",sv=!0;class rv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=sv}else this.host=t.host,this.ssl=t.ssl??sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HR)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Aw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new mw;switch(a.type){case"firstParty":return new _w(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=iv.get(i);a&&(st(yC,"Removing Datastore"),iv.delete(i),a.terminate())})(this),Promise.resolve()}}function vC(r,t,i,a={}){r=Xs(r,Ah);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(Sv(`https://${g}`),Av("Firestore",!0)),c.host!==wE&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Br(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=Ub(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(w)}r._authCredentials=new pw(new m1(y,b))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ko(i,Ie._jsonSchema))return new Ie(t,a||null,new dt(se.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class $s extends wh{constructor(t,i,a){super(t,i,Bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new dt(t))}withConverter(t){return new $s(this.firestore,t,this._path)}}function EC(r,t,...i){if(r=We(r),p1("collection","path",t),r instanceof Ah){const a=se.fromString(t,...i);return _0(a),new $s(r,null,a)}{if(!(r instanceof Ie||r instanceof $s))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return _0(a),new $s(r.firestore,null,a)}}function Ur(r,t,...i){if(r=We(r),arguments.length===1&&(t=Vm.newId()),p1("doc","path",t),r instanceof Ah){const a=se.fromString(t,...i);return y0(a),new Ie(r,null,new dt(a))}{if(!(r instanceof Ie||r instanceof $s))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return y0(a),new Ie(r.firestore,r instanceof $s?r.converter:null,new dt(a))}}const av="AsyncQueue";class lv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&st(av,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;st(av,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=tp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function ov(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Po extends Ah{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lv(t),this._firestoreClient=void 0,await t}}}function TC(r,t){const i=typeof r=="object"?r:Am(),a=typeof r=="string"?r:Zc,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Vb("firestore");c&&vC(o,...c)}return o}function RE(r){if(r._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bC(r),r._firestoreClient}function bC(r){const t=r._freezeSettings(),i=_C(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new fC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ke.fromBase64String(t))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ko(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ce("string",Pn._jsonSchemaVersion),bytes:Ce("string")};class rp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ap{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Ko(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ce("string",xi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ko(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ce("string",Zn._jsonSchemaVersion),vectorValues:Ce("object")};const SC=/^__.*__$/;class AC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yo(t,this.data,i,this.fieldTransforms)}}class xE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function CE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class lp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new lp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(CE(this.dataSource)&&SC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class wC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,o=!1){return new lp({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IE(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new wC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function RC(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);op("Data must be an object, but it was:",d,a);const g=NE(a,d);let v,y;if(c.merge)v=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const D=zo(t,w,i);if(!d.contains(D))throw new ct(tt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);ME(b,D)||b.push(D)}v=new Sn(b),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new AC(new fn(g),v,y)}class Rh extends ap{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function xC(r,t,i,a){const o=r.createContext(1,t,i);op("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();ir(a,((v,y)=>{const b=OE(t,v,i);y=We(y);const w=o.childContextForFieldPath(b);if(y instanceof Rh)c.push(b);else{const D=xh(y,w);D!=null&&(c.push(b),d.set(b,D))}}));const g=new Sn(c);return new xE(d,g,o.fieldTransforms)}function CC(r,t,i,a,o,c){const d=r.createContext(1,t,i),g=[zo(t,a,i)],v=[o];if(c.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(zo(t,c[D])),v.push(c[D+1]);const y=[],b=fn.empty();for(let D=g.length-1;D>=0;--D)if(!ME(y,g[D])){const j=g[D];let K=v[D];K=We(K);const et=d.childContextForFieldPath(j);if(K instanceof Rh)y.push(j);else{const Y=xh(K,et);Y!=null&&(y.push(j),b.set(j,Y))}}const w=new Sn(y);return new xE(b,w,d.fieldTransforms)}function xh(r,t){if(DE(r=We(r)))return op("Unsupported field value:",t,r),NE(r,t);if(r instanceof ap)return(function(a,o){if(!CE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=xh(g,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:sh(o.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:X1(o.serializer,a._byteString)};if(a instanceof Ie){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,g){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[A1]:{stringValue:w1},[Wc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return qm(g.serializer,b)}))}}}}}})(a,o);if(nE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${km(a)}`)})(r,t)}function NE(r,t){const i={};return _1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(r,((a,o)=>{const c=xh(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function DE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof xi||r instanceof Pn||r instanceof Ie||r instanceof ap||r instanceof Zn||nE(r))}function op(r,t,i){if(!DE(i)||!g1(i)){const a=km(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function zo(r,t,i){if((t=We(t))instanceof rp)return t._internalPath;if(typeof t=="string")return OE(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const IC=new RegExp("[~\\*/\\[\\]]");function OE(r,t,i){if(t.search(IC)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new rp(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ct(tt.INVALID_ARGUMENT,g+r+v)}function ME(r,t){return r.some((i=>i.isEqual(t)))}class NC{convertValue(t,i="none"){switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ir(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new xi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Mo(t));default:return null}}convertTimestamp(t){const i=Zs(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Gt(eE(a),9688,{name:t});const o=new Vo(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return o.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class VE extends NC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}const uv="@firebase/firestore",cv="4.10.0";function hv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class kE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(zo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DC extends kE{data(){return super.data()}}function OC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function MC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class bo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends kE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ce("string",jr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Hc extends jr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:VC(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ce("string",Xa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function fv(r,t,i){r=Xs(r,Ie);const a=Xs(r.firestore,Po),o=MC(r.converter,t),c=IE(a);return UE(a,[RC(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,wi.none())])}function Gd(r,t,i,...a){r=Xs(r,Ie);const o=Xs(r.firestore,Po),c=IE(o);let d;return d=typeof(t=We(t))=="string"||t instanceof rp?CC(c,"updateDoc",r._key,t,i,a):xC(c,"updateDoc",r._key,t),UE(o,[d.toMutation(r._key,wi.exists(!0))])}function Qd(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||hv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(hv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ie)d=Xs(r.firestore,Po),g=Bm(r._key.path),c={next:y=>{t[a]&&t[a](kC(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Xs(r,wh);d=Xs(y.firestore,Po),g=y._query;const b=new VE(d);c={next:w=>{t[a]&&t[a](new Xa(d,b,y,w))},error:t[a+1],complete:t[a+2]},OC(r._query)}const v=RE(d);return pC(v,g,o,c)}function UE(r,t){const i=RE(r);return gC(i,t)}function kC(r,t,i){const a=i.docs.get(t._key),o=new VE(r);return new jr(r,o,t._key,a,new bo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){dw(sl),$a(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Po(new gw(a.getProvider("auth-internal")),new vw(d,a.getProvider("app-check-internal")),Uw(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ks(uv,cv,t),Ks(uv,cv,"esm2020")})();const LE=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const UC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const LC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const dv=r=>{const t=LC(r);return t.charAt(0).toUpperCase()+t.slice(1)};var PC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const jC=Tt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>Tt.createElement("svg",{ref:v,...PC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:LE("lucide",o),...!c&&!zC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Tt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Ft=(r,t)=>{const i=Tt.forwardRef(({className:a,...o},c)=>Tt.createElement(jC,{ref:c,iconNode:t,className:LE(`lucide-${UC(dv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=dv(r),i};const BC=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],qC=Ft("arrow-down",BC);const HC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FC=Ft("arrow-left",HC);const GC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],QC=Ft("arrow-right",GC);const KC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],YC=Ft("arrow-up",KC);const XC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$C=Ft("calculator",XC);const JC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kd=Ft("calendar",JC);const ZC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],WC=Ft("car",ZC);const tI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eI=Ft("chevron-right",tI);const nI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iI=Ft("clock",nI);const sI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],rI=Ft("ellipsis",sI);const aI=[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]],lI=Ft("equal",aI);const oI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uI=Ft("external-link",oI);const cI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hI=Ft("eye-off",cI);const fI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dI=Ft("eye",fI);const mI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pI=Ft("globe",mI);const gI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yI=Ft("house",gI);const _I=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vI=Ft("image",_I);const EI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],PE=Ft("loader-circle",EI);const TI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bI=Ft("map-pin",TI);const SI=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mv=Ft("pen-line",SI);const AI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],pv=Ft("plane",AI);const wI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_m=Ft("plus",wI);const RI=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],xI=Ft("receipt",RI);const CI=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],II=Ft("shopping-bag",CI);const NI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DI=Ft("sparkles",NI);const OI=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],MI=Ft("sticky-note",OI);const VI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vm=Ft("sun",VI);const kI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zE=Ft("trash-2",kI);const UI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],LI=Ft("utensils",UI);const PI=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],zI=Ft("wallet",PI);const jI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BI=Ft("x",jI),qI=" V2.8 - 2026/02/06 21:35",_o={TWD:" - ",USD:" - ",JPY:" - ",KRW:" - ",THB:" - ",VND:" - ",HKD:" - ",EUR:" - ",CNY:" - ",GBP:" - ",SGD:" - ",AUD:" - "},Mc=[{id:"food",name:"",icon:LI,color:"text-orange-500",bg:"bg-orange-50"},{id:"stay",name:"",icon:yI,color:"text-indigo-500",bg:"bg-indigo-50"},{id:"transport",name:"",icon:WC,color:"text-blue-500",bg:"bg-blue-50"},{id:"shopping",name:"",icon:II,color:"text-pink-500",bg:"bg-pink-50"},{id:"play",name:"",icon:DI,color:"text-yellow-600",bg:"bg-yellow-50"},{id:"other",name:"",icon:rI,color:"text-slate-500",bg:"bg-slate-50"}],HI=()=>{try{const r=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65"},t=WS().length>0?Am():xv(r);return{auth:hw(t),db:TC(t),appId:typeof __app_id<"u"?__app_id:"travel-yeh"}}catch(r){return console.error("Firebase Services Init Failed",r),{auth:null,db:null,appId:"travel-yeh"}}},{auth:qa,db:bn,appId:zs}=HI(),gv=(r,t)=>{if(!r)return"";try{const i=new Date(r);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}))}catch{return""}},FI=(r,t,i=!1)=>{if(!r)return"";try{const a=new Date(r);if(isNaN(a.getTime()))return"";a.setDate(a.getDate()+(t-1));const o=a.toLocaleDateString("zh-TW",{weekday:"long"});return i?o.replace("",""):o}catch{return""}},GI=r=>{if(!r)return null;const t=/(https?:\/\/[^\s]+)/g;return r.split(t).map((a,o)=>a.match(t)?S.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",children:[a," ",S.jsx(uI,{size:12})]},o):a)},QI=({itineraryData:r,updateItinField:t})=>{const i=r?.expenses||[],[a,o]=Tt.useState(""),[c,d]=Tt.useState(""),[g,v]=Tt.useState("food"),y=i.reduce((j,K)=>j+(parseFloat(K.amount)||0),0),b=Tt.useMemo(()=>{const j={};return i.forEach(K=>{j[K.category]=(j[K.category]||0)+(parseFloat(K.amount)||0)}),j},[i]),w=async j=>{if(j.preventDefault(),!a||!c)return;const K={id:Date.now().toString(),item:a,amount:c,category:g,date:new Date().toISOString()};await t("expenses",[...i,K]),o(""),d("")},D=async j=>{const K=i.filter(et=>et.id!==j);await t("expenses",K)};return S.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"md:col-span-2 bg-white p-10 rounded-[3.5rem] shadow-xl border border-slate-100 flex flex-col justify-center",children:[S.jsx("h3",{className:"text-slate-400 font-black text-xs uppercase tracking-widest mb-2 ml-1",children:""}),S.jsxs("div",{className:"flex items-baseline gap-2",children:[S.jsxs("span",{className:"text-6xl font-black text-slate-900 tracking-tighter",children:["$",y.toLocaleString()]}),S.jsx("span",{className:"text-slate-300 font-bold",children:"TWD"})]})]}),S.jsxs("div",{className:"bg-slate-900 p-8 rounded-[3rem] shadow-xl text-white",children:[S.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:""}),S.jsx("div",{className:"space-y-3",children:Mc.map(j=>{const K=b[j.id]||0,et=y>0?Math.round(K/y*100):0;return S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(j.icon,{size:14,className:j.color}),S.jsx("span",{className:"text-xs font-bold text-slate-300",children:j.name})]}),S.jsxs("span",{className:"text-xs font-mono font-bold text-slate-100",children:["$",K.toLocaleString()," (",et,"%)"]})]},j.id)})})]})]}),S.jsx("div",{className:"bg-white p-8 md:p-10 rounded-[4rem] shadow-lg border border-slate-100",children:S.jsxs("form",{onSubmit:w,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[S.jsxs("div",{className:"flex-1 space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,placeholder:"...",value:a,onChange:j=>o(j.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),S.jsxs("div",{className:"w-full md:w-48 space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"number",placeholder:"0",value:c,onChange:j=>d(j.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),S.jsxs("div",{className:"w-full md:w-40 space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("select",{value:g,onChange:j=>v(j.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-black outline-none shadow-inner",children:Mc.map(j=>S.jsx("option",{value:j.id,children:j.name},j.id))})]}),S.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-2xl shadow-xl transition-all active:scale-95 shrink-0",children:S.jsx(_m,{size:28})})]})}),S.jsx("div",{className:"bg-white rounded-[3rem] shadow-xl border border-slate-50 overflow-hidden",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase font-black",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-8 py-5",children:""}),S.jsx("th",{className:"px-8 py-5",children:""}),S.jsx("th",{className:"px-8 py-5 text-right",children:""}),S.jsx("th",{className:"px-8 py-5 text-center",children:""})]})}),S.jsx("tbody",{className:"divide-y divide-slate-50",children:i.length>0?[...i].reverse().map(j=>{const K=Mc.find(et=>et.id===j.category)||Mc[5];return S.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[S.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:j.item}),S.jsx("td",{className:"px-8 py-5",children:S.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${K.bg} ${K.color} text-[10px] font-black`,children:[S.jsx(K.icon,{size:12})," ",K.name]})}),S.jsxs("td",{className:"px-8 py-5 text-right font-mono font-black text-slate-800 text-lg",children:["$",parseFloat(j.amount).toLocaleString()]}),S.jsx("td",{className:"px-8 py-5 text-center",children:S.jsx("button",{onClick:()=>D(j.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:S.jsx(zE,{size:18})})})]},j.id)}):S.jsx("tr",{children:S.jsxs("td",{colSpan:"4",className:"px-8 py-20 text-center",children:[S.jsx(xI,{className:"mx-auto text-slate-100 mb-4",size:48}),S.jsx("p",{className:"text-slate-300 font-bold",children:""})]})})})]})})]})},KI=({tripInfo:r})=>{const t=Tt.useMemo(()=>{if(!r?.startDate||!r?.duration)return"";try{const w=new Date(r.startDate);return isNaN(w.getTime())?"":(w.setDate(w.getDate()+(parseInt(r.duration)-1)),w.toISOString().split("T")[0])}catch{return""}},[r]),[i,a]=Tt.useState({dest:r?.city||"",start:r?.startDate||new Date().toISOString().split("T")[0],end:t}),[o,c]=Tt.useState(!1),[d,g]=Tt.useState(null),[v,y]=Tt.useState(null);Tt.useEffect(()=>{r&&a({dest:r.city||"",start:r.startDate||"",end:t})},[r,t]);const b=async w=>{if(w&&w.preventDefault(),!!i.dest){c(!0),y(null);try{const j=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(i.dest)}&count=1&language=zh&format=json`)).json();if(!j.results?.length)throw new Error("");const{latitude:K,longitude:et,name:Y}=j.results[0],ht=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${K}&longitude=${et}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto&start_date=${i.start}&end_date=${i.end||i.start}`)).json();g({location:Y,daily:ht.daily.time.map((mt,Ut)=>({date:mt,max:ht.daily.temperature_2m_max[Ut],min:ht.daily.temperature_2m_min[Ut],code:ht.daily.weather_code[Ut]}))})}catch(D){y(D.message)}finally{c(!1)}}};return S.jsxs("div",{className:"animate-fade-in space-y-10 w-full max-w-5xl mx-auto pb-10",children:[S.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-xl border border-slate-100",children:[S.jsxs("h3",{className:"text-2xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[S.jsx(vm,{className:"text-orange-500"})," "]}),S.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,value:i.dest,onChange:w=>a({...i,dest:w.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none font-bold shadow-inner"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"date",value:i.start,onChange:w=>a({...i,start:w.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"date",value:i.end,min:i.start,onChange:w=>a({...i,end:w.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),S.jsxs("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white h-[60px] rounded-3xl font-black shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[o?S.jsx(PE,{className:"animate-spin"}):S.jsx(Search,{size:20})," "]})]})]}),d&&S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.daily.map(w=>S.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-lg group",children:[S.jsx("p",{className:"text-[10px] font-black text-slate-300 mb-4",children:w.date}),S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsx(vm,{size:48,className:"text-orange-500"}),S.jsxs("div",{className:"text-right",children:[S.jsxs("p",{className:"text-3xl font-black text-slate-800",children:[Math.round(w.max),""]}),S.jsxs("p",{className:"text-sm font-bold text-slate-300",children:[Math.round(w.min),""]})]})]}),S.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl",children:[S.jsx("p",{className:"font-black text-sm mb-1 text-blue-600",children:""}),S.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed font-bold tracking-tight",children:""})]})]},w.date))})]})},YI=({parentAmount:r,setParentAmount:t})=>{const[i,a]=Tt.useState({}),[o,c]=Tt.useState("USD"),[d,g]=Tt.useState("TWD"),[v,y]=Tt.useState(!0),[b,w]=Tt.useState("0"),D=async()=>{y(!0);try{const lt=await(await fetch(`https://open.er-api.com/v6/latest/${o}`)).json();lt.result==="success"&&a(lt.rates||{})}catch(Y){console.error(Y)}finally{y(!1)}};Tt.useEffect(()=>{qa&&D()},[o]);const j=Y=>{if(Y==="C")w("0");else if(Y==="=")try{const lt=b.replace(/[^-+*/.0-9]/g,"");if(!lt){w("0");return}const ht=new Function(`return ${lt}`)();w(String(parseFloat(Number(ht).toFixed(8))))}catch{w("Error")}else w(lt=>lt==="0"||lt==="Error"?Y:lt+Y)},K=Tt.useMemo(()=>{const Y=i[d]||0;return(r*Y).toFixed(2)},[r,d,i]),et=Object.keys(_o);return S.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10",children:[S.jsx("div",{className:"bg-white rounded-[3.5rem] shadow-2xl border border-slate-100 overflow-hidden transition-all p-8 md:p-14",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-8 items-center",children:[S.jsxs("div",{className:"md:col-span-3",children:[S.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:""}),S.jsxs("div",{className:"relative",children:[S.jsx(DollarSign,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:24}),S.jsx("input",{type:"number",value:r,onChange:Y=>t(parseFloat(Y.target.value)||0),className:"w-full pl-14 pr-4 py-6 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-3xl outline-none transition-all text-2xl font-black shadow-inner"}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:S.jsx("select",{value:o,onChange:Y=>c(Y.target.value),className:"bg-white border shadow-sm rounded-xl px-2 py-1 text-xs font-black outline-none",children:et.map(Y=>S.jsx("option",{value:Y,children:_o[Y]},Y))})})]})]}),S.jsx("div",{className:"flex justify-center md:col-span-1",children:S.jsx("button",{onClick:()=>{const Y=o;c(d),g(Y)},className:"bg-blue-50 p-4 rounded-full text-blue-600 shadow-inner hover:bg-blue-600 hover:text-white transition-all duration-500 active:scale-90 group shadow-md",children:S.jsx(ArrowLeftRight,{className:"md:rotate-0 rotate-90",size:28})})}),S.jsxs("div",{className:"md:col-span-3",children:[S.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:""}),S.jsxs("div",{className:"w-full pl-8 pr-6 py-5 bg-blue-600 rounded-[2rem] text-white flex items-center justify-between shadow-xl shadow-blue-100",children:[S.jsxs("div",{children:[S.jsx("span",{className:"text-3xl font-black tracking-tight",children:K}),S.jsx("p",{className:"text-blue-100 text-[10px] mt-1 font-bold",children:_o[d]})]}),S.jsx("select",{value:d,onChange:Y=>g(Y.target.value),className:"bg-blue-700 text-white border-none rounded-xl px-3 py-1.5 text-xs font-black outline-none",children:Object.keys(_o).map(Y=>S.jsx("option",{value:Y,children:_o[Y]},Y))})]})]})]})}),S.jsxs("div",{className:"bg-slate-900 text-white p-8 md:p-12 rounded-[4rem] shadow-2xl border border-slate-800",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-8 px-2",children:[S.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl",children:S.jsx($C,{size:24})}),S.jsx("h4",{className:"font-black text-2xl tracking-tight",children:""})]}),S.jsx("div",{className:"bg-black/40 p-8 rounded-[2.5rem] mb-10 text-right shadow-inner border border-white/5 overflow-hidden",children:S.jsx("span",{className:"text-5xl md:text-6xl font-black font-mono tracking-tighter text-white block truncate leading-tight",children:b})}),S.jsxs("div",{className:"grid grid-cols-4 gap-4 md:gap-6",children:[["7","8","9","/","4","5","6","*","1","2","3","-","0",".","C","+"].map(Y=>S.jsx("button",{onClick:()=>j(Y),className:`py-6 md:py-8 rounded-[1.5rem] font-black text-3xl transition-all shadow-sm active:scale-95 ${isNaN(Y)&&Y!=="."?"bg-blue-600 text-white hover:bg-blue-50":"bg-white/5 hover:bg-white/10 border border-white/5"}`,children:Y},Y)),S.jsx("button",{onClick:()=>j("="),className:"col-span-2 py-8 bg-green-600 text-white rounded-[1.5rem] font-black text-2xl hover:bg-green-500 transition-all active:scale-95",children:S.jsx(lI,{size:32})}),S.jsx("button",{onClick:()=>t(parseFloat(b)||0),className:"col-span-2 py-8 bg-white text-slate-900 rounded-[1.5rem] font-black text-xl hover:bg-slate-100 transition-all shadow-xl active:scale-95",children:""})]})]})]})},XI=()=>{const[r,t]=Tt.useState("home"),[i,a]=Tt.useState("itinerary"),[o,c]=Tt.useState(null),[d,g]=Tt.useState(null),[v,y]=Tt.useState([]),[b,w]=Tt.useState(!0),[D,j]=Tt.useState(1),[K,et]=Tt.useState({country:"",city:"",startDate:"",duration:3}),[Y,lt]=Tt.useState({days:{},checklist:[],expenses:[]}),[ht,mt]=Tt.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[Ut,Wt]=Tt.useState(null),[St,I]=Tt.useState({}),[R,N]=Tt.useState({type:"",message:""}),[V,O]=Tt.useState(null),[U,x]=Tt.useState(!1),[ee,fe]=Tt.useState({}),[G,it]=Tt.useState(1);Tt.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const W=document.createElement("script");W.id="tailwind-cdn",W.src="https://cdn.tailwindcss.com",document.head.appendChild(W)}const A=document.createElement("style");A.id="premium-ui-engine-v2.8",A.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { min-height: 100vh !important; width: 100% !important; background-color: #f8fafc !important; font-family: 'Noto Sans TC', sans-serif !important; margin: 0; padding: 0; }
      #root { display: flex !important; flex-direction: column !important; align-items: center !important; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      .premium-slider::-webkit-scrollbar { height: 6px; }
      .premium-slider::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 10px; }
      .premium-slider::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 10px; border: 2px solid #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(A),(()=>{let W=document.querySelector("link[rel~='icon']");W||(W=document.createElement("link"),W.rel="icon",document.head.appendChild(W)),W.href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232563eb'%3E%3Cpath d='M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z'/%3E%3C/svg%3E"})()},[]),Tt.useEffect(()=>{if(!qa)return;(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await JA(qa,__initial_auth_token):await s0(qa)}catch{await s0(qa)}})();const q=t2(qa,W=>{c(W),w(!1)});return()=>q()},[]),Tt.useEffect(()=>{if(!o||!bn)return;const A=EC(bn,"artifacts",zs,"public","data","trips"),q=Qd(A,W=>{const $=W.docs.map(rt=>({id:rt.id,...rt.data()}));y($.sort((rt,gt)=>new Date(gt.createdAt)-new Date(rt.createdAt)))},W=>console.error("Trips fetch error",W));return()=>q()},[o]),Tt.useEffect(()=>{if(!o||!d||!bn)return;const A=Ur(bn,"artifacts",zs,"public","data","itineraries",d),q=Qd(A,rt=>{if(rt.exists()){const gt=rt.data();lt({days:gt.days||{},checklist:gt.checklist||[],expenses:gt.expenses||[]}),t("editor")}},rt=>console.error("Itinerary fetch error",rt)),W=Ur(bn,"artifacts",zs,"public","data","trips",d),$=Qd(W,rt=>{rt.exists()&&et(rt.data())});return()=>{q(),$()}},[o,d]);const ot=async(A,q)=>{if(!(!o||!d||!bn))try{await Gd(Ur(bn,"artifacts",zs,"public","data","itineraries",d),{[A]:q})}catch(W){console.error(W)}},It=async A=>{if(!o||!d||!bn)return;const q={...Y.days},W=D+A;if(W<1||W>parseInt(K.duration||"0"))return;const $=q[D],rt=q[W];q[D]=rt,q[W]=$,await Gd(Ur(bn,"artifacts",zs,"public","data","itineraries",d),{days:q}),j(W),N({type:"success",message:""})},Bt=async A=>{if(A.preventDefault(),!(!o||!bn)){w(!0);try{if(V)await Gd(Ur(bn,"artifacts",zs,"public","data","trips",V),{...K}),O(null),et({country:"",city:"",startDate:"",duration:3});else{const q=crypto.randomUUID(),W={};for(let $=1;$<=Math.max(1,parseInt(K.duration));$++)W[$]={spots:[],title:""};await fv(Ur(bn,"artifacts",zs,"public","data","trips",q),{...K,creator:o.uid,createdAt:new Date().toISOString()}),await fv(Ur(bn,"artifacts",zs,"public","data","itineraries",q),{days:W,checklist:[],expenses:[]}),g(q)}}catch(q){console.error(q)}finally{w(!1)}}};return b?S.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[S.jsx(PE,{className:"animate-spin text-blue-600 mb-2",size:48}),S.jsx("p",{className:"text-slate-500 font-bold italic tracking-widest leading-none",children:"..."})]}):S.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen",children:[R.message&&S.jsxs("div",{className:`fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border ${R.type==="success"?"bg-green-50 border-green-100 text-green-600":"bg-red-50 border-red-100 text-red-600"}`,children:[" ",S.jsx("span",{className:"font-bold text-sm",children:R.message}),S.jsx("button",{onClick:()=>N({type:"",message:""}),children:S.jsx(BI,{size:14})})," "]}),r==="home"?S.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-fade-in",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200",children:S.jsx(pv,{size:48})}),S.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase",children:"Travel Planner"}),S.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center",children:"-"})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[V?S.jsx(mv,{className:"text-blue-600"}):S.jsx(_m,{className:"text-blue-600"})," ",V?"":""]}),S.jsxs("form",{onSubmit:Bt,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white shadow-slate-200",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm",value:K.country,onChange:A=>et({...K,country:A.target.value})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm",value:K.city,onChange:A=>et({...K,city:A.target.value})})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm",value:K.startDate,onChange:A=>et({...K,startDate:A.target.value})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),S.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm",value:K.duration,onChange:A=>et({...K,duration:A.target.value})})]})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all",children:V?"":""}),V&&S.jsx("button",{type:"button",onClick:()=>{O(null),et({country:"",city:"",startDate:"",duration:3})},className:"w-full text-slate-400 font-bold py-2",children:""})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[S.jsx(Kd,{className:"text-blue-600"}),"  (",v.length,")"]}),S.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:v.map(A=>S.jsxs("div",{onClick:()=>g(A.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-5",children:[S.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm",children:S.jsx(pI,{size:24})}),S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[A.city," "]}),S.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1",children:[A.country,"  ",A.startDate]})]})]}),S.jsx("div",{className:"flex items-center gap-1",children:S.jsx(eI,{className:"text-slate-200 group-hover:text-blue-600"})})]},A.id))})]})]}),S.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:qI})]}):S.jsxs("div",{className:"w-full flex flex-col items-center pb-24 animate-fade-in",children:[S.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50",children:[S.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[S.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-2xl shadow-lg",children:S.jsx(pv,{size:24,className:"rotate-45"})}),S.jsx("span",{className:"tracking-tighter uppercase",children:"Traveler"})]}),S.jsxs("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:[S.jsx("button",{onClick:()=>a("itinerary"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="itinerary"?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:""}),S.jsx("button",{onClick:()=>a("weather"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="weather"?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:""}),S.jsx("button",{onClick:()=>a("expenses"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="expenses"?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:""}),S.jsx("button",{onClick:()=>a("checklist"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="checklist"?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:""}),S.jsx("button",{onClick:()=>a("currency"),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${i==="currency"?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:""})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"font-black text-slate-800 text-xl leading-none",children:[K.city," "]}),S.jsx("div",{className:"text-[11px] text-slate-400 font-bold uppercase mt-1 inline-block bg-slate-50 px-2 py-0.5 rounded-full",children:K.startDate})]})]}),S.jsx("main",{className:"w-full max-w-5xl p-6 md:p-12",children:i==="itinerary"?S.jsxs("div",{className:"space-y-12",children:[S.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(Y?.days||{}).map(A=>S.jsxs("button",{onClick:()=>{j(parseInt(A)),Wt(null)},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${D===parseInt(A)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[S.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),S.jsx("span",{className:"text-3xl leading-none",children:A}),S.jsx("span",{className:"text-[10px] mt-1 font-bold",children:gv(K.startDate,parseInt(A)).slice(5)})]},A))}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",D]}),S.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200",children:[S.jsx("button",{onClick:()=>It(-1),disabled:D===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:S.jsx(FC,{size:20})}),S.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),S.jsx("button",{onClick:()=>It(1),disabled:D===parseInt(K.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:S.jsx(QC,{size:20})})]})]}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("span",{className:"text-lg text-slate-400 font-bold ml-1 mb-1 block",children:["(",gv(K.startDate,D)," ",FI(K.startDate,D),")"]}),S.jsx("input",{className:"text-3xl md:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 w-full",placeholder:"...",value:Y?.days?.[D]?.title||"",onChange:A=>ot(`days.${D}.title`,A.target.value)})]})]}),S.jsx("div",{className:"flex justify-center md:justify-start",children:S.jsxs("button",{onClick:()=>x(!U),className:`flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border ${U?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:[U?S.jsx(hI,{size:16}):S.jsx(dI,{size:16})," ",U?"":""]})})]}),S.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[S.jsxs("form",{onSubmit:async A=>{A.preventDefault();const q=Y?.days?.[D]?.spots||[];await ot(`days.${D}.spots`,[...q,{...ht,id:Date.now().toString()}]),mt({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[S.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[S.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm",children:[S.jsx(iI,{size:18,className:"text-blue-500"}),S.jsx("input",{type:"time",value:ht.time,onChange:A=>mt({...ht,time:A.target.value}),className:"bg-transparent font-black outline-none w-24"})]}),S.jsx("input",{placeholder:"",required:!0,value:ht.spot,onChange:A=>mt({...ht,spot:A.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm"})]}),S.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[S.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm text-xs font-bold text-slate-400",children:[S.jsx(vI,{size:18}),S.jsx("input",{placeholder:" ()",value:ht.imageUrl,onChange:A=>mt({...ht,imageUrl:A.target.value}),className:"bg-transparent outline-none w-full md:w-48"})]}),S.jsx("textarea",{placeholder:"...",value:ht.note,onChange:A=>mt({...ht,note:A.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm shadow-sm"}),S.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black active:scale-95 shadow-lg flex items-center justify-center",children:S.jsx(_m,{size:24})})]})]}),S.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full",children:[(Y?.days?.[D]?.spots||[]).map((A,q)=>{const W=U||!!ee[A.id];return S.jsxs("div",{className:"relative pl-20 group",children:[S.jsxs("div",{className:"absolute left-[-15px] top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[S.jsx("button",{onClick:()=>{const $=[...Y.days[D].spots];q>0&&([$[q],$[q-1]]=[$[q-1],$[q]],ot(`days.${D}.spots`,$))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:S.jsx(YC,{size:20})}),S.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md group-hover:scale-110 transition-transform",children:A.time}),S.jsx("button",{onClick:()=>{const $=[...Y.days[D].spots];q<Y.days[D].spots?.length-1&&([$[q],$[q+1]]=[$[q+1],$[q]],ot(`days.${D}.spots`,$))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:S.jsx(qC,{size:20})})]}),S.jsx("div",{onClick:()=>fe($=>({...$,[A.id]:!$[A.id]})),className:`p-10 bg-white border rounded-[3rem] transition-all cursor-pointer ${Ut===A.id?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:Ut===A.id?S.jsxs("div",{className:"space-y-4 animate-fade-in",onClick:$=>$.stopPropagation(),children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"time",value:St.time,onChange:$=>I({...St,time:$.target.value}),className:"p-3 border rounded-xl font-black w-32 bg-slate-50 outline-none"}),S.jsx("input",{value:St.spot,onChange:$=>I({...St,spot:$.target.value}),className:"flex-1 p-3 border rounded-xl font-black bg-slate-50 outline-none"})]}),S.jsx("input",{placeholder:"...",value:St.imageUrl||"",onChange:$=>I({...St,imageUrl:$.target.value}),className:"w-full p-3 border rounded-xl bg-slate-50 outline-none text-xs font-bold"}),S.jsx("textarea",{value:St.note,onChange:$=>I({...St,note:$.target.value}),className:"w-full p-3 border rounded-xl h-24 bg-slate-50 outline-none text-sm"}),S.jsxs("div",{className:"flex justify-end gap-3",children:[S.jsx("button",{onClick:()=>Wt(null),className:"text-sm font-bold text-slate-400 px-4",children:""}),S.jsx("button",{onClick:async()=>{const $=Y.days[D].spots.map(rt=>rt.id===Ut?St:rt);await ot(`days.${D}.spots`,$),Wt(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg",children:""})]})]}):S.jsxs("div",{className:"flex justify-between items-start gap-4",children:[S.jsxs("div",{className:"space-y-4 flex-1",children:[S.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S.jsx("h4",{className:"text-3xl font-black text-slate-800 leading-tight tracking-tight",children:A.spot}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(A.spot)}`,target:"_blank",rel:"noreferrer",onClick:$=>$.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-xl transition-all inline-flex items-center gap-1.5 text-xs font-black shadow-sm",children:[S.jsx(bI,{size:14})," "]}),(A.note||A.imageUrl)&&S.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1.5 text-[10px] font-black uppercase ${W?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[S.jsx(MI,{size:12})," ",W?"":""]})]})]}),(A.note||A.imageUrl)&&W&&S.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100 animate-fade-in space-y-4",onClick:$=>$.stopPropagation(),children:[A.imageUrl&&S.jsx("div",{className:"relative group/img overflow-hidden rounded-2xl border border-white shadow-sm max-w-md",children:S.jsx("img",{src:A.imageUrl,alt:A.spot,className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-500",onError:$=>{$.target.style.display="none"},onClick:$=>{$.stopPropagation(),window.open(A.imageUrl,"_blank")}})}),S.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:GI(A.note)||"..."})]})]}),S.jsxs("div",{className:"flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[S.jsx("button",{onClick:$=>{$.stopPropagation(),Wt(A.id),I({...A})},className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all",children:S.jsx(mv,{size:20})}),S.jsx("button",{onClick:async $=>{if($.stopPropagation(),confirm("")){const rt=Y.days[D].spots.filter(gt=>gt.id!==A.id);await ot(`days.${D}.spots`,rt)}},className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all",children:S.jsx(zE,{size:20})})]})]})})]},A.id)}),!Y?.days?.[D]?.spots?.length&&S.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[S.jsx(Kd,{className:"text-slate-100 mx-auto mb-6",size:80}),S.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}):i==="weather"?S.jsx(KI,{tripInfo:K}):i==="checklist"?S.jsx(ChecklistMaster,{itineraryData:Y,updateItinField:ot}):i==="expenses"?S.jsx(QI,{itineraryData:Y,updateItinField:ot}):S.jsx(YI,{parentAmount:G,setParentAmount:it})}),S.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[S.jsx("button",{onClick:()=>a("itinerary"),className:`p-4 rounded-2xl transition-all ${i==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(Kd,{size:20})}),S.jsx("button",{onClick:()=>a("weather"),className:`p-4 rounded-2xl transition-all ${i==="weather"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(vm,{size:20})}),S.jsx("button",{onClick:()=>a("expenses"),className:`p-4 rounded-2xl transition-all ${i==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(zI,{size:20})}),S.jsx("button",{onClick:()=>a("checklist"),className:`p-4 rounded-2xl transition-all ${i==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(ListChecks,{size:20})}),S.jsx("button",{onClick:()=>a("currency"),className:`p-4 rounded-2xl transition-all ${i==="currency"?"bg-blue-600 text-white scale-110 shadow-lg":"text-slate-500"}`,children:S.jsx(Coins,{size:20})})]})]})]})};wb.createRoot(document.getElementById("root")).render(S.jsx(Tt.StrictMode,{children:S.jsx(XI,{})}));
