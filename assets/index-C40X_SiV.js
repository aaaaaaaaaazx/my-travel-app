(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Dd={exports:{}},go={};var L0;function AT(){if(L0)return go;L0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=e,go.jsx=i,go.jsxs=i,go}var z0;function RT(){return z0||(z0=1,Dd.exports=AT()),Dd.exports}var E=RT(),kd={exports:{}},Te={};var P0;function CT(){if(P0)return Te;P0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function L(R){return R===null||typeof R!="object"?null:(R=D&&R[D]||R["@@iterator"],typeof R=="function"?R:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function re(R,F,ee){this.props=R,this.context=F,this.refs=W,this.updater=ee||K}re.prototype.isReactComponent={},re.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},re.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function se(){}se.prototype=re.prototype;function ue(R,F,ee){this.props=R,this.context=F,this.refs=W,this.updater=ee||K}var Ae=ue.prototype=new se;Ae.constructor=ue,J(Ae,re.prototype),Ae.isPureReactComponent=!0;var et=Array.isArray;function Ie(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(R,F,ee){var ne=ee.ref;return{$$typeof:s,type:R,key:F,ref:ne!==void 0?ne:null,props:ee}}function O(R,F){return A(R.type,F,R.props)}function M(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function j(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return F[ee]})}var C=/\/+/g;function tt(R,F){return typeof R=="object"&&R!==null&&R.key!=null?j(""+R.key):F.toString(36)}function ft(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ie,Ie):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function G(R,F,ee,ne,pe){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var Le=!1;if(R===null)Le=!0;else switch(ve){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(R.$$typeof){case s:case e:Le=!0;break;case T:return Le=R._init,G(Le(R._payload),F,ee,ne,pe)}}if(Le)return pe=pe(R),Le=ne===""?"."+tt(R,0):ne,et(pe)?(ee="",Le!=null&&(ee=Le.replace(C,"$&/")+"/"),G(pe,F,ee,"",function(oa){return oa})):pe!=null&&(M(pe)&&(pe=O(pe,ee+(pe.key==null||R&&R.key===pe.key?"":(""+pe.key).replace(C,"$&/")+"/")+Le)),F.push(pe)),1;Le=0;var It=ne===""?".":ne+":";if(et(R))for(var rt=0;rt<R.length;rt++)ne=R[rt],ve=It+tt(ne,rt),Le+=G(ne,F,ee,ve,pe);else if(rt=L(R),typeof rt=="function")for(R=rt.call(R),rt=0;!(ne=R.next()).done;)ne=ne.value,ve=It+tt(ne,rt++),Le+=G(ne,F,ee,ve,pe);else if(ve==="object"){if(typeof R.then=="function")return G(ft(R),F,ee,ne,pe);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(R,F,ee){if(R==null)return R;var ne=[],pe=0;return G(R,ne,"","",function(ve){return F.call(ee,ve,pe++)}),ne}function fe(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var je=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},qe={map:ie,forEach:function(R,F,ee){ie(R,function(){F.apply(this,arguments)},ee)},count:function(R){var F=0;return ie(R,function(){F++}),F},toArray:function(R){return ie(R,function(F){return F})||[]},only:function(R){if(!M(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Te.Activity=x,Te.Children=qe,Te.Component=re,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=ue,Te.StrictMode=r,Te.Suspense=_,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Te.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},Te.cache=function(R){return function(){return R.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(R,F,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=J({},R.props),pe=R.key;if(F!=null)for(ve in F.key!==void 0&&(pe=""+F.key),F)!S.call(F,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&F.ref===void 0||(ne[ve]=F[ve]);var ve=arguments.length-2;if(ve===1)ne.children=ee;else if(1<ve){for(var Le=Array(ve),It=0;It<ve;It++)Le[It]=arguments[It+2];ne.children=Le}return A(R.type,pe,ne)},Te.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Te.createElement=function(R,F,ee){var ne,pe={},ve=null;if(F!=null)for(ne in F.key!==void 0&&(ve=""+F.key),F)S.call(F,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=F[ne]);var Le=arguments.length-2;if(Le===1)pe.children=ee;else if(1<Le){for(var It=Array(Le),rt=0;rt<Le;rt++)It[rt]=arguments[rt+2];pe.children=It}if(R&&R.defaultProps)for(ne in Le=R.defaultProps,Le)pe[ne]===void 0&&(pe[ne]=Le[ne]);return A(R,ve,pe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(R){return{$$typeof:g,render:R}},Te.isValidElement=M,Te.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:fe}},Te.memo=function(R,F){return{$$typeof:y,type:R,compare:F===void 0?null:F}},Te.startTransition=function(R){var F=I.T,ee={};I.T=ee;try{var ne=R(),pe=I.S;pe!==null&&pe(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ie,je)}catch(ve){je(ve)}finally{F!==null&&ee.types!==null&&(F.types=ee.types),I.T=F}},Te.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Te.use=function(R){return I.H.use(R)},Te.useActionState=function(R,F,ee){return I.H.useActionState(R,F,ee)},Te.useCallback=function(R,F){return I.H.useCallback(R,F)},Te.useContext=function(R){return I.H.useContext(R)},Te.useDebugValue=function(){},Te.useDeferredValue=function(R,F){return I.H.useDeferredValue(R,F)},Te.useEffect=function(R,F){return I.H.useEffect(R,F)},Te.useEffectEvent=function(R){return I.H.useEffectEvent(R)},Te.useId=function(){return I.H.useId()},Te.useImperativeHandle=function(R,F,ee){return I.H.useImperativeHandle(R,F,ee)},Te.useInsertionEffect=function(R,F){return I.H.useInsertionEffect(R,F)},Te.useLayoutEffect=function(R,F){return I.H.useLayoutEffect(R,F)},Te.useMemo=function(R,F){return I.H.useMemo(R,F)},Te.useOptimistic=function(R,F){return I.H.useOptimistic(R,F)},Te.useReducer=function(R,F,ee){return I.H.useReducer(R,F,ee)},Te.useRef=function(R){return I.H.useRef(R)},Te.useState=function(R){return I.H.useState(R)},Te.useSyncExternalStore=function(R,F,ee){return I.H.useSyncExternalStore(R,F,ee)},Te.useTransition=function(){return I.H.useTransition()},Te.version="19.2.4",Te}var B0;function Tm(){return B0||(B0=1,kd.exports=CT()),kd.exports}var oe=Tm(),Md={exports:{}},yo={},Od={exports:{}},Vd={};var q0;function NT(){return q0||(q0=1,(function(s){function e(G,ie){var fe=G.length;G.push(ie);e:for(;0<fe;){var je=fe-1>>>1,qe=G[je];if(0<o(qe,ie))G[je]=ie,G[fe]=qe,fe=je;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],fe=G.pop();if(fe!==ie){G[0]=fe;e:for(var je=0,qe=G.length,R=qe>>>1;je<R;){var F=2*(je+1)-1,ee=G[F],ne=F+1,pe=G[ne];if(0>o(ee,fe))ne<qe&&0>o(pe,ee)?(G[je]=pe,G[ne]=fe,je=ne):(G[je]=ee,G[F]=fe,je=F);else if(ne<qe&&0>o(pe,fe))G[je]=pe,G[ne]=fe,je=ne;else break e}}return ie}function o(G,ie){var fe=G.sortIndex-ie.sortIndex;return fe!==0?fe:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,x=null,D=3,L=!1,K=!1,J=!1,W=!1,re=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ae(G){for(var ie=i(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=G)r(y),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(y)}}function et(G){if(J=!1,Ae(G),!K)if(i(_)!==null)K=!0,Ie||(Ie=!0,j());else{var ie=i(y);ie!==null&&ft(et,ie.startTime-G)}}var Ie=!1,I=-1,S=5,A=-1;function O(){return W?!0:!(s.unstable_now()-A<S)}function M(){if(W=!1,Ie){var G=s.unstable_now();A=G;var ie=!0;try{e:{K=!1,J&&(J=!1,se(I),I=-1),L=!0;var fe=D;try{t:{for(Ae(G),x=i(_);x!==null&&!(x.expirationTime>G&&O());){var je=x.callback;if(typeof je=="function"){x.callback=null,D=x.priorityLevel;var qe=je(x.expirationTime<=G);if(G=s.unstable_now(),typeof qe=="function"){x.callback=qe,Ae(G),ie=!0;break t}x===i(_)&&r(_),Ae(G)}else r(_);x=i(_)}if(x!==null)ie=!0;else{var R=i(y);R!==null&&ft(et,R.startTime-G),ie=!1}}break e}finally{x=null,D=fe,L=!1}ie=void 0}}finally{ie?j():Ie=!1}}}var j;if(typeof ue=="function")j=function(){ue(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=M,j=function(){tt.postMessage(null)}}else j=function(){re(M,0)};function ft(G,ie){I=re(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var fe=D;D=ie;try{return G()}finally{D=fe}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=D;D=G;try{return ie()}finally{D=fe}},s.unstable_scheduleCallback=function(G,ie,fe){var je=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?je+fe:je):fe=je,G){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=fe+qe,G={id:T++,callback:ie,priorityLevel:G,startTime:fe,expirationTime:qe,sortIndex:-1},fe>je?(G.sortIndex=fe,e(y,G),i(_)===null&&G===i(y)&&(J?(se(I),I=-1):J=!0,ft(et,fe-je))):(G.sortIndex=qe,e(_,G),K||L||(K=!0,Ie||(Ie=!0,j()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var ie=D;return function(){var fe=D;D=ie;try{return G.apply(this,arguments)}finally{D=fe}}}})(Vd)),Vd}var H0;function IT(){return H0||(H0=1,Od.exports=NT()),Od.exports}var jd={exports:{}},Yt={};var F0;function DT(){if(F0)return Yt;F0=1;var s=Tm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},Yt.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},Yt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Yt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Yt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:L}):T==="script"&&r.d.X(_,{crossOrigin:x,integrity:D,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Yt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Yt.requestFormReset=function(_){r.d.r(_)},Yt.unstable_batchedUpdates=function(_,y){return _(y)},Yt.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.4",Yt}var G0;function kT(){if(G0)return jd.exports;G0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=DT(),jd.exports}var Q0;function MT(){if(Q0)return yo;Q0=1;var s=IT(),e=Tm(),i=kT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,b=h.child;b;){if(b===a){p=!0,a=h,l=f;break}if(b===l){p=!0,l=h,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,l=h;break}if(b===l){p=!0,l=f,a=h;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case re:return"Profiler";case W:return"StrictMode";case et:return"Suspense";case Ie:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ue:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case Ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var ft=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},je=[],qe=-1;function R(t){return{current:t}}function F(t){0>qe||(t.current=je[qe],je[qe]=null,qe--)}function ee(t,n){qe++,je[qe]=t.current,t.current=n}var ne=R(null),pe=R(null),ve=R(null),Le=R(null);function It(t,n){switch(ee(ve,n),ee(pe,t),ee(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?l0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=l0(n),t=o0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ne),ee(ne,t)}function rt(){F(ne),F(pe),F(ve)}function oa(t){t.memoizedState!==null&&ee(Le,t);var n=ne.current,a=o0(n,t.type);n!==a&&(ee(pe,t),ee(ne,a))}function Ja(t){pe.current===t&&(F(ne),F(pe)),Le.current===t&&(F(Le),ho._currentValue=fe)}var Za,Wa;function ni(t){if(Za===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Za=n&&n[1]||"",Wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+t+Wa}var hl=!1;function ua(t,n){if(!t||hl)return"";hl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var N=p.split(`
`),P=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{hl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function fl(t,n){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return ni("Activity");default:return""}}function dl(t){try{var n="",a=null;do n+=fl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,kh=s.unstable_shouldYield,Wo=s.unstable_requestPaint,en=s.unstable_now,ca=s.unstable_getCurrentPriorityLevel,ml=s.unstable_ImmediatePriority,pl=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,tu=s.log,nu=s.unstable_setDisableYieldValue,zn=null,zt=null;function wn(t){if(typeof tu=="function"&&nu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(zn,t)}catch{}}var dt=Math.clz32?Math.clz32:su,iu=Math.log,er=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/er|0)|0}var ii=256,ha=262144,vt=4194304;function si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=si(l):(p&=b,p!==0?h=si(p):a||(a=b&~t,a!==0&&(h=si(a))))):(b=l&~f,b!==0?h=si(b):p!==0?h=si(p):a||(a=l&~t,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ri(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function fa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,a,l,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-dt(a),X=1<<Q;b[Q]=0,N[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&da(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function da(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function gl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function yl(t,n){var a=n&-n;return a=(a&42)!==0?1:ma(a),(a&(t.suspendedLanes|n))!==0?0:a}function ma(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:D0(t.type))}function Bn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,Vt="__reactProps$"+qn,li="__reactContainer$"+qn,tr="__reactEvents$"+qn,jh="__reactListeners$"+qn,lu="__reactHandles$"+qn,ou="__reactResources$"+qn,oi="__reactMarker$"+qn;function nr(t){delete t[Et],delete t[Vt],delete t[tr],delete t[jh],delete t[lu]}function ui(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=p0(t);t!==null;){if(a=t[Et])return a;t=p0(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[Et]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ci(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[oi]=!0}var _l=new Set,vl={};function hi(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(vl[t]=n,t=0;t<n.length;t++)_l.add(n[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},Tl={};function uu(t){return _t.call(Tl,t)?!0:_t.call(bl,t)?!1:El.test(t)?Tl[t]=!0:(bl[t]=!0,!1)}function ir(t,n,a){if(uu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=us(t)?"checked":"value";t._valueTracker=wl(t,n,""+t[n])}}function pa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=us(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ga=/[\n"\\]/g;function sn(t){return t.replace(ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sr(t,n,a,l,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Sl(t,p,jt(n)):a!=null?Sl(t,p,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+jt(b):t.removeAttribute("name")}function cu(t,n,a,l,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+jt(a):"",n=n!=null?""+jt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qe(t)}function Sl(t,n,a){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function cs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,a){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+jt(a):""}function hs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=jt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||fu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Al(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&xl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function ar(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(t){return fs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Rl=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ds=null,mi=null;function ya(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(sr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(r(90));sr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&pa(l)}break e;case"textarea":hu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&cs(t,!!a.multiple,n,!1)}}}var lr=!1;function ms(t,n,a){if(lr)return t(n,a);lr=!0;try{var l=t(n);return l}finally{if(lr=!1,(ds!==null||mi!==null)&&(rc(),ds&&(n=ds,t=mi,mi=ds=null,ya(n),t)))for(n=0;n<t.length;n++)ya(t[n])}}function Fn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{_a=!1}var pi=null,Cl=null,va=null;function Nl(){if(va)return va;var t,n=Cl,a=n.length,l,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===h[f-l];l++);return va=h.slice(t,1<l?1-l:void 0)}function Ea(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Gn(){return!1}function Pt(t){function n(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Pt(Oi),ps=x({},Oi,{view:0,detail:0}),Il=Pt(ps),gs,or,yi,ur=x({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(gs=t.screenX-yi.screenX,or=t.screenY-yi.screenY):or=gs=0,yi=t),gs)},movementY:function(t){return"movementY"in t?t.movementY:or}}),Dl=Pt(ur),ba=x({},ur,{dataTransfer:0}),mu=Pt(ba),pu=x({},ps,{relatedTarget:0}),Ta=Pt(pu),kl=x({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Pt(kl),cr=x({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=Pt(cr),_u=x({},Oi,{data:0}),_i=Pt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function ys(){return Tu}var tn=x({},ps,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?Ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Pt(tn),Su=x({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Pt(Su),u=x({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=Pt(u),v=x({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Pt(v),U=x({},ur,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pt(U),te=x({},Oi,{newState:0,oldState:0}),Se=Pt(te),mt=[9,13,27,32],He=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var Rn=An&&"TextEvent"in window&&!lt,vi=An&&(!He||lt&&8<lt&&11>=lt),Qn=" ",Kn=!1;function wa(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function $E(t,n){switch(t){case"compositionend":return hr(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function JE(t,n){if(fr)return t==="compositionend"||!He&&wa(t,n)?(t=Nl(),va=Cl=pi=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var ZE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ZE[t.type]:n==="textarea"}function vp(t,n,a,l){ds?mi?mi.push(l):mi=[l]:ds=l,n=dc(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ml=null,Ol=null;function WE(t){t0(t,0)}function xu(t){var n=dn(t);if(pa(n))return t}function Ep(t,n){if(t==="change")return n}var bp=!1;if(An){var Uh;if(An){var Lh="oninput"in document;if(!Lh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Lh=typeof Tp.oninput=="function"}Uh=Lh}else Uh=!1;bp=Uh&&(!document.documentMode||9<document.documentMode)}function wp(){Ml&&(Ml.detachEvent("onpropertychange",Sp),Ol=Ml=null)}function Sp(t){if(t.propertyName==="value"&&xu(Ol)){var n=[];vp(n,Ol,t,xn(t)),ms(WE,n)}}function eb(t,n,a){t==="focusin"?(wp(),Ml=n,Ol=a,Ml.attachEvent("onpropertychange",Sp)):t==="focusout"&&wp()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Ol)}function nb(t,n){if(t==="click")return xu(n)}function ib(t,n){if(t==="input"||t==="change")return xu(n)}function sb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:sb;function Vl(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,n){var a=xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xp(a)}}function Rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=di(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ab=An&&"documentMode"in document&&11>=document.documentMode,dr=null,Ph=null,jl=null,Bh=!1;function Np(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||dr==null||dr!==di(l)||(l=dr,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&Vl(jl,l)||(jl=l,l=dc(Ph,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=dr)))}function Sa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var mr={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},qh={},Ip={};An&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function xa(t){if(qh[t])return qh[t];if(!mr[t])return t;var n=mr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ip)return qh[t]=n[a];return t}var Dp=xa("animationend"),kp=xa("animationiteration"),Mp=xa("animationstart"),rb=xa("transitionrun"),lb=xa("transitionstart"),ob=xa("transitioncancel"),Op=xa("transitionend"),Vp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Yn(t,n){Vp.set(t,n),hi(n,[t])}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],pr=0,Fh=0;function Ru(){for(var t=pr,n=Fh=pr=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&jp(a,h,f)}}function Cu(t,n,a,l){Cn[pr++]=t,Cn[pr++]=n,Cn[pr++]=a,Cn[pr++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,a,l){return Cu(t,n,a,l),Nu(t)}function Aa(t,n){return Cu(t,null,null,n),Nu(t)}function jp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Nu(t){if(50<so)throw so=0,td=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var gr={};function ub(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new ub(t,n,a,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Up(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,a,l,h,f){var p=0;if(l=t,typeof t=="function")Qh(t)&&(p=1);else if(typeof t=="string")p=mT(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=gn(31,a,n,h),t.elementType=A,t.lanes=f,t;case J:return Ra(a.children,h,f,n);case W:p=8,h|=24;break;case re:return t=gn(12,a,n,h|2),t.elementType=re,t.lanes=f,t;case et:return t=gn(13,a,n,h),t.elementType=et,t.lanes=f,t;case Ie:return t=gn(19,a,n,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:p=10;break e;case se:p=9;break e;case Ae:p=11;break e;case I:p=14;break e;case S:p=16,l=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=gn(p,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ra(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Kh(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function Lp(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Yh(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zp=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=zp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:dl(n)},zp.set(t,n),n)}return{value:t,source:n,stack:dl(n)}}var yr=[],_r=0,Du=null,Ul=0,In=[],Dn=0,_s=null,Ei=1,bi="";function Ui(t,n){yr[_r++]=Ul,yr[_r++]=Du,Du=t,Ul=n}function Pp(t,n,a){In[Dn++]=Ei,In[Dn++]=bi,In[Dn++]=_s,_s=t;var l=Ei;t=bi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var f=32-dt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ei=1<<32-dt(n)+h|a<<h|l,bi=f+t}else Ei=1<<f|a<<h|l,bi=t}function Xh(t){t.return!==null&&(Ui(t,1),Pp(t,1,0))}function $h(t){for(;t===Du;)Du=yr[--_r],yr[_r]=null,Ul=yr[--_r],yr[_r]=null;for(;t===_s;)_s=In[--Dn],In[Dn]=null,bi=In[--Dn],In[Dn]=null,Ei=In[--Dn],In[Dn]=null}function Bp(t,n){In[Dn++]=Ei,In[Dn++]=bi,In[Dn++]=_s,Ei=n.id,bi=n.overflow,_s=t}var Bt=null,nt=null,Ue=!1,vs=null,kn=!1,Jh=Error(r(519));function Es(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Nn(n,t)),Jh}function qp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Et]=t,n[Vt]=l,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<ro.length;a++)Ne(ro[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),hs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||a0(n.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),l.onScroll!=null&&Ne("scroll",n),l.onScrollEnd!=null&&Ne("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Es(t,!0)}function Hp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Bt=Bt.return}}function vr(t){if(t!==Bt)return!1;if(!Ue)return Hp(t),Ue=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gd(t.type,t.memoizedProps)),a=!a),a&&nt&&Es(t),Hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=m0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=m0(t)}else n===27?(n=nt,Os(t.type)?(t=bd,bd=null,nt=t):nt=n):nt=Bt?On(t.stateNode.nextSibling):null;return!0}function Ca(){nt=Bt=null,Ue=!1}function Zh(){var t=vs;return t!==null&&(un===null?un=t:un.push.apply(un,t),vs=null),t}function Ll(t){vs===null?vs=[t]:vs.push(t)}var Wh=R(null),Na=null,Li=null;function bs(t,n,a){ee(Wh,n._currentValue),n._currentValue=a}function zi(t){t._currentValue=Wh.current,F(Wh)}function ef(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function tf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),ef(f.return,a,t),l||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ef(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Er(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=h.type;pn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ho):t=[ho])}h=h.return}t!==null&&tf(n,t,a,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ia(t){Na=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Fp(Na,t)}function Mu(t,n){return Na===null&&Ia(t),Fp(t,n)}function Fp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(r(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return a}var cb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},hb=s.unstable_scheduleCallback,fb=s.unstable_NormalPriority,wt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new cb,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&hb(fb,function(){t.controller.abort()})}var Pl=null,sf=0,br=0,Tr=null;function db(t,n){if(Pl===null){var a=Pl=[];sf=0,br=ld(),Tr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,n.then(Gp,Gp),n}function Gp(){if(--sf===0&&Pl!==null){Tr!==null&&(Tr.status="fulfilled");var t=Pl;Pl=null,br=0,Tr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mb(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qp=G.S;G.S=function(t,n){Ny=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&db(t,n),Qp!==null&&Qp(t,n)};var Da=R(null);function af(){var t=Da.current;return t!==null?t:We.pooledCache}function Ou(t,n){n===null?ee(Da,Da.current):ee(Da,n.pool)}function Kp(){var t=af();return t===null?null:{parent:wt._currentValue,pool:t}}var wr=Error(r(460)),rf=Error(r(474)),Vu=Error(r(542)),ju={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t}throw Ma=n,wr}}function ka(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ma=a,wr):a}}var Ma=null;function $p(){if(Ma===null)throw Error(r(459));var t=Ma;return Ma=null,t}function Jp(t){if(t===wr||t===Vu)throw Error(r(483))}var Sr=null,Bl=0;function Uu(t){var n=Bl;return Bl+=1,Sr===null&&(Sr=[]),Xp(Sr,t,n)}function ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zp(t){function n(V,k){if(t){var z=V.deletions;z===null?(V.deletions=[k],V.flags|=16):z.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function l(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=ji(V,k),V.index=0,V.sibling=null,V}function f(V,k,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<k?(V.flags|=67108866,k):z):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,k,z,Y){return k===null||k.tag!==6?(k=Kh(z,V.mode,Y),k.return=V,k):(k=h(k,z),k.return=V,k)}function N(V,k,z,Y){var me=z.type;return me===J?Q(V,k,z.props.children,Y,z.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&ka(me)===k.type)?(k=h(k,z.props),ql(k,z),k.return=V,k):(k=Iu(z.type,z.key,z.props,null,V.mode,Y),ql(k,z),k.return=V,k)}function P(V,k,z,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Yh(z,V.mode,Y),k.return=V,k):(k=h(k,z.children||[]),k.return=V,k)}function Q(V,k,z,Y,me){return k===null||k.tag!==7?(k=Ra(z,V.mode,Y,me),k.return=V,k):(k=h(k,z),k.return=V,k)}function X(V,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Kh(""+k,V.mode,z),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return z=Iu(k.type,k.key,k.props,null,V.mode,z),ql(z,k),z.return=V,z;case K:return k=Yh(k,V.mode,z),k.return=V,k;case S:return k=ka(k),X(V,k,z)}if(ft(k)||j(k))return k=Ra(k,V.mode,z,null),k.return=V,k;if(typeof k.then=="function")return X(V,Uu(k),z);if(k.$$typeof===ue)return X(V,Mu(V,k),z);Lu(V,k)}return null}function B(V,k,z,Y){var me=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:b(V,k,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return z.key===me?N(V,k,z,Y):null;case K:return z.key===me?P(V,k,z,Y):null;case S:return z=ka(z),B(V,k,z,Y)}if(ft(z)||j(z))return me!==null?null:Q(V,k,z,Y,null);if(typeof z.then=="function")return B(V,k,Uu(z),Y);if(z.$$typeof===ue)return B(V,k,Mu(V,z),Y);Lu(V,z)}return null}function H(V,k,z,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(z)||null,b(k,V,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return V=V.get(Y.key===null?z:Y.key)||null,N(k,V,Y,me);case K:return V=V.get(Y.key===null?z:Y.key)||null,P(k,V,Y,me);case S:return Y=ka(Y),H(V,k,z,Y,me)}if(ft(Y)||j(Y))return V=V.get(z)||null,Q(k,V,Y,me,null);if(typeof Y.then=="function")return H(V,k,z,Uu(Y),me);if(Y.$$typeof===ue)return H(V,k,z,Mu(k,Y),me);Lu(k,Y)}return null}function le(V,k,z,Y){for(var me=null,Pe=null,ce=k,Re=k=0,ke=null;ce!==null&&Re<z.length;Re++){ce.index>Re?(ke=ce,ce=null):ke=ce.sibling;var Be=B(V,ce,z[Re],Y);if(Be===null){ce===null&&(ce=ke);break}t&&ce&&Be.alternate===null&&n(V,ce),k=f(Be,k,Re),Pe===null?me=Be:Pe.sibling=Be,Pe=Be,ce=ke}if(Re===z.length)return a(V,ce),Ue&&Ui(V,Re),me;if(ce===null){for(;Re<z.length;Re++)ce=X(V,z[Re],Y),ce!==null&&(k=f(ce,k,Re),Pe===null?me=ce:Pe.sibling=ce,Pe=ce);return Ue&&Ui(V,Re),me}for(ce=l(ce);Re<z.length;Re++)ke=H(ce,V,Re,z[Re],Y),ke!==null&&(t&&ke.alternate!==null&&ce.delete(ke.key===null?Re:ke.key),k=f(ke,k,Re),Pe===null?me=ke:Pe.sibling=ke,Pe=ke);return t&&ce.forEach(function(zs){return n(V,zs)}),Ue&&Ui(V,Re),me}function ye(V,k,z,Y){if(z==null)throw Error(r(151));for(var me=null,Pe=null,ce=k,Re=k=0,ke=null,Be=z.next();ce!==null&&!Be.done;Re++,Be=z.next()){ce.index>Re?(ke=ce,ce=null):ke=ce.sibling;var zs=B(V,ce,Be.value,Y);if(zs===null){ce===null&&(ce=ke);break}t&&ce&&zs.alternate===null&&n(V,ce),k=f(zs,k,Re),Pe===null?me=zs:Pe.sibling=zs,Pe=zs,ce=ke}if(Be.done)return a(V,ce),Ue&&Ui(V,Re),me;if(ce===null){for(;!Be.done;Re++,Be=z.next())Be=X(V,Be.value,Y),Be!==null&&(k=f(Be,k,Re),Pe===null?me=Be:Pe.sibling=Be,Pe=Be);return Ue&&Ui(V,Re),me}for(ce=l(ce);!Be.done;Re++,Be=z.next())Be=H(ce,V,Re,Be.value,Y),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Re:Be.key),k=f(Be,k,Re),Pe===null?me=Be:Pe.sibling=Be,Pe=Be);return t&&ce.forEach(function(xT){return n(V,xT)}),Ue&&Ui(V,Re),me}function Ze(V,k,z,Y){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case L:e:{for(var me=z.key;k!==null;){if(k.key===me){if(me=z.type,me===J){if(k.tag===7){a(V,k.sibling),Y=h(k,z.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&ka(me)===k.type){a(V,k.sibling),Y=h(k,z.props),ql(Y,z),Y.return=V,V=Y;break e}a(V,k);break}else n(V,k);k=k.sibling}z.type===J?(Y=Ra(z.props.children,V.mode,Y,z.key),Y.return=V,V=Y):(Y=Iu(z.type,z.key,z.props,null,V.mode,Y),ql(Y,z),Y.return=V,V=Y)}return p(V);case K:e:{for(me=z.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(V,k.sibling),Y=h(k,z.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else n(V,k);k=k.sibling}Y=Yh(z,V.mode,Y),Y.return=V,V=Y}return p(V);case S:return z=ka(z),Ze(V,k,z,Y)}if(ft(z))return le(V,k,z,Y);if(j(z)){if(me=j(z),typeof me!="function")throw Error(r(150));return z=me.call(z),ye(V,k,z,Y)}if(typeof z.then=="function")return Ze(V,k,Uu(z),Y);if(z.$$typeof===ue)return Ze(V,k,Mu(V,z),Y);Lu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,z),Y.return=V,V=Y):(a(V,k),Y=Kh(z,V.mode,Y),Y.return=V,V=Y),p(V)):a(V,k)}return function(V,k,z,Y){try{Bl=0;var me=Ze(V,k,z,Y);return Sr=null,me}catch(ce){if(ce===wr||ce===Vu)throw ce;var Pe=gn(29,ce,null,V.mode);return Pe.lanes=Y,Pe.return=V,Pe}}}var Oa=Zp(!0),Wp=Zp(!1),Ts=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nu(t),jp(t,null,a),n}return Cu(t,l,n,a),Nu(t)}function Hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,gl(t,a)}}function uf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var cf=!1;function Fl(){if(cf){var t=Tr;if(t!==null)throw t}}function Gl(t,n,a,l){cf=!1;var h=t.updateQueue;Ts=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,P=N.next;N.next=null,p===null?f=P:p.next=P,p=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==p&&(b===null?Q.firstBaseUpdate=P:b.next=P,Q.lastBaseUpdate=N))}if(f!==null){var X=h.baseState;p=0,Q=P=N=null,b=f;do{var B=b.lane&-536870913,H=B!==b.lane;if(H?(De&B)===B:(l&B)===B){B!==0&&B===br&&(cf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var le=t,ye=b;B=n;var Ze=a;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){X=le.call(Ze,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,B=typeof le=="function"?le.call(Ze,X,B):le,B==null)break e;X=x({},X,B);break e;case 2:Ts=!0}}B=b.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(P=Q=H,N=X):Q=Q.next=H,p|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=X),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ns|=p,t.lanes=p,t.memoizedState=X}}function eg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)eg(a[t],n)}var xr=R(null),zu=R(0);function ng(t,n){t=Yi,ee(zu,t),ee(xr,n),Yi=t|n.baseLanes}function hf(){ee(zu,Yi),ee(xr,xr.current)}function ff(){Yi=zu.current,F(xr),F(zu)}var yn=R(null),Mn=null;function xs(t){var n=t.alternate;ee(pt,pt.current&1),ee(yn,t),Mn===null&&(n===null||xr.current!==null||n.memoizedState!==null)&&(Mn=t)}function df(t){ee(pt,pt.current),ee(yn,t),Mn===null&&(Mn=t)}function ig(t){t.tag===22?(ee(pt,pt.current),ee(yn,t),Mn===null&&(Mn=t)):As()}function As(){ee(pt,pt.current),ee(yn,yn.current)}function _n(t){F(yn),Mn===t&&(Mn=null),F(pt)}var pt=R(0);function Pu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Ed(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,xe=null,$e=null,St=null,Bu=!1,Ar=!1,Va=!1,qu=0,Ql=0,Rr=null,pb=0;function ct(){throw Error(r(321))}function mf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function pf(t,n,a,l,h,f){return Pi=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Pg:If,Va=!1,f=a(l,h),Va=!1,Ar&&(f=ag(n,a,l,h)),sg(t),f}function sg(t){G.H=Xl;var n=$e!==null&&$e.next!==null;if(Pi=0,St=$e=xe=null,Bu=!1,Ql=0,Rr=null,n)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&ku(t)&&(xt=!0))}function ag(t,n,a,l){xe=t;var h=0;do{if(Ar&&(Rr=null),Ql=0,Ar=!1,25<=h)throw Error(r(301));if(h+=1,St=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Bg,f=n(a,l)}while(Ar);return f}function gb(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Kl(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(xe.flags|=1024),n}function gf(){var t=qu!==0;return qu=0,t}function yf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _f(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}Pi=0,St=$e=xe=null,Ar=!1,Ql=qu=0,Rr=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?xe.memoizedState=St=t:St=St.next=t,St}function gt(){if($e===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=St===null?xe.memoizedState:St.next;if(n!==null)St=n,$e=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?xe.memoizedState=St=t:St=St.next=t}return St}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var n=Ql;return Ql+=1,Rr===null&&(Rr=[]),t=Xp(Rr,t,n),n=xe,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Pg:If),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===ue)return qt(t)}throw Error(r(438,String(t)))}function vf(t){var n=null,a=xe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hu(),xe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Bi(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=gt();return Ef(n,$e,t)}function Ef(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,N=null,P=n,Q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(De&X)===X:(Pi&X)===X){var B=P.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===br&&(Q=!0);else if((Pi&B)===B){P=P.next,B===br&&(Q=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=X,p=f):N=N.next=X,xe.lanes|=B,Ns|=B;X=P.action,Va&&a(f,X),f=P.hasEagerState?P.eagerState:a(f,X)}else B={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=B,p=f):N=N.next=B,xe.lanes|=X,Ns|=X;P=P.next}while(P!==null&&P!==n);if(N===null?p=f:N.next=b,!pn(f,t.memoizedState)&&(xt=!0,Q&&(a=Tr,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function rg(t,n,a){var l=xe,h=gt(),f=Ue;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!pn(($e||h).memoizedState,a);if(p&&(h.memoizedState=a,xt=!0),h=h.queue,Sf(ug.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Cr(9,{destroy:void 0},og.bind(null,l,h,a,n),null),We===null)throw Error(r(349));f||(Pi&127)!==0||lg(l,n,a)}return a}function lg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xe.updateQueue,n===null?(n=Hu(),xe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function og(t,n,a,l){n.value=a,n.getSnapshot=l,cg(n)&&hg(t)}function ug(t,n,a){return a(function(){cg(n)&&hg(t)})}function cg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function hg(t){var n=Aa(t,2);n!==null&&cn(n,t,2)}function Tf(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Va){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function fg(t,n,a,l){return t.baseState=a,Ef(t,$e,typeof l=="function"?l:Bi)}function yb(t,n,a,l,h){if(Yu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,dg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var b=a(h,l),N=G.S;N!==null&&N(p,b),mg(t,n,b)}catch(P){wf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,l),mg(t,n,f)}catch(P){wf(t,n,P)}}function mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pg(t,n,l)},function(l){return wf(t,n,l)}):pg(t,n,a)}function pg(t,n,a){n.status="fulfilled",n.value=a,gg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,dg(t,a)))}function wf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==l)}t.action=null}function gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yg(t,n){return n}function _g(t,n){if(Ue){var a=We.formState;if(a!==null){e:{var l=xe;if(Ue){if(nt){t:{for(var h=nt,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=On(h.nextSibling),l=h.data==="F!";break e}}Es(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:n},a.queue=l,a=Ug.bind(null,xe,l),l.dispatch=a,l=Tf(!1),f=Nf.bind(null,xe,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=yb.bind(null,xe,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function vg(t){var n=gt();return Eg(n,$e,t)}function Eg(t,n,a){if(n=Ef(t,n,yg)[0],t=Gu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(p){throw p===wr?Vu:p}else l=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xe.flags|=2048,Cr(9,{destroy:void 0},_b.bind(null,h,a),null)),[l,f,t]}function _b(t,n){t.action=n}function bg(t){var n=gt(),a=$e;if(a!==null)return Eg(n,a,t);gt(),n=n.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Cr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Hu(),xe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tg(){return gt().memoizedState}function Qu(t,n,a,l){var h=nn();xe.flags|=t,h.memoizedState=Cr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ku(t,n,a,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;$e!==null&&l!==null&&mf(l,$e.memoizedState.deps)?h.memoizedState=Cr(n,f,a,l):(xe.flags|=t,h.memoizedState=Cr(1|n,f,a,l))}function wg(t,n){Qu(8390656,8,t,n)}function Sf(t,n){Ku(2048,8,t,n)}function vb(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Hu(),xe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Sg(t){var n=gt().memoizedState;return vb({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function xg(t,n){return Ku(4,2,t,n)}function Ag(t,n){return Ku(4,4,t,n)}function Rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cg(t,n,a){a=a!=null?a.concat([t]):null,Ku(4,4,Rg.bind(null,n,t),a)}function xf(){}function Ng(t,n){var a=gt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Ig(t,n){var a=gt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mf(n,l[1]))return l[0];if(l=t(),Va){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,n],l}function Af(t,n,a){return a===void 0||(Pi&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Dy(),xe.lanes|=t,Ns|=t,a)}function Dg(t,n,a,l){return pn(a,n)?a:xr.current!==null?(t=Af(t,a,l),pn(t,n)||(xt=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=Dy(),xe.lanes|=t,Ns|=t,n)}function kg(t,n,a,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,b={};G.T=b,Nf(t,!1,n,a);try{var N=h(),P=G.S;if(P!==null&&P(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=mb(N,l);Yl(t,n,Q,bn(t))}else Yl(t,n,l,bn(t))}catch(X){Yl(t,n,{then:function(){},status:"rejected",reason:X},bn())}finally{ie.p=f,p!==null&&b.types!==null&&(p.types=b.types),G.T=p}}function Eb(){}function Rf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Mg(t).queue;kg(t,h,n,fe,a===null?Eb:function(){return Og(t),a(l)})}function Mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:fe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=Mg(t);n.next===null&&(n=t.alternate.memoizedState),Yl(t,n.next.queue,{},bn())}function Cf(){return qt(ho)}function Vg(){return gt().memoizedState}function jg(){return gt().memoizedState}function bb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=ws(a);var l=Ss(n,t,a);l!==null&&(cn(l,n,a),Hl(l,n,a)),n={cache:nf()},t.payload=n;return}n=n.return}}function Tb(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Lg(n,a):(a=Gh(t,n,a,l),a!==null&&(cn(a,t,l),zg(a,n,l)))}function Ug(t,n,a){var l=bn();Yl(t,n,a,l)}function Yl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Lg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,a);if(h.hasEagerState=!0,h.eagerState=b,pn(b,p))return Cu(t,n,h,0),We===null&&Ru(),!1}catch{}if(a=Gh(t,n,h,l),a!==null)return cn(a,t,l),zg(a,n,l),!0}return!1}function Nf(t,n,a,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(r(479))}else n=Gh(t,a,l,2),n!==null&&cn(n,t,2)}function Yu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Lg(t,n){Ar=Bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function zg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,gl(t,a)}}var Xl={readContext:qt,use:Fu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Xl.useEffectEvent=ct;var Pg={readContext:qt,use:Fu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:wg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,Rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(Va){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Va){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Tb.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,a=Ug.bind(null,xe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,n){var a=nn();return Af(a,t,n)},useTransition:function(){var t=Tf(!1);return t=kg.bind(null,xe,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=xe,h=nn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),We===null)throw Error(r(349));(De&127)!==0||lg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,wg(ug.bind(null,l,f,t),[t]),l.flags|=2048,Cr(9,{destroy:void 0},og.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=We.identifierPrefix;if(Ue){var a=bi,l=Ei;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=pb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:_g,useActionState:_g,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,xe,!0,a),a.dispatch=n,[t,n]},useMemoCache:vf,useCacheRefresh:function(){return nn().memoizedState=bb.bind(null,xe)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},If={readContext:qt,use:Fu,useCallback:Ng,useContext:qt,useEffect:Sf,useImperativeHandle:Cg,useInsertionEffect:xg,useLayoutEffect:Ag,useMemo:Ig,useReducer:Gu,useRef:Tg,useState:function(){return Gu(Bi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=gt();return Dg(a,$e.memoizedState,t,n)},useTransition:function(){var t=Gu(Bi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Cf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=gt();return fg(a,$e,t,n)},useMemoCache:vf,useCacheRefresh:jg};If.useEffectEvent=Sg;var Bg={readContext:qt,use:Fu,useCallback:Ng,useContext:qt,useEffect:Sf,useImperativeHandle:Cg,useInsertionEffect:xg,useLayoutEffect:Ag,useMemo:Ig,useReducer:bf,useRef:Tg,useState:function(){return bf(Bi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=gt();return $e===null?Af(a,t,n):Dg(a,$e.memoizedState,t,n)},useTransition:function(){var t=bf(Bi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Cf,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var a=gt();return $e!==null?fg(a,$e,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:jg};Bg.useEffectEvent=Sg;function Df(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=ws(l);h.payload=n,a!=null&&(h.callback=a),n=Ss(t,h,l),n!==null&&(cn(n,t,l),Hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=ws(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ss(t,h,l),n!==null&&(cn(n,t,l),Hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=ws(a);l.tag=2,n!=null&&(l.callback=n),n=Ss(t,l,a),n!==null&&(cn(n,t,a),Hl(n,t,a))}};function qg(t,n,a,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vl(a,l)||!Vl(h,f):!0}function Hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function ja(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Fg(t){Au(t)}function Gg(t){console.error(t)}function Qg(t){Au(t)}function Xu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,n,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(t,n)},a}function Yg(t){return t=ws(t),t.tag=3,t}function Xg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Kg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Kg(n,a,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function wb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Er(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?lc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ju?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sd(t,l,h)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sd(t,l,h)),!1}throw Error(r(435,a.tag))}return sd(t,l,h),lc(),!1}if(Ue)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jh&&(t=Error(r(422),{cause:l}),Ll(Nn(t,a)))):(l!==Jh&&(n=Error(r(423),{cause:l}),Ll(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=Mf(t.stateNode,l,h),uf(t,h),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:l});if(f=Nn(f,a),io===null?io=[f]:io.push(f),ht!==4&&(ht=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Mf(a.stateNode,l,t),uf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yg(h),Xg(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Of=Error(r(461)),xt=!1;function Ht(t,n,a,l){n.child=t===null?Wp(n,null,a,l):Oa(n,t.child,a,l)}function $g(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return Ia(n),l=pf(t,n,a,p,f,h),b=gf(),t!==null&&!xt?(yf(t,n,h),qi(t,n,h)):(Ue&&b&&Xh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Jg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,l,h)):(t=Iu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(p,l)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=ji(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Vl(f,l)&&t.ref===n.ref)if(xt=!1,n.pendingProps=l=f,qf(t,h))(t.flags&131072)!==0&&(xt=!0);else return n.lanes=t.lanes,qi(t,n,h)}return Vf(t,n,a,l,h)}function Wg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ey(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?ng(n,f):hf(),ig(n);else return l=n.lanes=536870912,ey(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ou(n,f.cachePool),ng(n,f),As(),n.memoizedState=null):(t!==null&&Ou(n,null),hf(),As());return Ht(t,n,h,a),n.child}function $l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(t,n,a,l,h){var f=af();return f=f===null?null:{parent:wt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ou(n,null),hf(),ig(n),t!==null&&Er(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ty(t,n,a){return Oa(n,t.child,null,a),t=$u(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function Sb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,$l(null,t);if(df(n),(t=nt)?(t=d0(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_s!==null?{id:Ei,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Lp(t),a.return=n,n.child=a,Bt=n,nt=null)):t=null,t===null)throw Es(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ty(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(xt||Er(t,n,a,!1),h=(a&t.childLanes)!==0,xt||h){if(l=We,l!==null&&(p=yl(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Aa(t,p),cn(l,t,p),Of;lc(),n=ty(t,n,a)}else t=f.treeContext,nt=On(p.nextSibling),Bt=n,Ue=!0,vs=null,kn=!1,t!==null&&Bp(n,t),n=$u(n,l),n.flags|=4096;return n}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vf(t,n,a,l,h){return Ia(n),a=pf(t,n,a,l,void 0,h),l=gf(),t!==null&&!xt?(yf(t,n,h),qi(t,n,h)):(Ue&&l&&Xh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function ny(t,n,a,l,h,f){return Ia(n),n.updateQueue=null,a=ag(n,l,a,h),sg(t),l=gf(),t!==null&&!xt?(yf(t,n,f),qi(t,n,f)):(Ue&&l&&Xh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function iy(t,n,a,l,h){if(Ia(n),n.stateNode===null){var f=gr,p=a.contextType;typeof p=="object"&&p!==null&&(f=qt(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qt(p):gr,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Df(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=ja(a,b);f.props=N;var P=f.context,Q=a.contextType;p=gr,typeof Q=="object"&&Q!==null&&(p=qt(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&Hg(n,f,l,p),Ts=!1;var B=n.memoizedState;f.state=B,Gl(n,l,f,h),Fl(),P=n.memoizedState,b||B!==P||Ts?(typeof X=="function"&&(Df(n,a,X,l),P=n.memoizedState),(N=Ts||qg(n,a,N,l,B,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,of(t,n),p=n.memoizedProps,Q=ja(a,p),f.props=Q,X=n.pendingProps,B=f.context,P=a.contextType,N=gr,typeof P=="object"&&P!==null&&(N=qt(P)),b=a.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||B!==N)&&Hg(n,f,l,N),Ts=!1,B=n.memoizedState,f.state=B,Gl(n,l,f,h),Fl();var H=n.memoizedState;p!==X||B!==H||Ts||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof b=="function"&&(Df(n,a,b,l),H=n.memoizedState),(Q=Ts||qg(n,a,Q,l,B,H,N)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Oa(n,t.child,null,h),n.child=Oa(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=qi(t,n,h),t}function sy(t,n,a,l){return Ca(),n.flags|=256,Ht(t,n,a,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Kp()}}function Lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=En),t}function ay(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?xs(n):As(),(t=nt)?(t=d0(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_s!==null?{id:Ei,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Lp(t),a.return=n,n.child=a,Bt=n,nt=null)):t=null,t===null)throw Es(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(As(),h=n.mode,b=Zu({mode:"hidden",children:b},h),l=Ra(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Uf(a),l.childLanes=Lf(t,p,a),n.memoizedState=jf,$l(null,l)):(xs(n),zf(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=Pf(t,n,a)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),b=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),b=Ra(b,h,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Oa(n,t.child,null,a),l=n.child,l.memoizedState=Uf(a),l.childLanes=Lf(t,p,a),n.memoizedState=jf,n=$l(null,l));else if(xs(n),Ed(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(r(419)),l.stack="",l.digest=p,Ll({value:l,source:null,stack:null}),n=Pf(t,n,a)}else if(xt||Er(t,n,a,!1),p=(a&t.childLanes)!==0,xt||p){if(p=We,p!==null&&(l=yl(p,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Aa(t,l),cn(p,t,l),Of;vd(b)||lc(),n=Pf(t,n,a)}else vd(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,nt=On(b.nextSibling),Bt=n,Ue=!0,vs=null,kn=!1,t!==null&&Bp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(As(),b=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?b=ji(P,b):(b=Ra(b,h,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,$l(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Uf(a):(h=b.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Kp(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Lf(t,p,a),n.memoizedState=jf,$l(t.child,l)):(xs(n),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function zf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Pf(t,n,a){return Oa(n,t.child,null,a),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ef(t.return,n,a)}function Bf(t,n,a,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function ly(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ee(pt,p),Ht(t,n,l,a),l=Ue?Ul:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,a,n);else if(t.tag===19)ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Bf(n,!0,a,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function xb(t,n,a){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),bs(n,wt,t.memoizedState.cache),Ca();break;case 27:case 5:oa(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ay(t,n,a):(xs(n),t=qi(t,n,a),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Er(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ly(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(pt,pt.current),l)break;return null;case 22:return n.lanes=0,Wg(t,n,a,n.pendingProps);case 24:bs(n,wt,t.memoizedState.cache)}return qi(t,n,a)}function oy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)xt=!0;else{if(!qf(t,a)&&(n.flags&128)===0)return xt=!1,xb(t,n,a);xt=(t.flags&131072)!==0}else xt=!1,Ue&&(n.flags&1048576)!==0&&Pp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ka(n.elementType),n.type=t,typeof t=="function")Qh(t)?(l=ja(t,l),n.tag=1,n=iy(null,n,t,l,a)):(n.tag=0,n=Vf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){n.tag=11,n=$g(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=Jg(null,n,t,l,a);break e}}throw n=tt(t)||t,Error(r(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ja(l,n.pendingProps),iy(t,n,l,h,a);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Gl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,bs(n,wt,l),l!==f.cache&&tf(n,[wt],a,!0),Fl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(t,n,l,a);break e}else if(l!==h){h=Nn(Error(r(424)),n),Ll(h),n=sy(t,n,l,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=On(t.firstChild),Bt=n,Ue=!0,vs=null,kn=!0,a=Wp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ca(),l===h){n=qi(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=v0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ue||(a=n.type,t=n.pendingProps,l=mc(ve.current).createElement(a),l[Et]=n,l[Vt]=t,Ft(l,a,t),bt(l),n.stateNode=l):n.memoizedState=v0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return oa(n),t===null&&Ue&&(l=n.stateNode=g0(n.type,n.pendingProps,ve.current),Bt=n,kn=!0,h=nt,Os(n.type)?(bd=h,nt=On(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=l=nt)&&(l=tT(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Bt=n,nt=On(l.firstChild),kn=!1,h=!0):h=!1),h||Es(n)),oa(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,gd(h,f)?l=null:p!==null&&gd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(t,n,gb,null,null,a),ho._currentValue=h),Ju(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Ue&&((t=a=nt)&&(a=nT(a,n.pendingProps,kn),a!==null?(n.stateNode=a,Bt=n,nt=null,t=!0):t=!1),t||Es(n)),null;case 13:return ay(t,n,a);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Oa(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return $g(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ia(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,a);case 15:return Zg(t,n,n.type,n.pendingProps,a);case 19:return ly(t,n,a);case 31:return Sb(t,n,a);case 22:return Wg(t,n,a,n.pendingProps);case 24:return Ia(n),l=qt(wt),t===null?(h=af(),h===null&&(h=We,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},lf(n),bs(n,wt,h)):((t.lanes&a)!==0&&(of(t,n),Gl(n,null,null,a),Fl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,wt,l)):(l=f.cache,bs(n,wt,l),l!==h.cache&&tf(n,[wt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(t){t.flags|=4}function Hf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Ma=ju,rf}else t.flags&=-16777217}function uy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S0(n))if(Vy())t.flags|=8192;else throw Ma=ju,rf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,kr|=n)}function Jl(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Ab(t,n,a){var l=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(wt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(vr(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Hi(n),f!==null?(it(n),uy(n,f)):(it(n),Hf(n,h,null,l,a))):f?f!==t.memoizedState?(Hi(n),it(n),uy(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(n),it(n),Hf(n,h,t,l,a)),null;case 27:if(Ja(n),a=ve.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=ne.current,vr(n)?qp(n):(t=g0(h,l,a),n.stateNode=t,Hi(n))}return it(n),null;case 5:if(Ja(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(f=ne.current,vr(n))qp(n);else{var p=mc(ve.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Et]=n,f[Vt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hi(n)}}return it(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ve.current,vr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a0(t.nodeValue,a)),t||Es(n,!0)}else t=mc(t).createTextNode(l),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=vr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=vr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Wu(n,n.updateQueue),it(n),null);case 4:return rt(),t===null&&hd(n.stateNode.containerInfo),it(n),null;case 10:return zi(n.type),it(n),null;case 19:if(F(pt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Jl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Pu(t),f!==null){for(n.flags|=128,Jl(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Up(a,t),a=a.sibling;return ee(pt,pt.current&1|2),Ue&&Ui(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>sc&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Pu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ue)return it(n),null}else 2*en()-l.renderingStartTime>sc&&a!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ee(pt,h?a&1|2:a&1),Ue&&Ui(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return _n(n),ff(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&Wu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(Da),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(wt),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Rb(t,n){switch($h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(wt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ja(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(r(340));Ca()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ca()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(pt),null;case 4:return rt(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),ff(),t!==null&&F(Da),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(wt),null;case 25:return null;default:return null}}function cy(t,n){switch($h(n),n.tag){case 3:zi(wt),rt();break;case 26:case 27:case 5:Ja(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:F(pt);break;case 10:zi(n.type);break;case 22:case 23:_n(n),ff(),t!==null&&F(Da);break;case 24:zi(wt)}}function Zl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(b){Ye(n,n.return,b)}}function Rs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var N=a,P=b;try{P()}catch(Q){Ye(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){Ye(n,n.return,Q)}}function hy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{tg(n,a)}catch(l){Ye(t,t.return,l)}}}function fy(t,n,a){a.props=ja(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,n,l)}}function Wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,n,h)}}function Ti(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,n,h)}else a.current=null}function dy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Ff(t,n,a){try{var l=t.stateNode;Xb(l,t.type,a,n),l[Vt]=n}catch(h){Ye(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&Os(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qf(t,n,a),t=t.sibling;t!==null;)Qf(t,n,a),t=t.sibling}function ec(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Os(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ec(t,n,a),t=t.sibling;t!==null;)ec(t,n,a),t=t.sibling}function py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[Et]=t,n[Vt]=a}catch(f){Ye(t,t.return,f)}}var Fi=!1,At=!1,Kf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Cb(t,n){if(t=t.containerInfo,md=bc,t=Cp(t),zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,N=-1,P=0,Q=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(b=p+h),X!==f||l!==0&&X.nodeType!==3||(N=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++P===h&&(b=p),B===f&&++Q===l&&(N=p),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:t,selectionRange:a},bc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var le=ja(a.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function yy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&Zl(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Ye(a,a.return,p)}else{var h=ja(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ye(a,a.return,p)}}l&64&&hy(a),l&512&&Wl(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tg(t,n)}catch(p){Ye(a,a.return,p)}}break;case 27:n===null&&l&4&&py(a);case 26:case 5:Qi(t,a),n===null&&l&4&&dy(a),l&512&&Wl(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&Ey(t,a);break;case 13:Qi(t,a),l&4&&by(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ub.bind(null,a),iT(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||At,h=Fi;var f=At;Fi=l,(At=n)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Fi=h,At=f}break;case 30:break;default:Qi(t,a)}}function _y(t){var n=t.alternate;n!==null&&(t.alternate=null,_y(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,rn=!1;function Gi(t,n,a){for(a=a.child;a!==null;)vy(t,n,a),a=a.sibling}function vy(t,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:At||Ti(a,n),Gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ti(a,n);var l=ot,h=rn;Os(a.type)&&(ot=a.stateNode,rn=!1),Gi(t,n,a),oo(a.stateNode),ot=l,rn=h;break;case 5:At||Ti(a,n);case 6:if(l=ot,h=rn,ot=null,Gi(t,n,a),ot=l,rn=h,ot!==null)if(rn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Ye(a,n,f)}else try{ot.removeChild(a.stateNode)}catch(f){Ye(a,n,f)}break;case 18:ot!==null&&(rn?(t=ot,h0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pr(t)):h0(ot,a.stateNode));break;case 4:l=ot,h=rn,ot=a.stateNode.containerInfo,rn=!0,Gi(t,n,a),ot=l,rn=h;break;case 0:case 11:case 14:case 15:Rs(2,a,n),At||Rs(4,a,n),Gi(t,n,a);break;case 1:At||(Ti(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fy(a,n,l)),Gi(t,n,a);break;case 21:Gi(t,n,a);break;case 22:At=(l=At)||a.memoizedState!==null,Gi(t,n,a),At=l;break;default:Gi(t,n,a)}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pr(t)}catch(a){Ye(n,n.return,a)}}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pr(t)}catch(a){Ye(n,n.return,a)}}function Nb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gy),n;default:throw Error(r(435,t.tag))}}function tc(t,n){var a=Nb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Lb.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(Os(b.type)){ot=b.stateNode,rn=!1;break e}break;case 5:ot=b.stateNode,rn=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(ot===null)throw Error(r(160));vy(f,p,h),ot=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var Xn=null;function Ty(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Rs(3,t,t.return),Zl(3,t),Rs(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(At||a===null||Ti(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(ln(n,t),on(t),l&512&&(At||a===null||Ti(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,a),f[Et]=t,bt(f),l=f;break e;case"link":var p=T0("link","href",h).get(l+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;case"meta":if(p=T0("meta","content",h).get(l+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Et]=t,bt(f),l=f}t.stateNode=l}else w0(h,t.type,t.stateNode);else t.stateNode=b0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?w0(h,t.type,t.stateNode):b0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(At||a===null||Ti(a,a.return)),a!==null&&l&4&&Ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(At||a===null||Ti(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(le){Ye(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Ye(t,t.return,le)}}break;case 3:if(yc=null,h=Xn,Xn=pc(n.containerInfo),ln(n,t),Xn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pr(n.containerInfo)}catch(le){Ye(t,t.return,le)}Kf&&(Kf=!1,wy(t));break;case 4:l=Xn,Xn=pc(t.stateNode.containerInfo),ln(n,t),on(t),Xn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=Fi,Q=At;if(Fi=P||h,At=Q||N,ln(n,t),At=Q,Fi=P,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Fi||At||Ua(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=N.stateNode;var X=N.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){Ye(N,N.return,le)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(le){Ye(N,N.return,le)}}}else if(n.tag===18){if(a===null){N=n;try{var H=N.stateNode;h?f0(H,!0):f0(N.stateNode,!1)}catch(le){Ye(N,N.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tc(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(my(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(t);ec(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var b=Gf(t);ec(t,b,p);break;case 3:case 4:var N=a.stateNode.containerInfo,P=Gf(t);Qf(t,P,N);break;default:throw Error(r(161))}}catch(Q){Ye(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(t,n.alternate,n),n=n.sibling}function Ua(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Ua(n);break;case 1:Ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fy(n,n.return,a),Ua(n);break;case 27:oo(n.stateNode);case 26:case 5:Ti(n,n.return),Ua(n);break;case 22:n.memoizedState===null&&Ua(n);break;case 30:Ua(n);break;default:Ua(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),Zl(4,f);break;case 1:if(Ki(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)eg(N[h],b)}catch(P){Ye(l,l.return,P)}}a&&p&64&&hy(f),Wl(f,f.return);break;case 27:py(f);case 26:case 5:Ki(h,f,a),a&&l===null&&p&4&&dy(f),Wl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&p&4&&Ey(h,f);break;case 13:Ki(h,f,a),a&&p&4&&by(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),Wl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Yf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zl(a))}function Xf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(t,n,a,l),n=n.sibling}function Sy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),h&2048&&Zl(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(n,n.return,N)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):eo(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,Nr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:$n(t,n,a,l),h&2048&&Xf(n.alternate,n);break;default:$n(t,n,a,l)}}function Nr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=a,N=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Nr(f,p,b,N,h),Zl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Nr(f,p,b,N,h):eo(f,p):(Q._visibility|=2,Nr(f,p,b,N,h)),h&&P&2048&&Yf(p.alternate,p);break;case 24:Nr(f,p,b,N,h),h&&P&2048&&Xf(p.alternate,p);break;default:Nr(f,p,b,N,h)}n=n.sibling}}function eo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:eo(a,l),h&2048&&Yf(l.alternate,l);break;case 24:eo(a,l),h&2048&&Xf(l.alternate,l);break;default:eo(a,l)}n=n.sibling}}var to=8192;function Ir(t,n,a){if(t.subtreeFlags&to)for(t=t.child;t!==null;)xy(t,n,a),t=t.sibling}function xy(t,n,a){switch(t.tag){case 26:Ir(t,n,a),t.flags&to&&t.memoizedState!==null&&pT(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ir(t,n,a);break;case 3:case 4:var l=Xn;Xn=pc(t.stateNode.containerInfo),Ir(t,n,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,Ir(t,n,a),to=l):Ir(t,n,a));break;default:Ir(t,n,a)}}function Ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function no(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,Cy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:no(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:no(t);break;case 12:no(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):no(t);break;default:no(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,Cy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),nc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Cy(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Rs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(_y(l),l===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var Ib={getCacheForType:function(t){var n=qt(wt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(wt).controller.signal}},Db=typeof WeakMap=="function"?WeakMap:Map,Fe=0,We=null,Ce=null,De=0,Ke=0,vn=null,Cs=!1,Dr=!1,$f=!1,Yi=0,ht=0,Ns=0,La=0,Jf=0,En=0,kr=0,io=null,un=null,Zf=!1,ic=0,Ny=0,sc=1/0,ac=null,Is=null,kt=0,Ds=null,Mr=null,Xi=0,Wf=0,ed=null,Iy=null,so=0,td=null;function bn(){return(Fe&2)!==0&&De!==0?De&-De:G.T!==null?ld():ru()}function Dy(){if(En===0)if((De&536870912)===0||Ue){var t=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,n,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Or(t,0),ks(t,De,En,!1)),fa(t,a),((Fe&2)===0||t!==We)&&(t===We&&((Fe&2)===0&&(La|=a),ht===4&&ks(t,De,En,!1)),wi(t))}function ky(t,n,a){if((Fe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?Ob(t,n):id(t,n,!0),f=l;do{if(h===0){Dr&&!l&&ks(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!kb(a)){h=id(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=io;var N=b.current.memoizedState.isDehydrated;if(N&&(Or(b,p).flags|=256),p=id(b,p,!1),p!==2){if($f&&!N){b.errorRecoveryDisabledLanes|=f,La|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Or(t,0),ks(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ks(l,n,En,!Cs);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ic+300-en(),10<h)){if(ks(l,n,En,!Cs),ai(l,0,!0)!==0)break e;Xi=n,l.timeoutHandle=u0(My.bind(null,l,a,un,ac,Zf,n,En,La,kr,Cs,f,"Throttled",-0,0),h);break e}My(l,a,un,ac,Zf,n,En,La,kr,Cs,f,null,-0,0)}}break}while(!0);wi(t)}function My(t,n,a,l,h,f,p,b,N,P,Q,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},xy(n,f,X);var le=(f&62914560)===f?ic-en():(f&4194048)===f?Ny-en():0;if(le=gT(X,le),le!==null){Xi=f,t.cancelPendingCommit=le(By.bind(null,t,n,f,a,l,h,p,b,N,Q,X,null,B,H)),ks(t,f,p,!P);return}}By(t,n,f,a,l,h,p,b,N)}function kb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(t,n,a,l){n&=~Jf,n&=~La,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&da(t,a,n)}function rc(){return(Fe&6)===0?(ao(0),!1):!0}function nd(){if(Ce!==null){if(Ke===0)var t=Ce.return;else t=Ce,Li=Na=null,_f(t),Sr=null,Bl=0,t=Ce;for(;t!==null;)cy(t.alternate,t),t=t.return;Ce=null}}function Or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Zb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,nd(),We=t,Ce=a=ji(t.current,null),De=n,Ke=0,vn=null,Cs=!1,Dr=Pn(t,n),$f=!1,kr=En=Jf=La=Ns=ht=0,un=io=null,Zf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),f=1<<h;n|=t[h],l&=~f}return Yi=n,Ru(),a}function Oy(t,n){xe=null,G.H=Xl,n===wr||n===Vu?(n=$p(),Ke=3):n===rf?(n=$p(),Ke=4):Ke=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ce===null&&(ht=1,Xu(t,Nn(n,t.current)))}function Vy(){var t=yn.current;return t===null?!0:(De&4194048)===De?Mn===null:(De&62914560)===De||(De&536870912)!==0?t===Mn:!1}function jy(){var t=G.H;return G.H=Xl,t===null?Xl:t}function Uy(){var t=G.A;return G.A=Ib,t}function lc(){ht=4,Cs||(De&4194048)!==De&&yn.current!==null||(Dr=!0),(Ns&134217727)===0&&(La&134217727)===0||We===null||ks(We,De,En,!1)}function id(t,n,a){var l=Fe;Fe|=2;var h=jy(),f=Uy();(We!==t||De!==n)&&(ac=null,Or(t,n)),n=!1;var p=ht;e:do try{if(Ke!==0&&Ce!==null){var b=Ce,N=vn;switch(Ke){case 8:nd(),p=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Ke;if(Ke=0,vn=null,Vr(t,b,N,P),a&&Dr){p=0;break e}break;default:P=Ke,Ke=0,vn=null,Vr(t,b,N,P)}}Mb(),p=ht;break}catch(Q){Oy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Li=Na=null,Fe=l,G.H=h,G.A=f,Ce===null&&(We=null,De=0,Ru()),p}function Mb(){for(;Ce!==null;)Ly(Ce)}function Ob(t,n){var a=Fe;Fe|=2;var l=jy(),h=Uy();We!==t||De!==n?(ac=null,sc=en()+500,Or(t,n)):Dr=Pn(t,n);e:do try{if(Ke!==0&&Ce!==null){n=Ce;var f=vn;t:switch(Ke){case 1:Ke=0,vn=null,Vr(t,n,f,1);break;case 2:case 9:if(Yp(f)){Ke=0,vn=null,zy(n);break}n=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),wi(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Yp(f)?(Ke=0,vn=null,zy(n)):(Ke=0,vn=null,Vr(t,n,f,7));break;case 5:var p=null;switch(Ce.tag){case 26:p=Ce.memoizedState;case 5:case 27:var b=Ce;if(p?S0(p):b.stateNode.complete){Ke=0,vn=null;var N=b.sibling;if(N!==null)Ce=N;else{var P=b.return;P!==null?(Ce=P,oc(P)):Ce=null}break t}}Ke=0,vn=null,Vr(t,n,f,5);break;case 6:Ke=0,vn=null,Vr(t,n,f,6);break;case 8:nd(),ht=6;break e;default:throw Error(r(462))}}Vb();break}catch(Q){Oy(t,Q)}while(!0);return Li=Na=null,G.H=l,G.A=h,Fe=a,Ce!==null?0:(We=null,De=0,Ru(),ht)}function Vb(){for(;Ce!==null&&!kh();)Ly(Ce)}function Ly(t){var n=oy(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?oc(t):Ce=n}function zy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ny(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=ny(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:_f(n);default:cy(a,n),n=Ce=Up(n,Yi),n=oy(a,n,Yi)}t.memoizedProps=t.pendingProps,n===null?oc(t):Ce=n}function Vr(t,n,a,l){Li=Na=null,_f(n),Sr=null,Bl=0;var h=n.return;try{if(wb(t,h,n,a,De)){ht=1,Xu(t,Nn(a,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ht=1,Xu(t,Nn(a,t.current)),Ce=null;return}n.flags&32768?(Ue||l===1?t=!0:Dr||(De&536870912)!==0?t=!1:(Cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Py(n,Cs);return}t=n.return;var a=Ab(n.alternate,n,Yi);if(a!==null){Ce=a;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ht===0&&(ht=5)}function Py(t,n){do{var a=Rb(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ht=6,Ce=null}function By(t,n,a,l,h,f,p,b,N){t.cancelPendingCommit=null;do uc();while(kt!==0);if((Fe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,Vh(t,a,f,p,b,N),t===We&&(Ce=We=null,De=0),Mr=n,Ds=t,Xi=a,Wf=f,ed=h,Iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zb(os,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,p=Fe,Fe|=4;try{Cb(t,n,a)}finally{Fe=p,ie.p=h,G.T=l}}kt=1,qy(),Hy(),Fy()}}function qy(){if(kt===1){kt=0;var t=Ds,n=Mr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{Ty(n,t);var f=pd,p=Cp(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Rp(b.ownerDocument.documentElement,b)){if(N!==null&&zh(b)){var P=N.start,Q=N.end;if(Q===void 0&&(Q=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(Q,b.value.length);else{var X=b.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=b.textContent.length,ye=Math.min(N.start,le),Ze=N.end===void 0?ye:Math.min(N.end,le);!H.extend&&ye>Ze&&(p=Ze,Ze=ye,ye=p);var V=Ap(b,ye),k=Ap(b,Ze);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var z=X.createRange();z.setStart(V.node,V.offset),H.removeAllRanges(),ye>Ze?(H.addRange(z),H.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),H.addRange(z))}}}}for(X=[],H=b;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var Y=X[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!md,pd=md=null}finally{Fe=h,ie.p=l,G.T=a}}t.current=n,kt=2}}function Hy(){if(kt===2){kt=0;var t=Ds,n=Mr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{yy(t,n.alternate,n)}finally{Fe=h,ie.p=l,G.T=a}}kt=3}}function Fy(){if(kt===4||kt===3){kt=0,Wo();var t=Ds,n=Mr,a=Xi,l=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,Mr=Ds=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Is=null),ki(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{G.T=n,ie.p=h}}(Xi&3)!==0&&uc(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===td?so++:(so=0,td=t):so=0,ao(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zl(n)))}function uc(){return qy(),Hy(),Fy(),Qy()}function Qy(){if(kt!==5)return!1;var t=Ds,n=Wf;Wf=0;var a=ki(Xi),l=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=ed,ed=null;var f=Ds,p=Xi;if(kt=0,Mr=Ds=null,Xi=0,(Fe&6)!==0)throw Error(r(331));var b=Fe;if(Fe|=4,Ry(f.current),Sy(f,f.current,p,a),Fe=b,ao(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{ie.p=h,G.T=l,Gy(t,n)}}function Ky(t,n,a){n=Nn(a,n),n=Mf(t.stateNode,n,2),t=Ss(t,n,2),t!==null&&(fa(t,2),wi(t))}function Ye(t,n,a){if(t.tag===3)Ky(t,t,a);else for(;n!==null;){if(n.tag===3){Ky(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=Nn(a,t),a=Yg(2),l=Ss(n,a,2),l!==null&&(Xg(a,l,n,t),fa(l,2),wi(l));break}}n=n.return}}function sd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Db;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||($f=!0,h.add(a),t=jb.bind(null,t,n,a),n.then(t,t))}function jb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-ic?(Fe&2)===0&&Or(t,0):Jf|=a,kr===De&&(kr=0)),wi(t)}function Yy(t,n){n===0&&(n=au()),t=Aa(t,n),t!==null&&(fa(t,n),wi(t))}function Ub(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Yy(t,a)}function Lb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Yy(t,a)}function zb(t,n){return Dt(t,n)}var cc=null,jr=null,ad=!1,hc=!1,rd=!1,Ms=0;function wi(t){t!==jr&&t.next===null&&(jr===null?cc=jr=t:jr=jr.next=t),hc=!0,ad||(ad=!0,Bb())}function ao(t,n){if(!rd&&hc){rd=!0;do for(var a=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(l,f))}else f=De,f=ai(l,l===We?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,Zy(l,f));l=l.next}while(a);rd=!1}}function Pb(){Xy()}function Xy(){hc=ad=!1;var t=0;Ms!==0&&Jb()&&(t=Ms);for(var n=en(),a=null,l=cc;l!==null;){var h=l.next,f=$y(l,n);f===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(jr=a)):(a=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}kt!==0&&kt!==5||ao(t),Ms!==0&&(Ms=0)}function $y(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-dt(f),b=1<<p,N=h[p];N===-1?((b&a)===0||(b&l)!==0)&&(h[p]=Oh(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=We,a=De,a=ai(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ls(l),ki(a)){case 2:case 8:a=pl;break;case 32:a=os;break;case 268435456:a=eu;break;default:a=os}return l=Jy.bind(null,t),a=Dt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ls(l),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uc()&&t.callbackNode!==a)return null;var l=De;return l=ai(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),$y(t,en()),t.callbackNode!=null&&t.callbackNode===a?Jy.bind(null,t):null)}function Zy(t,n){if(uc())return null;ky(t,n,!0)}function Bb(){Wb(function(){(Fe&6)!==0?Dt(ml,Pb):Xy()})}function ld(){if(Ms===0){var t=br;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ms=t}return Ms}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rr(""+t)}function e0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function qb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Wy((h[Vt]||null).action),p=l.submitter;p&&(n=(n=p[Vt]||null)?Wy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new gi("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var N=p?e0(h,p):new FormData(h);Rf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=p?e0(h,p):new FormData(h),Rf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ud=Hh[od],Hb=ud.toLowerCase(),Fb=ud[0].toUpperCase()+ud.slice(1);Yn(Hb,"on"+Fb)}Yn(Dp,"onAnimationEnd"),Yn(kp,"onAnimationIteration"),Yn(Mp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(rb,"onTransitionRun"),Yn(lb,"onTransitionStart"),Yn(ob,"onTransitionCancel"),Yn(Op,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function t0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],N=b.instance,P=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(b=l[p],N=b.instance,P=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=N}}}}function Ne(t,n){var a=n[tr];a===void 0&&(a=n[tr]=new Set);var l=t+"__bubble";a.has(l)||(n0(n,t,2,!1),a.add(l))}function cd(t,n,a){var l=0;n&&(l|=4),n0(a,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[fc]){t[fc]=!0,_l.forEach(function(a){a!=="selectionchange"&&(Gb.has(a)||cd(a,!1,t),cd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,cd("selectionchange",!1,n))}}function n0(t,n,a,l){switch(D0(n)){case 2:var h=vT;break;case 8:h=ET;break;default:h=Ad}a=h.bind(null,n,a,t),h=void 0,!_a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function fd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=ui(b),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}b=b.parentNode}}l=l.return}ms(function(){var P=f,Q=xn(a),X=[];e:{var B=Vp.get(t);if(B!==void 0){var H=gi,le=t;switch(t){case"keypress":if(Ea(a)===0)break e;case"keydown":case"keyup":H=wu;break;case"focusin":le="focus",H=Ta;break;case"focusout":le="blur",H=Ta;break;case"beforeblur":case"afterblur":H=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Dp:case kp:case Mp:H=gu;break;case Op:H=w;break;case"scroll":case"scrollend":H=Il;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=Se}var ye=(n&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),V=ye?B!==null?B+"Capture":null:B;ye=[];for(var k=P,z;k!==null;){var Y=k;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||V===null||(Y=Fn(k,V),Y!=null&&ye.push(lo(k,Y,z))),Ze)break;k=k.return}0<ye.length&&(B=new H(B,le,null,a,Q),X.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Rl&&(le=a.relatedTarget||a.fromElement)&&(ui(le)||le[li]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=P,le=le?ui(le):null,le!==null&&(Ze=c(le),ye=le.tag,le!==Ze||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(H=null,le=P),H!==le)){if(ye=Dl,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Vi,Y="onPointerLeave",V="onPointerEnter",k="pointer"),Ze=H==null?B:dn(H),z=le==null?B:dn(le),B=new ye(Y,k+"leave",H,a,Q),B.target=Ze,B.relatedTarget=z,Y=null,ui(Q)===P&&(ye=new ye(V,k+"enter",le,a,Q),ye.target=z,ye.relatedTarget=Ze,Y=ye),Ze=Y,H&&le)t:{for(ye=Qb,V=H,k=le,z=0,Y=V;Y;Y=ye(Y))z++;Y=0;for(var me=k;me;me=ye(me))Y++;for(;0<z-Y;)V=ye(V),z--;for(;0<Y-z;)k=ye(k),Y--;for(;z--;){if(V===k||k!==null&&V===k.alternate){ye=V;break t}V=ye(V),k=ye(k)}ye=null}else ye=null;H!==null&&i0(X,B,H,ye,!1),le!==null&&Ze!==null&&i0(X,Ze,le,ye,!0)}}e:{if(B=P?dn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Pe=Ep;else if(_p(B))if(bp)Pe=ib;else{Pe=tb;var ce=eb}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ar(P.elementType)&&(Pe=Ep):Pe=nb;if(Pe&&(Pe=Pe(t,P))){vp(X,Pe,a,Q);break e}ce&&ce(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Sl(B,"number",B.value)}switch(ce=P?dn(P):window,t){case"focusin":(_p(ce)||ce.contentEditable==="true")&&(dr=ce,Ph=P,jl=null);break;case"focusout":jl=Ph=dr=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Np(X,a,Q);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":Np(X,a,Q)}var Re;if(He)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fr?wa(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(vi&&a.locale!=="ko"&&(fr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fr&&(Re=Nl()):(pi=Q,Cl="value"in pi?pi.value:pi.textContent,fr=!0)),ce=dc(P,ke),0<ce.length&&(ke=new _i(ke,t,null,a,Q),X.push({event:ke,listeners:ce}),Re?ke.data=Re:(Re=hr(a),Re!==null&&(ke.data=Re)))),(Re=Rn?$E(t,a):JE(t,a))&&(ke=dc(P,"onBeforeInput"),0<ke.length&&(ce=new _i("onBeforeInput","beforeinput",null,a,Q),X.push({event:ce,listeners:ke}),ce.data=Re)),qb(X,t,P,a,Q)}t0(X,n)})}function lo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function dc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(t,a),h!=null&&l.unshift(lo(t,h,f)),h=Fn(t,n),h!=null&&l.push(lo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Qb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i0(t,n,a,l,h){for(var f=n._reactName,p=[];a!==null&&a!==l;){var b=a,N=b.alternate,P=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||P===null||(N=P,h?(P=Fn(a,f),P!=null&&p.unshift(lo(a,P,N))):h||(P=Fn(a,f),P!=null&&p.push(lo(a,P,N)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var Kb=/\r\n?/g,Yb=/\u0000|\uFFFD/g;function s0(t){return(typeof t=="string"?t:""+t).replace(Kb,`
`).replace(Yb,"")}function a0(t,n){return n=s0(n),s0(t)===n}function Je(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Al(t,l,f);break;case"data":if(n!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=rr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=rr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=rr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,ir(t,a,l))}}function dd(t,n,a,l,h,f){switch(a){case"style":Al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,f,p,a,null)}}h&&Je(t,n,"srcSet",a.srcSet,a,null),l&&Je(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var b=f=p=h=null,N=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":N=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Je(t,n,l,Q,a,null)}}cu(t,f,b,N,P,p,h,!1);return;case"select":Ne("invalid",t),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:Je(t,n,h,b,a,null)}n=f,a=p,t.multiple=!!l,n!=null?cs(t,!!l,n,!1):a!=null&&cs(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Je(t,n,p,b,a,null)}hs(t,l,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,n,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ne(ro[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,P,l,a,null)}return;default:if(ar(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&dd(t,n,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,n,b,l,a,null))}function Xb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,N=null,P=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=X;default:l.hasOwnProperty(H)||Je(t,n,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&Je(t,n,B,H,l,X)}}sr(t,p,b,N,P,Q,f,h);return;case"select":H=p=b=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||Je(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==N&&Je(t,n,h,f,l,N)}n=b,a=p,l=H,B!=null?cs(t,!!a,B,!1):!!l!=!!a&&(n!=null?cs(t,!!a,n,!0):cs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,n,b,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(t,n,p,h,l,f)}hu(t,B,H);return;case"option":for(var le in a)B=a[le],a.hasOwnProperty(le)&&B!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:Je(t,n,le,null,l,B));for(N in l)B=l[N],H=a[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,n,N,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!l.hasOwnProperty(ye)&&Je(t,n,ye,null,l,B);for(P in l)if(B=l[P],H=a[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Je(t,n,P,B,l,H)}return;default:if(ar(n)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&dd(t,n,Ze,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||dd(t,n,Q,B,l,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Je(t,n,V,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Je(t,n,X,B,l,H)}function r0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $b(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&r0(p)){for(p=0,b=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],P=N.startTime;if(P>b)break;var Q=N.transferSize,X=N.initiatorType;Q&&r0(X)&&(N=N.responseEnd,p+=Q*(N<b?1:(b-P)/(N-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,pd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function l0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function Jb(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,Wb=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(t){return c0.resolve(null).then(t).catch(eT)}:u0;function eT(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function h0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Pr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oo(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[oi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&oo(t.ownerDocument.body);a=h}while(a);Pr(n)}function f0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function nT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function d0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function m0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return On(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function p0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function g0(t,n,a){switch(n=mc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function oo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nr(t)}var Vn=new Map,y0=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ie.d;ie.d={f:sT,r:aT,D:rT,C:lT,L:oT,m:uT,X:hT,S:cT,M:fT};function sT(){var t=$i.f(),n=rc();return t||n}function aT(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):$i.r(t)}var Ur=typeof document>"u"?null:document;function _0(t,n,a){var l=Ur;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y0.has(h)||(y0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function rT(t){$i.D(t),_0("dns-prefetch",t,null)}function lT(t,n){$i.C(t,n),_0("preconnect",t,n)}function oT(t,n,a){$i.L(t,n,a);var l=Ur;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Lr(t);break;case"script":f=zr(t)}Vn.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(uo(f))||n==="script"&&l.querySelector(co(f))||(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function uT(t,n){$i.m(t,n);var a=Ur;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=zr(t)}if(!Vn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(f)))return}l=a.createElement("link"),Ft(l,"link",t),bt(l),a.head.appendChild(l)}}}function cT(t,n,a){$i.S(t,n,a);var l=Ur;if(l&&t){var h=ci(l).hoistableStyles,f=Lr(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(uo(f)))b.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&Td(t,a);var N=p=l.createElement("link");bt(N),Ft(N,"link",t),N._p=new Promise(function(P,Q){N.onload=P,N.onerror=Q}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function hT(t,n){$i.X(t,n);var a=Ur;if(a&&t){var l=ci(a).hoistableScripts,h=zr(t),f=l.get(h);f||(f=a.querySelector(co(h)),f||(t=x({src:t,async:!0},n),(n=Vn.get(h))&&wd(t,n),f=a.createElement("script"),bt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fT(t,n){$i.M(t,n);var a=Ur;if(a&&t){var l=ci(a).hoistableScripts,h=zr(t),f=l.get(h);f||(f=a.querySelector(co(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&wd(t,n),f=a.createElement("script"),bt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v0(t,n,a,l){var h=(h=ve.current)?pc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Lr(a.href),a=ci(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Lr(a.href);var f=ci(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(uo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||dT(h,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=zr(a),a=ci(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Lr(t){return'href="'+sn(t)+'"'}function uo(t){return'link[rel="stylesheet"]['+t+"]"}function E0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),bt(n),t.head.appendChild(n))}function zr(t){return'[src="'+sn(t)+'"]'}function co(t){return"script[async]"+t}function b0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Ft(l,"style",h),gc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Lr(a.href);var f=t.querySelector(uo(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;l=E0(a),(h=Vn.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var p=f;return p._p=new Promise(function(b,N){p.onload=b,p.onerror=N}),Ft(f,"link",l),n.state.loading|=4,gc(f,a.precedence,t),n.instance=f;case"script":return f=zr(a.src),(h=t.querySelector(co(f)))?(n.instance=h,bt(h),h):(l=a,(h=Vn.get(f))&&(l=x({},a),wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,a.precedence,t));return n.instance}function gc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function T0(t,n,a){if(yc===null){var l=new Map,h=yc=new Map;h.set(a,l)}else h=yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[oi]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function w0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Lr(l.href),f=n.querySelector(uo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,bt(f);return}f=n.ownerDocument||n,l=E0(l),(h=Vn.get(h))&&Td(l,h),f=f.createElement("link"),bt(f);var p=f;p._p=new Promise(function(b,N){p.onload=b,p.onerror=N}),Ft(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=_c.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Sd=0;function gT(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sd===0&&(Sd=62500*$b());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(yT,t),vc=null,_c.call(t))}function yT(t,n){if(!(n.state.loading&4)){var a=vc.get(t);if(a)var l=a.get(null);else{a=new Map,vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ho={$$typeof:ue,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function _T(t,n,a,l,h,f,p,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function x0(t,n,a,l,h,f,p,b,N,P,Q,X){return t=new _T(t,n,a,p,N,P,Q,X,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=nf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lf(f),t}function A0(t){return t?(t=gr,t):gr}function R0(t,n,a,l,h,f){h=A0(h),l.context===null?l.context=h:l.pendingContext=h,l=ws(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ss(t,l,n),a!==null&&(cn(a,t,n),Hl(a,t,n))}function C0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xd(t,n){C0(t,n),(t=t.alternate)&&C0(t,n)}function N0(t){if(t.tag===13||t.tag===31){var n=Aa(t,67108864);n!==null&&cn(n,t,67108864),xd(t,67108864)}}function I0(t){if(t.tag===13||t.tag===31){var n=bn();n=ma(n);var a=Aa(t,n);a!==null&&cn(a,t,n),xd(t,n)}}var bc=!0;function vT(t,n,a,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Ad(t,n,a,l)}finally{ie.p=f,G.T=h}}function ET(t,n,a,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Ad(t,n,a,l)}finally{ie.p=f,G.T=h}}function Ad(t,n,a,l){if(bc){var h=Rd(l);if(h===null)fd(t,n,l,Tc,a),k0(t,l);else if(TT(h,t,n,a,l))l.stopPropagation();else if(k0(t,l),n&4&&-1<bT.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var N=1<<31-dt(p);b.entanglements[1]|=N,p&=~N}wi(f),(Fe&6)===0&&(sc=en()+500,ao(0))}}break;case 31:case 13:b=Aa(f,2),b!==null&&cn(b,f,2),rc(),xd(f,2)}if(f=Rd(l),f===null&&fd(t,n,l,Tc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(t,n,l,null,a)}}function Rd(t){return t=xn(t),Cd(t)}var Tc=null;function Cd(t){if(Tc=null,t=ui(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function D0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case ml:return 2;case pl:return 8;case os:case Mh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Nd=!1,Vs=null,js=null,Us=null,fo=new Map,mo=new Map,Ls=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(n.pointerId)}}function po(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&N0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function TT(t,n,a,l,h){switch(n){case"focusin":return Vs=po(Vs,t,n,a,l,h),!0;case"dragenter":return js=po(js,t,n,a,l,h),!0;case"mouseover":return Us=po(Us,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return fo.set(f,po(fo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,mo.set(f,po(mo.get(f)||null,t,n,a,l,h)),!0}return!1}function M0(t){var n=ui(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){I0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){I0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rl=l,a.target.dispatchEvent(l),Rl=null}else return n=Sn(a),n!==null&&N0(n),t.blockedOn=a,!1;n.shift()}return!0}function O0(t,n,a){wc(t)&&a.delete(n)}function wT(){Nd=!1,Vs!==null&&wc(Vs)&&(Vs=null),js!==null&&wc(js)&&(js=null),Us!==null&&wc(Us)&&(Us=null),fo.forEach(O0),mo.forEach(O0)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wT)))}var xc=null;function V0(t){xc!==t&&(xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Cd(l||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pr(t){function n(N){return Sc(N,t)}Vs!==null&&Sc(Vs,t),js!==null&&Sc(js,t),Us!==null&&Sc(Us,t),fo.forEach(n),mo.forEach(n);for(var a=0;a<Ls.length;a++){var l=Ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)M0(a),a.blockedOn===null&&Ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[Vt]||null;if(typeof f=="function")p||V0(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Vt]||null)b=p.formAction;else if(Cd(h)!==null)continue}else b=p.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),V0(a)}}}function j0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Ac.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=bn();R0(a,l,t,n,null,null)},Ac.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R0(t.current,2,null,t,null,null),rc(),n[li]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ls.length&&n!==0&&n<Ls[a].priority;a++);Ls.splice(a,0,t),a===0&&M0(t)}};var U0=e.version;if(U0!=="19.2.4")throw Error(r(527,U0,"19.2.4"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zn=Rc.inject(ST),zt=Rc}catch{}}return yo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Fg,f=Gg,p=Qg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=x0(t,1,!1,null,null,a,l,null,h,f,p,j0),t[li]=n.current,hd(t),new Id(n)},yo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Fg,p=Gg,b=Qg,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=x0(t,1,!0,n,a??null,l,h,N,f,p,b,j0),n.context=A0(null),a=n.current,l=bn(),l=ma(l),h=ws(l),h.callback=null,Ss(a,h,l),a=l,n.current.lanes=a,fa(n,a),wi(n),t[li]=n.current,hd(t),new Ac(n)},yo.version="19.2.4",yo}var K0;function OT(){if(K0)return Md.exports;K0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=MT(),Md.exports}var VT=OT();const jT=()=>{};var Y0={};const Sv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},UT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,T=c>>2,x=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,L=y&63;_||(L=64,d||(D=64)),r.push(i[T],i[x],i[D],i[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Sv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):UT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||x==null)throw new LT;const D=c<<2|g>>4;if(r.push(D),y!==64){const L=g<<4&240|y>>2;if(r.push(L),x!==64){const K=y<<6&192|x;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zT=function(s){const e=Sv(s);return xv.encodeByteArray(e,!0)},Qc=function(s){return zT(s).replace(/\./g,"")},Av=function(s){try{return xv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BT=()=>PT().__FIREBASE_DEFAULTS__,qT=()=>{if(typeof process>"u"||typeof Y0>"u")return;const s=Y0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},HT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Av(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return jT()||BT()||qT()||HT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Rv=s=>fh()?.emulatorHosts?.[s],FT=s=>{const e=Rv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Cv=()=>fh()?.config,Nv=s=>fh()?.[`_${s}`];class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function sl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iv(s){return(await fetch(s,{credentials:"include"})).ok}function QT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const wo={};function KT(){const s={prod:[],emulator:[]};for(const e of Object.keys(wo))wo[e]?s.emulator.push(e):s.prod.push(e);return s}function YT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let X0=!1;function Dv(s,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||wo[s]===e||wo[s]||X0)return;wo[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=KT().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,L){D.setAttribute("width","24"),D.setAttribute("id",L),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{X0=!0,d()},D}function T(D,L){D.setAttribute("id",L),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function x(){const D=YT(r),L=i("text"),K=document.getElementById(L)||document.createElement("span"),J=i("learnmore"),W=document.getElementById(J)||document.createElement("a"),re=i("preprendIcon"),se=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ue=D.element;g(ue),T(W,J);const Ae=y();_(se,re),ue.append(se,K,W,Ae),document.body.appendChild(ue)}c?(K.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function $T(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function WT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e2(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function t2(){return!$T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const s2="FirebaseError";class rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=s2,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?a2(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new rs(o,g,r)}}function a2(s,e){return s.replace(r2,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const r2=/\{\$([^}]+)}/g;function l2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ha(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if($0(c)&&$0(d)){if(!Ha(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function $0(s){return s!==null&&typeof s=="object"}function Bo(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function o2(s,e){const i=new u2(s,e);return i.subscribe.bind(i)}class u2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");c2(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}function Wt(s){return s&&s._delegate?s._delegate:s}class Fa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class h2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new GT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d2(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f2(s){return s===za?void 0:s}function d2(s){return s.instantiationMode==="EAGER"}class m2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new h2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const p2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},g2=Me.INFO,y2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},_2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=y2[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=_2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const v2=(s,e)=>e.some(i=>s instanceof i);let J0,Z0;function E2(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,Xd=new WeakMap,Mv=new WeakMap,Ld=new WeakMap,Sm=new WeakMap;function T2(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ys(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&kv.set(i,s)}).catch(()=>{}),Sm.set(e,s),e}function w2(s){if(Xd.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,e)}let $d={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Mv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function S2(s){$d=s($d)}function x2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(zd(this),e,...i);return Mv.set(r,e.sort?e.sort():[e]),Ys(r)}:b2().includes(s)?function(...e){return s.apply(zd(this),e),Ys(kv.get(this))}:function(...e){return Ys(s.apply(zd(this),e))}}function A2(s){return typeof s=="function"?x2(s):(s instanceof IDBTransaction&&w2(s),v2(s,E2())?new Proxy(s,$d):s)}function Ys(s){if(s instanceof IDBRequest)return T2(s);if(Ld.has(s))return Ld.get(s);const e=A2(s);return e!==s&&(Ld.set(s,e),Sm.set(e,s)),e}const zd=s=>Sm.get(s);function R2(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Ys(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const C2=["get","getKey","getAll","getAllKeys","count"],N2=["put","add","delete","clear"],Pd=new Map;function W0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=N2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||C2.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Pd.set(e,c),c}S2(s=>({...s,get:(e,i,r)=>W0(e,i)||s.get(e,i,r),has:(e,i)=>!!W0(e,i)||s.has(e,i)}));class I2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(D2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function D2(s){return s.getComponent()?.type==="VERSION"}const Jd="@firebase/app",e_="0.14.7";const es=new wm("@firebase/app"),k2="@firebase/app-compat",M2="@firebase/analytics-compat",O2="@firebase/analytics",V2="@firebase/app-check-compat",j2="@firebase/app-check",U2="@firebase/auth",L2="@firebase/auth-compat",z2="@firebase/database",P2="@firebase/data-connect",B2="@firebase/database-compat",q2="@firebase/functions",H2="@firebase/functions-compat",F2="@firebase/installations",G2="@firebase/installations-compat",Q2="@firebase/messaging",K2="@firebase/messaging-compat",Y2="@firebase/performance",X2="@firebase/performance-compat",$2="@firebase/remote-config",J2="@firebase/remote-config-compat",Z2="@firebase/storage",W2="@firebase/storage-compat",ew="@firebase/firestore",tw="@firebase/ai",nw="@firebase/firestore-compat",iw="firebase",sw="12.8.0";const Zd="[DEFAULT]",aw={[Jd]:"fire-core",[k2]:"fire-core-compat",[O2]:"fire-analytics",[M2]:"fire-analytics-compat",[j2]:"fire-app-check",[V2]:"fire-app-check-compat",[U2]:"fire-auth",[L2]:"fire-auth-compat",[z2]:"fire-rtdb",[P2]:"fire-data-connect",[B2]:"fire-rtdb-compat",[q2]:"fire-fn",[H2]:"fire-fn-compat",[F2]:"fire-iid",[G2]:"fire-iid-compat",[Q2]:"fire-fcm",[K2]:"fire-fcm-compat",[Y2]:"fire-perf",[X2]:"fire-perf-compat",[$2]:"fire-rc",[J2]:"fire-rc-compat",[Z2]:"fire-gcs",[W2]:"fire-gcs-compat",[ew]:"fire-fst",[nw]:"fire-fst-compat",[tw]:"fire-vertex","fire-js":"fire-js",[iw]:"fire-js-all"};const No=new Map,rw=new Map,Wd=new Map;function t_(s,e){try{s.container.addComponent(e)}catch(i){es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Jr(s){const e=s.name;if(Wd.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,s);for(const i of No.values())t_(i,s);for(const i of rw.values())t_(i,s);return!0}function xm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Un(s){return s==null?!1:s.settings!==void 0}const lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Po("app","Firebase",lw);class ow{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const al=sw;function Ov(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Zd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw Xs.create("no-options");const c=No.get(o);if(c){if(Ha(i,c.options)&&Ha(r,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new m2(o);for(const _ of Wd.values())d.addComponent(_);const g=new ow(i,r,d);return No.set(o,g),g}function Am(s=Zd){const e=No.get(s);if(!e&&s===Zd&&Cv())return Ov();if(!e)throw Xs.create("no-app",{appName:s});return e}function uw(){return Array.from(No.values())}function $s(s,e,i){let r=aw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Jr(new Fa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const cw="firebase-heartbeat-database",hw=1,Io="firebase-heartbeat-store";let Bd=null;function Vv(){return Bd||(Bd=R2(cw,hw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function fw(s){try{const i=(await Vv()).transaction(Io),r=await i.objectStore(Io).get(jv(s));return await i.done,r}catch(e){if(e instanceof rs)es.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e?.message});es.warn(i.message)}}}async function n_(s,e){try{const r=(await Vv()).transaction(Io,"readwrite");await r.objectStore(Io).put(e,jv(s)),await r.done}catch(i){if(i instanceof rs)es.warn(i.message);else{const r=Xs.create("idb-set",{originalErrorMessage:i?.message});es.warn(r.message)}}}function jv(s){return`${s.name}!${s.options.appId}`}const dw=1024,mw=30;class pw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=i_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>mw){const o=_w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i_(),{heartbeatsToSend:i,unsentEntries:r}=gw(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return es.warn(e),""}}}function i_(){return new Date().toISOString().substring(0,10)}function gw(s,e=dw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),s_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class yw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s_(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function _w(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function vw(s){Jr(new Fa("platform-logger",e=>new I2(e),"PRIVATE")),Jr(new Fa("heartbeat",e=>new pw(e),"PRIVATE")),$s(Jd,e_,s),$s(Jd,e_,"esm2020"),$s("fire-js","")}vw("");var Ew="firebase",bw="12.8.0";$s(Ew,bw,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tw=Uv,Lv=new Po("auth","Firebase",Uv());const Kc=new wm("@firebase/auth");function ww(s,...e){Kc.logLevel<=Me.WARN&&Kc.warn(`Auth (${al}): ${s}`,...e)}function Oc(s,...e){Kc.logLevel<=Me.ERROR&&Kc.error(`Auth (${al}): ${s}`,...e)}function ts(s,...e){throw Rm(s,...e)}function xi(s,...e){return Rm(s,...e)}function zv(s,e,i){const r={...Tw(),[e]:i};return new Po("auth","Firebase",r).create(e,{appName:s.name})}function Wi(s){return zv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Lv.create(s,...e)}function Ee(s,e,...i){if(!s)throw Rm(e,...i)}function Ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Oc(e),new Error(e)}function ns(s,e){s||Ji(e)}function em(){return typeof self<"u"&&self.location?.href||""}function Sw(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}function xw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sw()||ZT()||"connection"in navigator)?navigator.onLine:!0}function Aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class qo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ns(i>e,"Short delay should be less than long delay!"),this.isMobile=XT()||WT()}get(){return xw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(s,e){ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Pv{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nw=new qo(3e4,6e4);function Ho(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function rl(s,e,i,r,o={}){return Bv(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Bo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return JT()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&sl(s.emulatorConfig.host)&&(y.credentials="include"),Pv.fetch()(await qv(s,s.config.apiHost,i,g),y)})}async function Bv(s,e,i){s._canInitEmulator=!1;const r={...Rw,...e};try{const o=new Iw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(s,T,y);ts(s,T)}}catch(o){if(o instanceof rs)throw o;ts(s,"network-request-failed",{message:String(o)})}}async function Nm(s,e,i,r,o={}){const c=await rl(s,e,i,r,o);return"mfaPendingCredential"in c&&ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Cm(s.config,o):`${s.config.apiScheme}://${o}`;return Cw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),Nw.get())})}}function Cc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=xi(s,e,r);return o.customData._tokenResponse=i,o}async function Dw(s,e){return rl(s,"POST","/v1/accounts:delete",e)}async function Yc(s,e){return rl(s,"POST","/v1/accounts:lookup",e)}function So(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kw(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),o=Im(r);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:So(qd(o.auth_time)),issuedAtTime:So(qd(o.iat)),expirationTime:So(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Im(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Av(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function r_(s){const e=Im(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Do(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof rs&&Mw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Mw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ow{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const e=s.auth,i=await s.getIdToken(),r=await Do(s,Yc(e,{idToken:i}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Hv(o.providerUserInfo):[],d=jw(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Vw(s){const e=Wt(s);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jw(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Hv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Uw(s,e){const i=await Bv(s,{},async()=>{const r=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await qv(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&sl(s.emulatorConfig.host)&&(_.credentials="include"),Pv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Lw(s,e){return rl(s,"POST","/v2/accounts:revokeToken",Ho(s,e))}class Qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=r_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await Uw(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new Qr;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qr,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Ps(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Do(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return kw(this,e)}reload(){return Vw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Do(this,Dw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:x,emailVerified:D,isAnonymous:L,providerData:K,stsTokenManager:J}=i;Ee(x&&J,e,"internal-error");const W=Qr.fromJSON(this.name,J);Ee(typeof x=="string",e,"internal-error"),Ps(r,e.name),Ps(o,e.name),Ee(typeof D=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),Ps(c,e.name),Ps(d,e.name),Ps(g,e.name),Ps(_,e.name),Ps(y,e.name),Ps(T,e.name);const re=new Zn({uid:x,auth:e,email:o,emailVerified:D,displayName:r,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:T});return K&&Array.isArray(K)&&(re.providerData=K.map(se=>({...se}))),_&&(re._redirectEventId=_),re}static async _fromIdTokenResponse(e,i,r=!1){const o=new Qr;o.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Hv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Qr;g.updateFromIdToken(r);const _=new Zn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const l_=new Map;function Zi(s){ns(s instanceof Function,"Expected a class definition");let e=l_.get(s);return e?(ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,l_.set(s,e),e)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Fv.type="NONE";const o_=Fv;function Vc(s,e,i){return`firebase:${s}:${e}:${i}`}class Kr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Kr(Zi(o_),e,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(o_);const d=Vc(r,e.config.apiKey,e.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let x;if(typeof T=="string"){const D=await Yc(e,{idToken:T}).catch(()=>{});if(!D)break;x=await Zn._fromGetAccountInfoResponse(e,D,T)}else x=Zn._fromJSON(e,T);y!==c&&(g=x),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Kr(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Kr(c,e,r))}}function u_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($v(e))return"Blackberry";if(Jv(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if(Xv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Gv(s=Zt()){return/firefox\//i.test(s)}function Qv(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(s=Zt()){return/crios\//i.test(s)}function Yv(s=Zt()){return/iemobile/i.test(s)}function Xv(s=Zt()){return/android/i.test(s)}function $v(s=Zt()){return/blackberry/i.test(s)}function Jv(s=Zt()){return/webos/i.test(s)}function Dm(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function zw(s=Zt()){return Dm(s)&&!!window.navigator?.standalone}function Pw(){return e2()&&document.documentMode===10}function Zv(s=Zt()){return Dm(s)||Xv(s)||Jv(s)||$v(s)||/windows phone/i.test(s)||Yv(s)}function Wv(s,e=[]){let i;switch(s){case"Browser":i=u_(Zt());break;case"Worker":i=`${u_(Zt())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${r}`}class Bw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function qw(s,e={}){return rl(s,"GET","/v2/passwordPolicy",Ho(s,e))}const Hw=6;class Fw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Hw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Gw{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new Bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Kr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Aw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Wi(this));const i=e?Wt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qw(this),i=new Fw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Kr.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ww(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fo(s){return Wt(s)}class c_{constructor(e){this.auth=e,this.observer=null,this.addObserver=o2(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qw(s){km=s}function Kw(s){return km.loadJS(s)}function Yw(){return km.gapiScript}function Xw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function $w(s,e){const i=xm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ha(c,e??{}))return o;ts(o,"already-initialized")}return i.initialize({options:e})}function Jw(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Zi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zw(s,e,i){const r=Fo(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=e1(e),{host:d,port:g}=Ww(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Ha(y,r.config.emulator)&&Ha(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,sl(d)?(Iv(`${c}//${d}${_}`),Dv("Auth",!0)):eS()}function e1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Ww(s){const e=e1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:h_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:h_(d)}}}function h_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function eS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class t1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function Yr(s,e){return Nm(s,"POST","/v1/accounts:signInWithIdp",Ho(s,e))}const tS="http://localhost";class Ga extends t1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Ga(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Yr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Yr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Yr(e,i)}buildRequest(){const e={requestUri:tS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bo(i)}return e}}class n1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Go extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qs extends Go{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ga._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends Go{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends Go{constructor(){super("twitter.com")}static credential(e,i){return Ga._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function nS(s,e){return Nm(s,"POST","/v1/accounts:signUp",Ho(s,e))}class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Zn._fromIdTokenResponse(e,r,o),d=f_(r);return new is({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=f_(r);return new is({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function f_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function iS(s){if(Un(s.app))return Promise.reject(Wi(s));const e=Fo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await nS(e,{returnSecureToken:!0}),r=await is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class $c extends rs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new $c(e,i,r,o)}}function i1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,e,r):c})}async function sS(s,e,i=!1){const r=await Do(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return is._forOperation(s,"link",r)}async function aS(s,e,i=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(Wi(r));const o="reauthenticate";try{const c=await Do(s,i1(r,o,e,s),i);Ee(c.idToken,r,"internal-error");const d=Im(c.idToken);Ee(d,r,"internal-error");const{sub:g}=d;return Ee(s.uid===g,r,"user-mismatch"),is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ts(r,"user-mismatch"),c}}async function rS(s,e,i=!1){if(Un(s.app))return Promise.reject(Wi(s));const r="signIn",o=await i1(s,r,e),c=await is._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function lS(s,e){return Nm(s,"POST","/v1/accounts:signInWithCustomToken",Ho(s,e))}async function oS(s,e){if(Un(s.app))return Promise.reject(Wi(s));const i=Fo(s),r=await lS(i,{token:e,returnSecureToken:!0}),o=await is._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function uS(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function cS(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function hS(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}const Jc="__sak";class s1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fS=1e3,dS=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Pw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dS):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},fS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const mS=a1;class r1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}r1.type="SESSION";const l1=r1;function pS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await pS(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Mm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class gS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Mm("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const D=x;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function yS(s){Ai().location.href=s}function o1(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function _S(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vS(){return navigator?.serviceWorker?.controller||null}function ES(){return o1()?self:null}const u1="firebaseLocalStorageDb",bS=1,Zc="firebaseLocalStorage",c1="fbase_key";class Qo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,e){return s.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function TS(){const s=indexedDB.deleteDatabase(u1);return new Qo(s).toPromise()}function nm(){const s=indexedDB.open(u1,bS);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zc,{keyPath:c1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zc)?e(r):(r.close(),await TS(),e(await nm()))})})}async function d_(s,e,i){const r=mh(s,!0).put({[c1]:e,value:i});return new Qo(r).toPromise()}async function wS(s,e){const i=mh(s,!1).get(e),r=await new Qo(i).toPromise();return r===void 0?null:r.value}function m_(s,e){const i=mh(s,!0).delete(e);return new Qo(i).toPromise()}const SS=800,xS=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>xS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(ES()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _S(),!this.activeServiceWorker)return;this.sender=new gS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await d_(e,Jc,"1"),await m_(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>d_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>wS(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>m_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=mh(o,!1).getAll();return new Qo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const AS=h1;new qo(3e4,6e4);function RS(s,e){return e?Zi(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Om extends t1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Yr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function CS(s){return rS(s.auth,new Om(s),s.bypassAuthState)}function NS(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),aS(i,new Om(s),s.bypassAuthState)}async function IS(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),sS(i,new Om(s),s.bypassAuthState)}class f1{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CS;case"linkViaPopup":case"linkViaRedirect":return IS;case"reauthViaPopup":case"reauthViaRedirect":return NS;default:ts(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DS=new qo(2e3,1e4);class Gr extends f1{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DS.get())};e()}}Gr.currentPopupAction=null;const kS="pendingRedirect",jc=new Map;class MS extends f1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await OS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OS(s,e){const i=US(e),r=jS(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function VS(s,e){jc.set(s._key(),e)}function jS(s){return Zi(s._redirectPersistence)}function US(s){return Vc(kS,s.config.apiKey,s.name)}async function LS(s,e,i=!1){if(Un(s.app))return Promise.reject(Wi(s));const r=Fo(s),o=RS(r,e),d=await new MS(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const zS=600*1e3;class PS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BS(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!d1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zS&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function d1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function BS(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(s);default:return!1}}async function qS(s,e={}){return rl(s,"GET","/v1/projects",e)}const HS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FS=/^https?/;async function GS(s){if(s.config.emulator)return;const{authorizedDomains:e}=await qS(s);for(const i of e)try{if(QS(i))return}catch{}ts(s,"unauthorized-domain")}function QS(s){const e=em(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!FS.test(i))return!1;if(HS.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const KS=new qo(3e4,6e4);function g_(){const s=Ai().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function YS(s){return new Promise((e,i)=>{function r(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),i(xi(s,"network-request-failed"))},timeout:KS.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)r();else{const o=Xw("iframefcb");return Ai()[o]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},Kw(`${Yw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function XS(s){return Uc=Uc||YS(s),Uc}const $S=new qo(5e3,15e3),JS="__/auth/iframe",ZS="emulator/auth/iframe",WS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tx(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Cm(e,ZS):`https://${s.config.authDomain}/${JS}`,r={apiKey:e.apiKey,appName:s.name,v:al},o=ex.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bo(r).slice(1)}`}async function nx(s){const e=await XS(s),i=Ai().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:tx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WS,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),g=Ai().setTimeout(()=>{c(d)},$S.get());function _(){Ai().clearTimeout(g),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sx=500,ax=600,rx="_blank",lx="http://localhost";class y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ox(s,e,i,r=sx,o=ax){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...ix,width:r.toString(),height:o.toString(),top:c,left:d},y=Zt().toLowerCase();i&&(g=Kv(y)?rx:i),Gv(y)&&(e=e||lx,_.scrollbars="yes");const T=Object.entries(_).reduce((D,[L,K])=>`${D}${L}=${K},`,"");if(zw(y)&&g!=="_self")return ux(e||"",g),new y_(null);const x=window.open(e||"",g,T);Ee(x,s,"popup-blocked");try{x.focus()}catch{}return new y_(x)}function ux(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const cx="__/auth/handler",hx="emulator/auth/handler",fx=encodeURIComponent("fac");async function __(s,e,i,r,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:al,eventId:o};if(e instanceof n1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",l2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))d[T]=x}if(e instanceof Go){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${fx}=${encodeURIComponent(_)}`:"";return`${dx(s)}?${Bo(g).slice(1)}${y}`}function dx({config:s}){return s.emulator?Cm(s,hx):`https://${s.authDomain}/${cx}`}const Hd="webStorageSupport";class mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=LS,this._overrideRedirectResult=VS}async _openPopup(e,i,r,o){ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await __(e,i,r,em(),o);return ox(e,c,Mm())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await __(e,i,r,em(),o);return yS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ns(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await nx(e),r=new PS(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=GS(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zv()||Qv()||Dm()}}const px=mx;var v_="@firebase/auth",E_="1.12.0";class gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _x(s){Jr(new Fa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(s)},y=new Gw(r,o,c,_);return Jw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Jr(new Fa("auth-internal",e=>{const i=Fo(e.getProvider("auth").getImmediate());return(r=>new gx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(v_,E_,yx(s)),$s(v_,E_,"esm2020")}const vx=300,Ex=Nv("authIdTokenMaxAge")||vx;let b_=null;const bx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Ex)return;const o=i?.token;b_!==o&&(b_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Tx(s=Am()){const e=xm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=$w(s,{popupRedirectResolver:px,persistence:[AS,mS,l1]}),r=Nv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=bx(c.toString());cS(i,d,()=>d(i.currentUser)),uS(i,g=>d(g))}}const o=Rv("auth");return o&&Zw(i,`http://${o}`),i}function wx(){return document.getElementsByTagName("head")?.[0]??document}Qw({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=xi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",wx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_x("Browser");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,m1;(function(){var s;function e(I,S){function A(){}A.prototype=S.prototype,I.F=S.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(O,M,j){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return S.prototype[M].apply(O,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,A){A||(A=0);const O=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)O[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;M<16;++M)O[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=I.g[0],A=I.g[1],M=I.g[2];let j=I.g[3],C;C=S+(j^A&(M^j))+O[0]+3614090360&4294967295,S=A+(C<<7&4294967295|C>>>25),C=j+(M^S&(A^M))+O[1]+3905402710&4294967295,j=S+(C<<12&4294967295|C>>>20),C=M+(A^j&(S^A))+O[2]+606105819&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(S^M&(j^S))+O[3]+3250441966&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(j^A&(M^j))+O[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=j+(M^S&(A^M))+O[5]+1200080426&4294967295,j=S+(C<<12&4294967295|C>>>20),C=M+(A^j&(S^A))+O[6]+2821735955&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(S^M&(j^S))+O[7]+4249261313&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(j^A&(M^j))+O[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=j+(M^S&(A^M))+O[9]+2336552879&4294967295,j=S+(C<<12&4294967295|C>>>20),C=M+(A^j&(S^A))+O[10]+4294925233&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(S^M&(j^S))+O[11]+2304563134&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(j^A&(M^j))+O[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=j+(M^S&(A^M))+O[13]+4254626195&4294967295,j=S+(C<<12&4294967295|C>>>20),C=M+(A^j&(S^A))+O[14]+2792965006&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(S^M&(j^S))+O[15]+1236535329&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(M^j&(A^M))+O[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(S^A))+O[6]+3225465664&4294967295,j=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(j^S))+O[11]+643717713&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^S&(M^j))+O[0]+3921069994&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(M^j&(A^M))+O[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(S^A))+O[10]+38016083&4294967295,j=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(j^S))+O[15]+3634488961&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^S&(M^j))+O[4]+3889429448&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(M^j&(A^M))+O[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(S^A))+O[14]+3275163606&4294967295,j=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(j^S))+O[3]+4107603335&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^S&(M^j))+O[8]+1163531501&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(M^j&(A^M))+O[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(S^A))+O[2]+4243563512&4294967295,j=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(j^S))+O[7]+1735328473&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^S&(M^j))+O[12]+2368359562&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(A^M^j)+O[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=j+(S^A^M)+O[8]+2272392833&4294967295,j=S+(C<<11&4294967295|C>>>21),C=M+(j^S^A)+O[11]+1839030562&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^S)+O[14]+4259657740&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(A^M^j)+O[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=j+(S^A^M)+O[4]+1272893353&4294967295,j=S+(C<<11&4294967295|C>>>21),C=M+(j^S^A)+O[7]+4139469664&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^S)+O[10]+3200236656&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(A^M^j)+O[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=j+(S^A^M)+O[0]+3936430074&4294967295,j=S+(C<<11&4294967295|C>>>21),C=M+(j^S^A)+O[3]+3572445317&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^S)+O[6]+76029189&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(A^M^j)+O[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=j+(S^A^M)+O[12]+3873151461&4294967295,j=S+(C<<11&4294967295|C>>>21),C=M+(j^S^A)+O[15]+530742520&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^S)+O[2]+3299628645&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(M^(A|~j))+O[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=j+(A^(S|~M))+O[7]+1126891415&4294967295,j=S+(C<<10&4294967295|C>>>22),C=M+(S^(j|~A))+O[14]+2878612391&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~S))+O[5]+4237533241&4294967295,A=M+(C<<21&4294967295|C>>>11),C=S+(M^(A|~j))+O[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=j+(A^(S|~M))+O[3]+2399980690&4294967295,j=S+(C<<10&4294967295|C>>>22),C=M+(S^(j|~A))+O[10]+4293915773&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~S))+O[1]+2240044497&4294967295,A=M+(C<<21&4294967295|C>>>11),C=S+(M^(A|~j))+O[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=j+(A^(S|~M))+O[15]+4264355552&4294967295,j=S+(C<<10&4294967295|C>>>22),C=M+(S^(j|~A))+O[6]+2734768916&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~S))+O[13]+1309151649&4294967295,A=M+(C<<21&4294967295|C>>>11),C=S+(M^(A|~j))+O[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=j+(A^(S|~M))+O[11]+3174756917&4294967295,j=S+(C<<10&4294967295|C>>>22),C=M+(S^(j|~A))+O[2]+718787259&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const A=S-this.blockSize,O=this.C;let M=this.h,j=0;for(;j<S;){if(M==0)for(;j<=A;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<S;)if(O[M++]=I.charCodeAt(j++),M==this.blockSize){o(this,O),M=0;break}}else for(;j<S;)if(O[M++]=I[j++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)I[S++]=this.g[A]>>>O&255;return I};function c(I,S){var A=g;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=S(I)}function d(I,S){this.h=S;const A=[];let O=!0;for(let M=I.length-1;M>=0;M--){const j=I[M]|0;O&&j==S||(A[M]=j,O=!1)}this.g=A}var g={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return W(y(-I));const S=[];let A=1;for(let O=0;I>=A;O++)S[O]=I/A|0,A*=4294967296;return new d(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(T(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(S,8));let O=x;for(let j=0;j<I.length;j+=8){var M=Math.min(8,I.length-j);const C=parseInt(I.substring(j,j+M),S);M<8?(M=y(Math.pow(S,M)),O=O.j(M).add(y(C))):(O=O.j(A),O=O.add(y(C)))}return O}var x=_(0),D=_(1),L=_(16777216);s=d.prototype,s.m=function(){if(J(this))return-W(this).m();let I=0,S=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);I+=(O>=0?O:4294967296+O)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(J(this))return"-"+W(this).toString(I);const S=y(Math.pow(I,6));var A=this;let O="";for(;;){const M=Ae(A,S).g;A=re(A,M.j(S));let j=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=M,K(A))return j+O;for(;j.length<6;)j="0"+j;O=j+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function J(I){return I.h==-1}s.l=function(I){return I=re(this,I),J(I)?-1:K(I)?0:1};function W(I){const S=I.g.length,A=[];for(let O=0;O<S;O++)A[O]=~I.g[O];return new d(A,~I.h).add(D)}s.abs=function(){return J(this)?W(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),A=[];let O=0;for(let M=0;M<=S;M++){let j=O+(this.i(M)&65535)+(I.i(M)&65535),C=(j>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);O=C>>>16,j&=65535,C&=65535,A[M]=C<<16|j}return new d(A,A[A.length-1]&-2147483648?-1:0)};function re(I,S){return I.add(W(S))}s.j=function(I){if(K(this)||K(I))return x;if(J(this))return J(I)?W(this).j(W(I)):W(W(this).j(I));if(J(I))return W(this.j(W(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,A=[];for(var O=0;O<2*S;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<I.g.length;M++){const j=this.i(O)>>>16,C=this.i(O)&65535,tt=I.i(M)>>>16,ft=I.i(M)&65535;A[2*O+2*M]+=C*ft,se(A,2*O+2*M),A[2*O+2*M+1]+=j*ft,se(A,2*O+2*M+1),A[2*O+2*M+1]+=C*tt,se(A,2*O+2*M+1),A[2*O+2*M+2]+=j*tt,se(A,2*O+2*M+2)}for(I=0;I<S;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=S;I<2*S;I++)A[I]=0;return new d(A,0)};function se(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ue(I,S){this.g=I,this.h=S}function Ae(I,S){if(K(S))throw Error("division by zero");if(K(I))return new ue(x,x);if(J(I))return S=Ae(W(I),S),new ue(W(S.g),W(S.h));if(J(S))return S=Ae(I,W(S)),new ue(W(S.g),S.h);if(I.g.length>30){if(J(I)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var A=D,O=S;O.l(I)<=0;)A=et(A),O=et(O);var M=Ie(A,1),j=Ie(O,1);for(O=Ie(O,2),A=Ie(A,2);!K(O);){var C=j.add(O);C.l(I)<=0&&(M=M.add(A),j=C),O=Ie(O,1),A=Ie(A,1)}return S=re(I,M.j(S)),new ue(M,S)}for(M=x;I.l(S)>=0;){for(A=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),j=y(A),C=j.j(S);J(C)||C.l(I)>0;)A-=O,j=y(A),C=j.j(S);K(j)&&(j=D),M=M.add(j),I=re(I,C)}return new ue(M,I)}s.B=function(I){return Ae(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)&I.i(O);return new d(A,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)|I.i(O);return new d(A,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)^I.i(O);return new d(A,this.h^I.h)};function et(I){const S=I.g.length+1,A=[];for(let O=0;O<S;O++)A[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(A,I.h)}function Ie(I,S){const A=S>>5;S%=32;const O=I.g.length-A,M=[];for(let j=0;j<O;j++)M[j]=S>0?I.i(j+A)>>>S|I.i(j+A+1)<<32-S:I.i(j+A);return new d(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,m1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Js=d}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,vo,g1,Lc,im,y1,_1,v1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var U=u[w];if(!(U in v))break e;v=v[U]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&v.push([w,m[w]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,U,q){for(var te=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)te[Se-2]=arguments[Se];return m.prototype[U].apply(w,te)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const m=u.length;if(m>0){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function K(u,m){for(let w=1;w<arguments.length;w++){const U=arguments[w];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=U[te]}else u.push(U)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function re(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,v){const w=ue.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new J(()=>new Ae,u=>u.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,Ie=!1,I=new se,S=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(A)}};function A(){for(var u;u=re();){try{u.h.call(u.g)}catch(v){W(v)}var m=ue;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ie=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(tt,M),tt.prototype.init=function(u,m){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,w,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=U,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(u,m){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)u[v]=w[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,m,v,w,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=ve(u,m,w,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!w,U),m.fa=v,u.push(m)),m};function pe(u,m){const v=m.type;if(v in u.g){var w=u.g[v],U=Array.prototype.indexOf.call(w,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(w,U,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ve(u,m,v,w){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==w)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),It={};function rt(u,m,v,w,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)rt(u,m[q],v,w,U);return null}return v=dl(v),u&&u[ft]?u.J(m,v,g(w)?!!w.capture:!1,U):oa(u,m,v,!1,w,U)}function oa(u,m,v,w,U,q){if(!m)throw Error("Invalid event type");const te=g(U)?!!U.capture:!!U;let Se=ua(u);if(Se||(u[Le]=Se=new ne(u)),v=Se.add(m,v,w,te,q),v.proxy)return v;if(w=Ja(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)j||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),w,U);else if(u.attachEvent)u.attachEvent(ni(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ja(){function u(v){return m.call(u.src,u.listener,v)}const m=hl;return u}function Za(u,m,v,w,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Za(u,m[q],v,w,U);else w=g(w)?!!w.capture:!!w,v=dl(v),u&&u[ft]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ve(m,v,w,U),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ua(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ve(m,v,w,U)),(v=u>-1?m[u]:null)&&Wa(v))}function Wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])pe(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(ni(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=ua(m))?(pe(v,u),v.h==0&&(v.src=null,m[Le]=null)):fe(u)}}}function ni(u){return u in It?It[u]:It[u]="on"+u}function hl(u,m){if(u.da)u=!0;else{m=new tt(m,this);const v=u.listener,w=u.ha||u.src;u.fa&&Wa(u),u=v.call(w,m)}return u}function ua(u){return u=u[Le],u instanceof ne?u:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(u){return typeof u=="function"?u:(u[fl]||(u[fl]=function(m){return u.handleEvent(m)}),u[fl])}function _t(){O.call(this),this.i=new ne(this),this.M=this,this.G=null}x(_t,O),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(u,m,v,w){Za(this,u,m,v,w)};function Dt(u,m){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(w,u),ee(m,U)}U=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],U=ls(q,w,!0,m)&&U;if(q=m.g=u,U=ls(q,w,!0,m)&&U,U=ls(q,w,!1,m)&&U,v)for(te=0;te<v.length;te++)q=m.g=v[te],U=ls(q,w,!1,m)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let w=0;w<v.length;w++)fe(v[w]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},_t.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function ls(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const Se=te.listener,mt=te.ha||te.src;te.fa&&pe(u.i,te),U=Se.call(mt,w)!==!1&&U}}return U&&!w.defaultPrevented}function kh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=kh(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(u){O.call(this),this.h=u,this.g={}}x(ca,O);var ml=[];function pl(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wa(m)},u),u.g={}}ca.prototype.N=function(){ca.Z.N.call(this),pl(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Mh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){M.call(this,"d")}x(zt,M);function wn(){M.call(this,"c")}x(wn,M);var dt={},iu=null;function er(){return iu=iu||new _t}dt.Ia="serverreachability";function su(u){M.call(this,dt.Ia,u)}x(su,M);function ii(u){const m=er();Dt(m,new su(m))}dt.STAT_EVENT="statevent";function ha(u,m){M.call(this,dt.STAT_EVENT,u),this.stat=m}x(ha,M);function vt(u){const m=er();Dt(m,new ha(m,u))}dt.Ja="timingevent";function si(u,m){M.call(this,dt.Ja,u),this.size=m}x(si,M);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,w,U,q){u.info(function(){if(u.g)if(q){var te="",Se=q.split("&");for(let He=0;He<Se.length;He++){var mt=Se[He].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Rn=lt.split("_");te=Rn.length>=2&&Rn[1]=="type"?te+(lt+"="+mt+"&"):te+(lt+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function au(u,m,v,w,U,q,te){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+te})}function ri(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(w?" "+w:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<w.length;te++)w[te]=""}}}}return os(q)}catch{return m}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function ma(){}x(ma,tu),ma.prototype.g=function(){return new XMLHttpRequest},yl=new ma;function ki(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,w){this.j=u,this.i=m,this.l=v,this.S=w||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},Vt={};function li(u,m,v){u.M=1,u.A=pa(Tt(m)),u.u=v,u.R=!0,tr(u,null)}function tr(u,m){u.F=Date.now(),oi(u),u.B=Tt(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ar(v.i,"t",w),u.C=0,v=u.j.L,u.h=new qn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,w=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ml[0]=U.toString()),U=ml);for(let q=0;q<U.length;q++){const te=rt(v,U[q],w||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?R(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Gn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Pt(this.g)))){this.K||Se!=4||mt==7||(mt==8||He<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var q=w;break t}}q=null}if(u=q)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,vt(12),dn(this),Sn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=ou(this,v),lt==Vt){Se==4&&(this.m=4,vt(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,vt(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,lt,null),ci(this,lt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),kl(te),te.P=!0,vt(11))}}else ri(this.i,this.l,v,null),ci(this,v);Se==4&&dn(this),this.o&&!this.K&&(Se==4?yu(this.j,this):(this.o=!1,oi(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),Sn(this)}}}catch{}};function jh(u){if(!lu(u))return u.g.la();const m=Pt(u.g);if(m==="")return"";let v="";const w=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<w;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==w-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?Vt:(v=Number(m.substring(v,w)),isNaN(v)?Et:(w+=1,w+v>m.length?Vt:(m=m.slice(w,w+v),u.C=w+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function oi(u){u.T=Date.now()+u.H,nr(u,u.H)}function nr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fa(this.i,this.B),this.M!=2&&(ii(),vt(17)),dn(this),this.m=2,Sn(this)):nr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||yu(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)cr(v),gs(v);else break e;Ta(v),vt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&cr(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let He=U[m];const lt=He[0];if(!(lt<=v.K))if(v.K=lt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Rn=He[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const vi=He[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=He[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(w=1.5*Qn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Kn=u.g;if(Kn){const wa=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var q=w.h;q.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(El(q,q.h),q.h=null))}if(w.G){const hr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(w.wa=hr,Qe(w.J,w.G,hr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var te=u;if(w.na=Eu(w,w.L?w.ba:null,w.W),te.L){bl(w.h,te);var Se=te,mt=w.O;mt&&(Se.H=mt),Se.D&&(ui(Se),oi(Se)),w.g=te}else pu(w);v.i.length>0&&yi(v)}else He[0]!="stop"&&He[0]!="close"||_i(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?_i(v,7):Il(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ii(4)}catch{}}var bt=class{constructor(u,m){this.g=u,this.map=m}};function _l(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_l.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return L(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let U,q=null;w>=0?(U=u[v].substring(0,w),q=u[v].substring(w+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,wl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,jt(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),us(this,m[4]),this.h=di(m[5]||"",!0),wl(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ga(m,sr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ga(m,sr,!0),"@"),u.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ga(v,v.charAt(0)=="/"?Sl:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ga(v,hu)),u.join("")},mn.prototype.resolve=function(u){const m=Tt(this);let v=!!u.j;v?jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var w=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=m.h.lastIndexOf("/");U!=-1&&(w=m.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let te=0;te<U.length;){const Se=U[te++];Se=="."?w&&te==U.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&te==U.length&&q.push("")):(q.push(Se),w=!0)}w=q.join("/")}else w=U}return v?m.h=w:v=u.i.toString()!=="",v?wl(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Tt(u){return new mn(u)}function jt(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wl(u,m,v){m instanceof hs?(u.i=m,rr(u.i,u.l)):(v||(m=ga(m,cs)),u.i=new hs(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function pa(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ga(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sr=/[#\/\?@]/g,cu=/[#\?:]/g,Sl=/[#\?]/g,cs=/[#\?@]/g,hu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ir(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hs.prototype,s.add=function(u,m){an(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){an(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xl(u,m){return an(u),m=fs(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,w){v.forEach(function(U){u.call(m,U,w,this)},this)},this)};function Al(u,m){an(u);let v=[];if(typeof m=="string")xl(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=fs(this,u),xl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Al(this,u),u.length>0?String(u[0]):m):m};function ar(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),L(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var v=m[w];const U=ki(v);v=Al(this,v);for(let q=0;q<v.length;q++){let te=U;v[q]!==""&&(te+="="+ki(v[q])),u.push(te)}}return this.i=u.join("&")};function du(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rr(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,w){const U=w.toLowerCase();w!=U&&(fu(this,w),ar(this,U,v))},u)),u.j=m}function Hn(u,m){const v=new Pn;if(d.Image){const w=new Image;w.onload=T(xn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=T(xn,v,"TestLoadImage: error",!1,m,w),w.onabort=T(xn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(xn,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Rl(u,m){const v=new Pn,w=new AbortController,U=setTimeout(()=>{w.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(q=>{clearTimeout(U),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function ds(){this.g=new eu}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(mi,tu),mi.prototype.g=function(){return new ya(this.i,this.h)};function ya(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ya,_t),s=ya.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Fn(this),this.readyState==3&&lr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},s.Na=function(u){this.g&&(this.response=u,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return je(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function _a(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=An(v),typeof u=="string"?v!=null&&ki(v):Qe(u,m,v))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Xe,_t);var pi=/^https?$/i,Cl=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){va(this,q);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())v.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){va(this,q)}};function va(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Nl(u),Mi(u)}function Nl(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},s.Xa=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=q===0){let te=String(u.D).match(uu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),w=!pi.test(te?te.toLowerCase():"")}v=w}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Nl(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function Pt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(C(u[w]))continue;var v=ru(u[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}qe(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,w){vt(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Eu(this,null,this.W),yi(this)};function Il(u){if(or(u),u.I==3){var m=u.V++,v=Tt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),ba(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=pa(Tt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}vu(u)}function gs(u){u.g&&(kl(u),u.g.cancel(),u.g=null)}function or(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),cr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!vl(u.h)&&!u.m){u.m=!0;var m=u.Ea;et||S(),Ie||(et(),Ie=!0),I.add(m,u),u.D=0}}function ur(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=R(q),ee(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,U,m),v=Tt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),ba(this,v),q&&(this.R?m="headers="+ki(An(q))+"&"+m:this.u&&_a(v,this.u,q)),El(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),U.U=!0,li(U,v,null)):li(U,v,m),this.I=2}}else this.I==3&&(u?Dl(this,u):this.i.length==0||vl(this.h)||Dl(this))};function Dl(u,m){var v;m?v=m.l:v=u.V++;const w=Tt(u.J);Qe(w,"SID",u.M),Qe(w,"RID",v),Qe(w,"AID",u.K),ba(u,w),u.u&&u.o&&_a(w,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),li(v,w,m)}function ba(u,m){u.H&&je(u.H,function(v,w){Qe(m,w,v)}),u.l&&je({},function(v,w){Qe(m,w,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=U[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let He=!0;for(let lt=0;lt<v;lt++){var q=U[lt].g;const Rn=U[lt].map;if(q-=Se,q<0)Se=Math.max(0,U[lt].g-100),He=!1;else try{q="req"+q+"_"||"";try{var te=Rn instanceof Map?Rn:Object.entries(Rn);for(const[vi,Qn]of te){let Kn=Qn;g(Qn)&&(Kn=os(Qn)),mt.push(q+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw mt.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{w&&w(Rn)}}if(He){te=mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;et||S(),Ie||(et(),Ie=!0),I.add(m,u),u.A=0}}function Ta(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),gs(this),gu(this))};function kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Tt(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),ba(u,m),u.u&&u.o&&_a(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=pa(Tt(m)),v.u=null,v.R=!0,tr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,gs(this),Ta(this),vt(19))};function cr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){cr(u),kl(u),u.g=null;var w=2}else if(fi(u.h,m))v=m.G,bl(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;w=er(),Dt(w,new si(w,v)),yi(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(w==1&&ur(u,m)||w==2&&Ta(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),w=u.Ua;const U=!w;w=new mn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(w,"https"),pa(w),U?Hn(w.toString(),v):Rl(w.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),vu(u),or(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ja,m),K(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var w=v instanceof mn?Tt(v):new mn(v);if(w.g!="")m&&(w.g=m+"."+w.g),us(w,w.u);else{var U=d.location;w=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new mn(null);w&&jt(q,w),m&&(q.g=m),U&&us(q,U),v&&(q.h=v),w=q}return v=u.G,m=u.wa,v&&m&&Qe(w,v,m),Qe(w,"VER",u.ka),ba(u,w),w}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new mi({ab:v})):new Xe(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_t.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}x(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Il(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=os(u),u=v);m.i.push(new bt(m.Ya++,u)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,tn.Z.N.call(this)};function wu(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(wu,zt);function Su(){wn.call(this),this.status=1}x(Su,wn);function Vi(u){this.g=u}x(Vi,Tu),Vi.prototype.ra=function(){Dt(this.g,"a")},Vi.prototype.qa=function(u){Dt(this.g,new wu(u))},Vi.prototype.pa=function(u){Dt(this.g,new Su)},Vi.prototype.oa=function(){Dt(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,v1=function(){return new ys},_1=function(){return er()},y1=dt,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Lc=da,gl.COMPLETE="complete",g1=gl,nu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,vo=nu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,p1=Xe}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let ll="12.8.0";function Sx(s){ll=s}const Qa=new wm("@firebase/firestore");function Br(){return Qa.logLevel}function ae(s,...e){if(Qa.logLevel<=Me.DEBUG){const i=e.map(Vm);Qa.debug(`Firestore (${ll}): ${s}`,...i)}}function ss(s,...e){if(Qa.logLevel<=Me.ERROR){const i=e.map(Vm);Qa.error(`Firestore (${ll}): ${s}`,...i)}}function Zr(s,...e){if(Qa.logLevel<=Me.WARN){const i=e.map(Vm);Qa.warn(`Firestore (${ll}): ${s}`,...i)}}function Vm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,E1(s,r,i)}function E1(s,e,i){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ss(r),new Error(r)}function Ge(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||E1(e,o,r)}function we(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class b1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class Ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Rx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ge(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new b1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Cx{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Nx{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Cx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ix{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ge(this.o===void 0,3512);const r=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ge(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Dx(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Oe(s,e){return s<e?-1:s>e?1:0}function sm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Fd(o)===Fd(c)?Oe(o,c):Fd(o)?1:-1}return Oe(s.length,e.length)}const kx=55296,Mx=57343;function Fd(s){const e=s.charCodeAt(0);return e>=kx&&e<=Mx}function Wr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const S_="__name__";class Si{constructor(e,i,r){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&_e(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Si.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Oe(e.length,i.length)}static compareSegments(e,i){const r=Si.isNumericId(e),o=Si.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Si.extractNumericId(e).compare(Si.extractNumericId(i)):sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class st extends Si{construct(e,i,r){return new st(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const Ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Si{construct(e,i,r){return new Qt(e,i,r)}static isValidIdentifier(e){return Ox.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new Qt([S_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}function T1(s,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Vx(s,e,i,r){if(e===!0&&r===!0)throw new he(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x_(s){if(!ge.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function A_(s){if(ge.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function w1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Um(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Wn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(s);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ct(s,e){const i={typeString:s};return e&&(i.value=e),i}function Ko(s,e){if(!w1(s))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const R_=-62135596800,C_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*C_);return new at(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<R_)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ko(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new at(0,0))}static max(){return new be(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function jx(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new at(i+1,0):new at(i,r));return new ea(o,ge.empty(),e)}function Ux(s){return new ea(s.readTime,s.key,ko)}class ea{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ea(be.min(),ge.empty(),ko)}static max(){return new ea(be.max(),ge.empty(),ko)}}function Lx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Oe(s.largestBatchId,e.largestBatchId))}const zx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==zx)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((o=>o?$.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((T=>{d[y]=T,++g,g===c&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new $(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function Bx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Lm=-1;function gh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function qx(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const S1="";function Hx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=N_(e)),e=Fx(s.get(i),e);return N_(e)}function Fx(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case S1:i+="";break;default:i+=c}}return i}function N_(s){return s+S1+""}function I_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ra(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function x1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new Gt(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ot(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Ot(Qt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Wr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new A1("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const i=Gx.exec(s);if(Ge(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function na(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const R1="server_timestamp",C1="__type__",N1="__previous_value__",I1="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[C1]?.stringValue===R1}function yh(s){const e=s.mapValue.fields[N1];return zm(e)?yh(e):e}function Mo(s){const e=ta(s.mapValue.fields[I1].timestampValue);return new at(e.seconds,e.nanos)}class Qx{constructor(e,i,r,o,c,d,g,_,y,T,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=x}}const eh="(default)";class Oo{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new Oo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}function Kx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(s.options.projectId,e)}const D1="__type__",Yx="__max__",Dc={mapValue:{}},k1="__vector__",th="value";function ia(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:$x(s)?9007199254740991:Xx(s)?10:11:_e(28295,{value:s})}function Ii(s,e){if(s===e)return!0;const i=ia(s);if(i!==ia(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Mo(s).isEqual(Mo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ta(o.timestampValue),g=ta(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return na(o.bytesValue).isEqual(na(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),g=yt(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Wr(s.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(I_(d)!==I_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ii(d[_],g[_])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Vo(s,e){return(s.values||[]).find((i=>Ii(i,e)))!==void 0}function el(s,e){if(s===e)return 0;const i=ia(s),r=ia(e);if(i!==r)return Oe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Oe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=yt(c.integerValue||c.doubleValue),_=yt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return k_(s.timestampValue,e.timestampValue);case 4:return k_(Mo(s),Mo(e));case 5:return sm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=na(c),_=na(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Oe(g[y],_[y]);if(T!==0)return T}return Oe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Oe(yt(c.latitude),yt(d.latitude));return g!==0?g:Oe(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return M_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[th]?.arrayValue,T=_[th]?.arrayValue,x=Oe(y?.values?.length||0,T?.values?.length||0);return x!==0?x:M_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let x=0;x<_.length&&x<T.length;++x){const D=sm(_[x],T[x]);if(D!==0)return D;const L=el(g[_[x]],y[T[x]]);if(L!==0)return L}return Oe(_.length,T.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function k_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Oe(s,e);const i=ta(s),r=ta(e),o=Oe(i.seconds,r.seconds);return o!==0?o:Oe(i.nanos,r.nanos)}function M_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=el(i[o],r[o]);if(c)return c}return Oe(i.length,r.length)}function tl(s){return am(s)}function am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ta(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return na(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=am(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${am(i.fields[d])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function zc(s){switch(ia(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+zc(e):16;case 5:return 2*s.stringValue.length;case 6:return na(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ra(r.fields,((c,d)=>{o+=c.length+zc(d)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function rm(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function O_(s){return!!s&&"nullValue"in s}function V_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function Xx(s){return(s?.mapValue?.fields||{})[D1]?.stringValue===k1}function xo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ra(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=xo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xo(s.arrayValue.values[i]);return e}return{...s}}function $x(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Yx}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(i)}setAll(e){let i=Qt.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=xo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){ra(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new fn(xo(this.value))}}function M1(s){const e=[];return ra(s.fields,((i,r)=>{const o=new Qt([i]);if(Pc(r)){const c=M1(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Tn(e)}class Jt{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),fn.empty(),0)}static newFoundDocument(e,i,r,o){return new Jt(e,1,i,be.min(),r,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,be.min(),be.min(),fn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,be.min(),be.min(),fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function j_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),i.key):r=el(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function U_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function Jx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class O1{}class Mt extends O1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Wx(e,i,r):i==="array-contains"?new nA(e,r):i==="in"?new iA(e,r):i==="not-in"?new sA(e,r):i==="array-contains-any"?new aA(e,r):new Mt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new eA(e,r):new tA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(el(i,this.value)):i!==null&&ia(this.value)===ia(i)&&this.matchesComparison(el(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends O1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Di(e,i)}matches(e){return V1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V1(s){return s.op==="and"}function j1(s){return Zx(s)&&V1(s)}function Zx(s){for(const e of s.filters)if(e instanceof Di)return!1;return!0}function lm(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+tl(s.value);if(j1(s))return s.filters.map((e=>lm(e))).join(",");{const e=s.filters.map((i=>lm(i))).join(",");return`${s.op}(${e})`}}function U1(s,e){return s instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Ii(r.value,o.value)})(s,e):s instanceof Di?(function(r,o){return o instanceof Di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&U1(d,o.filters[g])),!0):!1})(s,e):void _e(19439)}function L1(s){return s instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(s):s instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(L1).join(" ,")+"}"})(s):"Filter"}class Wx extends Mt{constructor(e,i,r){super(e,i,r),this.key=ge.fromName(r.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class eA extends Mt{constructor(e,i){super(e,"in",i),this.keys=z1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class tA extends Mt{constructor(e,i){super(e,"not-in",i),this.keys=z1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function z1(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class nA extends Mt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pm(i)&&Vo(i.arrayValue,this.value)}}class iA extends Mt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class sA extends Mt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class aA extends Mt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Vo(this.value.arrayValue,r)))}}class rA{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function L_(s,e=null,i=[],r=[],o=null,c=null,d=null){return new rA(s,e,i,r,o,c,d)}function Bm(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>lm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>tl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>tl(r))).join(",")),e.Te=i}return e.Te}function qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Jx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!U1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!U_(s.startAt,e.startAt)&&U_(s.endAt,e.endAt)}function om(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lA(s,e,i,r,o,c,d,g){return new _h(s,e,i,r,o,c,d,g)}function Hm(s){return new _h(s)}function z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function oA(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function uA(s){return s.collectionGroup!==null}function Ao(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ot(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,r))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new ih(Qt.keyField(),r))}return e.Ie}function Ri(s){const e=we(s);return e.Ee||(e.Ee=cA(e,Ao(s))),e.Ee}function cA(s,e){if(s.limitType==="F")return L_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ih(o.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return L_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function um(s,e,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vh(s,e){return qm(Ri(s),Ri(e))&&s.limitType===e.limitType}function P1(s){return`${Bm(Ri(s))}|lt:${s.limitType}`}function qr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>L1(o))).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Ao(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,_){const y=j_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Ao(r),o)||r.endAt&&!(function(d,g,_){const y=j_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Ao(r),o))})(s,e)}function hA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function B1(s){return(e,i)=>{let r=!1;for(const o of Ao(s)){const c=fA(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function fA(s,e,i){const r=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?el(_,y):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class Xa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}const dA=new ut(ge.comparator);function as(){return dA}const q1=new ut(ge.comparator);function Eo(...s){let e=q1;for(const i of s)e=e.insert(i.key,i);return e}function H1(s){let e=q1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Pa(){return Ro()}function F1(){return Ro()}function Ro(){return new Xa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const mA=new ut(ge.comparator),pA=new Ot(ge.comparator);function Ve(...s){let e=pA;for(const i of s)e=e.add(i);return e}const gA=new Ot(Oe);function yA(){return gA}function Fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function G1(s){return{integerValue:""+s}}function _A(s,e){return qx(e)?G1(e):Fm(s,e)}class bh{constructor(){this._=void 0}}function vA(s,e,i){return s instanceof sh?(function(o,c){const d={fields:{[C1]:{stringValue:R1},[I1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zm(c)&&(c=yh(c)),c&&(d.fields[N1]=c),{mapValue:d}})(i,e):s instanceof jo?K1(s,e):s instanceof Uo?Y1(s,e):(function(o,c){const d=Q1(o,c),g=P_(d)+P_(o.Ae);return rm(d)&&rm(o.Ae)?G1(g):Fm(o.serializer,g)})(s,e)}function EA(s,e,i){return s instanceof jo?K1(s,e):s instanceof Uo?Y1(s,e):i}function Q1(s,e){return s instanceof ah?(function(r){return rm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class sh extends bh{}class jo extends bh{constructor(e){super(),this.elements=e}}function K1(s,e){const i=X1(e);for(const r of s.elements)i.some((o=>Ii(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Uo extends bh{constructor(e){super(),this.elements=e}}function Y1(s,e){let i=X1(e);for(const r of s.elements)i=i.filter((o=>!Ii(o,r)));return{arrayValue:{values:i}}}class ah extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function P_(s){return yt(s.integerValue||s.doubleValue)}function X1(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function bA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof jo&&o instanceof jo||r instanceof Uo&&o instanceof Uo?Wr(r.elements,o.elements,Ii):r instanceof ah&&o instanceof ah?Ii(r.Ae,o.Ae):r instanceof sh&&o instanceof sh})(s.transform,e.transform)}class TA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Th{}function $1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,ei.none()):new Yo(s.key,s.data,ei.none());{const i=s.data,r=fn.empty();let o=new Ot(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new la(s.key,r,new Tn(o.toArray()),ei.none())}}function wA(s,e,i){s instanceof Yo?(function(o,c,d){const g=o.value.clone(),_=q_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof la?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=q_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(J1(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Co(s,e,i,r){return s instanceof Yo?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=c.value.clone(),T=H_(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof la?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=H_(c.fieldTransforms,_,d),T=d.data;return T.setAll(J1(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function SA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Q1(r.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(r.field,c))}return i||null}function B_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Wr(r,o,((c,d)=>bA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yo extends Th{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends Th{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function J1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function q_(s,e,i){const r=new Map;Ge(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,EA(d,g,i[o]))}return r}function H_(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,vA(c,d,e))}return r}class Gm extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xA extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&wA(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Co(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Co(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=F1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=$1(d,g);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Wr(this.mutations,e.mutations,((i,r)=>B_(i,r)))&&Wr(this.baseMutations,e.baseMutations,((i,r)=>B_(i,r)))}}class Qm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return mA})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Qm(e,i,r,o)}}class RA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,ze;function NA(s){switch(s){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function Z1(s){if(s===void 0)return ss("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Rt.OK:return Z.OK;case Rt.CANCELLED:return Z.CANCELLED;case Rt.UNKNOWN:return Z.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return Z.INTERNAL;case Rt.UNAVAILABLE:return Z.UNAVAILABLE;case Rt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Rt.NOT_FOUND:return Z.NOT_FOUND;case Rt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Rt.ABORTED:return Z.ABORTED;case Rt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Rt.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:s})}}(ze=Rt||(Rt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function IA(){return new TextEncoder}const DA=new Js([4294967295,4294967295],0);function F_(s){const e=IA().encode(s),i=new m1;return i.update(e),new Uint8Array(i.digest())}function G_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Js([i,r],0),new Js([o,c],0)]}class Km{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new bo(`Invalid padding: ${i}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new bo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Js.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Js.fromNumber(r)));return o.compare(DA)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F_(e),[r,o]=G_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=F_(e),[r,o]=G_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Xo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wh(be.min(),o,new ut(Oe),as(),Ve())}}class Xo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Xo(r,i,Ve(),Ve(),Ve())}}class qc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class W1{constructor(e,i){this.targetId=e,this.Ce=i}}class eE{constructor(e,i,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Q_{constructor(){this.ve=0,this.Fe=K_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),i=Ve(),r=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:c})}})),new Xo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=K_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kA{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.He=kc(),this.Je=kc(),this.Ze=new ut(Oe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(om(c))if(r===0){const d=new ge(c.path);this.et(i,d,Jt.newNoDocument(d,be.min()))}else Ge(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=na(r).toUint8Array()}catch(_){if(_ instanceof A1)return Zr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Km(d,o,c)}catch(_){return Zr(_ instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&om(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Jt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Ve();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new wh(e,i,this.Ze,this.je,r);return this.je=as(),this.He=kc(),this.Je=kc(),this.Ze=new ut(Oe),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Q_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ot(Oe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ot(Oe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new ut(ge.comparator)}function K_(){return new ut(ge.comparator)}const MA={asc:"ASCENDING",desc:"DESCENDING"},OA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VA={and:"AND",or:"OR"};class jA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(s,e){return s.useProto3Json||gh(e)?e:{value:e}}function rh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function UA(s,e){return rh(s,e.toTimestamp())}function Ci(s){return Ge(!!s,49232),be.fromTimestamp((function(i){const r=ta(i);return new at(r.seconds,r.nanos)})(s))}function Ym(s,e){return hm(s,e).canonicalString()}function hm(s,e){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function nE(s){const e=st.fromString(s);return Ge(lE(e),10190,{key:e.toString()}),e}function fm(s,e){return Ym(s.databaseId,e.path)}function Gd(s,e){const i=nE(e);if(i.get(1)!==s.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(sE(i))}function iE(s,e){return Ym(s.databaseId,e)}function LA(s){const e=nE(s);return e.length===4?st.emptyPath():sE(e)}function dm(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sE(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Y_(s,e,i){return{name:fm(s,e),fields:i.value.mapValue.fields}}function zA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:Z1(y.code);return new he(T,y.message||"")})(d);i=new eE(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gd(s,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):be.min(),g=new fn({mapValue:{fields:r.document.fields}}),_=Jt.newFoundDocument(o,c,d,g),y=r.targetIds||[],T=r.removedTargetIds||[];i=new qc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gd(s,r.document),c=r.readTime?Ci(r.readTime):be.min(),d=Jt.newNoDocument(o,c),g=r.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new CA(o,c),g=r.targetId;i=new W1(g,d)}}return i}function PA(s,e){let i;if(e instanceof Yo)i={update:Y_(s,e.key,e.value)};else if(e instanceof Gm)i={delete:fm(s,e.key)};else if(e instanceof la)i={update:Y_(s,e.key,e.data),updateMask:XA(e.fieldMask)};else{if(!(e instanceof xA))return _e(16599,{dt:e.type});i={verify:fm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:UA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function BA(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ci(o.updateTime):Ci(c);return d.isEqual(be.min())&&(d=Ci(c)),new TA(d,o.transformResults||[])})(i,e)))):[]}function qA(s,e){return{documents:[iE(s,e.path)]}}function HA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iE(s,o);const c=(function(y){if(y.length!==0)return rE(Di.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:Hr(D.field),direction:QA(D.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function FA(s){let e=LA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(x){const D=aE(x);return D instanceof Di&&j1(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((D=>(function(K){return new ih(Fr(K.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let D;return D=typeof x=="object"?x.value:x,gh(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(x){const D=!!x.before,L=x.values||[];return new nh(L,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const D=!x.before,L=x.values||[];return new nh(L,D)})(i.endAt)),lA(e,o,d,c,g,"F",_,y)}function GA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fr(i.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fr(i.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fr(i.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fr(i.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Mt.create(Fr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((r=>aE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function QA(s){return MA[s]}function KA(s){return OA[s]}function YA(s){return VA[s]}function Hr(s){return{fieldPath:s.canonicalString()}}function Fr(s){return Qt.fromServerFormat(s.fieldPath)}function rE(s){return s instanceof Mt?(function(i){if(i.op==="=="){if(V_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NAN"}};if(O_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(V_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NAN"}};if(O_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(i.field),op:KA(i.op),value:i.value}}})(s):s instanceof Di?(function(i){const r=i.getFilters().map((o=>rE(o)));return r.length===1?r[0]:{compositeFilter:{op:YA(i.op),filters:r}}})(s):_e(54877,{filter:s})}function XA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function oE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ks{constructor(e,i,r,o,c=be.min(),d=be.min(),g=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $A{constructor(e){this.yt=e}}function JA(s){const e=FA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?um(e,e.limit,"L"):e}class ZA{constructor(){this.Sn=new WA}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(ea.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class WA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ot(st.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ot(st.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(uE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class nl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const $_="LruGarbageCollector",eR=1048576;function J_([s,e],[i,r]){const o=Oe(s,i);return o===0?Oe(e,r):o}class tR{constructor(e){this.Pr=e,this.buffer=new Ot(J_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();J_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?ae($_,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Ar(3e5)}))}}class iR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(ph.ce);const r=new tR(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,g=Date.now(),this.removeTargets(e,r,i)))).next((x=>(c=x,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),Br()<=Me.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${x} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function sR(s,e){return new iR(s,e)}class aR{constructor(){this.changes=new Xa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class lR{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Co(r.mutation,o,Tn.empty(),at.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ve()){const o=Pa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Eo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Pa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ve())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=as();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((_,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof la)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Co(T.mutation,y,T.mutation.getFieldMask(),at.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new rR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Ro();let o=new ut(((d,g)=>d-g)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=r.get(_)||Tn.empty();T=g.applyToLocalView(y,T),r.set(_,T);const x=(o.get(g.batchId)||Ve()).add(_);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,x=F1();T.forEach((D=>{if(!c.has(D)){const L=$1(i.get(D),r.get(D));L!==null&&x.set(D,L),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return oA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):$.resolve(Pa());let g=ko,_=c;return d.next((y=>$.forEach(y,((T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((D=>{_=_.insert(T,D)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Ve()))).next((T=>({batchId:g,changes:H1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((r=>{let o=Eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const y=(function(x,D){return new _h(D,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((x,D)=>{d=d.insert(x,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Jt.newInvalidDocument(T)))}));let g=Eo();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Co(T.mutation,y,Tn.empty(),at.now()),Eh(i,y)&&(g=g.insert(_,y))})),g}))}}class oR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:JA(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),$.resolve()}}class uR{constructor(){this.overlays=new ut(ge.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Pa();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const o=Pa(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ut(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=Pa(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Pa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return $.resolve(g)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new RA(i,r));let c=this.Lr.get(i);c===void 0&&(c=Ve(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class cR{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.kr=new Ot(Lt.Kr),this.qr=new Ot(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Lt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Lt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ge(new st([])),r=new Lt(i,e),o=new Lt(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new st([])),r=new Lt(i,e),o=new Lt(i,e+1);let c=Ve();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Oe(e.Hr,i.Hr)}static Ur(e,i){return Oe(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class hR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Lt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AA(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Lt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ot(Oe);return i.forEach((o=>{const c=new Lt(o,0),d=new Lt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new ge(c),0);let g=new Ot(Oe);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ge(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Lt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Lt(i,0),o=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class fR{constructor(e){this.ti=e,this.docs=(function(){return new ut(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let r=as();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=as();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Lx(Ux(T),r)<=0||(o.has(T.key)||Eh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,o){_e(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new dR(this)}getSize(e){return $.resolve(this.size)}}class dR extends aR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class mR{constructor(e){this.persistence=e,this.ri=new Xa((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Xm,this.targetCount=0,this.oi=nl._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new nl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class cE{constructor(e,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new cR,this.referenceDelegate=e(this),this.li=new mR(this),this.indexManager=new ZA,this.remoteDocumentCache=(function(o){return new fR(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new $A(i),this.Pi=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new hR(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const o=new pR(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class pR extends Px{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Ai=null}static Vi(e){return new $m(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.fi=new Xa((r=>Hx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=sR(this,i)}static Vi(e,i){return new lh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ve(),o=Ve();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jm(e,i.fromCache,r,o)}}class gR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return t2()?8:Bx(Zt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gR;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Br()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",qr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Br()<=Me.DEBUG&&ae("QueryEngine","Query:",qr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Br()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",qr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):$.resolve())}gs(e,i){if(z_(i))return $.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=um(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ve(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(e,um(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,o){return z_(i)||o.isEqual(be.min())?$.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?$.resolve(null):(Br()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qr(i)),this.Ds(e,d,i,jx(o,ko)).next((g=>g)))}))}bs(e,i){let r=new Ot(B1(e));return i.forEach(((o,c)=>{Eh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return Br()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",qr(i)),this.fs.getDocumentsMatchingQuery(e,i,ea.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",_R=3e8;class vR{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ut(Oe),this.Fs=new Xa((c=>Bm(c)),qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function ER(s,e,i,r){return new vR(s,e,i,r)}async function hE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Ve();for(const y of o){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function bR(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const x=y.batch,D=x.keys();let L=$.resolve();return D.forEach((K=>{L=L.next((()=>T.getEntry(_,K))).next((J=>{const W=y.docVersions.get(K);Ge(W!==null,48541),J.version.compareTo(W)<0&&(x.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),T.addEntry(J)))}))})),L.next((()=>g.mutationQueue.removeMutationBatch(_,x)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Ve();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function fE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function TR(s,e){const i=we(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,x)=>{const D=o.get(x);if(!D)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,x))));let L=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?L=L.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),o=o.insert(x,L),(function(J,W,re){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=_R?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(D,L,T)&&g.push(i.li.updateTargetData(c,L))}));let _=as(),y=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(wR(c,d,e.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!r.isEqual(be.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function wR(s,e,i){let r=Ve(),o=Ve();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=as();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ae(Zm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function SR(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xR(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ks(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function mm(s,e,i){const r=we(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;ae(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Z_(s,e,i){const r=we(s);let o=be.min(),c=Ve();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const x=we(_),D=x.Fs.get(T);return D!==void 0?$.resolve(x.vs.get(D)):x.li.getTargetData(y,T)})(r,d,Ri(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Ve()))).next((g=>(AR(r,hA(e),g),{documents:g,ks:c})))))}function AR(s,e,i){let r=s.Ms.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class W_{constructor(){this.activeTargetIds=yA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RR{constructor(){this.vo=new W_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new W_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CR{Mo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(ev,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function pm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Qd="RestConnection",NR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class IR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=pm(),g=this.Qo(e,i.toUriEncodedString());ae(Qd,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),T=sl(y);return this.zo(e,g,_,r,T).then((x=>(ae(Qd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Zr(Qd,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",r),x}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=NR[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class DR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",_o=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Xr extends IR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xr.c_){const e=_1();_o(e,y1.STAT_EVENT,(i=>{i.stat===im.PROXY?ae(Xt,"STAT_EVENT: detected buffering proxy"):i.stat===im.NOPROXY&&ae(Xt,"STAT_EVENT: detected no buffering proxy")})),Xr.c_=!0}}zo(e,i,r,o,c){const d=pm();return new Promise(((g,_)=>{const y=new p1;y.setWithCredentials(!0),y.listenOnce(g1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lc.NO_ERROR:const x=y.getResponseJson();ae(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case Lc.TIMEOUT:ae(Xt,`RPC '${e}' ${d} timed out`),_(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const D=y.getStatus();if(ae(Xt,`RPC '${e}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L?.error;if(K&&K.status&&K.message){const J=(function(re){const se=re.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(se)>=0?se:Z.UNKNOWN})(K.status);_(new he(J,K.message))}else _(new he(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new he(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Xt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ae(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=pm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");ae(Xt,`Creating RPC '${e}' stream ${o}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let x=!1,D=!1;const L=new DR({Ho:K=>{D?ae(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(x||(ae(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),ae(Xt,`RPC '${e}' stream ${o} sending:`,K),T.send(K))},Jo:()=>T.close()});return _o(T,vo.EventType.OPEN,(()=>{D||(ae(Xt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),_o(T,vo.EventType.CLOSE,(()=>{D||(D=!0,ae(Xt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(T))})),_o(T,vo.EventType.ERROR,(K=>{D||(D=!0,Zr(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),L.o_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),_o(T,vo.EventType.MESSAGE,(K=>{if(!D){const J=K.data[0];Ge(!!J,16349);const W=J,re=W?.error||W[0]?.error;if(re){ae(Xt,`RPC '${e}' stream ${o} received error:`,re);const se=re.status;let ue=(function(Ie){const I=Rt[Ie];if(I!==void 0)return Z1(I)})(se),Ae=re.message;ue===void 0&&(ue=Z.INTERNAL,Ae="Unknown error status: "+se+" with message "+re.message),D=!0,L.o_(new he(ue,Ae)),T.close()}else ae(Xt,`RPC '${e}' stream ${o} received:`,J),L.__(J)}})),Xr.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return v1()}}function kR(s){return new Xr(s)}function Kd(){return typeof document<"u"?document:null}function Sh(s){return new jA(s,!0)}Xr.c_=!1;class dE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nv="PersistentStream";class mE{constructor(e,i,r,o,c,d,g,_){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MR extends mE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=zA(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Ci(d.readTime):be.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=om(_)?{documents:qA(c,_)}:{query:HA(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=tE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=GA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.K_(i)}}class OR extends mE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=BA(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=dm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>PA(this.serializer,r)))};this.K_(i)}}class VR{}class jR extends VR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,hm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,hm(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function UR(s,e,i,r){return new jR(s,e,i,r)}class LR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class zR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{$a(this)&&(ae(Ka,"Restarting streams for network reachability change."),await(async function(_){const y=we(_);y.Ea.add(4),await $o(y),y.Va.set("Unknown"),y.Ea.delete(4),await xh(y)})(this))}))})),this.Va=new LR(r,o)}}async function xh(s){if($a(s))for(const e of s.Ra)await e(!0)}async function $o(s){for(const e of s.Ra)await e(!1)}function pE(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),np(i)?tp(i):cl(i).O_()&&ep(i,e))}function Wm(s,e){const i=we(s),r=cl(i);i.Ia.delete(e),r.O_()&&gE(i,e),i.Ia.size===0&&(r.O_()?r.L_():$a(i)&&i.Va.set("Unknown"))}function ep(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}cl(s).Z_(e)}function gE(s,e){s.da.$e(e),cl(s).X_(e)}function tp(s){s.da=new kA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),cl(s).start(),s.Va.ua()}function np(s){return $a(s)&&!cl(s).x_()&&s.Ia.size>0}function $a(s){return we(s).Ea.size===0}function yE(s){s.da=void 0}async function PR(s){s.Va.set("Online")}async function BR(s){s.Ia.forEach(((e,i)=>{ep(s,e)}))}async function qR(s,e){yE(s),np(s)?(s.Va.ha(e),tp(s)):s.Va.set("Unknown")}async function HR(s,e,i){if(s.Va.set("Online"),e instanceof eE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(r){ae(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(s,r)}else if(e instanceof qc?s.da.Xe(e):e instanceof W1?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const r=await fE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),gE(c,_);const x=new Ks(T.target,_,y,T.sequenceNumber);ep(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ae(Ka,"Failed to raise snapshot:",r),await oh(s,r)}}async function oh(s,e,i){if(!ul(e))throw e;s.Ea.add(1),await $o(s),s.Va.set("Offline"),i||(i=()=>fE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(Ka,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function _E(s,e){return e().catch((i=>oh(s,i,e)))}async function Ah(s){const e=we(s),i=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;FR(e);)try{const o=await SR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,GR(e,o)}catch(o){await oh(e,o)}vE(e)&&EE(e)}function FR(s){return $a(s)&&s.Ta.length<10}function GR(s,e){s.Ta.push(e);const i=sa(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function vE(s){return $a(s)&&!sa(s).x_()&&s.Ta.length>0}function EE(s){sa(s).start()}async function QR(s){sa(s).ra()}async function KR(s){const e=sa(s);for(const i of s.Ta)e.ea(i.mutations)}async function YR(s,e,i){const r=s.Ta.shift(),o=Qm.from(r,e,i);await _E(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ah(s)}async function XR(s,e){e&&sa(s).Y_&&await(async function(r,o){if((function(d){return NA(d)&&d!==Z.ABORTED})(o.code)){const c=r.Ta.shift();sa(r).B_(),await _E(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ah(r)}})(s,e),vE(s)&&EE(s)}async function iv(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),ae(Ka,"RemoteStore received new credentials");const r=$a(i);i.Ea.add(3),await $o(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function $R(s,e){const i=we(s);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await $o(i),i.Va.set("Unknown"))}function cl(s){return s.ma||(s.ma=(function(i,r,o){const c=we(i);return c.sa(),new MR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:PR.bind(null,s),Yo:BR.bind(null,s),t_:qR.bind(null,s),J_:HR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),np(s)?tp(s):s.Va.set("Unknown")):(await s.ma.stop(),yE(s))}))),s.ma}function sa(s){return s.fa||(s.fa=(function(i,r,o){const c=we(i);return c.sa(),new OR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QR.bind(null,s),t_:XR.bind(null,s),ta:KR.bind(null,s),na:YR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ah(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(Ka,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ip{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new ip(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,e){if(ss("AsyncQueue",`${e}: ${s}`),ul(s))return new he(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class $r{static emptySet(e){return new $r(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ge.comparator(i.key,r.key):(i,r)=>ge.comparator(i.key,r.key),this.keyedMap=Eo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new $r;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class sv{constructor(){this.ga=new ut(ge.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class il{constructor(e,i,r,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new il(e,i,$r.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class JR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZR{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=we(i),c=o.queries;o.queries=av(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function av(){return new Xa((s=>P1(s)),vh)}async function bE(s,e){const i=we(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new JR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=sp(d,`Initialization of query '${qr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ap(i)}async function TE(s,e){const i=we(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function WR(s,e){const i=we(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&ap(i)}function eC(s,e,i){const r=we(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function ap(s){s.Ca.forEach((e=>{e.next()}))}var gm,rv;(rv=gm||(gm={})).Ma="default",rv.Cache="cache";class wE{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}class SE{constructor(e){this.key=e}}class xE{constructor(e){this.key=e}}class tC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=B1(e),this.tu=new $r(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new sv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,x)=>{const D=o.get(T),L=Eh(this.query,x)?x:null,K=!!D&&this.mutatedKeys.has(D.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let W=!1;D&&L?D.data.isEqual(L.data)?K!==J&&(r.track({type:3,doc:L}),W=!0):this.su(D,L)||(r.track({type:2,doc:L}),W=!0,(_&&this.eu(L,_)>0||y&&this.eu(L,y)<0)&&(g=!0)):!D&&L?(r.track({type:0,doc:L}),W=!0):D&&!L&&(r.track({type:1,doc:D}),W=!0,(_||y)&&(g=!0)),W&&(L?(d=d.add(L),c=J?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,x)=>(function(L,K){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:W})}};return J(L)-J(K)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new il(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new xE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new SE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ve();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class nC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class iC{constructor(e){this.key=e,this.hu=!1}}class sC{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xa((g=>P1(g)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(ge.comparator),this.Au=new Map,this.Vu=new Xm,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aC(s,e,i=!0){const r=DE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await AE(r,e,i,!0),o}async function rC(s,e){const i=DE(s);await AE(i,e,!0,!1)}async function AE(s,e,i,r){const o=await xR(s.localStore,Ri(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await lC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&pE(s.remoteStore,o),g}async function lC(s,e,i,r,o){s.pu=(x,D,L)=>(async function(J,W,re,se){let ue=W.view.ru(re);ue.Ss&&(ue=await Z_(J.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ue))));const Ae=se&&se.targetChanges.get(W.targetId),et=se&&se.targetMismatches.get(W.targetId)!=null,Ie=W.view.applyChanges(ue,J.isPrimaryClient,Ae,et);return ov(J,W.targetId,Ie.au),Ie.snapshot})(s,x,D,L);const c=await Z_(s.localStore,e,!0),d=new tC(e,c.ks),g=d.ru(c.documents),_=Xo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);ov(s,i,y.au);const T=new nC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function oC(s,e,i){const r=we(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!vh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Wm(r.remoteStore,o.targetId),ym(r,o.targetId)})).catch(ol)):(ym(r,o.targetId),await mm(r.localStore,o.targetId,!0))}async function uC(s,e){const i=we(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(i.remoteStore,r.targetId))}async function cC(s,e,i){const r=yC(s);try{const o=await(function(d,g){const _=we(d),y=at.now(),T=g.reduce(((L,K)=>L.add(K.key)),Ve());let x,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let K=as(),J=Ve();return _.xs.getEntries(L,T).next((W=>{K=W,K.forEach(((re,se)=>{se.isValidDocument()||(J=J.add(re))}))})).next((()=>_.localDocuments.getOverlayedDocuments(L,K))).next((W=>{x=W;const re=[];for(const se of g){const ue=SA(se,x.get(se.key).overlayedDocument);ue!=null&&re.push(new la(se.key,ue,M1(ue.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(L,y,re,g)})).next((W=>{D=W;const re=W.applyToLocalDocumentSet(x,J);return _.documentOverlayCache.saveOverlays(L,W.batchId,re)}))})).then((()=>({batchId:D.batchId,changes:H1(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new ut(Oe)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Jo(r,o.changes),await Ah(r.remoteStore)}catch(o){const c=sp(o,"Failed to persist write");i.reject(c)}}async function RE(s,e){const i=we(s);try{const r=await TR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ge(d.hu,14607):o.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await Jo(i,r,e)}catch(r){await ol(r)}}function lv(s,e,i){const r=we(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=we(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,x)=>{for(const D of x.ba)D.va(g)&&(y=!0)})),y&&ap(_)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hC(s,e,i){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ut(ge.comparator);d=d.insert(c,Jt.newNoDocument(c,be.min()));const g=Ve().add(c),_=new wh(be.min(),new Map,new ut(Oe),d,g);await RE(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),lp(r)}else await mm(r.localStore,e,!1).then((()=>ym(r,e,i))).catch(ol)}async function fC(s,e){const i=we(s),r=e.batch.batchId;try{const o=await bR(i.localStore,e);NE(i,r,null),CE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Jo(i,o)}catch(o){await ol(o)}}async function dC(s,e,i){const r=we(s);try{const o=await(function(d,g){const _=we(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((x=>(Ge(x!==null,37113),T=x.keys(),_.mutationQueue.removeMutationBatch(y,x)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);NE(r,e,i),CE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Jo(r,o)}catch(o){await ol(o)}}function CE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function NE(s,e,i){const r=we(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function ym(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||IE(s,r)}))}function IE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Wm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),lp(s))}function ov(s,e,i){for(const r of i)r instanceof SE?(s.Vu.addReference(r.key,e),mC(s,r)):r instanceof xE?(ae(rp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||IE(s,r.key)):_e(19791,{wu:r})}function mC(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ae(rp,"New document in limbo: "+i),s.Eu.add(r),lp(s))}function lp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(st.fromString(e)),r=s.fu.next();s.Au.set(r,new iC(i)),s.Ru=s.Ru.insert(i,r),pE(s.remoteStore,new Ks(Ri(Hm(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function Jo(s,e,i){const r=we(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Jm.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(_,y){const T=we(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(y,(D=>$.forEach(D.Ts,(L=>T.persistence.referenceDelegate.addReference(x,D.targetId,L))).next((()=>$.forEach(D.Is,(L=>T.persistence.referenceDelegate.removeReference(x,D.targetId,L)))))))))}catch(x){if(!ul(x))throw x;ae(Zm,"Failed to update sequence numbers: "+x)}for(const x of y){const D=x.targetId;if(!x.fromCache){const L=T.vs.get(D),K=L.snapshotVersion,J=L.withLastLimboFreeSnapshotVersion(K);T.vs=T.vs.insert(D,J)}}})(r.localStore,c))}async function pC(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){ae(rp,"User change. New user:",e.toKey());const r=await hE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jo(i,r.Ns)}}function gC(s,e){const i=we(s),r=i.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let o=Ve();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function DE(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=RE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.Pu.J_=WR.bind(null,e.eventManager),e.Pu.yu=eC.bind(null,e.eventManager),e}function yC(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ER(this.persistence,new yR,e.initialUser,this.serializer)}Cu(e){return new cE($m.Vi,this.serializer)}Du(e){return new RR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class _C extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ge(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new cE((r=>lh.Vi(r,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),r=kR(e.databaseInfo);return UR(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new zR(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new CR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,T){const x=new sC(o,c,d,g,_,y);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=we(i);ae(Ka,"RemoteStore shutting down."),r.Ea.add(5),await $o(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const aa="FirestoreClient";class vC{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ae(aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ae(aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=sp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(aa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await hE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function uv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await EC(s);ae(aa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>iv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>iv(e.remoteStore,o))),s._onlineComponents=e}async function EC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(aa,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Zr("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new uh)}}else ae(aa,"Using default OfflineComponentProvider"),await Yd(s,new _C(void 0));return s._offlineComponents}async function ME(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(aa,"Using user provided OnlineComponentProvider"),await uv(s,s._uninitializedComponentsProvider._online)):(ae(aa,"Using default OnlineComponentProvider"),await uv(s,new _m))),s._onlineComponents}function bC(s){return ME(s).then((e=>e.syncEngine))}async function vm(s){const e=await ME(s),i=e.eventManager;return i.onListen=aC.bind(null,e.syncEngine),i.onUnlisten=oC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=rC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uC.bind(null,e.syncEngine),i}function TC(s,e,i,r){const o=new kE(r),c=new wE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>bE(await vm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>TE(await vm(s),c)))}}function wC(s,e,i={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new kE({next:D=>{T.Nu(),d.enqueueAndForget((()=>TE(c,x))),D.fromCache&&_.source==="server"?y.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),x=new wE(g,T,{includeMetadataChanges:!0,Ka:!0});return bE(c,x)})(await vm(s),s.asyncQueue,e,i,r))),r.promise}function SC(s,e){const i=new Zs;return s.asyncQueue.enqueueAndForget((async()=>cC(await bC(s),e,i))),i.promise}function OE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const xC="ComponentProvider",cv=new Map;function AC(s,e,i,r,o){return new Qx(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,OE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const VE="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VE,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eR)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xx;switch(r.type){case"firstParty":return new Nx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=cv.get(i);r&&(ae(xC,"Removing Datastore"),cv.delete(i),r.terminate())})(this),Promise.resolve()}}function RC(s,e,i,r={}){s=Wn(s,Rh);const o=sl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Iv(`https://${g}`),Dv("Firestore",!0)),c.host!==VE&&c.host!==g&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:r};if(!Ha(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=$t.MOCK_USER;else{y=QT(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $t(x)}s._authCredentials=new Ax(new b1(y,T))}}class Zo{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class Nt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Ko(i,Nt._jsonSchema))return new Nt(e,r||null,new ge(st.fromString(i.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Ct("string",Nt._jsonSchemaVersion),referencePath:Ct("string")};class Ws extends Zo{constructor(e,i,r){super(e,i,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ge(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function op(s,e,...i){if(s=Wt(s),T1("collection","path",e),s instanceof Rh){const r=st.fromString(e,...i);return A_(r),new Ws(s,null,r)}{if(!(s instanceof Nt||s instanceof Ws))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...i));return A_(r),new Ws(s.firestore,null,r)}}function Qs(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=jm.newId()),T1("doc","path",e),s instanceof Rh){const r=st.fromString(e,...i);return x_(r),new Nt(s,null,new ge(r))}{if(!(s instanceof Nt||s instanceof Ws))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...i));return x_(r),new Nt(s.firestore,s instanceof Ws?s.converter:null,new ge(r))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dE(this,"async_queue_retry"),this._c=()=>{const r=Kd();r&&ae(dv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;ae(dv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",pv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ip.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ya extends Rh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function CC(s,e){const i=typeof s=="object"?s:Am(),r=typeof s=="string"?s:eh,o=xm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=FT("firestore");c&&RC(o,...c)}return o}function up(s){if(s._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NC(s),s._firestoreClient}function NC(s){const e=s._freezeSettings(),i=AC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new vC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ko(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ct("string",Ln._jsonSchemaVersion),bytes:Ct("string")};class cp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Ko(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ct("string",Ni._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class ti{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ko(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ti(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ct("string",ti._jsonSchemaVersion),vectorValues:Ct("object")};const IC=/^__.*__$/;class DC{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yo(e,this.data,i,this.fieldTransforms)}}class jE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new la(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function UE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class fp{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ch(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(UE(this.dataSource)&&IC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class kC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Sh(e)}createContext(e,i,r,o=!1){return new fp({dataSource:e,methodName:i,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LE(s){const e=s._freezeSettings(),i=Sh(s._databaseId);return new kC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function MC(s,e,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);dp("Data must be an object, but it was:",d,r);const g=zE(r,d);let _,y;if(c.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const x of c.mergeFields){const D=Lo(e,x,i);if(!d.contains(D))throw new he(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);qE(T,D)||T.push(D)}_=new Tn(T),y=d.fieldTransforms.filter((x=>_.covers(x.field)))}else _=null,y=d.fieldTransforms;return new DC(new fn(g),_,y)}class Ch extends hp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function OC(s,e,i,r){const o=s.createContext(1,e,i);dp("Data must be an object, but it was:",o,r);const c=[],d=fn.empty();ra(r,((_,y)=>{const T=BE(e,_,i);y=Wt(y);const x=o.childContextForFieldPath(T);if(y instanceof Ch)c.push(T);else{const D=Nh(y,x);D!=null&&(c.push(T),d.set(T,D))}}));const g=new Tn(c);return new jE(d,g,o.fieldTransforms)}function VC(s,e,i,r,o,c){const d=s.createContext(1,e,i),g=[Lo(e,r,i)],_=[o];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Lo(e,c[D])),_.push(c[D+1]);const y=[],T=fn.empty();for(let D=g.length-1;D>=0;--D)if(!qE(y,g[D])){const L=g[D];let K=_[D];K=Wt(K);const J=d.childContextForFieldPath(L);if(K instanceof Ch)y.push(L);else{const W=Nh(K,J);W!=null&&(y.push(L),T.set(L,W))}}const x=new Tn(y);return new jE(T,x,d.fieldTransforms)}function Nh(s,e){if(PE(s=Wt(s)))return dp("Unsupported field value:",e,s),zE(s,e);if(s instanceof hp)return(function(r,o){if(!UE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let _=Nh(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _A(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=at.fromDate(r);return{timestampValue:rh(o.serializer,c)}}if(r instanceof at){const c=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:tE(o.serializer,r._byteString)};if(r instanceof Nt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ti)return(function(d,g){const _=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[D1]:{stringValue:k1},[th]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return Fm(g.serializer,T)}))}}}}}})(r,o);if(oE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Um(r)}`)})(s,e)}function zE(s,e){const i={};return x1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(s,((r,o)=>{const c=Nh(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function PE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Ni||s instanceof Ln||s instanceof Nt||s instanceof hp||s instanceof ti||oE(s))}function dp(s,e,i){if(!PE(i)||!w1(i)){const r=Um(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Lo(s,e,i){if((e=Wt(e))instanceof cp)return e._internalPath;if(typeof e=="string")return BE(s,e);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const jC=new RegExp("[~\\*/\\[\\]]");function BE(s,e,i){if(e.search(jC)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cp(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new he(Z.INVALID_ARGUMENT,g+s+_)}function qE(s,e){return s.some((i=>i.isEqual(e)))}class UC{convertValue(e,i="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ra(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new ti(i)}convertGeoPoint(e){return new Ni(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=yh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const i=ta(e);return new at(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=st.fromString(e);Ge(lE(r),9688,{name:e});const o=new Oo(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class mp extends UC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,i)}}const gv="@firebase/firestore",yv="4.10.0";function _v(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class HE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Lo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LC extends HE{data(){return super.data()}}function FE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function zC(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class To{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends HE{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Lo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:Ct("string",Ba._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Hc extends Ba{data(e={}){return super.data(e)}}class qa{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:PC(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ct("string",qa._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function BC(s){s=Wn(s,Zo);const e=Wn(s.firestore,Ya),i=up(e),r=new mp(e);return FE(s._query),wC(i,s._query).then((o=>new qa(e,r,s,o)))}function hh(s,e,i){s=Wn(s,Nt);const r=Wn(s.firestore,Ya),o=zC(s.converter,e),c=LE(r);return pp(r,[MC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ei.none())])}function qC(s,e,i,...r){s=Wn(s,Nt);const o=Wn(s.firestore,Ya),c=LE(o);let d;return d=typeof(e=Wt(e))=="string"||e instanceof cp?VC(c,"updateDoc",s._key,e,i,r):OC(c,"updateDoc",s._key,e),pp(o,[d.toMutation(s._key,ei.exists(!0))])}function HC(s){return pp(Wn(s.firestore,Ya),[new Gm(s._key,ei.none())])}function Fc(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_v(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Nt)d=Wn(s.firestore,Ya),g=Hm(s._key.path),c={next:y=>{e[r]&&e[r](FC(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Wn(s,Zo);d=Wn(y.firestore,Ya),g=y._query;const T=new mp(d);c={next:x=>{e[r]&&e[r](new qa(d,T,y,x))},error:e[r+1],complete:e[r+2]},FE(s._query)}const _=up(d);return TC(_,g,o,c)}function pp(s,e){const i=up(s);return SC(i,e)}function FC(s,e,i){const r=i.docs.get(e._key),o=new mp(s);return new Ba(s,o,e._key,r,new To(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Sx(al),Jr(new Fa("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Ya(new Rx(r.getProvider("auth-internal")),new Ix(d,r.getProvider("app-check-internal")),Kx(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(gv,yv,e),$s(gv,yv,"esm2020")})();const GE=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const GC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const vv=s=>{const e=QC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var KC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const XC=oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},_)=>oe.createElement("svg",{ref:_,...KC,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:GE("lucide",o),...!c&&!YC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>oe.createElement(y,T)),...Array.isArray(c)?c:[c]]));const de=(s,e)=>{const i=oe.forwardRef(({className:r,...o},c)=>oe.createElement(XC,{ref:c,iconNode:e,className:GE(`lucide-${GC(vv(s))}`,`lucide-${s}`,r),...o}));return i.displayName=vv(s),i};const $C=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],JC=de("arrow-down",$C);const ZC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],WC=de("arrow-left-right",ZC);const eN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tN=de("arrow-left",eN);const nN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iN=de("arrow-right",nN);const sN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],aN=de("arrow-up",sN);const rN=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],lN=de("bath",rN);const oN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],uN=de("calculator",oN);const cN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Em=de("calendar",cN);const hN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],fN=de("car",hN);const dN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mN=de("check",dN);const pN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gN=de("chevron-right",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_N=de("circle-alert",yN);const vN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EN=de("circle-check-big",vN);const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TN=de("circle-check",bN);const wN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SN=de("clock",wN);const xN=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],AN=de("cloud-lightning",xN);const RN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],CN=de("cloud-rain",RN);const NN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ev=de("cloud",NN);const IN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],DN=de("coins",IN);const kN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],MN=de("dollar-sign",kN);const ON=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],VN=de("ellipsis",ON);const jN=[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]],UN=de("equal",jN);const LN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zN=de("external-link",LN);const PN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BN=de("eye-off",PN);const qN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HN=de("eye",qN);const FN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],GN=de("file-text",FN);const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],KN=de("globe",QN);const YN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],XN=de("house",YN);const $N=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],JN=de("image",$N);const ZN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],WN=de("key",ZN);const e4=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],t4=de("list-checks",e4);const n4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ih=de("loader-circle",n4);const i4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],s4=de("lock",i4);const a4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],r4=de("log-in",a4);const l4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QE=de("log-out",l4);const o4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],u4=de("map-pin",o4);const c4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],h4=de("package",c4);const f4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gp=de("pen-line",f4);const d4=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],m4=de("pill",d4);const p4=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],bm=de("plane",p4);const g4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zo=de("plus",g4);const y4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KE=de("search",y4);const _4=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],v4=de("settings-2",_4);const E4=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],b4=de("shirt",E4);const T4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],w4=de("shopping-bag",T4);const S4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],x4=de("smartphone",S4);const A4=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],R4=de("snowflake",A4);const C4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],N4=de("sparkles",C4);const I4=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],D4=de("sticky-note",I4);const k4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yp=de("sun",k4);const M4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dh=de("trash-2",M4);const O4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],V4=de("trending-up",O4);const j4=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YE=de("user-cog",j4);const U4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],L4=de("user-plus",U4);const z4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bv=de("user",z4);const P4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],B4=de("utensils",P4);const q4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],H4=de("wallet",q4);const F4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G4=de("x",F4),Q4=" V7.5 - 2026/02/16 01:15",Bs={TWD:" - ",USD:" - ",JPY:" - ",KRW:" - ",THB:" - ",VND:" - ",HKD:" - ",EUR:" - ",CNY:" - ",GBP:" - ",SGD:" - ",AUD:" - "},K4=[{id:"food",name:"",icon:B4,color:"text-orange-500",bg:"bg-orange-50"},{id:"stay",name:"",icon:XN,color:"text-indigo-500",bg:"bg-indigo-50"},{id:"transport",name:"",icon:fN,color:"text-blue-500",bg:"bg-blue-50"},{id:"shopping",name:"",icon:w4,color:"text-pink-500",bg:"bg-pink-50"},{id:"play",name:"",icon:N4,color:"text-yellow-600",bg:"bg-yellow-50"},{id:"other",name:"",icon:VN,color:"text-slate-500",bg:"bg-slate-50"}],Tv=[{id:"cat_3c",name:"3C ",icon:x4,items:["","",""]},{id:"cat_clothing",name:"",icon:b4,items:["","","",""]},{id:"cat_toiletries",name:"",icon:lN,items:["","",""]},{id:"cat_medicine",name:"",icon:m4,items:["","","OK "]},{id:"cat_docs",name:"",icon:GN,items:["","",""]},{id:"cat_others",name:"",icon:h4,items:["","",""]}],Y4=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65"},XE=uw().length>0?Am():Ov(Y4),Gc=Tx(XE),jn=CC(XE),Jn="travel-yeh",wv=(s,e)=>{if(!s)return"";try{const i=new Date(s);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(e-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}))}catch{return""}},X4=(s,e)=>{if(!s)return"";try{const i=new Date(s);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(e-1)),i.toLocaleDateString("zh-TW",{weekday:"long"}))}catch{return""}},$4=s=>{if(!s||typeof s!="string")return null;const e=/(https?:\/\/[^\s]+)/g;return s.split(e).map((r,o)=>r.match(/^https?:\/\//)?E.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",onClick:c=>c.stopPropagation(),children:[" ",E.jsx(zN,{size:12})]},o):r)},J4=s=>s===0?{label:"",tips:"",icon:yp,color:"text-orange-500"}:s>=1&&s<=3?{label:"",tips:"",icon:Ev,color:"text-blue-400"}:s>=51&&s<=67?{label:"",tips:"",icon:CN,color:"text-blue-600"}:s>=71&&s<=77?{label:"",tips:"",icon:R4,color:"text-cyan-300"}:s>=95?{label:"",tips:"",icon:AN,color:"text-purple-600"}:{label:"",tips:"",icon:Ev,color:"text-blue-400"},Z4=({authUser:s,onLoginSuccess:e,onAdminSuccess:i})=>{const[r,o]=oe.useState(""),[c,d]=oe.useState(""),[g,_]=oe.useState(""),[y,T]=oe.useState([]),[x,D]=oe.useState("loading"),[L,K]=oe.useState(!1);oe.useEffect(()=>{let W=!0;(async()=>{if(s)try{const ue=await BC(op(jn,"artifacts",Jn,"public","data","users_db"));W&&(T(ue.docs.map(Ae=>Ae.data())),D("ready"))}catch{W&&D("ready")}})();const se=setTimeout(()=>{W&&D("ready")},4e3);return()=>{W=!1,clearTimeout(se)}},[s]);const J=W=>{if(W.preventDefault(),r==="yljh"&&c==="yljh8320873"){i();return}y.find(se=>se.username===r&&se.password===c)||r==="abc"&&c==="abc"?e():(_(""),d(""))};return E.jsx("div",{className:"min-h-screen w-full bg-slate-50 flex items-center justify-center p-4 sm:p-6 font-sans text-slate-700 overflow-x-hidden",children:E.jsxs("div",{className:"max-w-md w-full animate-fade-in text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-blue-600 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl rotate-12 shadow-blue-200",children:L?E.jsx(YE,{size:40}):E.jsx(bm,{size:40})}),E.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-slate-900 tracking-tight",children:L?"":""}),E.jsx("p",{className:"text-slate-400 font-bold mt-2 mb-8 text-sm sm:text-base px-4",children:L?"":""}),E.jsxs("form",{onSubmit:J,className:"bg-white p-6 sm:p-10 rounded-[2.5rem] sm:rounded-[3rem] shadow-2xl border border-slate-100 space-y-6 text-left mx-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(bv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),E.jsx("input",{required:!0,type:"text",value:r,onChange:W=>o(W.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700",placeholder:""})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(s4,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),E.jsx("input",{required:!0,type:"password",value:c,onChange:W=>d(W.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700",placeholder:""})]})]}),g&&E.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-xs font-bold bg-red-50 p-3 rounded-xl animate-pulse",children:[E.jsx(_N,{size:14})," ",g]}),E.jsx("button",{type:"submit",disabled:x==="loading",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-5 rounded-2xl font-black flex items-center justify-center gap-3 shadow-xl active:scale-95 disabled:opacity-50",children:x==="loading"?E.jsx(Ih,{className:"animate-spin"}):E.jsxs(E.Fragment,{children:[E.jsx(r4,{size:20})," "]})})]}),E.jsxs("button",{onClick:()=>{K(!L),_("")},className:"mt-8 flex items-center gap-2 text-xs font-black text-blue-600 bg-blue-50 px-8 py-3 rounded-full hover:bg-blue-100 transition-all mx-auto shadow-sm",children:[L?E.jsx(bv,{size:14}):E.jsx(WN,{size:14}),L?"":""]})]})})},W4=({authUser:s,onLogout:e})=>{const[i,r]=oe.useState([]),[o,c]=oe.useState(""),[d,g]=oe.useState(""),[_,y]=oe.useState(null),[T,x]=oe.useState(!0);oe.useEffect(()=>{if(!s||!jn)return;const L=op(jn,"artifacts",Jn,"public","data","users_db");return Fc(L,K=>{const J=K.docs.map(re=>({id:re.id,...re.data()}));r(J),!J.some(re=>re.username==="abc")&&!T&&hh(Qs(jn,"artifacts",Jn,"public","data","users_db","abc"),{username:"abc",password:"abc",createdAt:new Date().toISOString()}),x(!1)},K=>{x(!1)})},[s]);const D=async L=>{L.preventDefault();const K=_?_.username:d;!K||!o||(await hh(Qs(jn,"artifacts",Jn,"public","data","users_db",K),{username:K,password:o,createdAt:_?.createdAt||new Date().toISOString()}),y(null),g(""),c(""))};return T?E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-slate-700",children:[E.jsx(Ih,{className:"animate-spin text-blue-600 mb-4",size:48}),E.jsx("p",{className:"font-bold text-slate-400 italic",children:"..."})]}):E.jsxs("div",{className:"w-full min-h-screen bg-slate-50 p-4 sm:p-6 md:p-12 animate-fade-in font-sans space-y-8 text-slate-700 overflow-x-hidden",children:[E.jsxs("header",{className:"max-w-5xl mx-auto flex flex-col sm:flex-row justify-between items-center bg-slate-900 text-white p-6 sm:p-8 rounded-[2rem] sm:rounded-[3rem] shadow-2xl gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg",children:E.jsx(YE,{size:32})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl sm:text-2xl font-black tracking-tight text-center sm:text-left",children:""}),E.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest text-center sm:text-left",children:"Admin: yljh"})]})]}),E.jsxs("button",{onClick:e,className:"w-full sm:w-auto p-4 bg-white/10 hover:bg-red-500 transition-all rounded-2xl flex items-center justify-center gap-2 font-black text-sm",children:[E.jsx(QE,{size:20})," "]})]}),E.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 sm:p-10 rounded-[2.5rem] sm:rounded-[4rem] shadow-xl border border-slate-100",children:[E.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-6 flex items-center gap-2",children:[E.jsx(L4,{size:20,className:"text-blue-600"})," ",_?` ${_.username}`:""]}),E.jsxs("form",{onSubmit:D,className:"flex flex-col md:flex-row gap-4 items-end",children:[!_&&E.jsxs("div",{className:"w-full flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase ml-1",children:""}),E.jsx("input",{required:!0,placeholder:" traveler_01",value:d,onChange:L=>g(L.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"w-full flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase ml-1",children:""}),E.jsx("input",{required:!0,placeholder:"",value:o,onChange:L=>c(L.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[_&&E.jsx("button",{type:"button",onClick:()=>{y(null),c("")},className:"flex-1 px-6 py-4 rounded-2xl font-bold text-slate-400",children:""}),E.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-8 py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700 active:scale-95 transition-all",children:""})]})]})]}),E.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-[2rem] sm:rounded-[3rem] shadow-xl border border-slate-100 overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-400 font-black uppercase tracking-widest text-[10px]",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-8 py-5",children:""}),E.jsx("th",{className:"px-8 py-5",children:""}),E.jsx("th",{className:"px-8 py-5 text-center",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(L=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[E.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:L.username}),E.jsx("td",{className:"px-8 py-5 font-mono text-blue-600 font-bold",children:L.password}),E.jsx("td",{className:"px-8 py-5 text-center",children:E.jsxs("div",{className:"flex justify-center gap-2",children:[E.jsx("button",{onClick:()=>{y(L),c(L.password)},className:"p-2 text-slate-300 hover:text-blue-600 transition-colors",children:E.jsx(gp,{size:18})}),E.jsx("button",{onClick:async()=>{confirm("")&&await HC(Qs(jn,"artifacts",Jn,"public","data","users_db",L.id))},className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:E.jsx(Dh,{size:18})})]})})]},L.id))})]})})})]})},eI=({itineraryData:s,updateItinField:e})=>{const i=Array.isArray(s?.expenses)?s.expenses:[],[r,o]=oe.useState(""),[c,d]=oe.useState(""),g=i.reduce((T,x)=>T+(parseFloat(x.amount)||0),0),_=oe.useMemo(()=>{const T={};return i.forEach(x=>{T[x.category]=(T[x.category]||0)+(parseFloat(x.amount)||0)}),T},[i]),y=async T=>{T.preventDefault(),!(!r||!c)&&(await e("expenses",[...i,{id:Date.now().toString(),item:r,amount:c,category:"food",date:new Date().toISOString()}]),o(""),d(""))};return E.jsxs("div",{className:"animate-fade-in space-y-8 pb-10 px-4 text-slate-700 overflow-x-hidden",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[E.jsxs("div",{className:"md:col-span-2 bg-white p-8 sm:p-10 rounded-[2.5rem] sm:rounded-[3.5rem] shadow-xl border border-slate-100 flex flex-col justify-center",children:[E.jsx("h3",{className:"text-slate-400 font-black text-xs uppercase mb-2 ml-1",children:""}),E.jsxs("div",{className:"flex items-baseline gap-2 justify-center md:justify-start",children:[E.jsxs("span",{className:"text-4xl sm:text-6xl font-black text-slate-900 tracking-tighter",children:["$",g.toLocaleString()]}),E.jsx("span",{className:"text-slate-300 font-bold uppercase text-xs",children:"twd"})]})]}),E.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2rem] sm:rounded-[3rem] shadow-xl text-white",children:[E.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase mb-4 tracking-widest text-center sm:text-left",children:""}),E.jsx("div",{className:"space-y-3",children:K4.map(T=>{const x=_[T.id]||0,D=g>0?Math.round(x/g*100):0;return E.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(T.icon,{size:14,className:T.color}),E.jsx("span",{children:T.name})]}),E.jsxs("span",{children:["$",x.toLocaleString()," (",D,"%)"]})]},T.id)})})]})]}),E.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-[2.5rem] sm:rounded-[4rem] shadow-lg border border-slate-100 text-slate-700",children:E.jsxs("form",{onSubmit:y,className:"flex flex-col sm:flex-row gap-4 items-end",children:[E.jsxs("div",{className:"w-full flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,placeholder:"",value:r,onChange:T=>o(T.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,type:"number",placeholder:"0",value:c,onChange:T=>d(T.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-blue-600 text-white p-4 rounded-2xl shadow-xl hover:bg-blue-700 active:scale-95 flex items-center justify-center shrink-0",children:E.jsx(zo,{size:28})})]})}),E.jsx("div",{className:"bg-white rounded-[2rem] sm:rounded-[3rem] shadow-xl border border-slate-100 overflow-hidden",children:E.jsxs("table",{className:"w-full text-left text-sm text-slate-700",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-50 text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[E.jsx("th",{className:"px-6 py-4",children:""}),E.jsx("th",{className:"px-6 py-4 text-right",children:""}),E.jsx("th",{className:"px-6 py-4 text-center",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:i.length>0?[...i].reverse().map(T=>E.jsxs("tr",{className:"hover:bg-slate-50 group transition-colors",children:[E.jsx("td",{className:"px-6 py-5 font-black text-slate-700",children:T.item}),E.jsxs("td",{className:"px-6 py-5 text-right font-mono font-black text-slate-800",children:["$",parseFloat(T.amount).toLocaleString()]}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsx("button",{onClick:async()=>await e("expenses",i.filter(x=>x.id!==T.id)),className:"text-slate-300 hover:text-red-500 transition-colors",children:E.jsx(Dh,{size:18})})})]},T.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"3",className:"px-8 py-20 text-center text-slate-300 font-bold italic tracking-widest",children:""})})})]})})]})},tI=({tripInfo:s})=>{const e=oe.useMemo(()=>{if(!s?.startDate||!s?.duration)return"";try{const x=new Date(s.startDate);return x.setDate(x.getDate()+(parseInt(s.duration)-1)),x.toISOString().split("T")[0]}catch{return""}},[s]),[i,r]=oe.useState({dest:s?.city||"",start:s?.startDate||new Date().toISOString().split("T")[0],end:e}),[o,c]=oe.useState(!1),[d,g]=oe.useState(null),[_,y]=oe.useState(null),T=async x=>{if(x&&x.preventDefault(),!!i.dest){c(!0),y(null);try{const L=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(i.dest)}&count=1&language=zh&format=json`)).json();if(!L.results?.length)throw new Error("");const{latitude:K,longitude:J,name:W}=L.results[0],se=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${K}&longitude=${J}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto&start_date=${i.start}&end_date=${i.end||i.start}`)).json();g({location:W,daily:(se.daily?.time||[]).map((ue,Ae)=>({date:ue,max:se.daily.temperature_2m_max[Ae],min:se.daily.temperature_2m_min[Ae],code:se.daily.weather_code[Ae]}))})}catch(D){y(D.message)}finally{c(!1)}}};return E.jsxs("div",{className:"animate-fade-in space-y-10 w-full max-w-5xl mx-auto pb-10 px-4 text-slate-700 overflow-x-hidden",children:[E.jsxs("div",{className:"bg-white p-6 sm:p-10 rounded-[2.5rem] sm:rounded-[4rem] shadow-xl border border-slate-100",children:[E.jsxs("h3",{className:"text-xl sm:text-2xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[E.jsx(yp,{className:"text-orange-500"})," "]}),E.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,value:i.dest,onChange:x=>r({...i,dest:x.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none font-bold shadow-inner"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,type:"date",value:i.start,onChange:x=>r({...i,start:x.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,type:"date",value:i.end,min:i.start,onChange:x=>r({...i,end:x.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white h-[60px] rounded-3xl font-black shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-blue-100",children:[o?E.jsx(Ih,{className:"animate-spin"}):E.jsx(KE,{size:20})," "]})]}),_&&E.jsx("p",{className:"mt-4 text-red-500 text-xs font-bold animate-pulse",children:_})]}),d&&E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:d.daily.map(x=>{const D=J4(x.code);return E.jsxs("div",{className:"bg-white p-8 rounded-[2rem] sm:rounded-[3rem] border border-slate-100 shadow-lg group transition-transform hover:-translate-y-1",children:[E.jsx("p",{className:"text-[10px] font-black text-slate-300 mb-4",children:x.date}),E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsx(D.icon,{size:48,className:D.color}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-slate-800",children:[Math.round(x.max),""]}),E.jsxs("p",{className:"text-sm font-bold text-slate-300",children:[Math.round(x.min),""]})]})]}),E.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl",children:[E.jsx("p",{className:`font-black text-sm mb-1 ${D.color}`,children:D.label}),E.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed font-bold",children:D.tips})]})]},x.date)})})]})},nI=({itineraryData:s,updateItinField:e})=>{const[i,r]=oe.useState({}),[o,c]=oe.useState("USD"),[d,g]=oe.useState("TWD"),[_,y]=oe.useState(1),[T,x]=oe.useState(!0),[D,L]=oe.useState(""),[K,J]=oe.useState(!1),[W,re]=oe.useState("0"),se=s?.customRates||{},ue=s?.useCustom||{};oe.useEffect(()=>{Gc&&(async()=>{x(!0);try{const O=await(await fetch(`https://open.er-api.com/v6/latest/${o}`)).json();O.result==="success"&&r(O.rates||{})}catch(A){console.error(A)}finally{x(!1)}})()},[o]);const Ae=S=>{if(S==="C")re("0");else if(S==="=")try{const A=W.replace(/[^-+*/.0-9]/g,"");if(!A){re("0");return}const O=new Function(`return ${A}`)();re(String(parseFloat(Number(O).toFixed(8))))}catch{re("Error")}else re(A=>A==="0"||A==="Error"?S:A+S)},et=ue[d]&&se[d]?se[d]:i[d]||0,Ie=(_*et).toFixed(2),I=Object.keys(Bs).filter(S=>Bs[S].includes(D)||S.includes(D.toUpperCase()));return E.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10 px-4 text-slate-700 overflow-x-hidden",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] sm:rounded-[3.5rem] shadow-2xl border border-slate-100 overflow-hidden p-6 sm:p-14 transition-all",children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-8 items-center",children:[E.jsxs("div",{className:"lg:col-span-3 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(MN,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:24}),E.jsx("input",{type:"number",value:_,onChange:S=>y(parseFloat(S.target.value)||0),className:"w-full pl-14 pr-4 py-6 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none transition-all text-2xl font-black shadow-inner"}),E.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:E.jsx("select",{value:o,onChange:S=>c(S.target.value),className:"bg-white border shadow-sm rounded-xl px-2 py-1 text-xs font-black outline-none",children:Object.keys(Bs).map(S=>E.jsx("option",{value:S,children:Bs[S]},S))})})]})]}),E.jsx("div",{className:"flex justify-center lg:col-span-1",children:E.jsx("button",{onClick:()=>{const S=o;c(d),g(S)},className:"bg-blue-50 p-4 rounded-full text-blue-600 shadow-inner group hover:bg-blue-600 hover:text-white transition-all active:scale-90 shadow-md",children:E.jsx(WC,{className:"lg:rotate-0 rotate-90",size:28})})}),E.jsxs("div",{className:"lg:col-span-3 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:""}),E.jsxs("div",{className:"w-full pl-8 pr-6 py-5 bg-blue-600 rounded-[2rem] text-white flex items-center justify-between shadow-xl shadow-blue-100",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-2xl sm:text-3xl font-black tracking-tight",children:Ie}),E.jsx("p",{className:"text-blue-100 text-[10px] mt-1 font-bold",children:Bs[d]})]}),E.jsx("select",{value:d,onChange:S=>g(S.target.value),className:"bg-blue-700 text-white border-none rounded-xl px-3 py-1.5 text-xs font-black outline-none",children:Object.keys(Bs).map(S=>E.jsx("option",{value:S,children:Bs[S]},S))})]})]})]}),E.jsxs("div",{className:"mt-8 flex justify-between items-center px-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[E.jsx(V4,{size:16,className:"text-green-500"})," "]}),E.jsxs("button",{onClick:()=>J(!K),className:"flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all bg-white border text-slate-600 shadow-sm active:scale-95 shadow-md",children:[E.jsx(v4,{size:16})," "]})]})]}),K&&E.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-2xl overflow-hidden animate-fade-in mx-2",children:[E.jsxs("div",{className:"p-6 border-b flex flex-col sm:flex-row justify-between items-center bg-slate-50/50 gap-4",children:[E.jsx("h3",{className:"font-black text-xl text-slate-800",children:""}),E.jsxs("div",{className:"relative w-full sm:w-64",children:[E.jsx(KE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),E.jsx("input",{type:"text",placeholder:"...",value:D,onChange:S=>L(S.target.value),className:"w-full pl-12 pr-6 py-3 border rounded-2xl text-sm font-bold outline-none shadow-inner"})]})]}),E.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse text-xs sm:text-sm",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-400 font-black sticky top-0 uppercase tracking-widest text-[10px]",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-[10px]",children:""}),E.jsx("th",{className:"px-6 py-4 text-center text-[10px]",children:""}),E.jsx("th",{className:"px-6 py-4 text-right text-[10px]",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-slate-50",children:I.map(S=>E.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors",children:[E.jsx("td",{className:"px-6 py-4 font-black text-slate-700",children:Bs[S]}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsx("button",{onClick:()=>e(`useCustom.${S}`,!ue[S]),className:`px-3 py-1 rounded-full text-[10px] font-black transition-all ${ue[S]?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:ue[S]?"":""})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsx("input",{type:"number",step:"0.0001",disabled:!ue[S],value:se[S]||"",onChange:A=>e(`customRates.${S}`,parseFloat(A.target.value)||0),className:`w-20 p-2 border rounded-xl text-right font-bold ${ue[S]?"bg-white border-orange-300":"bg-slate-50 shadow-inner"}`})})]},S))})]})})]}),E.jsxs("div",{className:"bg-slate-900 text-white p-6 sm:p-12 rounded-[2.5rem] sm:rounded-[4rem] shadow-2xl border border-slate-800 mx-2",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-8 px-2",children:[E.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-blue-500/20 shadow-lg",children:E.jsx(uN,{size:24})}),E.jsx("h4",{className:"font-black text-xl sm:text-2xl tracking-tight",children:""})]}),E.jsx("div",{className:"bg-black/40 p-6 sm:p-8 rounded-[1.5rem] sm:rounded-[2.5rem] mb-10 text-right shadow-inner border border-white/5 overflow-hidden",children:E.jsx("span",{className:"text-4xl sm:text-6xl font-black font-mono tracking-tighter text-white block truncate leading-tight",children:W})}),E.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:gap-6",children:[["7","8","9","/","4","5","6","*","1","2","3","-","0",".","C","+"].map(S=>E.jsx("button",{onClick:()=>Ae(S),className:`py-5 sm:py-8 rounded-[1rem] sm:rounded-[1.5rem] font-black text-2xl sm:text-3xl transition-all shadow-sm active:scale-95 ${isNaN(S)&&S!=="."?"bg-blue-600 text-white":"bg-white/5 border border-white/5"}`,children:S},S)),E.jsx("button",{onClick:()=>Ae("="),className:"col-span-2 py-6 sm:py-8 bg-green-600 text-white rounded-[1.5rem] font-black text-2xl active:scale-95 shadow-lg",children:E.jsx(UN,{size:32})}),E.jsx("button",{onClick:()=>y(parseFloat(W)||0),className:"col-span-2 py-6 sm:py-8 bg-white text-slate-900 rounded-[1.5rem] font-black text-base sm:text-xl active:scale-95 shadow-xl",children:""})]})]})]})},iI=({itineraryData:s,updateItinField:e})=>{const i=Array.isArray(s?.checklist)?s.checklist:[],[r,o]=oe.useState(""),[c,d]=oe.useState(null),[g,_]=oe.useState(null),[y,T]=oe.useState(""),x=oe.useMemo(()=>{const L={};return Tv.forEach(K=>L[K.id]=[]),i.forEach(K=>{const J=K.categoryId||"cat_others";L[J]&&L[J].push(K)}),L},[i]),D=i.length>0?Math.round(i.filter(L=>L.completed).length/i.length*100):0;return E.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10 px-4 text-slate-700 overflow-x-hidden",children:[E.jsxs("div",{className:"bg-white p-8 sm:p-10 rounded-[2.5rem] sm:rounded-[3rem] shadow-xl border border-slate-100 text-center mx-2 md:mx-0",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center md:items-end mb-4 gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-800 tracking-tight",children:""}),E.jsxs("p",{className:"text-sm font-bold text-slate-400",children:[" ",i.filter(L=>L.completed).length," / ",i.length," "]})]}),E.jsxs("span",{className:"text-5xl sm:text-6xl font-black text-blue-600 italic",children:[D,"%"]})]}),E.jsx("div",{className:"w-full h-4 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:E.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${D}%`}})})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:Tv.map(L=>E.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-[2rem] sm:rounded-[3rem] shadow-lg border border-slate-50 flex flex-col hover:shadow-xl transition-all mx-2 sm:mx-0",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:E.jsx(L.icon,{size:24})}),E.jsx("h4",{className:"text-lg sm:text-xl font-black text-slate-800",children:L.name})]}),E.jsx("button",{onClick:()=>d(L.id===c?null:L.id),className:"p-2 text-slate-300 hover:text-blue-500 transition-colors",children:E.jsx(zo,{size:20})})]}),c===L.id&&E.jsxs("div",{className:"mb-4 flex gap-2 animate-fade-in",children:[E.jsx("input",{autoFocus:!0,placeholder:"...",value:r,onChange:K=>o(K.target.value),onKeyDown:K=>K.key==="Enter"&&(async()=>{const J={id:Date.now().toString(),text:r.trim(),completed:!1,categoryId:L.id};await e("checklist",[...i,J]),o(""),d(null)})(),className:"flex-1 p-3 bg-slate-50 border-2 border-blue-100 rounded-xl text-sm font-bold outline-none shadow-inner"}),E.jsx("button",{onClick:async()=>{const K={id:Date.now().toString(),text:r.trim(),completed:!1,categoryId:L.id};await e("checklist",[...i,K]),o(""),d(null)},className:"bg-blue-600 text-white px-4 rounded-xl font-black shadow-md shadow-blue-100",children:E.jsx(TN,{size:18})})]}),E.jsx("div",{className:"space-y-3",children:(x[L.id]||[]).map(K=>E.jsx("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all group ${K.completed?"bg-slate-50 opacity-60":"bg-white hover:border-blue-100 shadow-sm"}`,children:g===K.id?E.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[E.jsx("input",{autoFocus:!0,value:y,onChange:J=>T(J.target.value),onKeyDown:J=>J.key==="Enter"&&(async()=>{y.trim()&&(await e("checklist",i.map(W=>W.id===K.id?{...W,text:y.trim()}:W)),_(null))})(),className:"flex-1 p-1 bg-slate-50 border-b-2 border-blue-500 outline-none text-sm font-bold"}),E.jsx("button",{onClick:async()=>{y.trim()&&(await e("checklist",i.map(J=>J.id===K.id?{...J,text:y.trim()}:J)),_(null))},className:"text-blue-600 hover:bg-blue-50 p-1 rounded-lg transition-colors",children:E.jsx(mN,{size:16})})]}):E.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[E.jsx("div",{onClick:async()=>await e("checklist",i.map(J=>J.id===K.id?{...J,completed:!J.completed}:J)),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all cursor-pointer ${K.completed?"bg-green-500 border-green-500 text-white shadow-md":"border-slate-200 hover:border-blue-300"}`,children:K.completed&&E.jsx(EN,{size:14})}),E.jsx("span",{onClick:()=>{_(K.id),T(K.text)},className:`text-sm font-bold flex-1 cursor-pointer ${K.completed?"line-through text-slate-400 italic":"text-slate-700"}`,children:K.text}),E.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[E.jsx("button",{onClick:()=>{_(K.id),T(K.text)},className:"p-1.5 text-slate-300 hover:text-blue-600 transition-colors",children:E.jsx(gp,{size:14})}),E.jsx("button",{onClick:async()=>await e("checklist",i.filter(J=>J.id!==K.id)),className:"p-1.5 text-slate-300 hover:text-red-500 transition-colors",children:E.jsx(Dh,{size:14})})]})]})},K.id))})]},L.id))})]})},sI=s=>E.jsxs("div",{className:"space-y-12 text-slate-700 overflow-x-hidden",children:[E.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-4 sm:px-2",children:Object.keys(s.itineraryData?.days||{}).map(e=>E.jsxs("button",{onClick:()=>{s.setActiveDay(parseInt(e)),s.setEditingId(null)},className:`shrink-0 w-24 sm:w-28 h-24 sm:h-28 rounded-[1.5rem] sm:rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${s.activeDay===parseInt(e)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[E.jsx("span",{className:"text-[10px] sm:text-xs uppercase opacity-60",children:"Day"}),E.jsx("span",{className:"text-2xl sm:text-3xl leading-none",children:e}),E.jsx("span",{className:"text-[9px] sm:text-[10px] mt-1 font-bold",children:wv(s.tripInfo.startDate,parseInt(e)).split("/").slice(1).join("/")})]},e))}),E.jsxs("div",{className:"space-y-6 px-4",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("h2",{className:"text-5xl sm:text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",s.activeDay]}),E.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200 shadow-inner",children:[E.jsx("button",{onClick:()=>s.moveDay(-1),disabled:s.activeDay===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:E.jsx(tN,{size:20})}),E.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),E.jsx("button",{onClick:()=>s.moveDay(1),disabled:s.activeDay===parseInt(s.tripInfo.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:E.jsx(iN,{size:20})})]})]}),E.jsxs("div",{className:"flex-1 w-full",children:[E.jsxs("span",{className:"text-base sm:text-lg text-slate-400 font-bold ml-1 mb-1 block tracking-tight",children:["(",wv(s.tripInfo.startDate,s.activeDay)," ",X4(s.tripInfo.startDate,s.activeDay),")"]}),E.jsx("input",{className:"text-2xl sm:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 w-full transition-all",placeholder:"...",value:s.itineraryData?.days?.[s.activeDay]?.title||"",onChange:e=>s.updateItinField(`days.${s.activeDay}.title`,e.target.value)})]})]}),E.jsx("div",{className:"flex justify-center md:justify-start px-4",children:E.jsxs("button",{onClick:()=>s.setShowAllNotes(!s.showAllNotes),className:`flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border ${s.showAllNotes?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:[s.showAllNotes?E.jsx(BN,{size:16}):E.jsx(HN,{size:16})," ",s.showAllNotes?"":""]})})]}),E.jsxs("div",{className:"bg-white p-4 sm:p-6 md:p-12 rounded-[2rem] sm:rounded-[4rem] shadow-sm border border-slate-100 mx-2",children:[E.jsxs("form",{onSubmit:async e=>{e.preventDefault();const i=s.itineraryData?.days?.[s.activeDay]?.spots||[];await s.updateItinField(`days.${s.activeDay}.spots`,[...i,{...s.newSpot,id:Date.now().toString()}]),s.setNewSpot({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-4 sm:p-6 rounded-[1.5rem] sm:rounded-[2.5rem] border border-slate-100 shadow-inner",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full sm:w-auto shadow-sm shadow-inner",children:[E.jsx(SN,{size:18,className:"text-blue-500"}),E.jsx("input",{type:"time",value:s.newSpot.time,onChange:e=>s.setNewSpot({...s.newSpot,time:e.target.value}),className:"bg-transparent font-black outline-none w-full sm:w-24 text-slate-700"})]}),E.jsx("input",{placeholder:"",required:!0,value:s.newSpot.spot,onChange:e=>s.setNewSpot({...s.newSpot,spot:e.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm shadow-inner text-slate-700"})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[E.jsxs("div",{className:"w-full sm:w-1/3 flex items-center gap-2 bg-white px-4 py-2 rounded-xl border shadow-sm text-xs font-bold text-slate-400",children:[E.jsx(JN,{size:18}),E.jsx("input",{placeholder:"",value:s.newSpot.imageUrl,onChange:e=>s.setNewSpot({...s.newSpot,imageUrl:e.target.value}),className:"bg-transparent outline-none w-full"})]}),E.jsx("textarea",{placeholder:"...",value:s.newSpot.note,onChange:e=>s.setNewSpot({...s.newSpot,note:e.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm shadow-sm"}),E.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-slate-900 text-white px-8 py-3 sm:py-0 rounded-xl font-black active:scale-95 shadow-lg flex items-center justify-center shrink-0",children:E.jsx(zo,{size:24})})]})]}),E.jsxs("div",{className:"space-y-12 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1 before:bg-slate-50 before:rounded-full px-2",children:[(s.itineraryData?.days?.[s.activeDay]?.spots||[]).map((e,i)=>{const r=s.showAllNotes||!!s.expandedItems[e.id],o=s.editingId===e.id;return E.jsxs("div",{className:"relative pl-14 sm:pl-20 group",children:[E.jsxs("div",{className:"absolute left-0 sm:left-[-15px] top-1/2 -translate-y-1/2 flex flex-col items-center gap-1 z-10 scale-90 sm:scale-100",children:[E.jsx("button",{onClick:c=>{c.stopPropagation();const d=[...s.itineraryData.days[s.activeDay].spots];i>0&&([d[i],d[i-1]]=[d[i-1],d[i]],s.updateItinField(`days.${s.activeDay}.spots`,d))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:E.jsx(aN,{size:20})}),E.jsx("div",{className:"w-14 sm:w-16 h-14 sm:h-16 bg-white border-4 sm:border-8 border-slate-50 rounded-[1.2rem] sm:rounded-[1.5rem] flex items-center justify-center text-[9px] sm:text-[11px] font-black text-blue-600 shadow-md transition-transform group-hover:scale-110",children:e.time}),E.jsx("button",{onClick:c=>{c.stopPropagation();const d=[...s.itineraryData.days[s.activeDay].spots];i<s.itineraryData.days[s.activeDay].spots?.length-1&&([d[i],d[i+1]]=[d[i+1],d[i]],s.updateItinField(`days.${s.activeDay}.spots`,d))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:E.jsx(JC,{size:20})})]}),E.jsx("div",{onClick:()=>!o&&s.setExpandedItems(c=>({...c,[e.id]:!c[e.id]})),className:`p-6 sm:p-10 bg-white border rounded-[2rem] sm:rounded-[3rem] transition-all cursor-pointer ${o?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:o?E.jsxs("div",{className:"space-y-4 animate-fade-in",onClick:c=>c.stopPropagation(),children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[E.jsx("input",{type:"time",value:s.editData.time,onChange:c=>s.setEditData({...s.editData,time:c.target.value}),className:"p-3 border rounded-xl font-black w-full sm:w-32 bg-slate-50 outline-none"}),E.jsx("input",{value:s.editData.spot,onChange:c=>s.setEditData({...s.editData,spot:c.target.value}),className:"flex-1 p-3 border rounded-xl font-black bg-slate-50 outline-none"})]}),E.jsx("input",{placeholder:"...",value:s.editData.imageUrl||"",onChange:c=>s.setEditData({...s.editData,imageUrl:c.target.value}),className:"w-full p-3 border rounded-xl bg-slate-50 outline-none text-xs font-bold"}),E.jsx("textarea",{value:s.editData.note,onChange:c=>s.setEditData({...s.editData,note:c.target.value}),className:"w-full p-3 border rounded-xl h-24 bg-slate-50 outline-none text-sm"}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{onClick:c=>{c.stopPropagation(),s.setEditingId(null)},className:"text-sm font-bold text-slate-400 px-4",children:""}),E.jsx("button",{onClick:async c=>{c.stopPropagation();const d=s.itineraryData.days[s.activeDay].spots.map(g=>g.id===s.editingId?s.editData:g);await s.updateItinField(`days.${s.activeDay}.spots`,d),s.setEditingId(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg",children:""})]})]}):E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[E.jsxs("div",{className:"space-y-4 flex-1 w-full text-center sm:text-left",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4",children:[E.jsx("h4",{className:"text-xl sm:text-3xl font-black text-slate-800 leading-tight tracking-tight",children:e.spot}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.spot)}`,target:"_blank",rel:"noreferrer",onClick:c=>c.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-xl transition-all inline-flex items-center gap-1.5 text-[10px] sm:text-xs font-black shadow-sm shadow-blue-50",children:[E.jsx(u4,{size:14})," "]}),(e.note||e.imageUrl)&&E.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1.5 text-[9px] sm:text-[10px] font-black uppercase ${r?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[E.jsx(D4,{size:12})," ",r?"":""]})]})]}),r&&E.jsxs("div",{className:"bg-slate-50/50 p-4 sm:p-6 rounded-[1.5rem] sm:rounded-[2rem] border border-slate-100 space-y-4 animate-fade-in text-left",onClick:c=>c.stopPropagation(),children:[e.imageUrl&&E.jsx("div",{className:"relative group/img overflow-hidden rounded-2xl border border-white shadow-sm max-w-md mx-auto sm:mx-0",children:E.jsx("img",{src:e.imageUrl,alt:e.spot,className:"w-full max-w-md h-auto rounded-2xl shadow-sm border border-white cursor-zoom-in",onError:c=>c.target.style.display="none",onClick:c=>{c.stopPropagation(),window.open(e.imageUrl,"_blank")}})}),E.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:$4(e.note)||""})]})]}),E.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 w-full sm:w-auto justify-center",children:[E.jsx("button",{onClick:c=>{c.stopPropagation(),s.setEditingId(e.id),s.setEditData({...e})},className:"flex-1 sm:flex-none p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all shadow-sm bg-slate-50 sm:bg-transparent",children:E.jsx(gp,{size:20,className:"mx-auto"})}),E.jsx("button",{onClick:async c=>{if(c.stopPropagation(),confirm("")){const d=s.itineraryData.days[s.activeDay].spots.filter(g=>g.id!==e.id);await s.updateItinField(`days.${activeDay}.spots`,d)}},className:"flex-1 sm:flex-none p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm bg-slate-50 sm:bg-transparent",children:E.jsx(Dh,{size:20,className:"mx-auto"})})]})]})})]},e.id)}),!s.itineraryData?.days?.[s.activeDay]?.spots?.length&&E.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[2.5rem] sm:rounded-[3rem]",children:[E.jsx(Em,{className:"text-slate-100 mx-auto mb-6 opacity-20",size:80}),E.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center px-4",children:""})]})]})]})]}),aI=()=>{const[s,e]=oe.useState(!1),[i,r]=oe.useState(!1),[o,c]=oe.useState("home"),[d,g]=oe.useState("itinerary"),[_,y]=oe.useState(null),[T,x]=oe.useState(null),[D,L]=oe.useState([]),[K,J]=oe.useState(!0),[W,re]=oe.useState(1),[se,ue]=oe.useState({country:"",city:"",startDate:"",duration:3}),[Ae,et]=oe.useState({days:{},checklist:[],expenses:[],customRates:{},useCustom:{}}),[Ie,I]=oe.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[S,A]=oe.useState(null),[O,M]=oe.useState({}),[j,C]=oe.useState({type:"",message:""}),[tt,ft]=oe.useState(!1),[G,ie]=oe.useState({});oe.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await oS(Gc,__initial_auth_token):await iS(Gc)}catch(ee){console.error("Root Auth failed",ee)}finally{J(!1)}})();const F=hS(Gc,y);return()=>F()},[]),oe.useEffect(()=>{if(!_||!s&&!i)return;const R=op(jn,"artifacts",Jn,"public","data","trips");return Fc(R,F=>{L(F.docs.map(ee=>({id:ee.id,...ee.data()})).sort((ee,ne)=>new Date(ne.createdAt)-new Date(ee.createdAt)))},F=>{F.code==="permission-denied"&&console.error("Trips Snap Permission Denied")})},[_,s,i]),oe.useEffect(()=>{if(!_||!T||!s)return;const R=Qs(jn,"artifacts",Jn,"public","data","itineraries",T),F=Fc(R,pe=>{if(pe.exists()){const ve=pe.data();et({days:ve.days||{},checklist:ve.checklist||[],expenses:ve.expenses||[],customRates:ve.customRates||{},useCustom:ve.useCustom||{}}),c("editor")}}),ee=Qs(jn,"artifacts",Jn,"public","data","trips",T),ne=Fc(ee,pe=>{pe.exists()&&ue(pe.data())});return()=>{F(),ne()}},[_,T,s]);const fe=async(R,F)=>{if(!(!_||!T))try{await qC(Qs(jn,"artifacts",Jn,"public","data","itineraries",T),{[R]:F})}catch(ee){console.error(ee)}},je=async R=>{if(!_||!T)return;const F={...Ae.days},ee=W+R;if(ee<1||ee>parseInt(se.duration||"0"))return;const ne=F[W],pe=F[ee];F[W]=pe,F[ee]=ne,await fe("days",F),re(ee),C({type:"success",message:""})},qe=async R=>{if(R.preventDefault(),!_)return;J(!0);const F=crypto.randomUUID(),ee={};for(let ne=1;ne<=Math.max(1,parseInt(se.duration));ne++)ee[ne]={spots:[]};try{await hh(Qs(jn,"artifacts",Jn,"public","data","trips",F),{...se,creator:_.uid,createdAt:new Date().toISOString()}),await hh(Qs(jn,"artifacts",Jn,"public","data","itineraries",F),{days:ee,checklist:[],expenses:[],customRates:{},useCustom:{}}),x(F)}catch(ne){console.error(ne)}finally{J(!1)}};return oe.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const F=document.createElement("script");F.id="tailwind-cdn",F.src="https://cdn.tailwindcss.com",document.head.appendChild(F)}const R=document.createElement("style");R.id="premium-ui-engine-v7.5",R.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { min-height: 100vh !important; width: 100% !important; background-color: #f8fafc !important; font-family: 'Noto Sans TC', sans-serif !important; margin: 0; padding: 0; }
      #root { display: flex !important; flex-direction: column !important; align-items: center !important; overflow-x: hidden !important; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(R)},[]),!s&&!i?E.jsx(Z4,{authUser:_,onLoginSuccess:()=>e(!0),onAdminSuccess:()=>r(!0)}):i?E.jsx(W4,{authUser:_,onLogout:()=>r(!1)}):K?E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[E.jsx(Ih,{className:"animate-spin text-blue-600 mb-2",size:48}),E.jsx("p",{className:"text-slate-500 font-bold italic tracking-widest leading-none",children:"..."})]}):E.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen text-slate-700",children:[j.message&&E.jsxs("div",{className:"fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border bg-white text-green-600 border-green-100 shadow-green-100",children:[" ",E.jsx("span",{className:"font-bold text-sm",children:j.message}),E.jsx("button",{onClick:()=>C({type:"",message:""}),children:E.jsx(G4,{size:14})})," "]}),o==="home"?E.jsxs("div",{className:"w-full max-w-5xl px-4 sm:px-6 py-10 sm:py-20 flex flex-col items-center animate-fade-in",children:[E.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[E.jsx("div",{className:"w-20 sm:w-24 h-20 sm:h-24 bg-blue-600 text-white rounded-[2rem] sm:rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200 shadow-lg",children:E.jsx(bm,{size:48})}),E.jsx("h1",{className:"text-4xl sm:text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase leading-none",children:"Travel Planner"}),E.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-xs sm:text-sm italic text-center uppercase",children:" - "})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 w-full items-start px-2 sm:px-4",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("h3",{className:"text-lg sm:text-xl font-black text-slate-800 flex items-center gap-2",children:[E.jsx(zo,{className:"text-blue-600"})," "]}),E.jsxs("form",{onSubmit:qe,className:"bg-white p-6 sm:p-10 rounded-[2.5rem] sm:rounded-[3rem] shadow-xl space-y-8 border border-white shadow-slate-200",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:se.country,onChange:R=>ue({...se,country:R.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:se.city,onChange:R=>ue({...se,city:R.target.value})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:se.startDate,onChange:R=>ue({...se,startDate:R.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:se.duration,onChange:R=>ue({...se,duration:R.target.value})})]})]}),E.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all active:scale-95 flex items-center justify-center gap-2",children:[E.jsx(zo,{size:24})," "]})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("h3",{className:"text-lg sm:text-xl font-black text-slate-800 flex items-center gap-2",children:[E.jsx(Em,{className:"text-blue-600"}),"  (",D.length,")"]}),E.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:D.map(R=>E.jsxs("div",{onClick:()=>x(R.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 sm:gap-5",children:[E.jsx("div",{className:"w-12 sm:w-14 h-12 sm:h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm shadow-inner",children:E.jsx(KN,{size:24})}),E.jsxs("div",{children:[E.jsxs("h4",{className:"text-lg sm:text-xl font-black text-slate-800 tracking-tight",children:[R.city," "]}),E.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:[R.country,"  ",R.startDate]})]})]}),E.jsx(gN,{className:"text-slate-200 group-hover:text-blue-600"})]},R.id))})]})]}),E.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:Q4})]}):E.jsxs("div",{className:"w-full flex flex-col items-center pb-24 animate-fade-in",children:[E.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-4 sm:px-10 sticky top-0 z-50 shadow-sm max-w-[100vw] overflow-x-hidden",children:[E.jsxs("div",{className:"font-black text-blue-600 text-xl sm:text-2xl flex items-center gap-2 sm:gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[E.jsx(bm,{size:24,className:"rotate-45"}),E.jsx("span",{className:"tracking-tighter uppercase font-black font-sans hidden xs:inline",children:"Traveler"})]}),E.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:["itinerary","weather","expenses","checklist","currency"].map(R=>E.jsx("button",{onClick:()=>g(R),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${d===R?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400 hover:text-slate-600"}`,children:R==="itinerary"?"":R==="weather"?"":R==="expenses"?"":R==="checklist"?"":""},R))}),E.jsxs("div",{className:"text-right flex items-center gap-3",children:[E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"font-black text-slate-800 tracking-tight truncate max-w-[120px] sm:max-w-[180px] leading-none text-sm sm:text-base",children:[se.city," "]}),E.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-1 uppercase",children:se.startDate})]}),E.jsx("button",{onClick:()=>{e(!1),r(!1)},className:"p-2 text-slate-300 hover:text-red-500 transition-colors shadow-sm bg-white rounded-xl",children:E.jsx(QE,{size:20})})]})]}),E.jsx("main",{className:"w-full max-w-5xl p-2 sm:p-4 md:p-12 overflow-x-hidden",children:d==="itinerary"?E.jsx(sI,{tripInfo:se,itineraryData:Ae,activeDay:W,setActiveDay:re,moveDay:je,updateItinField:fe,showAllNotes:tt,setShowAllNotes:ft,expandedItems:G,setExpandedItems:ie,editingId:S,setEditingId:A,editData:O,setEditData:M,newSpot:Ie,setNewSpot:I}):d==="weather"?E.jsx(tI,{tripInfo:se}):d==="expenses"?E.jsx(eI,{itineraryData:Ae,updateItinField:fe}):d==="checklist"?E.jsx(iI,{itineraryData:Ae,updateItinField:fe}):E.jsx(nI,{itineraryData:Ae,updateItinField:fe})}),E.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[E.jsx("button",{onClick:()=>g("itinerary"),className:`p-4 rounded-2xl transition-all ${d==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(Em,{size:20})}),E.jsx("button",{onClick:()=>g("weather"),className:`p-4 rounded-2xl transition-all ${d==="weather"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(yp,{size:20})}),E.jsx("button",{onClick:()=>g("expenses"),className:`p-4 rounded-2xl transition-all ${d==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(H4,{size:20})}),E.jsx("button",{onClick:()=>g("checklist"),className:`p-4 rounded-2xl transition-all ${d==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(t4,{size:20})}),E.jsx("button",{onClick:()=>g("currency"),className:`p-4 rounded-2xl transition-all ${d==="currency"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(DN,{size:20})})]})]})]})};VT.createRoot(document.getElementById("root")).render(E.jsx(oe.StrictMode,{children:E.jsx(aI,{})}));
