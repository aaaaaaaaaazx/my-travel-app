(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var yd={exports:{}},ul={};var d_;function ZA(){if(d_)return ul;d_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var m_;function $A(){return m_||(m_=1,yd.exports=ZA()),yd.exports}var bt=$A(),_d={exports:{}},_t={};var g_;function WA(){if(g_)return _t;g_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function rt(O,Q,W){this.props=O,this.context=Q,this.refs=tt,this.updater=W||Z}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ft(){}ft.prototype=rt.prototype;function mt(O,Q,W){this.props=O,this.context=Q,this.refs=tt,this.updater=W||Z}var jt=mt.prototype=new ft;jt.constructor=mt,et(jt,rt.prototype),jt.isPureReactComponent=!0;var oe=Array.isArray;function Lt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,Q,W){var it=W.ref;return{$$typeof:s,type:O,key:Q,ref:it!==void 0?it:null,props:W}}function V(O,Q){return C(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return Q[W]})}var w=/\/+/g;function ee(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Lt,Lt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,W,it,pt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case s:case t:Mt=!0;break;case A:return Mt=O._init,H(Mt(O._payload),Q,W,it,pt)}}if(Mt)return pt=pt(O),Mt=it===""?"."+ee(O,0):it,oe(pt)?(W="",Mt!=null&&(W=Mt.replace(w,"$&/")+"/"),H(pt,Q,W,"",function($r){return $r})):pt!=null&&(N(pt)&&(pt=V(pt,W+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),Q.push(pt)),1;Mt=0;var Ce=it===""?".":it+":";if(oe(O))for(var ne=0;ne<O.length;ne++)it=O[ne],At=Ce+ee(it,ne),Mt+=H(it,Q,W,At,pt);else if(ne=Y(O),typeof ne=="function")for(O=ne.call(O),ne=0;!(it=O.next()).done;)it=it.value,At=Ce+ee(it,ne++),Mt+=H(it,Q,W,At,pt);else if(At==="object"){if(typeof O.then=="function")return H(Re(O),Q,W,it,pt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function $(O,Q,W){if(O==null)return O;var it=[],pt=0;return H(O,it,"","",function(At){return Q.call(W,At,pt++)}),it}function ut(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:$,forEach:function(O,Q,W){$(O,function(){Q.apply(this,arguments)},W)},count:function(O){var Q=0;return $(O,function(){Q++}),Q},toArray:function(O){return $(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=b,_t.Children=Ht,_t.Component=rt,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=mt,_t.StrictMode=a,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Q,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=et({},O.props),pt=O.key;if(Q!=null)for(At in Q.key!==void 0&&(pt=""+Q.key),Q)!S.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(it[At]=Q[At]);var At=arguments.length-2;if(At===1)it.children=W;else if(1<At){for(var Mt=Array(At),Ce=0;Ce<At;Ce++)Mt[Ce]=arguments[Ce+2];it.children=Mt}return C(O.type,pt,it)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},_t.createElement=function(O,Q,W){var it,pt={},At=null;if(Q!=null)for(it in Q.key!==void 0&&(At=""+Q.key),Q)S.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=Q[it]);var Mt=arguments.length-2;if(Mt===1)pt.children=W;else if(1<Mt){for(var Ce=Array(Mt),ne=0;ne<Mt;ne++)Ce[ne]=arguments[ne+2];pt.children=Ce}if(O&&O.defaultProps)for(it in Mt=O.defaultProps,Mt)pt[it]===void 0&&(pt[it]=Mt[it]);return C(O,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:p,render:O}},_t.isValidElement=N,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},_t.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},_t.startTransition=function(O){var Q=I.T,W={};I.T=W;try{var it=O(),pt=I.S;pt!==null&&pt(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Lt,Ut)}catch(At){Ut(At)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),I.T=Q}},_t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_t.use=function(O){return I.H.use(O)},_t.useActionState=function(O,Q,W){return I.H.useActionState(O,Q,W)},_t.useCallback=function(O,Q){return I.H.useCallback(O,Q)},_t.useContext=function(O){return I.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},_t.useEffect=function(O,Q){return I.H.useEffect(O,Q)},_t.useEffectEvent=function(O){return I.H.useEffectEvent(O)},_t.useId=function(){return I.H.useId()},_t.useImperativeHandle=function(O,Q,W){return I.H.useImperativeHandle(O,Q,W)},_t.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},_t.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},_t.useMemo=function(O,Q){return I.H.useMemo(O,Q)},_t.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},_t.useReducer=function(O,Q,W){return I.H.useReducer(O,Q,W)},_t.useRef=function(O){return I.H.useRef(O)},_t.useState=function(O){return I.H.useState(O)},_t.useSyncExternalStore=function(O,Q,W){return I.H.useSyncExternalStore(O,Q,W)},_t.useTransition=function(){return I.H.useTransition()},_t.version="19.2.4",_t}var p_;function om(){return p_||(p_=1,_d.exports=WA()),_d.exports}var He=om(),vd={exports:{}},cl={},Ed={exports:{}},Td={};var y_;function tS(){return y_||(y_=1,(function(s){function t(H,$){var ut=H.length;H.push($);t:for(;0<ut;){var Ut=ut-1>>>1,Ht=H[Ut];if(0<l(Ht,$))H[Ut]=$,H[ut]=Ht,ut=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var $=H[0],ut=H.pop();if(ut!==$){H[0]=ut;t:for(var Ut=0,Ht=H.length,O=Ht>>>1;Ut<O;){var Q=2*(Ut+1)-1,W=H[Q],it=Q+1,pt=H[it];if(0>l(W,ut))it<Ht&&0>l(pt,W)?(H[Ut]=pt,H[it]=ut,Ut=it):(H[Ut]=W,H[Q]=ut,Ut=Q);else if(it<Ht&&0>l(pt,ut))H[Ut]=pt,H[it]=ut,Ut=it;else break t}}return $}function l(H,$){var ut=H.sortIndex-$.sortIndex;return ut!==0?ut:H.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,b=null,x=3,Y=!1,Z=!1,et=!1,tt=!1,rt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function jt(H){for(var $=i(_);$!==null;){if($.callback===null)a(_);else if($.startTime<=H)a(_),$.sortIndex=$.expirationTime,t(v,$);else break;$=i(_)}}function oe(H){if(et=!1,jt(H),!Z)if(i(v)!==null)Z=!0,Lt||(Lt=!0,U());else{var $=i(_);$!==null&&Re(oe,$.startTime-H)}}var Lt=!1,I=-1,S=5,C=-1;function V(){return tt?!0:!(s.unstable_now()-C<S)}function N(){if(tt=!1,Lt){var H=s.unstable_now();C=H;var $=!0;try{t:{Z=!1,et&&(et=!1,ft(I),I=-1),Y=!0;var ut=x;try{e:{for(jt(H),b=i(v);b!==null&&!(b.expirationTime>H&&V());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,x=b.priorityLevel;var Ht=Ut(b.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,jt(H),$=!0;break e}b===i(v)&&a(v),jt(H)}else a(v);b=i(v)}if(b!==null)$=!0;else{var O=i(_);O!==null&&Re(oe,O.startTime-H),$=!1}}break t}finally{b=null,x=ut,Y=!1}$=void 0}}finally{$?U():Lt=!1}}}var U;if(typeof mt=="function")U=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=N,U=function(){ee.postMessage(null)}}else U=function(){rt(N,0)};function Re(H,$){I=rt(function(){H(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var ut=x;x=$;try{return H()}finally{x=ut}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=x;x=H;try{return $()}finally{x=ut}},s.unstable_scheduleCallback=function(H,$,ut){var Ut=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ut+ut:Ut):ut=Ut,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:$,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Ut?(H.sortIndex=ut,t(_,H),i(v)===null&&H===i(_)&&(et?(ft(I),I=-1):et=!0,Re(oe,ut-Ut))):(H.sortIndex=Ht,t(v,H),Z||Y||(Z=!0,Lt||(Lt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var $=x;return function(){var ut=x;x=$;try{return H.apply(this,arguments)}finally{x=ut}}}})(Td)),Td}var __;function eS(){return __||(__=1,Ed.exports=tS()),Ed.exports}var Ad={exports:{}},Ke={};var v_;function nS(){if(v_)return Ke;v_=1;var s=om();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Ke.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ke.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ke.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ke.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:Y}):A==="script"&&a.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ke.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ke.requestFormReset=function(v){a.d.r(v)},Ke.unstable_batchedUpdates=function(v,_){return v(_)},Ke.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.4",Ke}var E_;function iS(){if(E_)return Ad.exports;E_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=nS(),Ad.exports}var T_;function rS(){if(T_)return cl;T_=1;var s=eS(),t=om(),i=iS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===r){g=!0,r=c,o=f;break}if(E===o){g=!0,o=c,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=c;break}if(E===o){g=!0,o=f,r=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case rt:return"Profiler";case tt:return"StrictMode";case oe:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var Re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=Ut[Ht],Ut[Ht]=null,Ht--)}function W(e,n){Ht++,Ut[Ht]=e.current,e.current=n}var it=O(null),pt=O(null),At=O(null),Mt=O(null);function Ce(e,n){switch(W(At,n),W(pt,e),W(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),W(it,e)}function ne(){Q(it),Q(pt),Q(At)}function $r(e){e.memoizedState!==null&&W(Mt,e);var n=it.current,r=ky(n,e.type);n!==r&&(W(pt,e),W(it,r))}function qs(e){pt.current===e&&(Q(it),Q(pt)),Mt.current===e&&(Q(Mt),sl._currentValue=ut)}var Hs,Gs;function Zn(e){if(Hs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Hs=n&&n[1]||"",Gs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+e+Gs}var ro=!1;function Wr(e,n){if(!e||ro)return"";ro=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var z=j}Reflect.construct(e,[],F)}else{try{F.call()}catch(j){z=j}e.call(F.prototype)}}else{try{throw Error()}catch(j){z=j}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===P.length)for(o=R.length-1,c=P.length-1;1<=o&&0<=c&&R[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==P[c]){var q=`
`+R[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{ro=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Zn(r):""}function so(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Wr(e.type,!1);case 11:return Wr(e.type.render,!1);case 1:return Wr(e.type,!0);case 31:return Zn("Activity");default:return""}}function ao(e){try{var n="",r=null;do n+=so(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,er=s.unstable_cancelCallback,_h=s.unstable_shouldYield,jl=s.unstable_requestPaint,$e=s.unstable_now,ts=s.unstable_getCurrentPriorityLevel,oo=s.unstable_ImmediatePriority,lo=s.unstable_UserBlockingPriority,nr=s.unstable_NormalPriority,vh=s.unstable_LowPriority,ql=s.unstable_IdlePriority,Hl=s.log,Gl=s.unstable_setDisableYieldValue,Un=null,ke=null;function vn(e){if(typeof Hl=="function"&&Gl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Ql,Fl=Math.log,Fs=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Fl(e)/Fs|0)|0}var $n=256,es=262144,pe=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Wn(o):(g&=E,g!==0?c=Wn(g):r||(r=E&~e,r!==0&&(c=Wn(r))))):(E=o&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):r||(r=o&~e,r!==0&&(c=Wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Eh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ns(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Th(e,n,r,o,c,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var q=31-ce(r),F=1<<q;E[q]=0,R[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}r&=~F}o!==0&&is(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function is(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function uo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function co(e,n){var r=n&-n;return r=(r&42)!==0?1:rs(r),(r&(e.suspendedLanes|n))!==0?0:r}function rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:a_(e.type))}function kn(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Qs="__reactEvents$"+Pn,Ah="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,Jl="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Ks(e){delete e[ye],delete e[Ve],delete e[Qs],delete e[Ah],delete e[Xl]}function ri(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ni]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Gy(e);e!==null;){if(r=e[ye])return r;e=Gy(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ye]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function si(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ii]=!0}var ho=new Set,fo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(fo[e]=n,e=0;e<n.length;e++)ho.add(n[e])}var mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},po={};function Zl(e){return ge.call(po,e)?!0:ge.call(go,e)?!1:mo.test(e)?po[e]=!0:(go[e]=!0,!1)}function Ys(e,n,r){if(Zl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=yo(e,n,""+e[n])}}function ss(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var as=/[\n"\\]/g;function en(e){return e.replace(as,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xs(e,n,r,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?_o(e,g,Me(n)):r!=null?_o(e,g,Me(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function $l(e,n,r,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+Me(r):"",n=n!=null?""+Me(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function _o(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Me(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Wl(e,n,r){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Me(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Re(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Me(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||tu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Eo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&vo(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&vo(e,f,n[f])}function Js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var To=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,ui=null;function os(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Xs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[Ve]||null;if(!c)throw Error(a(90));Xs(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ss(o)}break t;case"textarea":Wl(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var $s=!1;function lr(e,n,r){if($s)return e(n,r);$s=!0;try{var o=e(n);return o}finally{if($s=!1,(or!==null||ui!==null)&&(Yu(),or&&(n=or,e=ui,ui=or=null,os(n),e)))for(n=0;n<e.length;n++)os(e[n])}}function Bn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(An)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ls=!1}var ci=null,Ao=null,us=null;function So(){if(us)return us;var e,n=Ao,r=n.length,o,c="value"in ci?ci.value:ci.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===c[f-o];o++);return us=c.slice(e,1<o?1-o:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function jn(){return!1}function Pe(e){function n(r,o,c,f,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Di),ur=b({},Di,{view:0,detail:0}),bo=Pe(ur),cr,Ws,fi,ta=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(cr=e.screenX-fi.screenX,Ws=e.screenY-fi.screenY):Ws=cr=0,fi=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),wo=Pe(ta),hs=b({},ta,{dataTransfer:0}),nu=Pe(hs),iu=b({},ur,{relatedTarget:0}),fs=Pe(iu),Ro=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Pe(Ro),ea=b({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),su=Pe(ea),au=b({},Di,{data:0}),di=Pe(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function hr(){return cu}var We=b({},ur,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=Pe(We),fu=b({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Pe(fu),u=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=Pe(u),y=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),L=b({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),J=b({},Di,{newState:0,oldState:0}),Et=Pe(J),he=[9,13,27,32],zt=An&&"CompositionEvent"in window,ie=null;An&&"documentMode"in document&&(ie=document.documentMode);var Sn=An&&"TextEvent"in window&&!ie,mi=An&&(!zt||ie&&8<ie&&11>=ie),qn=" ",Hn=!1;function ds(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function T0(e,n){switch(e){case"compositionend":return na(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function A0(e,n){if(ia)return e==="compositionend"||!zt&&ds(e,n)?(e=So(),us=Ao=ci=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!S0[e.type]:n==="textarea"}function Ym(e,n,r,o){or?ui?ui.push(o):ui=[o]:or=o,n=ec(n,"onChange"),0<n.length&&(r=new hi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Co=null,Io=null;function b0(e){Ny(e,0)}function du(e){var n=cn(e);if(ss(n))return e}function Xm(e,n){if(e==="change")return n}var Jm=!1;if(An){var Sh;if(An){var bh="oninput"in document;if(!bh){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),bh=typeof Zm.oninput=="function"}Sh=bh}else Sh=!1;Jm=Sh&&(!document.documentMode||9<document.documentMode)}function $m(){Co&&(Co.detachEvent("onpropertychange",Wm),Io=Co=null)}function Wm(e){if(e.propertyName==="value"&&du(Io)){var n=[];Ym(n,Io,e,Tn(e)),lr(b0,n)}}function w0(e,n,r){e==="focusin"?($m(),Co=n,Io=r,Co.attachEvent("onpropertychange",Wm)):e==="focusout"&&$m()}function R0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Io)}function C0(e,n){if(e==="click")return du(n)}function I0(e,n){if(e==="input"||e==="change")return du(n)}function D0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:D0;function Do(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!ge.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,n){var r=tg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=tg(r)}}function ng(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ng(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function wh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N0=An&&"documentMode"in document&&11>=document.documentMode,ra=null,Rh=null,No=null,Ch=!1;function rg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ch||ra==null||ra!==li(o)||(o=ra,"selectionStart"in o&&wh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Do(No,o)||(No=o,o=ec(Rh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ra)))}function ms(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var sa={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Ih={},sg={};An&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function gs(e){if(Ih[e])return Ih[e];if(!sa[e])return e;var n=sa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in sg)return Ih[e]=n[r];return e}var ag=gs("animationend"),og=gs("animationiteration"),lg=gs("animationstart"),O0=gs("transitionrun"),V0=gs("transitionstart"),M0=gs("transitioncancel"),ug=gs("transitionend"),cg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Gn(e,n){cg.set(e,n),ai(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],aa=0,Nh=0;function gu(){for(var e=aa,n=Nh=aa=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&hg(r,c,f)}}function pu(e,n,r,o){bn[aa++]=e,bn[aa++]=n,bn[aa++]=r,bn[aa++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,n,r,o){return pu(e,n,r,o),yu(e)}function ps(e,n){return pu(e,null,null,n),yu(e)}function hg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ce(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function yu(e){if(50<$o)throw $o=0,jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var oa={};function x0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new x0(e,n,r,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function fg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,r,o,c,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=zA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=dn(31,r,n,c),e.elementType=C,e.lanes=f,e;case et:return ys(r.children,c,f,n);case tt:g=8,c|=24;break;case rt:return e=dn(12,r,n,c|2),e.elementType=rt,e.lanes=f,e;case oe:return e=dn(13,r,n,c),e.elementType=oe,e.lanes=f,e;case Lt:return e=dn(19,r,n,c),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case ft:g=9;break t;case jt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function ys(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Mh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function dg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function xh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=mg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ao(n)},mg.set(e,n),n)}return{value:e,source:n,stack:ao(n)}}var la=[],ua=0,vu=null,Oo=0,Rn=[],Cn=0,fr=null,gi=1,pi="";function Vi(e,n){la[ua++]=Oo,la[ua++]=vu,vu=e,Oo=n}function gg(e,n,r){Rn[Cn++]=gi,Rn[Cn++]=pi,Rn[Cn++]=fr,fr=e;var o=gi;e=pi;var c=32-ce(o)-1;o&=~(1<<c),r+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,gi=1<<32-ce(n)+c|r<<c|o,pi=f+e}else gi=1<<f|r<<c|o,pi=e}function Uh(e){e.return!==null&&(Vi(e,1),gg(e,1,0))}function Lh(e){for(;e===vu;)vu=la[--ua],la[ua]=null,Oo=la[--ua],la[ua]=null;for(;e===fr;)fr=Rn[--Cn],Rn[Cn]=null,pi=Rn[--Cn],Rn[Cn]=null,gi=Rn[--Cn],Rn[Cn]=null}function pg(e,n){Rn[Cn++]=gi,Rn[Cn++]=pi,Rn[Cn++]=fr,gi=n.id,pi=n.overflow,fr=e}var ze=null,$t=null,Vt=!1,dr=null,In=!1,kh=Error(a(519));function mr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(wn(n,e)),kh}function yg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<tl.length;r++)Rt(tl[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),$l(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||xy(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||mr(e,!0)}function _g(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ze=ze.return}}function ca(e){if(e!==ze)return!1;if(!Vt)return _g(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||nd(e.type,e.memoizedProps)),r=!r),r&&$t&&mr(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=Hy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=Hy(e)}else n===27?(n=$t,Ir(e.type)?(e=od,od=null,$t=e):$t=n):$t=ze?Nn(e.stateNode.nextSibling):null;return!0}function _s(){$t=ze=null,Vt=!1}function Ph(){var e=dr;return e!==null&&(on===null?on=e:on.push.apply(on,e),dr=null),e}function Vo(e){dr===null?dr=[e]:dr.push(e)}var zh=O(null),vs=null,Mi=null;function gr(e,n,r){W(zh,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=zh.current,Q(zh)}function Bh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function jh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Bh(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ha(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}c=c.return}e!==null&&jh(n,e,r,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return vg(vs,e)}function Tu(e,n){return vs===null&&Es(e),vg(e,n)}function vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var U0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},L0=s.unstable_scheduleCallback,k0=s.unstable_NormalPriority,Ee={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new U0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&L0(k0,function(){e.controller.abort()})}var xo=null,Hh=0,fa=0,da=null;function P0(e,n){if(xo===null){var r=xo=[];Hh=0,fa=Kf(),da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Hh++,n.then(Eg,Eg),n}function Eg(){if(--Hh===0&&xo!==null){da!==null&&(da.status="fulfilled");var e=xo;xo=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function z0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Tg=H.S;H.S=function(e,n){ry=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&P0(e,n),Tg!==null&&Tg(e,n)};var Ts=O(null);function Gh(){var e=Ts.current;return e!==null?e:Zt.pooledCache}function Au(e,n){n===null?W(Ts,Ts.current):W(Ts,n.pool)}function Ag(){var e=Gh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ma=Error(a(460)),Fh=Error(a(474)),Su=Error(a(542)),bu={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e}throw Ss=n,ma}}function As(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ss=r,ma):r}}var Ss=null;function wg(){if(Ss===null)throw Error(a(459));var e=Ss;return Ss=null,e}function Rg(e){if(e===ma||e===Su)throw Error(a(483))}var ga=null,Uo=0;function wu(e){var n=Uo;return Uo+=1,ga===null&&(ga=[]),bg(ga,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(M,D){if(e){var k=M.deletions;k===null?(M.deletions=[D],M.flags|=16):k.push(D)}}function r(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=Oi(M,D),M.index=0,M.sibling=null,M}function f(M,D,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<D?(M.flags|=67108866,D):k):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,k,G){return D===null||D.tag!==6?(D=Mh(k,M.mode,G),D.return=M,D):(D=c(D,k),D.return=M,D)}function R(M,D,k,G){var lt=k.type;return lt===et?q(M,D,k.props.children,G,k.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&As(lt)===D.type)?(D=c(D,k.props),Lo(D,k),D.return=M,D):(D=_u(k.type,k.key,k.props,null,M.mode,G),Lo(D,k),D.return=M,D)}function P(M,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=xh(k,M.mode,G),D.return=M,D):(D=c(D,k.children||[]),D.return=M,D)}function q(M,D,k,G,lt){return D===null||D.tag!==7?(D=ys(k,M.mode,G,lt),D.return=M,D):(D=c(D,k),D.return=M,D)}function F(M,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mh(""+D,M.mode,k),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return k=_u(D.type,D.key,D.props,null,M.mode,k),Lo(k,D),k.return=M,k;case Z:return D=xh(D,M.mode,k),D.return=M,D;case S:return D=As(D),F(M,D,k)}if(Re(D)||U(D))return D=ys(D,M.mode,k,null),D.return=M,D;if(typeof D.then=="function")return F(M,wu(D),k);if(D.$$typeof===mt)return F(M,Tu(M,D),k);Ru(M,D)}return null}function z(M,D,k,G){var lt=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(M,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Y:return k.key===lt?R(M,D,k,G):null;case Z:return k.key===lt?P(M,D,k,G):null;case S:return k=As(k),z(M,D,k,G)}if(Re(k)||U(k))return lt!==null?null:q(M,D,k,G,null);if(typeof k.then=="function")return z(M,D,wu(k),G);if(k.$$typeof===mt)return z(M,D,Tu(M,k),G);Ru(M,k)}return null}function j(M,D,k,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(k)||null,E(D,M,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:return M=M.get(G.key===null?k:G.key)||null,R(D,M,G,lt);case Z:return M=M.get(G.key===null?k:G.key)||null,P(D,M,G,lt);case S:return G=As(G),j(M,D,k,G,lt)}if(Re(G)||U(G))return M=M.get(k)||null,q(D,M,G,lt,null);if(typeof G.then=="function")return j(M,D,k,wu(G),lt);if(G.$$typeof===mt)return j(M,D,k,Tu(D,G),lt);Ru(D,G)}return null}function st(M,D,k,G){for(var lt=null,kt=null,at=D,St=D=0,It=null;at!==null&&St<k.length;St++){at.index>St?(It=at,at=null):It=at.sibling;var Pt=z(M,at,k[St],G);if(Pt===null){at===null&&(at=It);break}e&&at&&Pt.alternate===null&&n(M,at),D=f(Pt,D,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,at=It}if(St===k.length)return r(M,at),Vt&&Vi(M,St),lt;if(at===null){for(;St<k.length;St++)at=F(M,k[St],G),at!==null&&(D=f(at,D,St),kt===null?lt=at:kt.sibling=at,kt=at);return Vt&&Vi(M,St),lt}for(at=o(at);St<k.length;St++)It=j(at,M,St,k[St],G),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?St:It.key),D=f(It,D,St),kt===null?lt=It:kt.sibling=It,kt=It);return e&&at.forEach(function(Mr){return n(M,Mr)}),Vt&&Vi(M,St),lt}function ht(M,D,k,G){if(k==null)throw Error(a(151));for(var lt=null,kt=null,at=D,St=D=0,It=null,Pt=k.next();at!==null&&!Pt.done;St++,Pt=k.next()){at.index>St?(It=at,at=null):It=at.sibling;var Mr=z(M,at,Pt.value,G);if(Mr===null){at===null&&(at=It);break}e&&at&&Mr.alternate===null&&n(M,at),D=f(Mr,D,St),kt===null?lt=Mr:kt.sibling=Mr,kt=Mr,at=It}if(Pt.done)return r(M,at),Vt&&Vi(M,St),lt;if(at===null){for(;!Pt.done;St++,Pt=k.next())Pt=F(M,Pt.value,G),Pt!==null&&(D=f(Pt,D,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return Vt&&Vi(M,St),lt}for(at=o(at);!Pt.done;St++,Pt=k.next())Pt=j(at,M,St,Pt.value,G),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?St:Pt.key),D=f(Pt,D,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return e&&at.forEach(function(JA){return n(M,JA)}),Vt&&Vi(M,St),lt}function Jt(M,D,k,G){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Y:t:{for(var lt=k.key;D!==null;){if(D.key===lt){if(lt=k.type,lt===et){if(D.tag===7){r(M,D.sibling),G=c(D,k.props.children),G.return=M,M=G;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&As(lt)===D.type){r(M,D.sibling),G=c(D,k.props),Lo(G,k),G.return=M,M=G;break t}r(M,D);break}else n(M,D);D=D.sibling}k.type===et?(G=ys(k.props.children,M.mode,G,k.key),G.return=M,M=G):(G=_u(k.type,k.key,k.props,null,M.mode,G),Lo(G,k),G.return=M,M=G)}return g(M);case Z:t:{for(lt=k.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){r(M,D.sibling),G=c(D,k.children||[]),G.return=M,M=G;break t}else{r(M,D);break}else n(M,D);D=D.sibling}G=xh(k,M.mode,G),G.return=M,M=G}return g(M);case S:return k=As(k),Jt(M,D,k,G)}if(Re(k))return st(M,D,k,G);if(U(k)){if(lt=U(k),typeof lt!="function")throw Error(a(150));return k=lt.call(k),ht(M,D,k,G)}if(typeof k.then=="function")return Jt(M,D,wu(k),G);if(k.$$typeof===mt)return Jt(M,D,Tu(M,k),G);Ru(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(r(M,D.sibling),G=c(D,k),G.return=M,M=G):(r(M,D),G=Mh(k,M.mode,G),G.return=M,M=G),g(M)):r(M,D)}return function(M,D,k,G){try{Uo=0;var lt=Jt(M,D,k,G);return ga=null,lt}catch(at){if(at===ma||at===Su)throw at;var kt=dn(29,at,null,M.mode);return kt.lanes=G,kt.return=M,kt}}}var bs=Cg(!0),Ig=Cg(!1),pr=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=yu(e),hg(e,null,r),n}return pu(e,o,n,r),yu(e)}function ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,uo(e,r)}}function Yh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Xh=!1;function Po(){if(Xh){var e=da;if(e!==null)throw e}}function zo(e,n,r,o){Xh=!1;var c=e.updateQueue;pr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;g=0,q=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Ct&z)===z:(o&z)===z){z!==0&&z===fa&&(Xh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ht=E;z=n;var Jt=r;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){F=st.call(Jt,F,z);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,z=typeof st=="function"?st.call(Jt,F,z):st,z==null)break t;F=b({},F,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=j,R=F):q=q.next=j,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);q===null&&(R=F),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),Sr|=g,e.lanes=g,e.memoizedState=F}}function Dg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ng(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Dg(r[e],n)}var pa=O(null),Cu=O(0);function Og(e,n){e=Hi,W(Cu,e),W(pa,n),Hi=e|n.baseLanes}function Jh(){W(Cu,Hi),W(pa,pa.current)}function Zh(){Hi=Cu.current,Q(pa),Q(Cu)}var mn=O(null),Dn=null;function vr(e){var n=e.alternate;W(fe,fe.current&1),W(mn,e),Dn===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(Dn=e)}function $h(e){W(fe,fe.current),W(mn,e),Dn===null&&(Dn=e)}function Vg(e){e.tag===22?(W(fe,fe.current),W(mn,e),Dn===null&&(Dn=e)):Er()}function Er(){W(fe,fe.current),W(mn,mn.current)}function gn(e){Q(mn),Dn===e&&(Dn=null),Q(fe)}var fe=O(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||sd(r)||ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,Tt=null,Yt=null,Te=null,Du=!1,ya=!1,ws=!1,Nu=0,Bo=0,_a=null,B0=0;function le(){throw Error(a(321))}function Wh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function tf(e,n,r,o,c,f){return Ui=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?gp:pf,ws=!1,f=r(o,c),ws=!1,ya&&(f=xg(n,r,o,c)),Mg(e),f}function Mg(e){H.H=Ho;var n=Yt!==null&&Yt.next!==null;if(Ui=0,Te=Yt=Tt=null,Du=!1,Bo=0,_a=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Eu(e)&&(Ae=!0))}function xg(e,n,r,o){Tt=e;var c=0;do{if(ya&&(_a=null),Bo=0,ya=!1,25<=c)throw Error(a(301));if(c+=1,Te=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=pp,f=n(r,o)}while(ya);return f}function j0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?jo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function ef(){var e=Nu!==0;return Nu=0,e}function nf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function rf(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}Ui=0,Te=Yt=Tt=null,ya=!1,Bo=Nu=0,_a=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Yt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Yt=e;else{if(e===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var n=Bo;return Bo+=1,_a===null&&(_a=[]),e=bg(_a,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?gp:pf),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===mt)return Be(e)}throw Error(a(438,String(e)))}function sf(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ou(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=de();return af(n,Yt,e)}function af(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,R=null,P=n,q=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ct&F)===F:(Ui&F)===F){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===fa&&(q=!0);else if((Ui&z)===z){P=P.next,z===fa&&(q=!0);continue}else F={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,g=f):R=R.next=F,Tt.lanes|=z,Sr|=z;F=P.action,ws&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else z={lane:F,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,Tt.lanes|=F,Sr|=F;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!fn(f,e.memoizedState)&&(Ae=!0,q&&(r=da,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Ug(e,n,r){var o=Tt,c=de(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!fn((Yt||c).memoizedState,r);if(g&&(c.memoizedState=r,Ae=!0),c=c.queue,cf(Pg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,va(9,{destroy:void 0},kg.bind(null,o,c,r,n),null),Zt===null)throw Error(a(349));f||(Ui&127)!==0||Lg(o,n,r)}return r}function Lg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Ou(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function kg(e,n,r,o){n.value=r,n.getSnapshot=o,zg(n)&&Bg(e)}function Pg(e,n,r){return r(function(){zg(n)&&Bg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Bg(e){var n=ps(e,2);n!==null&&ln(n,e,2)}function lf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),ws){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function jg(e,n,r,o){return e.baseState=r,af(e,Yt,typeof o=="function"?o:Li)}function q0(e,n,r,o,c){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,qg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function qg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(c,o),R=H.S;R!==null&&R(g,E),Hg(e,n,E)}catch(P){uf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(c,o),Hg(e,n,f)}catch(P){uf(e,n,P)}}function Hg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Gg(e,n,o)},function(o){return uf(e,n,o)}):Gg(e,n,r)}function Gg(e,n,r){n.status="fulfilled",n.value=r,Fg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,qg(e,r)))}function uf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Fg(n),n=n.next;while(n!==o)}e.action=null}function Fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Kg(e,n){if(Vt){var r=Zt.formState;if(r!==null){t:{var o=Tt;if(Vt){if($t){e:{for(var c=$t,f=In;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=Nn(c.nextSibling),o=c.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},r.queue=o,r=fp.bind(null,Tt,o),o.dispatch=r,o=lf(!1),f=gf.bind(null,Tt,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=q0.bind(null,Tt,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function Yg(e){var n=de();return Xg(n,Yt,e)}function Xg(e,n,r){if(n=af(e,n,Qg)[0],e=Mu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(g){throw g===ma?Su:g}else o=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,va(9,{destroy:void 0},H0.bind(null,c,r),null)),[o,f,e]}function H0(e,n){e.action=n}function Jg(e){var n=de(),r=Yt;if(r!==null)return Xg(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function va(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Ou(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Zg(){return de().memoizedState}function xu(e,n,r,o){var c=tn();Tt.flags|=e,c.memoizedState=va(1|n,{destroy:void 0},r,o===void 0?null:o)}function Uu(e,n,r,o){var c=de();o=o===void 0?null:o;var f=c.memoizedState.inst;Yt!==null&&o!==null&&Wh(o,Yt.memoizedState.deps)?c.memoizedState=va(n,f,r,o):(Tt.flags|=e,c.memoizedState=va(1|n,f,r,o))}function $g(e,n){xu(8390656,8,e,n)}function cf(e,n){Uu(2048,8,e,n)}function G0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Ou(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Wg(e){var n=de().memoizedState;return G0({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function tp(e,n){return Uu(4,2,e,n)}function ep(e,n){return Uu(4,4,e,n)}function np(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,r){r=r!=null?r.concat([e]):null,Uu(4,4,np.bind(null,n,e),r)}function hf(){}function rp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function sp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),ws){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function ff(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ay(),Tt.lanes|=e,Sr|=e,r)}function ap(e,n,r,o){return fn(r,n)?r:pa.current!==null?(e=ff(e,r,o),fn(e,n)||(Ae=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Ct&261930)===0?(Ae=!0,e.memoizedState=r):(e=ay(),Tt.lanes|=e,Sr|=e,n)}function op(e,n,r,o,c){var f=$.p;$.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,gf(e,!1,n,r);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=z0(R,o);qo(e,n,q,_n(e))}else qo(e,n,o,_n(e))}catch(F){qo(e,n,{then:function(){},status:"rejected",reason:F},_n())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function F0(){}function df(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=lp(e).queue;op(e,c,n,ut,r===null?F0:function(){return up(e),r(o)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function up(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),qo(e,n.next.queue,{},_n())}function mf(){return Be(sl)}function cp(){return de().memoizedState}function hp(){return de().memoizedState}function Q0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=yr(r);var o=_r(n,e,r);o!==null&&(ln(o,n,r),ko(o,n,r)),n={cache:qh()},e.payload=n;return}n=n.return}}function K0(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lu(e)?dp(n,r):(r=Oh(e,n,r,o),r!==null&&(ln(r,e,o),mp(r,n,o)))}function fp(e,n,r){var o=_n();qo(e,n,r,o)}function qo(e,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))dp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return pu(e,n,c,0),Zt===null&&gu(),!1}catch{}if(r=Oh(e,n,c,o),r!==null)return ln(r,e,o),mp(r,n,o),!0}return!1}function gf(e,n,r,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=Oh(e,r,o,2),n!==null&&ln(n,e,2)}function Lu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function dp(e,n){ya=Du=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function mp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,uo(e,r)}}var Ho={readContext:Be,use:Vu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ho.useEffectEvent=le;var gp={readContext:Be,use:Vu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:$g,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xu(4194308,4,np.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(ws){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var c=r(n);if(ws){vn(!0);try{r(n)}finally{vn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=K0.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,r=fp.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:hf,useDeferredValue:function(e,n){var r=tn();return ff(r,e,n)},useTransition:function(){var e=lf(!1);return e=op.bind(null,Tt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,c=tn();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Ct&127)!==0||Lg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,$g(Pg.bind(null,o,f,e),[e]),o.flags|=2048,va(9,{destroy:void 0},kg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=Zt.identifierPrefix;if(Vt){var r=pi,o=gi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=B0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gf.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:sf,useCacheRefresh:function(){return tn().memoizedState=Q0.bind(null,Tt)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},pf={readContext:Be,use:Vu,useCallback:rp,useContext:Be,useEffect:cf,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:Mu,useRef:Zg,useState:function(){return Mu(Li)},useDebugValue:hf,useDeferredValue:function(e,n){var r=de();return ap(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Mu(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Ug,useId:cp,useHostTransitionStatus:mf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var r=de();return jg(r,Yt,e,n)},useMemoCache:sf,useCacheRefresh:hp};pf.useEffectEvent=Wg;var pp={readContext:Be,use:Vu,useCallback:rp,useContext:Be,useEffect:cf,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:of,useRef:Zg,useState:function(){return of(Li)},useDebugValue:hf,useDeferredValue:function(e,n){var r=de();return Yt===null?ff(r,e,n):ap(r,Yt.memoizedState,e,n)},useTransition:function(){var e=of(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:Ug,useId:cp,useHostTransitionStatus:mf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var r=de();return Yt!==null?jg(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:sf,useCacheRefresh:hp};pp.useEffectEvent=Wg;function yf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _f={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),c=yr(o);c.payload=n,r!=null&&(c.callback=r),n=_r(e,c,o),n!==null&&(ln(n,e,o),ko(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),c=yr(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=_r(e,c,o),n!==null&&(ln(n,e,o),ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(ln(n,e,r),ko(n,e,r))}};function yp(e,n,r,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Do(r,o)||!Do(c,f):!0}function _p(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function Rs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function vp(e){mu(e)}function Ep(e){console.error(e)}function Tp(e){mu(e)}function ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ap(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){ku(e,n)},r}function Sp(e){return e=yr(e),e.tag=3,e}function bp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Ap(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ap(n,r,o),typeof c!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Y0(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ha(n,r,c,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?Xu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Gf(e,o,c)),!1;case 22:return r.flags|=65536,o===bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Gf(e,o,c)),!1}throw Error(a(435,r.tag))}return Gf(e,o,c),Xu(),!1}if(Vt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==kh&&(e=Error(a(422),{cause:o}),Vo(wn(e,r)))):(o!==kh&&(n=Error(a(423),{cause:o}),Vo(wn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=wn(o,r),c=vf(e.stateNode,o,c),Yh(e,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=wn(f,r),Zo===null?Zo=[f]:Zo.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=vf(r.stateNode,o,e),Yh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sp(c),bp(c,e,r,o),Yh(r,c),!1}r=r.return}while(r!==null);return!1}var Ef=Error(a(461)),Ae=!1;function je(e,n,r,o){n.child=e===null?Ig(n,null,r,o):bs(n,e.child,r,o)}function wp(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Es(n),o=tf(e,n,r,g,f,c),E=ef(),e!==null&&!Ae?(nf(e,n,c),ki(e,n,c)):(Vt&&E&&Uh(n),n.flags|=1,je(e,n,o,c),n.child)}function Rp(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,o,c)):(e=_u(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!If(e,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Do,r(g,o)&&e.ref===n.ref)return ki(e,n,c)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Do(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,If(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,ki(e,n,c)}return Tf(e,n,r,o,c)}function Ip(e,n,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Dp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Og(n,f):Jh(),Vg(n);else return o=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Au(n,f.cachePool),Og(n,f),Er(),n.memoizedState=null):(e!==null&&Au(n,null),Jh(),Er());return je(e,n,c,r),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,r,o,c){var f=Gh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Au(n,null),Jh(),Vg(n),e!==null&&ha(e,n,o,!0),n.childLanes=c,null}function Pu(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,r){return bs(n,e.child,null,r),e=Pu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function X0(e,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Go(null,e);if($h(n),(e=$t)?(e=qy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=dg(e),r.return=n,n.child=r,ze=n,$t=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if($h(n),c)if(n.flags&256)n.flags&=-257,n=Np(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||ha(e,n,r,!1),c=(r&e.childLanes)!==0,Ae||c){if(o=Zt,o!==null&&(g=co(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ps(e,g),ln(o,e,g),Ef;Xu(),n=Np(e,n,r)}else e=f.treeContext,$t=Nn(g.nextSibling),ze=n,Vt=!0,dr=null,In=!1,e!==null&&pg(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Tf(e,n,r,o,c){return Es(n),r=tf(e,n,r,o,void 0,c),o=ef(),e!==null&&!Ae?(nf(e,n,c),ki(e,n,c)):(Vt&&o&&Uh(n),n.flags|=1,je(e,n,r,c),n.child)}function Op(e,n,r,o,c,f){return Es(n),n.updateQueue=null,r=xg(n,o,r,c),Mg(e),o=ef(),e!==null&&!Ae?(nf(e,n,f),ki(e,n,f)):(Vt&&o&&Uh(n),n.flags|=1,je(e,n,r,f),n.child)}function Vp(e,n,r,o,c){if(Es(n),n.stateNode===null){var f=oa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):oa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(yf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_f.enqueueReplaceState(f,f.state,null),zo(n,o,f,c),Po(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Rs(r,E);f.props=R;var P=f.context,q=r.contextType;g=oa,typeof q=="object"&&q!==null&&(g=Be(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&_p(n,f,o,g),pr=!1;var z=n.memoizedState;f.state=z,zo(n,o,f,c),Po(),P=n.memoizedState,E||z!==P||pr?(typeof F=="function"&&(yf(n,r,F,o),P=n.memoizedState),(R=pr||yp(n,r,R,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Kh(e,n),g=n.memoizedProps,q=Rs(r,g),f.props=q,F=n.pendingProps,z=f.context,P=r.contextType,R=oa,typeof P=="object"&&P!==null&&(R=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||z!==R)&&_p(n,f,o,R),pr=!1,z=n.memoizedState,f.state=z,zo(n,o,f,c),Po();var j=n.memoizedState;g!==F||z!==j||pr||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(yf(n,r,E,o),j=n.memoizedState),(q=pr||yp(n,r,q,o,z,j,R)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=bs(n,e.child,null,c),n.child=bs(n,null,r,c)):je(e,n,r,c),n.memoizedState=f.state,e=n.child):e=ki(e,n,c),e}function Mp(e,n,r,o){return _s(),n.flags|=256,je(e,n,r,o),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Ag()}}function bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function xp(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(c?vr(n):Er(),(e=$t)?(e=qy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=dg(e),r.return=n,n.child=r,ze=n,$t=null)):e=null,e===null)throw mr(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Er(),c=n.mode,E=Bu({mode:"hidden",children:E},c),o=ys(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,g,r),n.memoizedState=Af,Go(null,o)):(vr(n),wf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=Rf(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,c=n.mode,o=Bu({mode:"visible",children:o.children},c),E=ys(E,c,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,bs(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,g,r),n.memoizedState=Af,n=Go(null,o));else if(vr(n),ad(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=Rf(e,n,r)}else if(Ae||ha(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=Zt,g!==null&&(o=co(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,ps(e,o),ln(g,e,o),Ef;sd(E)||Xu(),n=Rf(e,n,r)}else sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,$t=Nn(E.nextSibling),ze=n,Vt=!0,dr=null,In=!1,e!==null&&pg(n,e),n=wf(n,o.children),n.flags|=4096);return n}return c?(Er(),E=o.fallback,c=n.mode,R=e.child,P=R.sibling,o=Oi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=ys(E,c,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Go(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Sf(r):(c=E.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Ag(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=bf(e,g,r),n.memoizedState=Af,Go(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function wf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Rf(e,n,r){return bs(n,e.child,null,r),e=wf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Up(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,r)}function Cf(e,n,r,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Lp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(fe,g),je(e,n,o,r),o=Vt?Oo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,r,n);else if(e.tag===19)Up(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Iu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Cf(n,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Iu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Cf(n,!0,r,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ha(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function If(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function J0(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),gr(n,Ee,e.memoizedState.cache),_s();break;case 27:case 5:$r(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$h(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?xp(e,n,r):(vr(n),e=ki(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ha(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Lp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Ip(e,n,r,n.pendingProps);case 24:gr(n,Ee,e.memoizedState.cache)}return ki(e,n,r)}function kp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!If(e,r)&&(n.flags&128)===0)return Ae=!1,J0(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&gg(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=As(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=Rs(e,o),n.tag=1,n=Vp(null,n,e,o,r)):(n.tag=0,n=Tf(null,n,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===jt){n.tag=11,n=wp(null,n,e,o,r);break t}else if(c===I){n.tag=14,n=Rp(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=Rs(o,n.pendingProps),Vp(e,n,o,c,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Kh(e,n),zo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,gr(n,Ee,o),o!==f.cache&&jh(n,[Ee],r,!0),Po(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mp(e,n,o,r);break t}else if(o!==c){c=wn(Error(a(424)),n),Vo(c),n=Mp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,$t=Nn(e.firstChild),ze=n,Vt=!0,dr=null,In=!0,r=Ig(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),o===c){n=ki(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return zu(e,n),e===null?(r=Yy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=nc(At.current).createElement(r),o[ye]=n,o[Ve]=e,qe(o,r,e),_e(o),n.stateNode=o):n.memoizedState=Yy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $r(n),e===null&&Vt&&(o=n.stateNode=Fy(n.type,n.pendingProps,At.current),ze=n,In=!0,c=$t,Ir(n.type)?(od=c,$t=Nn(o.firstChild)):$t=c),je(e,n,n.pendingProps.children,r),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((c=o=$t)&&(o=RA(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,ze=n,$t=Nn(o.firstChild),In=!1,c=!0):c=!1),c||mr(n)),$r(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,nd(c,f)?o=null:g!==null&&nd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=tf(e,n,j0,null,null,r),sl._currentValue=c),zu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=$t)&&(r=CA(r,n.pendingProps,In),r!==null?(n.stateNode=r,ze=n,$t=null,e=!0):e=!1),e||mr(n)),null;case 13:return xp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=bs(n,null,o,r):je(e,n,o,r),n.child;case 11:return wp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Es(n),c=Be(c),o=o(c),n.flags|=1,je(e,n,o,r),n.child;case 14:return Rp(e,n,n.type,n.pendingProps,r);case 15:return Cp(e,n,n.type,n.pendingProps,r);case 19:return Lp(e,n,r);case 31:return X0(e,n,r);case 22:return Ip(e,n,r,n.pendingProps);case 24:return Es(n),o=Be(Ee),e===null?(c=Gh(),c===null&&(c=Zt,f=qh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Qh(n),gr(n,Ee,c)):((e.lanes&r)!==0&&(Kh(e,n),zo(n,null,null,r),Po()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),gr(n,Ee,o)):(o=f.cache,gr(n,Ee,o),o!==c.cache&&jh(n,[Ee],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Df(e,n,r,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw Ss=bu,Fh}else e.flags&=-16777217}function Pp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(n))if(cy())e.flags|=8192;else throw Ss=bu,Fh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,Sa|=n)}function Fo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Z0(e,n,r){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Ee),ne(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ca(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ph())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(Wt(n),Pp(n,f)):(Wt(n),Df(n,c,null,o,r))):f?f!==e.memoizedState?(Pi(n),Wt(n),Pp(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),Wt(n),Df(n,c,e,o,r)),null;case 27:if(qs(n),r=At.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}e=it.current,ca(n)?yg(n):(e=Fy(c,o,r),n.stateNode=e,Pi(n))}return Wt(n),null;case 5:if(qs(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}if(f=it.current,ca(n))yg(n);else{var g=nc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ye]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return Wt(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,ca(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||xy(e.nodeValue,r)),e||mr(n,!0)}else e=nc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return Wt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ca(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else r=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Wt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ju(n,n.updateQueue),Wt(n),null);case 4:return ne(),e===null&&Zf(n.stateNode.containerInfo),Wt(n),null;case 10:return xi(n.type),Wt(n),null;case 19:if(Q(fe),o=n.memoizedState,o===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Fo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Fo(o,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)fg(r,e),r=r.sibling;return W(fe,fe.current&1|2),Vt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Qu&&(n.flags|=128,c=!0,Fo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Iu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),Fo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return Wt(n),null}else 2*$e()-o.renderingStartTime>Qu&&r!==536870912&&(n.flags|=128,c=!0,Fo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=fe.current,W(fe,c?r&1|2:r&1),Vt&&Vi(n,o.treeForkCount),e):(Wt(n),null);case 22:case 23:return gn(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),r=n.updateQueue,r!==null&&ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Ts),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Ee),Wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function $0(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Ee),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(a(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(fe),null;case 4:return ne(),null;case 10:return xi(n.type),null;case 22:case 23:return gn(n),Zh(),e!==null&&Q(Ts),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Ee),null;case 25:return null;default:return null}}function zp(e,n){switch(Lh(n),n.tag){case 3:xi(Ee),ne();break;case 26:case 27:case 5:qs(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(fe);break;case 10:xi(n.type);break;case 22:case 23:gn(n),Zh(),e!==null&&Q(Ts);break;case 24:xi(Ee)}}function Qo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(q){Qt(c,R,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Bp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ng(n,r)}catch(o){Qt(e,e.return,o)}}}function jp(e,n,r){r.props=Rs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Ko(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Qt(e,n,c)}}function yi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(e,n,c)}else r.current=null}function qp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Qt(e,e.return,c)}}function Nf(e,n,r){try{var o=e.stateNode;EA(o,e.type,r,n),o[Ve]=n}catch(c){Qt(e,e.return,c)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ir(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,r),e=e.sibling;e!==null;)Vf(e,n,r),e=e.sibling}function qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ir(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(qu(e,n,r),e=e.sibling;e!==null;)qu(e,n,r),e=e.sibling}function Gp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,o,r),n[ye]=e,n[Ve]=r}catch(f){Qt(e,e.return,f)}}var zi=!1,Se=!1,Mf=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function W0(e,n){if(e=e.containerInfo,td=uc,e=ig(e),wh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,P=0,q=0,F=e,z=null;e:for(;;){for(var j;F!==r||c!==0&&F.nodeType!==3||(E=g+c),F!==f||o!==0&&F.nodeType!==3||(R=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(j=F.firstChild)!==null;)z=F,F=j;for(;;){if(F===e)break e;if(z===r&&++P===c&&(E=g),z===f&&++q===o&&(R=g),(j=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=j}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ed={focusedElem:e,selectionRange:r},uc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Rs(r.type,c);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Qt(r,r.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)rd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function Qp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ji(e,r),o&4&&Qo(5,r);break;case 1:if(ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var c=Rs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Bp(r),o&512&&Ko(r,r.return);break;case 3:if(ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ng(e,n)}catch(g){Qt(r,r.return,g)}}break;case 27:n===null&&o&4&&Gp(r);case 26:case 5:ji(e,r),n===null&&o&4&&qp(r),o&512&&Ko(r,r.return);break;case 12:ji(e,r);break;case 31:ji(e,r),o&4&&Xp(e,r);break;case 13:ji(e,r),o&4&&Jp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=lA.bind(null,r),IA(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=o,(Se=n)&&!f?qi(e,r,(r.subtreeFlags&8772)!==0):ji(e,r),zi=c,Se=f}break;case 30:break;default:ji(e,r)}}function Kp(e){var n=e.alternate;n!==null&&(e.alternate=null,Kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ks(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,rn=!1;function Bi(e,n,r){for(r=r.child;r!==null;)Yp(e,n,r),r=r.sibling}function Yp(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Se||yi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||yi(r,n);var o=re,c=rn;Ir(r.type)&&(re=r.stateNode,rn=!1),Bi(e,n,r),nl(r.stateNode),re=o,rn=c;break;case 5:Se||yi(r,n);case 6:if(o=re,c=rn,re=null,Bi(e,n,r),re=o,rn=c,re!==null)if(rn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:re!==null&&(rn?(e=re,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oa(e)):By(re,r.stateNode));break;case 4:o=re,c=rn,re=r.stateNode.containerInfo,rn=!0,Bi(e,n,r),re=o,rn=c;break;case 0:case 11:case 14:case 15:Tr(2,r,n),Se||Tr(4,r,n),Bi(e,n,r);break;case 1:Se||(yi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&jp(r,n,o)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,Bi(e,n,r),Se=o;break;default:Bi(e,n,r)}}function Xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(r){Qt(n,n.return,r)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(r){Qt(n,n.return,r)}}function tA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fp),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var r=tA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=uA.bind(null,e,o);o.then(c,c)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ir(E.type)){re=E.stateNode,rn=!1;break t}break;case 5:re=E.stateNode,rn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(re===null)throw Error(a(160));Yp(f,g,c),re=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zp(n,e),n=n.sibling}var Fn=null;function Zp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Tr(3,e,e.return),Qo(3,e),Tr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Fn;if(sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=Zy("link","href",c).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;case"meta":if(g=Zy("meta","content",c).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else $y(c,e.type,e.stateNode);else e.stateNode=Jy(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?$y(c,e.type,e.stateNode):Jy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),r!==null&&o&4&&Nf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(st){Qt(e,e.return,st)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Nf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Mf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Qt(e,e.return,st)}}break;case 3:if(sc=null,c=Fn,Fn=ic(n.containerInfo),sn(n,e),Fn=c,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(st){Qt(e,e.return,st)}Mf&&(Mf=!1,$p(e));break;case 4:o=Fn,Fn=ic(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:c=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=zi,q=Se;if(zi=P||c,Se=q||R,sn(n,e),Se=q,zi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||zi||Se||Cs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Qt(R,R.return,st)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(st){Qt(R,R.return,st)}}}else if(n.tag===18){if(r===null){R=n;try{var j=R.stateNode;c?jy(j,!0):jy(R.stateNode,!1)}catch(st){Qt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Hu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Hp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Of(e);qu(e,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=Of(e);qu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Of(e);Vf(e,P,R);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qp(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Cs(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&jp(n,n.return,r),Cs(n);break;case 27:nl(n.stateNode);case 26:case 5:yi(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,r),Qo(4,f);break;case 1:if(qi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Dg(R[c],E)}catch(P){Qt(o,o.return,P)}}r&&g&64&&Bp(f),Ko(f,f.return);break;case 27:Gp(f);case 26:case 5:qi(c,f,r),r&&o===null&&g&4&&qp(f),Ko(f,f.return);break;case 12:qi(c,f,r);break;case 31:qi(c,f,r),r&&g&4&&Xp(c,f);break;case 13:qi(c,f,r),r&&g&4&&Jp(c,f);break;case 22:f.memoizedState===null&&qi(c,f,r),Ko(f,f.return);break;case 30:break;default:qi(c,f,r)}n=n.sibling}}function xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Mo(r))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wp(e,n,r,o),n=n.sibling}function Wp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),c&2048&&Qo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(c&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Yo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Ea(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&xf(g,n);break;case 24:Qn(e,n,r,o),c&2048&&Uf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Ea(e,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ea(f,g,E,R,c),Qo(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Ea(f,g,E,R,c):Yo(f,g):(q._visibility|=2,Ea(f,g,E,R,c)),c&&P&2048&&xf(g.alternate,g);break;case 24:Ea(f,g,E,R,c),c&&P&2048&&Uf(g.alternate,g);break;default:Ea(f,g,E,R,c)}n=n.sibling}}function Yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Yo(r,o),c&2048&&xf(o.alternate,o);break;case 24:Yo(r,o),c&2048&&Uf(o.alternate,o);break;default:Yo(r,o)}n=n.sibling}}var Xo=8192;function Ta(e,n,r){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)ty(e,n,r),e=e.sibling}function ty(e,n,r){switch(e.tag){case 26:Ta(e,n,r),e.flags&Xo&&e.memoizedState!==null&&BA(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,r);break;case 3:case 4:var o=Fn;Fn=ic(e.stateNode.containerInfo),Ta(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Xo,Xo=16777216,Ta(e,n,r),Xo=o):Ta(e,n,r));break;default:Ta(e,n,r)}}function ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):Jo(e);break;default:Jo(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),Gu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function iy(e,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,xe=o;else t:for(r=e;xe!==null;){o=xe;var c=o.sibling,f=o.return;if(Kp(o),o===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var eA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,wt=null,Ct=0,Ft=0,pn=null,Ar=!1,Aa=!1,Lf=!1,Hi=0,ue=0,Sr=0,Is=0,kf=0,yn=0,Sa=0,Zo=null,on=null,Pf=!1,Fu=0,ry=0,Qu=1/0,Ku=null,br=null,De=0,wr=null,ba=null,Gi=0,zf=0,Bf=null,sy=null,$o=0,jf=null;function _n(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?Kf():Yl()}function ay(){if(yn===0)if((Ct&536870912)===0||Vt){var e=es;es<<=1,(es&3932160)===0&&(es=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Rr(e,Ct,yn,!1)),ns(e,r),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Is|=r),ue===4&&Rr(e,Ct,yn,!1)),_i(e))}function oy(e,n,r){if((Bt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),c=o?sA(e,n):Hf(e,n,!0),f=o;do{if(c===0){Aa&&!o&&Rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!iA(r)){c=Hf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Zo;var R=E.current.memoizedState.isDehydrated;if(R&&(wa(E,g).flags|=256),g=Hf(E,g,!1),g!==2){if(Lf&&!R){E.errorRecoveryDisabledLanes|=f,Is|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){wa(e,0),Rr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rr(o,n,yn,!Ar);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Fu+300-$e(),10<c)){if(Rr(o,n,yn,!Ar),ti(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Py(ly.bind(null,o,r,on,Ku,Pf,n,yn,Is,Sa,Ar,f,"Throttled",-0,0),c);break t}ly(o,r,on,Ku,Pf,n,yn,Is,Sa,Ar,f,null,-0,0)}}break}while(!0);_i(e)}function ly(e,n,r,o,c,f,g,E,R,P,q,F,z,j){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ty(n,f,F);var st=(f&62914560)===f?Fu-$e():(f&4194048)===f?ry-$e():0;if(st=jA(F,st),st!==null){Gi=f,e.cancelPendingCommit=st(py.bind(null,e,n,f,r,o,c,g,E,R,q,F,null,z,j)),Rr(e,f,g,!P);return}}py(e,n,f,r,o,c,g,E,R)}function iA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(e,n,r,o){n&=~kf,n&=~Is,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;o[f]=-1,c&=~g}r!==0&&is(e,r,n)}function Yu(){return(Bt&6)===0?(Wo(0),!1):!0}function qf(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Mi=vs=null,rf(e),ga=null,Uo=0,e=wt;for(;e!==null;)zp(e.alternate,e),e=e.return;wt=null}}function wa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,SA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,qf(),Zt=e,wt=r=Oi(e.current,null),Ct=n,Ft=0,pn=null,Ar=!1,Aa=Ln(e,n),Lf=!1,Sa=yn=kf=Is=Sr=ue=0,on=Zo=null,Pf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ce(o),f=1<<c;n|=e[c],o&=~f}return Hi=n,gu(),r}function uy(e,n){Tt=null,H.H=Ho,n===ma||n===Su?(n=wg(),Ft=3):n===Fh?(n=wg(),Ft=4):Ft=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,wt===null&&(ue=1,ku(e,wn(n,e.current)))}function cy(){var e=mn.current;return e===null?!0:(Ct&4194048)===Ct?Dn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Dn:!1}function hy(){var e=H.H;return H.H=Ho,e===null?Ho:e}function fy(){var e=H.A;return H.A=eA,e}function Xu(){ue=4,Ar||(Ct&4194048)!==Ct&&mn.current!==null||(Aa=!0),(Sr&134217727)===0&&(Is&134217727)===0||Zt===null||Rr(Zt,Ct,yn,!1)}function Hf(e,n,r){var o=Bt;Bt|=2;var c=hy(),f=fy();(Zt!==e||Ct!==n)&&(Ku=null,wa(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&wt!==null){var E=wt,R=pn;switch(Ft){case 8:qf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Ft;if(Ft=0,pn=null,Ra(e,E,R,P),r&&Aa){g=0;break t}break;default:P=Ft,Ft=0,pn=null,Ra(e,E,R,P)}}rA(),g=ue;break}catch(q){uy(e,q)}while(!0);return n&&e.shellSuspendCounter++,Mi=vs=null,Bt=o,H.H=c,H.A=f,wt===null&&(Zt=null,Ct=0,gu()),g}function rA(){for(;wt!==null;)dy(wt)}function sA(e,n){var r=Bt;Bt|=2;var o=hy(),c=fy();Zt!==e||Ct!==n?(Ku=null,Qu=$e()+500,wa(e,n)):Aa=Ln(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ra(e,n,f,1);break;case 2:case 9:if(Sg(f)){Ft=0,pn=null,my(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),_i(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Sg(f)?(Ft=0,pn=null,my(n)):(Ft=0,pn=null,Ra(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?Wy(g):E.stateNode.complete){Ft=0,pn=null;var R=E.sibling;if(R!==null)wt=R;else{var P=E.return;P!==null?(wt=P,Ju(P)):wt=null}break e}}Ft=0,pn=null,Ra(e,n,f,5);break;case 6:Ft=0,pn=null,Ra(e,n,f,6);break;case 8:qf(),ue=6;break t;default:throw Error(a(462))}}aA();break}catch(q){uy(e,q)}while(!0);return Mi=vs=null,H.H=o,H.A=c,Bt=r,wt!==null?0:(Zt=null,Ct=0,gu(),ue)}function aA(){for(;wt!==null&&!_h();)dy(wt)}function dy(e){var n=kp(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?Ju(e):wt=n}function my(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Op(r,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Op(r,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:rf(n);default:zp(r,n),n=wt=fg(n,Hi),n=kp(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):wt=n}function Ra(e,n,r,o){Mi=vs=null,rf(n),ga=null,Uo=0;var c=n.return;try{if(Y0(e,c,n,r,Ct)){ue=1,ku(e,wn(r,e.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ue=1,ku(e,wn(r,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Aa||(Ct&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){gy(n,Ar);return}e=n.return;var r=Z0(n.alternate,n,Hi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function gy(e,n){do{var r=$0(e.alternate,e);if(r!==null){r.flags&=32767,wt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=r}while(e!==null);ue=6,wt=null}function py(e,n,r,o,c,f,g,E,R){e.cancelPendingCommit=null;do Zu();while(De!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Nh,Th(e,r,f,g,E,R),e===Zt&&(wt=Zt=null,Ct=0),ba=n,wr=e,Gi=r,zf=f,Bf=c,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cA(nr,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=$.p,$.p=2,g=Bt,Bt|=4;try{W0(e,n,r)}finally{Bt=g,$.p=c,H.T=o}}De=1,yy(),_y(),vy()}}function yy(){if(De===1){De=0;var e=wr,n=ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var c=Bt;Bt|=4;try{Zp(n,e);var f=ed,g=ig(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(R!==null&&wh(E)){var P=R.start,q=R.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var j=z.getSelection(),st=E.textContent.length,ht=Math.min(R.start,st),Jt=R.end===void 0?ht:Math.min(R.end,st);!j.extend&&ht>Jt&&(g=Jt,Jt=ht,ht=g);var M=eg(E,ht),D=eg(E,Jt);if(M&&D&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var k=F.createRange();k.setStart(M.node,M.offset),j.removeAllRanges(),ht>Jt?(j.addRange(k),j.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),j.addRange(k))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}uc=!!td,ed=td=null}finally{Bt=c,$.p=o,H.T=r}}e.current=n,De=2}}function _y(){if(De===2){De=0;var e=wr,n=ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var c=Bt;Bt|=4;try{Qp(e,n.alternate,n)}finally{Bt=c,$.p=o,H.T=r}}De=3}}function vy(){if(De===4||De===3){De=0,jl();var e=wr,n=ba,r=Gi,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ba=wr=null,Ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(br=null),Ci(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=$.p,$.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,$.p=c}}(Gi&3)!==0&&Zu(),_i(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===jf?$o++:($o=0,jf=e):$o=0,Wo(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function Zu(){return yy(),_y(),vy(),Ty()}function Ty(){if(De!==5)return!1;var e=wr,n=zf;zf=0;var r=Ci(Gi),o=H.T,c=$.p;try{$.p=32>r?32:r,H.T=null,r=Bf,Bf=null;var f=wr,g=Gi;if(De=0,ba=wr=null,Gi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,ny(f.current),Wp(f,f.current,g,r),Bt=E,Wo(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{$.p=c,H.T=o,Ey(e,n)}}function Ay(e,n,r){n=wn(r,n),n=vf(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(ns(e,2),_i(e))}function Qt(e,n,r){if(e.tag===3)Ay(e,e,r);else for(;n!==null;){if(n.tag===3){Ay(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=wn(r,e),r=Sp(2),o=_r(n,r,2),o!==null&&(bp(r,o,n,e),ns(o,2),_i(o));break}}n=n.return}}function Gf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new nA;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Lf=!0,c.add(r),e=oA.bind(null,e,n,r),n.then(e,e))}function oA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(Ct&r)===r&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>$e()-Fu?(Bt&2)===0&&wa(e,0):kf|=r,Sa===Ct&&(Sa=0)),_i(e)}function Sy(e,n){n===0&&(n=Kl()),e=ps(e,n),e!==null&&(ns(e,n),_i(e))}function lA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Sy(e,r)}function uA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Sy(e,r)}function cA(e,n){return Ie(e,n)}var $u=null,Ca=null,Ff=!1,Wu=!1,Qf=!1,Cr=0;function _i(e){e!==Ca&&e.next===null&&(Ca===null?$u=Ca=e:Ca=Ca.next=e),Wu=!0,Ff||(Ff=!0,fA())}function Wo(e,n){if(!Qf&&Wu){Qf=!0;do for(var r=!1,o=$u;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cy(o,f))}else f=Ct,f=ti(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(r=!0,Cy(o,f));o=o.next}while(r);Qf=!1}}function hA(){by()}function by(){Wu=Ff=!1;var e=0;Cr!==0&&AA()&&(e=Cr);for(var n=$e(),r=null,o=$u;o!==null;){var c=o.next,f=wy(o,n);f===0?(o.next=null,r===null?$u=c:r.next=c,c===null&&(Ca=r)):(r=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=c}De!==0&&De!==5||Wo(e),Cr!==0&&(Cr=0)}function wy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=c[g];R===-1?((E&r)===0||(E&o)!==0)&&(c[g]=Eh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=Ct,r=ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ln(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Ci(r)){case 2:case 8:r=lo;break;case 32:r=nr;break;case 268435456:r=ql;break;default:r=nr}return o=Ry.bind(null,e),r=Ie(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var o=Ct;return o=ti(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),wy(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Ry.bind(null,e):null)}function Cy(e,n){if(Zu())return null;oy(e,n,!0)}function fA(){bA(function(){(Bt&6)!==0?Ie(oo,hA):by()})}function Kf(){if(Cr===0){var e=fa;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Cr=e}return Cr}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zs(""+e)}function Dy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function dA(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Iy((c[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Iy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var R=g?Dy(c,g):new FormData(c);df(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Dy(c,g):new FormData(c),df(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Yf=0;Yf<Dh.length;Yf++){var Xf=Dh[Yf],mA=Xf.toLowerCase(),gA=Xf[0].toUpperCase()+Xf.slice(1);Gn(mA,"on"+gA)}Gn(ag,"onAnimationEnd"),Gn(og,"onAnimationIteration"),Gn(lg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(O0,"onTransitionRun"),Gn(V0,"onTransitionStart"),Gn(M0,"onTransitionCancel"),Gn(ug,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Ny(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(q){mu(q)}c.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(q){mu(q)}c.currentTarget=null,f=R}}}}function Rt(e,n){var r=n[Qs];r===void 0&&(r=n[Qs]=new Set);var o=e+"__bubble";r.has(o)||(Oy(n,e,2,!1),r.add(o))}function Jf(e,n,r){var o=0;n&&(o|=4),Oy(r,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[tc]){e[tc]=!0,ho.forEach(function(r){r!=="selectionchange"&&(pA.has(r)||Jf(r,!1,e),Jf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Jf("selectionchange",!1,n))}}function Oy(e,n,r,o){switch(a_(n)){case 2:var c=GA;break;case 8:c=FA;break;default:c=fd}r=c.bind(null,n,r,e),c=void 0,!ls||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function $f(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}lr(function(){var P=f,q=Tn(r),F=[];t:{var z=cg.get(e);if(z!==void 0){var j=hi,st=e;switch(e){case"keypress":if(cs(r)===0)break t;case"keydown":case"keyup":j=hu;break;case"focusin":st="focus",j=fs;break;case"focusout":st="blur",j=fs;break;case"beforeblur":case"afterblur":j=fs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case ag:case og:case lg:j=ru;break;case ug:j=T;break;case"scroll":case"scrollend":j=bo;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ni;break;case"toggle":case"beforetoggle":j=Et}var ht=(n&4)!==0,Jt=!ht&&(e==="scroll"||e==="scrollend"),M=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=P,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||M===null||(G=Bn(D,M),G!=null&&ht.push(el(D,G,k))),Jt)break;D=D.return}0<ht.length&&(z=new j(z,st,null,r,q),F.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==To&&(st=r.relatedTarget||r.fromElement)&&(ri(st)||st[ni]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(st=r.relatedTarget||r.toElement,j=P,st=st?ri(st):null,st!==null&&(Jt=h(st),ht=st.tag,st!==Jt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(j=null,st=P),j!==st)){if(ht=wo,G="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Ni,G="onPointerLeave",M="onPointerEnter",D="pointer"),Jt=j==null?z:cn(j),k=st==null?z:cn(st),z=new ht(G,D+"leave",j,r,q),z.target=Jt,z.relatedTarget=k,G=null,ri(q)===P&&(ht=new ht(M,D+"enter",st,r,q),ht.target=k,ht.relatedTarget=Jt,G=ht),Jt=G,j&&st)e:{for(ht=yA,M=j,D=st,k=0,G=M;G;G=ht(G))k++;G=0;for(var lt=D;lt;lt=ht(lt))G++;for(;0<k-G;)M=ht(M),k--;for(;0<G-k;)D=ht(D),G--;for(;k--;){if(M===D||D!==null&&M===D.alternate){ht=M;break e}M=ht(M),D=ht(D)}ht=null}else ht=null;j!==null&&Vy(F,z,j,ht,!1),st!==null&&Jt!==null&&Vy(F,Jt,st,ht,!0)}}t:{if(z=P?cn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var kt=Xm;else if(Km(z))if(Jm)kt=I0;else{kt=R0;var at=w0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Js(P.elementType)&&(kt=Xm):kt=C0;if(kt&&(kt=kt(e,P))){Ym(F,kt,r,q);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&_o(z,"number",z.value)}switch(at=P?cn(P):window,e){case"focusin":(Km(at)||at.contentEditable==="true")&&(ra=at,Rh=P,No=null);break;case"focusout":No=Rh=ra=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,rg(F,r,q);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":rg(F,r,q)}var St;if(zt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else ia?ds(e,r)&&(It="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(It="onCompositionStart");It&&(mi&&r.locale!=="ko"&&(ia||It!=="onCompositionStart"?It==="onCompositionEnd"&&ia&&(St=So()):(ci=q,Ao="value"in ci?ci.value:ci.textContent,ia=!0)),at=ec(P,It),0<at.length&&(It=new di(It,e,null,r,q),F.push({event:It,listeners:at}),St?It.data=St:(St=na(r),St!==null&&(It.data=St)))),(St=Sn?T0(e,r):A0(e,r))&&(It=ec(P,"onBeforeInput"),0<It.length&&(at=new di("onBeforeInput","beforeinput",null,r,q),F.push({event:at,listeners:It}),at.data=St)),dA(F,e,P,r,q)}Ny(F,n)})}function el(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ec(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,r),c!=null&&o.unshift(el(e,c,f)),c=Bn(e,n),c!=null&&o.push(el(e,c,f))),e.tag===3)return o;e=e.return}return[]}function yA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,r,o,c){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Bn(r,f),P!=null&&g.unshift(el(r,P,R))):c||(P=Bn(r,f),P!=null&&g.push(el(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(_A,`
`).replace(vA,"")}function xy(e,n){return n=My(n),My(e)===n}function Xt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":Eo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Ys(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ys(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eu.get(r)||r,Ys(e,r,o))}}function Wf(e,n,r,o,c,f){switch(r){case"style":Eo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ys(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,r,null)}}c&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=g=c=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":c=q;break;case"type":g=q;break;case"checked":R=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Xt(e,n,o,q,r,null)}}$l(e,f,E,R,P,g,c,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,c,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,r,null)}sr(e,o,c,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,R,o,r,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Rt(tl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,o,r,null)}return;default:if(Js(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&Wf(e,n,q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function EA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,P=null,q=null;for(j in r){var F=r[j];if(r.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=F;default:o.hasOwnProperty(j)||Xt(e,n,j,null,o,F)}}for(var z in o){var j=o[z];if(F=r[z],o.hasOwnProperty(z)&&(j!=null||F!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==F&&Xt(e,n,z,j,o,F)}}Xs(e,g,E,R,P,q,f,c);return;case"select":j=g=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=r[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,c,f,o,R)}n=E,r=g,o=j,z!=null?rr(e,!!r,z,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=r[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(e,n,g,c,o,f)}Wl(e,z,j);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Xt(e,n,st,null,o,z));for(R in o)z=o[R],j=r[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Xt(e,n,ht,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,P,z,o,j)}return;default:if(Js(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&Wf(e,n,Jt,void 0,o,z);for(q in o)z=o[q],j=r[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||Wf(e,n,q,z,o,j);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Xt(e,n,M,null,o,z);for(F in o)z=o[F],j=r[F],!o.hasOwnProperty(F)||z===j||z==null&&j==null||Xt(e,n,F,z,o,j)}function Uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Uy(g)){for(g=0,E=c.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var q=R.transferSize,F=R.initiatorType;q&&Uy(F)&&(R=R.responseEnd,g+=q*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function AA(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(wA)}:Py;function wA(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function By(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),Oa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")nl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,nl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&nl(e.ownerDocument.body);r=c}while(r);Oa(n)}function jy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rd(r),Ks(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function RA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function CA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Hy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Fy(e,n,r){switch(n=nc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function nl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ks(e)}var On=new Map,Qy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=$.d;$.d={f:DA,r:NA,D:OA,C:VA,L:MA,m:xA,X:LA,S:UA,M:kA};function DA(){var e=Fi.f(),n=Yu();return e||n}function NA(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?up(n):Fi.r(e)}var Ia=typeof document>"u"?null:document;function Ky(e,n,r){var o=Ia;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Qy.has(c)||(Qy.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function OA(e){Fi.D(e),Ky("dns-prefetch",e,null)}function VA(e,n){Fi.C(e,n),Ky("preconnect",e,n)}function MA(e,n,r){Fi.L(e,n,r);var o=Ia;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+en(r.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Da(e);break;case"script":f=Na(e)}On.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(il(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function xA(e,n){Fi.m(e,n);var r=Ia;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(e)}if(!On.has(f)&&(e=b({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(rl(f)))return}o=r.createElement("link"),qe(o,"link",e),_e(o),r.head.appendChild(o)}}}function UA(e,n,r){Fi.S(e,n,r);var o=Ia;if(o&&e){var c=si(o).hoistableStyles,f=Da(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(il(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&ld(e,r);var R=g=o.createElement("link");_e(R),qe(R,"link",e),R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function LA(e,n){Fi.X(e,n);var r=Ia;if(r&&e){var o=si(r).hoistableScripts,c=Na(e),f=o.get(c);f||(f=r.querySelector(rl(c)),f||(e=b({src:e,async:!0},n),(n=On.get(c))&&ud(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function kA(e,n){Fi.M(e,n);var r=Ia;if(r&&e){var o=si(r).hoistableScripts,c=Na(e),f=o.get(c);f||(f=r.querySelector(rl(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=On.get(c))&&ud(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Yy(e,n,r,o){var c=(c=At.current)?ic(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Da(r.href),r=si(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Da(r.href);var f=si(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(il(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||PA(c,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Na(r),r=si(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+en(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function PA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),_e(n),e.head.appendChild(n))}function Na(e){return'[src="'+en(e)+'"]'}function rl(e){return"script[async]"+e}function Jy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),qe(o,"style",c),rc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Da(r.href);var f=e.querySelector(il(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=Xy(r),(c=On.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(f,"link",o),n.state.loading|=4,rc(f,r.precedence,e),n.instance=f;case"script":return f=Na(r.src),(c=e.querySelector(rl(f)))?(n.instance=c,_e(c),c):(o=r,(c=On.get(f))&&(o=b({},r),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),qe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rc(o,r.precedence,e));return n.instance}function rc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sc=null;function Zy(e,n,r){if(sc===null){var o=new Map,c=sc=new Map;c.set(r,o)}else c=sc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[ii]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function $y(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function zA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function BA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Da(o.href),f=n.querySelector(il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=Xy(o),(c=On.get(c))&&ld(o,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=ac.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var cd=0;function jA(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*TA());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(qA,e),oc=null,ac.call(e))}function qA(e,n){if(!(n.state.loading&4)){var r=oc.get(e);if(r)var o=r.get(null);else{r=new Map,oc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,c),r.set(g,c),this.count++,o=ac.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function HA(e,n,r,o,c,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function t_(e,n,r,o,c,f,g,E,R,P,q,F){return e=new HA(e,n,r,g,R,P,q,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Qh(f),e}function e_(e){return e?(e=oa,e):oa}function n_(e,n,r,o,c,f){c=e_(c),o.context===null?o.context=c:o.pendingContext=c,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(ln(r,e,n),ko(r,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function hd(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function r_(e){if(e.tag===13||e.tag===31){var n=ps(e,67108864);n!==null&&ln(n,e,67108864),hd(e,67108864)}}function s_(e){if(e.tag===13||e.tag===31){var n=_n();n=rs(n);var r=ps(e,n);r!==null&&ln(r,e,n),hd(e,n)}}var uc=!0;function GA(e,n,r,o){var c=H.T;H.T=null;var f=$.p;try{$.p=2,fd(e,n,r,o)}finally{$.p=f,H.T=c}}function FA(e,n,r,o){var c=H.T;H.T=null;var f=$.p;try{$.p=8,fd(e,n,r,o)}finally{$.p=f,H.T=c}}function fd(e,n,r,o){if(uc){var c=dd(o);if(c===null)$f(e,n,o,cc,r),o_(e,o);else if(KA(c,e,n,r,o))o.stopPropagation();else if(o_(e,o),n&4&&-1<QA.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}_i(f),(Bt&6)===0&&(Qu=$e()+500,Wo(0))}}break;case 31:case 13:E=ps(f,2),E!==null&&ln(E,f,2),Yu(),hd(f,2)}if(f=dd(o),f===null&&$f(e,n,o,cc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else $f(e,n,o,null,r)}}function dd(e){return e=Tn(e),md(e)}var cc=null;function md(e){if(cc=null,e=ri(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function a_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case oo:return 2;case lo:return 8;case nr:case vh:return 32;case ql:return 268435456;default:return 32}default:return 32}}var gd=!1,Dr=null,Nr=null,Or=null,al=new Map,ol=new Map,Vr=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function ll(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&r_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function KA(e,n,r,o,c){switch(n){case"focusin":return Dr=ll(Dr,e,n,r,o,c),!0;case"dragenter":return Nr=ll(Nr,e,n,r,o,c),!0;case"mouseover":return Or=ll(Or,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return al.set(f,ll(al.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ol.set(f,ll(ol.get(f)||null,e,n,r,o,c)),!0}return!1}function l_(e){var n=ri(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,kn(e.priority,function(){s_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,kn(e.priority,function(){s_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);To=o,r.target.dispatchEvent(o),To=null}else return n=En(r),n!==null&&r_(n),e.blockedOn=r,!1;n.shift()}return!0}function u_(e,n,r){hc(e)&&r.delete(n)}function YA(){gd=!1,Dr!==null&&hc(Dr)&&(Dr=null),Nr!==null&&hc(Nr)&&(Nr=null),Or!==null&&hc(Or)&&(Or=null),al.forEach(u_),ol.forEach(u_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,YA)))}var dc=null;function c_(e){dc!==e&&(dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(md(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Oa(e){function n(R){return fc(R,e)}Dr!==null&&fc(Dr,e),Nr!==null&&fc(Nr,e),Or!==null&&fc(Or,e),al.forEach(n),ol.forEach(n);for(var r=0;r<Vr.length;r++){var o=Vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)l_(r),r.blockedOn===null&&Vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],g=c[Ve]||null;if(typeof f=="function")g||c_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)E=g.formAction;else if(md(c)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),c_(r)}}}function h_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function pd(e){this._internalRoot=e}mc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=_n();n_(r,o,e,n,null,null)},mc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n_(e.current,2,null,e,null,null),Yu(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&l_(e)}};var f_=t.version;if(f_!=="19.2.4")throw Error(a(527,f_,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var XA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Un=gc.inject(XA),ke=gc}catch{}}return cl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=vp,f=Ep,g=Tp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=t_(e,1,!1,null,null,r,o,null,c,f,g,h_),e[ni]=n.current,Zf(e),new pd(n)},cl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=vp,g=Ep,E=Tp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=t_(e,1,!0,n,r??null,o,c,R,f,g,E,h_),n.context=e_(null),r=n.current,o=_n(),o=rs(o),c=yr(o),c.callback=null,_r(r,c,o),r=o,n.current.lanes=r,ns(n,r),_i(n),e[ni]=n.current,Zf(e),new mc(n)},cl.version="19.2.4",cl}var A_;function sS(){if(A_)return vd.exports;A_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),vd.exports=rS(),vd.exports}var aS=sS();const oS=()=>{};var S_={};const $v=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},lS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=h>>2,b=(h&3)<<4|p>>4;let x=(p&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(x=64)),a.push(i[A],i[b],i[x],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray($v(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):lS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||p==null||_==null||b==null)throw new uS;const x=h<<2|p>>4;if(a.push(x),_!==64){const Y=p<<4&240|_>>2;if(a.push(Y),b!==64){const Z=_<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cS=function(s){const t=$v(s);return Wv.encodeByteArray(t,!0)},Mc=function(s){return cS(s).replace(/\./g,"")},tE=function(s){try{return Wv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fS=()=>hS().__FIREBASE_DEFAULTS__,dS=()=>{if(typeof process>"u"||typeof S_>"u")return;const s=S_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},mS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&tE(s[1]);return t&&JSON.parse(t)},th=()=>{try{return oS()||fS()||dS()||mS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eE=s=>th()?.emulatorHosts?.[s],gS=s=>{const t=eE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},nE=()=>th()?.config,iE=s=>th()?.[`_${s}`];class pS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Za(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(s){return(await fetch(s,{credentials:"include"})).ok}function yS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const pl={};function _S(){const s={prod:[],emulator:[]};for(const t of Object.keys(pl))pl[t]?s.emulator.push(t):s.prod.push(t);return s}function vS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let b_=!1;function sE(s,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||pl[s]===t||pl[s]||b_)return;pl[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",h=_S().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,Y){x.setAttribute("width","24"),x.setAttribute("id",Y),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{b_=!0,d()},x}function A(x,Y){x.setAttribute("id",Y),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=vS(a),Y=i("text"),Z=document.getElementById(Y)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),rt=i("preprendIcon"),ft=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const mt=x.element;p(mt),A(tt,et);const jt=_();v(ft,rt),mt.append(ft,Z,tt,jt),document.body.appendChild(mt)}h?(Z.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function TS(){const s=th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wS(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function RS(){return!TS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const DS="FirebaseError";class tr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=DS,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?NS(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new tr(l,p,a)}}function NS(s,t){return s.replace(OS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const OS=/\{\$([^}]+)}/g;function VS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ms(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(w_(h)&&w_(d)){if(!Ms(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function w_(s){return s!==null&&typeof s=="object"}function Vl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function MS(s,t){const i=new xS(s,t);return i.subscribe.bind(i)}class xS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");US(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Sd(){}function xn(s){return s&&s._delegate?s._delegate:s}class xs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ds="[DEFAULT]";class LS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new pS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PS(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:kS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(s){return s===Ds?void 0:s}function PS(s){return s.instantiationMode==="EAGER"}class zS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new LS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const BS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},jS=Dt.INFO,qS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},HS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=qS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=jS,this._logHandler=HS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const GS=(s,t)=>t.some(i=>s instanceof i);let R_,C_;function FS(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aE=new WeakMap,kd=new WeakMap,oE=new WeakMap,bd=new WeakMap,um=new WeakMap;function KS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&aE.set(i,s)}).catch(()=>{}),um.set(t,s),t}function YS(s){if(kd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});kd.set(s,t)}let Pd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return kd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||oE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function XS(s){Pd=s(Pd)}function JS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(wd(this),t,...i);return oE.set(a,t.sort?t.sort():[t]),Br(a)}:QS().includes(s)?function(...t){return s.apply(wd(this),t),Br(aE.get(this))}:function(...t){return Br(s.apply(wd(this),t))}}function ZS(s){return typeof s=="function"?JS(s):(s instanceof IDBTransaction&&YS(s),GS(s,FS())?new Proxy(s,Pd):s)}function Br(s){if(s instanceof IDBRequest)return KS(s);if(bd.has(s))return bd.get(s);const t=ZS(s);return t!==s&&(bd.set(s,t),um.set(t,s)),t}const wd=s=>um.get(s);function $S(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),p=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const WS=["get","getKey","getAll","getAllKeys","count"],t1=["put","add","delete","clear"],Rd=new Map;function I_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=t1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||WS.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Rd.set(t,h),h}XS(s=>({...s,get:(t,i,a)=>I_(t,i)||s.get(t,i,a),has:(t,i)=>!!I_(t,i)||s.has(t,i)}));class e1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(n1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function n1(s){return s.getComponent()?.type==="VERSION"}const zd="@firebase/app",D_="0.14.7";const Xi=new lm("@firebase/app"),i1="@firebase/app-compat",r1="@firebase/analytics-compat",s1="@firebase/analytics",a1="@firebase/app-check-compat",o1="@firebase/app-check",l1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",g1="@firebase/installations",p1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",A1="@firebase/remote-config-compat",S1="@firebase/storage",b1="@firebase/storage-compat",w1="@firebase/firestore",R1="@firebase/ai",C1="@firebase/firestore-compat",I1="firebase",D1="12.8.0";const Bd="[DEFAULT]",N1={[zd]:"fire-core",[i1]:"fire-core-compat",[s1]:"fire-analytics",[r1]:"fire-analytics-compat",[o1]:"fire-app-check",[a1]:"fire-app-check-compat",[l1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[g1]:"fire-iid",[p1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[A1]:"fire-rc-compat",[S1]:"fire-gcs",[b1]:"fire-gcs-compat",[w1]:"fire-fst",[C1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[I1]:"fire-js-all"};const xc=new Map,O1=new Map,jd=new Map;function N_(s,t){try{s.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ga(s){const t=s.name;if(jd.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,s);for(const i of xc.values())N_(i,s);for(const i of O1.values())N_(i,s);return!0}function cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Ol("app","Firebase",V1);class M1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const $a=D1;function lE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Bd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=nE()),!i)throw jr.create("no-options");const h=xc.get(l);if(h){if(Ms(i,h.options)&&Ms(a,h.config))return h;throw jr.create("duplicate-app",{appName:l})}const d=new zS(l);for(const v of jd.values())d.addComponent(v);const p=new M1(i,a,d);return xc.set(l,p),p}function uE(s=Bd){const t=xc.get(s);if(!t&&s===Bd&&nE())return lE();if(!t)throw jr.create("no-app",{appName:s});return t}function qr(s,t,i){let a=N1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Ga(new xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const x1="firebase-heartbeat-database",U1=1,Al="firebase-heartbeat-store";let Cd=null;function cE(){return Cd||(Cd=$S(x1,U1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),Cd}async function L1(s){try{const i=(await cE()).transaction(Al),a=await i.objectStore(Al).get(hE(s));return await i.done,a}catch(t){if(t instanceof tr)Xi.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function O_(s,t){try{const a=(await cE()).transaction(Al,"readwrite");await a.objectStore(Al).put(t,hE(s)),await a.done}catch(i){if(i instanceof tr)Xi.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(a.message)}}}function hE(s){return`${s.name}!${s.options.appId}`}const k1=1024,P1=30;class z1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new j1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=V_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>P1){const l=q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V_(),{heartbeatsToSend:i,unsentEntries:a}=B1(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xi.warn(t),""}}}function V_(){return new Date().toISOString().substring(0,10)}function B1(s,t=k1){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),M_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),M_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class j1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await L1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function M_(s){return Mc(JSON.stringify({version:2,heartbeats:s})).length}function q1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function H1(s){Ga(new xs("platform-logger",t=>new e1(t),"PRIVATE")),Ga(new xs("heartbeat",t=>new z1(t),"PRIVATE")),qr(zd,D_,s),qr(zd,D_,"esm2020"),qr("fire-js","")}H1("");var G1="firebase",F1="12.8.0";qr(G1,F1,"app");function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q1=fE,dE=new Ol("auth","Firebase",fE());const Uc=new lm("@firebase/auth");function K1(s,...t){Uc.logLevel<=Dt.WARN&&Uc.warn(`Auth (${$a}): ${s}`,...t)}function Sc(s,...t){Uc.logLevel<=Dt.ERROR&&Uc.error(`Auth (${$a}): ${s}`,...t)}function Ji(s,...t){throw hm(s,...t)}function Ei(s,...t){return hm(s,...t)}function mE(s,t,i){const a={...Q1(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:s.name})}function Hr(s){return mE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return dE.create(s,...t)}function gt(s,t,...i){if(!s)throw hm(t,...i)}function Qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Sc(t),new Error(t)}function Zi(s,t){s||Qi(t)}function qd(){return typeof self<"u"&&self.location?.href||""}function Y1(){return x_()==="http:"||x_()==="https:"}function x_(){return typeof self<"u"&&self.location?.protocol||null}function X1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y1()||SS()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zi(i>t,"Short delay should be less than long delay!"),this.isMobile=ES()||bS()}get(){return X1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fm(s,t){Zi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class gE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W1=new Ml(3e4,6e4);function eh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Wa(s,t,i,a,l={}){return pE(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const p=Vl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...h};return AS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Za(s.emulatorConfig.host)&&(_.credentials="include"),gE.fetch()(await _E(s,s.config.apiHost,i,p),_)})}async function pE(s,t,i){s._canInitEmulator=!1;const a={...Z1,...t};try{const l=new tb(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw pc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw pc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw pc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw mE(s,A,_);Ji(s,A)}}catch(l){if(l instanceof tr)throw l;Ji(s,"network-request-failed",{message:String(l)})}}async function yE(s,t,i,a,l={}){const h=await Wa(s,t,i,a,l);return"mfaPendingCredential"in h&&Ji(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function _E(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?fm(s.config,l):`${s.config.apiScheme}://${l}`;return $1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class tb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),W1.get())})}}function pc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(s,t,a);return l.customData._tokenResponse=i,l}async function eb(s,t){return Wa(s,"POST","/v1/accounts:delete",t)}async function Lc(s,t){return Wa(s,"POST","/v1/accounts:lookup",t)}function yl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nb(s,t=!1){const i=xn(s),a=await i.getIdToken(t),l=dm(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:yl(Id(l.auth_time)),issuedAtTime:yl(Id(l.iat)),expirationTime:yl(Id(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Id(s){return Number(s)*1e3}function dm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=tE(i);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function U_(s){const t=dm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof tr&&ib(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ib({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class rb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kc(s){const t=s.auth,i=await s.getIdToken(),a=await Sl(s,Lc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?vE(l.providerUserInfo):[],d=ab(s.providerData,h),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function sb(s){const t=xn(s);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ab(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function vE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ob(s,t){const i=await pE(s,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await _E(s,l,"/v1/token",`key=${h}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&Za(s.emulatorConfig.host)&&(v.credentials="include"),gE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lb(s,t){return Wa(s,"POST","/v2/accounts:revokeToken",eh(s,t))}class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):U_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=U_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await ob(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new ka;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(gt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function xr(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new rb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return nb(this,t)}reload(){return sb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Hr(this.auth));const t=await this.getIdToken();return await Sl(this,eb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:Y,providerData:Z,stsTokenManager:et}=i;gt(b&&et,t,"internal-error");const tt=ka.fromJSON(this.name,et);gt(typeof b=="string",t,"internal-error"),xr(a,t.name),xr(l,t.name),gt(typeof x=="boolean",t,"internal-error"),gt(typeof Y=="boolean",t,"internal-error"),xr(h,t.name),xr(d,t.name),xr(p,t.name),xr(v,t.name),xr(_,t.name),xr(A,t.name);const rt=new Yn({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(rt.providerData=Z.map(ft=>({...ft}))),v&&(rt._redirectEventId=v),rt}static async _fromIdTokenResponse(t,i,a=!1){const l=new ka;l.updateFromServerResponse(i);const h=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await kc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?vE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new ka;p.updateFromIdToken(a);const v=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const L_=new Map;function Ki(s){Zi(s instanceof Function,"Expected a class definition");let t=L_.get(s);return t?(Zi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,L_.set(s,t),t)}class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}EE.type="NONE";const k_=EE;function bc(s,t,i){return`firebase:${s}:${t}:${i}`}class Pa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=bc(this.userKey,l.apiKey,h),this.fullPersistenceKey=bc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Pa(Ki(k_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Ki(k_);const d=bc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const x=await Lc(t,{idToken:A}).catch(()=>{});if(!x)break;b=await Yn._fromGetAccountInfoResponse(t,x,A)}else b=Yn._fromJSON(t,A);_!==h&&(p=b),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Pa(h,t,a):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Pa(h,t,a))}}function P_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RE(t))return"Blackberry";if(CE(t))return"Webos";if(AE(t))return"Safari";if((t.includes("chrome/")||SE(t))&&!t.includes("edge/"))return"Chrome";if(wE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function TE(s=Ze()){return/firefox\//i.test(s)}function AE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function SE(s=Ze()){return/crios\//i.test(s)}function bE(s=Ze()){return/iemobile/i.test(s)}function wE(s=Ze()){return/android/i.test(s)}function RE(s=Ze()){return/blackberry/i.test(s)}function CE(s=Ze()){return/webos/i.test(s)}function mm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ub(s=Ze()){return mm(s)&&!!window.navigator?.standalone}function cb(){return wS()&&document.documentMode===10}function IE(s=Ze()){return mm(s)||wE(s)||CE(s)||RE(s)||/windows phone/i.test(s)||bE(s)}function DE(s,t=[]){let i;switch(s){case"Browser":i=P_(Ze());break;case"Worker":i=`${P_(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${a}`}class hb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function fb(s,t={}){return Wa(s,"GET","/v2/passwordPolicy",eh(s,t))}const db=6;class mb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??db,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class gb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new hb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Hr(this));const i=t?xn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fb(this),i=new mb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await lb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&K1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(s){return xn(s)}class z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=MS(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pb(s){gm=s}function yb(s){return gm.loadJS(s)}function _b(){return gm.gapiScript}function vb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Eb(s,t){const i=cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ms(h,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function Tb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Ab(s,t,i){const a=nh(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=NE(t),{host:d,port:p}=Sb(t),v=p===null?"":`:${p}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Ms(_,a.config.emulator)&&Ms(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Za(d)?(rE(`${h}//${d}${v}`),sE("Auth",!0)):bb()}function NE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Sb(s){const t=NE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:B_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:B_(d)}}}function B_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function bb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class OE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function za(s,t){return yE(s,"POST","/v1/accounts:signInWithIdp",eh(s,t))}const wb="http://localhost";class Us extends OE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Us(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:wb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class VE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class xl extends VE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ur extends xl{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Lr extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Us._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Lr.credential(i,a)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";class kr extends xl{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Pr extends xl{constructor(){super("twitter.com")}static credential(t,i){return Us._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";async function Rb(s,t){return yE(s,"POST","/v1/accounts:signUp",eh(s,t))}class Fr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Yn._fromIdTokenResponse(t,a,l),d=j_(a);return new Fr({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=j_(a);return new Fr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function j_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Cb(s){if(Kn(s.app))return Promise.reject(Hr(s));const t=nh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Fr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Rb(t,{returnSecureToken:!0}),a=await Fr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Pc extends tr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Pc(t,i,a,l)}}function ME(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(s,h,t,a):h})}async function Ib(s,t,i=!1){const a=await Sl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Fr._forOperation(s,"link",a)}async function Db(s,t,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(Hr(a));const l="reauthenticate";try{const h=await Sl(s,ME(a,l,t,s),i);gt(h.idToken,a,"internal-error");const d=dm(h.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),Fr._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ji(a,"user-mismatch"),h}}async function Nb(s,t,i=!1){if(Kn(s.app))return Promise.reject(Hr(s));const a="signIn",l=await ME(s,a,t),h=await Fr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}function Ob(s,t,i,a){return xn(s).onIdTokenChanged(t,i,a)}function Vb(s,t,i){return xn(s).beforeAuthStateChanged(t,i)}function Mb(s,t,i,a){return xn(s).onAuthStateChanged(t,i,a)}const zc="__sak";class xE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xb=1e3,Ub=10;class UE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);cb()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ub):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}UE.type="LOCAL";const Lb=UE;class LE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}LE.type="SESSION";const kE=LE;function kb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,h)),v=await kb(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function pm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Pb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const _=pm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(x.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function zb(s){Ti().location.href=s}function PE(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Bb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jb(){return navigator?.serviceWorker?.controller||null}function qb(){return PE()?self:null}const zE="firebaseLocalStorageDb",Hb=1,Bc="firebaseLocalStorage",BE="fbase_key";class Ul{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(s,t){return s.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function Gb(){const s=indexedDB.deleteDatabase(zE);return new Ul(s).toPromise()}function Gd(){const s=indexedDB.open(zE,Hb);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Bc,{keyPath:BE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Bc)?t(a):(a.close(),await Gb(),t(await Gd()))})})}async function q_(s,t,i){const a=rh(s,!0).put({[BE]:t,value:i});return new Ul(a).toPromise()}async function Fb(s,t){const i=rh(s,!1).get(t),a=await new Ul(i).toPromise();return a===void 0?null:a.value}function H_(s,t){const i=rh(s,!0).delete(t);return new Ul(i).toPromise()}const Qb=800,Kb=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Kb)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(qb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Bb(),!this.activeServiceWorker)return;this.sender=new Pb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await q_(t,zc,"1"),await H_(t,zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>q_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Fb(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>H_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=rh(l,!1).getAll();return new Ul(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const Yb=jE;new Ml(3e4,6e4);function Xb(s,t){return t?Ki(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ym extends OE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Jb(s){return Nb(s.auth,new ym(s),s.bypassAuthState)}function Zb(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),Db(i,new ym(s),s.bypassAuthState)}async function $b(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),Ib(i,new ym(s),s.bypassAuthState)}class qE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Jb;case"linkViaPopup":case"linkViaRedirect":return $b;case"reauthViaPopup":case"reauthViaRedirect":return Zb;default:Ji(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wb=new Ml(2e3,1e4);class La extends qE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Wb.get())};t()}}La.currentPopupAction=null;const tw="pendingRedirect",wc=new Map;class ew extends qE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const a=await nw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nw(s,t){const i=sw(t),a=rw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iw(s,t){wc.set(s._key(),t)}function rw(s){return Ki(s._redirectPersistence)}function sw(s){return bc(tw,s.config.apiKey,s.name)}async function aw(s,t,i=!1){if(Kn(s.app))return Promise.reject(Hr(s));const a=nh(s),l=Xb(a,t),d=await new ew(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const ow=600*1e3;class lw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!HE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ow&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(t))}saveEventToCache(t){this.cachedEventUids.add(G_(t)),this.lastProcessedEventTime=Date.now()}}function G_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function HE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HE(s);default:return!1}}async function cw(s,t={}){return Wa(s,"GET","/v1/projects",t)}const hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fw=/^https?/;async function dw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cw(s);for(const i of t)try{if(mw(i))return}catch{}Ji(s,"unauthorized-domain")}function mw(s){const t=qd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fw.test(i))return!1;if(hw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const gw=new Ml(3e4,6e4);function F_(){const s=Ti().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function pw(s){return new Promise((t,i)=>{function a(){F_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{F_(),i(Ei(s,"network-request-failed"))},timeout:gw.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=vb("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Ei(s,"network-request-failed"))},yb(`${_b()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function yw(s){return Rc=Rc||pw(s),Rc}const _w=new Ml(5e3,15e3),vw="__/auth/iframe",Ew="emulator/auth/iframe",Tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sw(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?fm(t,Ew):`https://${s.config.authDomain}/${vw}`,a={apiKey:t.apiKey,appName:s.name,v:$a},l=Aw.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Vl(a).slice(1)}`}async function bw(s){const t=await yw(s),i=Ti().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:Sw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tw,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(s,"network-request-failed"),p=Ti().setTimeout(()=>{h(d)},_w.get());function v(){Ti().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{h(d)})}))}const ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rw=500,Cw=600,Iw="_blank",Dw="http://localhost";class Q_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nw(s,t,i,a=Rw,l=Cw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...ww,width:a.toString(),height:l.toString(),top:h,left:d},_=Ze().toLowerCase();i&&(p=SE(_)?Iw:i),TE(_)&&(t=t||Dw,v.scrollbars="yes");const A=Object.entries(v).reduce((x,[Y,Z])=>`${x}${Y}=${Z},`,"");if(ub(_)&&p!=="_self")return Ow(t||"",p),new Q_(null);const b=window.open(t||"",p,A);gt(b,s,"popup-blocked");try{b.focus()}catch{}return new Q_(b)}function Ow(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Vw="__/auth/handler",Mw="emulator/auth/handler",xw=encodeURIComponent("fac");async function K_(s,t,i,a,l,h){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:$a,eventId:l};if(t instanceof VE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",VS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof xl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),_=v?`#${xw}=${encodeURIComponent(v)}`:"";return`${Uw(s)}?${Vl(p).slice(1)}${_}`}function Uw({config:s}){return s.emulator?fm(s,Mw):`https://${s.authDomain}/${Vw}`}const Dd="webStorageSupport";class Lw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=aw,this._overrideRedirectResult=iw}async _openPopup(t,i,a,l){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await K_(t,i,a,qd(),l);return Nw(t,h,pm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await K_(t,i,a,qd(),l);return zb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Zi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await bw(t),a=new lw(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{const h=l?.[0]?.[Dd];h!==void 0&&i(!!h),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return IE()||AE()||mm()}}const kw=Lw;var Y_="@firebase/auth",X_="1.12.0";class Pw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bw(s){Ga(new xs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(s)},_=new gb(a,l,h,v);return Tb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ga(new xs("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(a=>new Pw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(Y_,X_,zw(s)),qr(Y_,X_,"esm2020")}const jw=300,qw=iE("authIdTokenMaxAge")||jw;let J_=null;const Hw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qw)return;const l=i?.token;J_!==l&&(J_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Gw(s=uE()){const t=cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Eb(s,{popupRedirectResolver:kw,persistence:[Yb,Lb,kE]}),a=iE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Hw(h.toString());Vb(i,d,()=>d(i.currentUser)),Ob(i,p=>d(p))}}const l=eE("auth");return l&&Ab(i,`http://${l}`),i}function Fw(){return document.getElementsByTagName("head")?.[0]??document}pb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=Ei("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",Fw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bw("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,GE;(function(){var s;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],w;w=S+(U^C&(N^U))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(U^C&(N^U))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(U^C&(N^U))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(U^C&(N^U))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(C^N))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(C^N))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(C^N))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(C^N))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(C^N^U)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^U)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^U)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^U)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(N^(C|~U))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~U))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~U))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~U))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function h(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==S||(C[N]=U,V=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?h(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return tt(_(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let V=b;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(w))):(V=V.j(C),V=V.add(_(w)))}return V}var b=v(0),x=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-tt(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(et(this))return"-"+tt(this).toString(I);const S=_(Math.pow(I,6));var C=this;let V="";for(;;){const N=jt(C,S).g;C=rt(C,N.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Z(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function et(I){return I.h==-1}s.l=function(I){return I=rt(this,I),et(I)?-1:Z(I)?0:1};function tt(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(x)}s.abs=function(){return et(this)?tt(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,C[N]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function rt(I,S){return I.add(tt(S))}s.j=function(I){if(Z(this)||Z(I))return b;if(et(this))return et(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(et(I))return tt(this.j(tt(I)));if(this.l(Y)<0&&I.l(Y)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,ee=I.i(N)>>>16,Re=I.i(N)&65535;C[2*V+2*N]+=w*Re,ft(C,2*V+2*N),C[2*V+2*N+1]+=U*Re,ft(C,2*V+2*N+1),C[2*V+2*N+1]+=w*ee,ft(C,2*V+2*N+1),C[2*V+2*N+2]+=U*ee,ft(C,2*V+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function ft(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function mt(I,S){this.g=I,this.h=S}function jt(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new mt(b,b);if(et(I))return S=jt(tt(I),S),new mt(tt(S.g),tt(S.h));if(et(S))return S=jt(I,tt(S)),new mt(tt(S.g),S.h);if(I.g.length>30){if(et(I)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=S;V.l(I)<=0;)C=oe(C),V=oe(V);var N=Lt(C,1),U=Lt(V,1);for(V=Lt(V,2),C=Lt(C,2);!Z(V);){var w=U.add(V);w.l(I)<=0&&(N=N.add(C),U=w),V=Lt(V,1),C=Lt(C,1)}return S=rt(I,N.j(S)),new mt(N,S)}for(N=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(C),w=U.j(S);et(w)||w.l(I)>0;)C-=V,U=_(C),w=U.j(S);Z(U)&&(U=x),N=N.add(U),I=rt(I,w)}return new mt(N,I)}s.B=function(I){return jt(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function oe(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Lt(I,S){const C=S>>5;S%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,GE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Gr=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FE,fl,QE,Cc,Fd,KE,YE,XE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var J=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)J[Et-2]=arguments[Et];return m.prototype[L].apply(T,J)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=L[J]}else u.push(L)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,y){const T=mt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Lt=!1,I=new ft,S=()=>{const u=Promise.resolve(void 0);oe=()=>{u.then(C)}};function C(){for(var u;u=rt();){try{u.h.call(u.g)}catch(y){tt(y)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,N),ee.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),H=0;function $(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<Q.length;B++)y=Q[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=At(u,m,T,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new $(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ne(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ne(u,m[B],y,T,L);return null}return y=ao(y),u&&u[Re]?u.J(m,y,p(T)?!!T.capture:!1,L):$r(u,m,y,!1,T,L)}function $r(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let Et=Wr(u);if(Et||(u[Mt]=Et=new it(u)),y=Et.add(m,y,T,J,B),y.proxy)return y;if(T=qs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function qs(){function u(y){return m.call(u.src,u.listener,y)}const m=ro;return u}function Hs(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Hs(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=ao(y),u&&u[Re]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=At(m,y,T,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Wr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,T,L)),(y=u>-1?m[u]:null)&&Gs(y))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])pt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Zn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Wr(m))?(pt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ut(u)}}}function Zn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new ee(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Gs(u),u=y.call(T,m)}return u}function Wr(u){return u=u[Mt],u instanceof it?u:null}var so="__closure_events_fn_"+(Math.random()*1e9>>>0);function ao(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function ge(){V.call(this),this.i=new it(this),this.M=this,this.G=null}b(ge,V),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Hs(this,u,m,y,T)};function Ie(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),W(m,L)}L=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],L=er(B,T,!0,m)&&L;if(B=m.g=u,L=er(B,T,!0,m)&&L,L=er(B,T,!1,m)&&L,y)for(J=0;J<y.length;J++)B=m.g=y[J],L=er(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ut(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function er(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Et=J.listener,he=J.ha||J.src;J.fa&&pt(u.i,J),L=Et.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function _h(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function jl(u){u.g=_h(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){V.call(this),this.h=u,this.g={}}b(ts,V);var oo=[];function lo(u){Ut(u.g,function(m,y){this.g.hasOwnProperty(y)&&Gs(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),lo(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,vh=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Gl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}b(ke,N);function vn(){N.call(this,"c")}b(vn,N);var ce={},Fl=null;function Fs(){return Fl=Fl||new ge}ce.Ia="serverreachability";function Ql(u){N.call(this,ce.Ia,u)}b(Ql,N);function $n(u){const m=Fs();Ie(m,new Ql(m))}ce.STAT_EVENT="statevent";function es(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(es,N);function pe(u){const m=Fs();Ie(m,new es(m,u))}ce.Ja="timingevent";function Wn(u,m){N.call(this,ce.Ja,u),this.size=m}b(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Eh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var J="",Et=B.split("&");for(let zt=0;zt<Et.length;zt++){var he=Et[zt].split("=");if(he.length>1){const ie=he[0];he=he[1];const Sn=ie.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(ie+"="+he+"&"):J+(ie+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Kl(u,m,y,T,L,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+J})}function ei(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Th(u,y)+(T?" "+T:"")})}function ns(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Th(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return nr(B)}catch{return m}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},co;function rs(){}b(rs,Hl),rs.prototype.g=function(){return new XMLHttpRequest},co=new rs;function Ci(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function kn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ni(u,m,y){u.M=1,u.A=ss(ve(m)),u.u=y,u.R=!0,Qs(u,null)}function Qs(u,m){u.F=Date.now(),ii(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Js(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=uu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(oo[0]=L.toString()),L=oo);for(let B=0;B<L.length;B++){const J=ne(y,L[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Eh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=jn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||he==7||(he==8||zt<=0?$n(3):$n(2)),ri(this);var m=this.g.ca();this.X=m;var y=Ah(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<y.length;)if(ie=Jl(this,y),ie==Ve){Et==4&&(this.m=4,pe(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ye){this.m=4,pe(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,ie,null),si(this,ie);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),En(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Ro(J),J.P=!0,pe(11))}}else ei(this.i,this.l,y,null),si(this,y);Et==4&&cn(this),this.o&&!this.K&&(Et==4?su(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}};function Ah(u){if(!Xl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ve:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Ve:(m=m.slice(T,T+y),u.C=T+y,m)))}kn.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Ks(u,u.H)}function Ks(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ns(this.i,this.B),this.M!=2&&($n(),pe(17)),cn(this),this.m=2,En(this)):Ks(this,this.T-u)};function En(u){u.j.I==0||u.K||su(u.j,u)}function cn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,lo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ea(y),cr(y);else break t;fs(y),pe(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(_(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&ea(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const ie=zt[0];if(!(ie<=y.K))if(y.K=ie,zt=zt[1],y.I==2)if(zt[0]=="c"){y.M=zt[1],y.ba=zt[2];const Sn=zt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const mi=zt[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Hn=u.g;if(Hn){const ds=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var B=T.h;B.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(mo(B,B.h),B.h=null))}if(T.G){const na=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(T.wa=na,Gt(T.J,T.G,na))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=lu(T,T.L?T.ba:null,T.W),J.L){go(T.h,J);var Et=J,he=T.O;he&&(Et.H=he),Et.D&&(ri(Et),ii(Et)),T.g=J}else iu(T);y.i.length>0&&fi(y)}else zt[0]!="stop"&&zt[0]!="close"||di(y,7);else y.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?di(y,7):bo(y):zt[0]!="noop"&&y.l&&y.l.qa(zt),y.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function ho(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function mo(u,m){u.g?u.g.add(m):u.h=m}function go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ho.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Y(u.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,yo(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Zl))?(this.l=!1,Me(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ir(this,m[4]),this.h=li(m[5]||"",!0),yo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(as(m,Xs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(as(m,Xs,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(as(y,y.charAt(0)=="/"?_o:$l,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",as(y,Wl)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ir(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let J=0;J<L.length;){const Et=L[J++];Et=="."?T&&J==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?yo(m,eu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new hn(u)}function Me(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function yo(u,m,y){m instanceof sr?(u.i=m,Zs(u.i,u.l)):(y||(m=as(m,rr)),u.i=new sr(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function ss(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function as(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xs=/[#\/\?@]/g,$l=/[#\?:]/g,_o=/[#\?]/g,rr=/[#\?@]/g,Wl=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ys(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=sr.prototype,s.add=function(u,m){nn(this),this.i=null,u=ar(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function tu(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vo(u,m){return nn(u),m=ar(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Eo(u,m){nn(u);let y=[];if(typeof m=="string")vo(u,m)&&(y=y.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Eo(this,u),u.length>0?String(u[0]):m):m};function Js(u,m,y){tu(u,m),y.length>0&&(u.i=null,u.g.set(ar(u,m),Y(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ci(y);y=Eo(this,y);for(let B=0;B<y.length;B++){let J=L;y[B]!==""&&(J+="="+Ci(y[B])),u.push(J)}}return this.i=u.join("&")};function eu(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zs(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(tu(this,T),Js(this,L,y))},u)),u.j=m}function zn(u,m){const y=new Ln;if(d.Image){const T=new Image;T.onload=A(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function To(u,m){const y=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function or(){this.g=new ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Hl),ui.prototype.g=function(){return new os(this.i,this.h)};function os(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(os,ge),s=os.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$s(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):Bn(this),this.readyState==3&&$s(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},s.Na=function(u){this.g&&(this.response=u,lr(this))},s.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Ut(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function ls(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=An(y),typeof u=="string"?y!=null&&Ci(y):Gt(u,m,y))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,ge);var ci=/^https?$/i,Ao=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():co.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){us(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ao,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){us(this,B)}};function us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Ii(u)}function So(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ii(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},s.Xa=function(){cs(this)};function cs(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(Zl)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ci.test(J?J.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",So(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ie(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Yl(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ho(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ur.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),fi(this)};function bo(u){if(Ws(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),hs(u,y),m=new kn(u,u.j,m),m.M=2,m.A=ss(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ou(u)}function cr(u){u.g&&(Ro(u),u.g.cancel(),u.g=null)}function Ws(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!fo(u.h)&&!u.m){u.m=!0;var m=u.Ea;oe||S(),Lt||(oe(),Lt=!0),I.add(m,u),u.D=0}}function ta(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),hs(this,y),B&&(this.R?m="headers="+Ci(An(B))+"&"+m:this.u&&ls(y,this.u,B)),mo(this.h,L),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),L.U=!0,ni(L,y,null)):ni(L,y,m),this.I=2}}else this.I==3&&(u?wo(this,u):this.i.length==0||fo(this.h)||wo(this))};function wo(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),hs(u,T),u.u&&u.o&&ls(T,u.u,u.o),y=new kn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),mo(u.h,y),ni(y,T,m)}function hs(u,m){u.H&&Ut(u.H,function(y,T){Gt(m,T,y)}),u.l&&Ut({},function(y,T){Gt(m,T,y)})}function nu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const he=["count="+y];Et==-1?y>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let zt=!0;for(let ie=0;ie<y;ie++){var B=L[ie].g;const Sn=L[ie].map;if(B-=Et,B<0)Et=Math.max(0,L[ie].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[mi,qn]of J){let Hn=qn;p(qn)&&(Hn=nr(qn)),he.push(B+mi+"="+encodeURIComponent(Hn))}}catch(mi){throw he.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Sn)}}if(zt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;oe||S(),Lt||(oe(),Lt=!0),I.add(m,u),u.A=0}}function fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),cr(this),ru(this))};function Ro(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ru(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),hs(u,m),u.u&&u.o&&ls(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ss(ve(m)),y.u=null,y.R=!0,Qs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,cr(this),fs(this),pe(19))};function ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function su(u,m){var y=null;if(u.g==m){ea(u),Ro(u),u.g=null;var T=2}else if(oi(u.h,m))y=m.G,go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Fs(),Ie(T,new Wn(T,y)),fi(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ta(u,m)||T==2&&fs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function au(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ss(T),L?zn(T.toString(),y):To(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),ou(u),Ws(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,y){var T=y instanceof hn?ve(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Me(B,T),m&&(B.g=m),L&&ir(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),hs(u,T),T}function uu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ui({ab:y})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}s=cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}b(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){bo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=nr(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,We.Z.N.call(this)};function hu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(hu,ke);function fu(){vn.call(this),this.status=1}b(fu,vn);function Ni(u){this.g=u}b(Ni,cu),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(u){Ie(this.g,new hu(u))},Ni.prototype.pa=function(u){Ie(this.g,new fu)},Ni.prototype.oa=function(){Ie(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,XE=function(){return new hr},YE=function(){return Fs()},KE=ce,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,Cc=is,uo.COMPLETE="complete",QE=uo,Gl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,fl=Gl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,FE=Kt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let to="12.8.0";function Qw(s){to=s}const Ls=new lm("@firebase/firestore");function Va(){return Ls.logLevel}function nt(s,...t){if(Ls.logLevel<=Dt.DEBUG){const i=t.map(_m);Ls.debug(`Firestore (${to}): ${s}`,...i)}}function $i(s,...t){if(Ls.logLevel<=Dt.ERROR){const i=t.map(_m);Ls.error(`Firestore (${to}): ${s}`,...i)}}function Fa(s,...t){if(Ls.logLevel<=Dt.WARN){const i=t.map(_m);Ls.warn(`Firestore (${to}): ${s}`,...i)}}function _m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function dt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,JE(s,a,i)}function JE(s,t,i){let a=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||JE(t,l,a)}function vt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ZE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Kw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class Yw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Xw{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new ZE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Jw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Zw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Jw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $w{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ww(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Ww(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Nt(s,t){return s<t?-1:s>t?1:0}function Qd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Nd(l)===Nd(h)?Nt(l,h):Nd(l)?1:-1}return Nt(s.length,t.length)}const tR=55296,eR=57343;function Nd(s){const t=s.charCodeAt(0);return t>=tR&&t<=eR}function Qa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const W_="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&dt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=vi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Nt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class se extends vi{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return nR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Fe([W_])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(se.fromString(t))}static fromName(t){return new ct(se.fromString(t).popFirst(5))}static empty(){return new ct(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new se(t.slice()))}}function iR(s,t,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function rR(s,t,i,a){if(t===!0&&a===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function tv(s){if(!ct.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $E(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Em(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Ba(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function we(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ll(s,t){if(!$E(s))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ot(X.INVALID_ARGUMENT,i);return!0}const ev=-62135596800,nv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*nv);return new te(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ev)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ll(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:we("string",te._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new te(0,0))}static max(){return new yt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function sR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new Qr(l,ct.empty(),t)}function aR(s){return new Qr(s.readTime,s.key,bl)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(yt.min(),ct.empty(),bl)}static max(){return new Qr(yt.max(),ct.empty(),bl)}}function oR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Nt(s.largestBatchId,t.largestBatchId))}const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function eo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==lR)throw s;nt("LocalStore","Unexpectedly lost primary lease")}class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,a)=>{i(t)}))}static reject(t){return new K(((i,a)=>{a(t)}))}static waitFor(t){return new K(((i,a)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next((l=>l?K.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new K(((a,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++p,p===h&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new K(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function cR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(s){return s.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const Tm=-1;function ah(s){return s==null}function jc(s){return s===0&&1/s==-1/0}function hR(s){return typeof s=="number"&&Number.isInteger(s)&&!jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const WE="";function fR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=iv(t)),t=dR(s.get(i),t);return iv(t)}function dR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case WE:i+="";break;default:i+=h}}return i}function iv(s){return s+WE+""}function rv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ps(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function tT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ae{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(t){return new sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Oe(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new eT("Invalid base64 string: "+h):h}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=mR.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Yr(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const nT="server_timestamp",iT="__type__",rT="__previous_value__",sT="__local_write_time__";function Am(s){return(s?.mapValue?.fields||{})[iT]?.stringValue===nT}function oh(s){const t=s.mapValue.fields[rT];return Am(t)?oh(t):t}function wl(s){const t=Kr(s.mapValue.fields[sT].timestampValue);return new te(t.seconds,t.nanos)}class gR{constructor(t,i,a,l,h,d,p,v,_,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=b}}const qc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}function pR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(s.options.projectId,t)}const aT="__type__",yR="__max__",vc={mapValue:{}},oT="__vector__",Hc="value";function Xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Am(s)?4:vR(s)?9007199254740991:_R(s)?10:11:dt(28295,{value:s})}function wi(s,t){if(s===t)return!0;const i=Xr(s);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return wl(s).isEqual(wl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Kr(l.timestampValue),p=Kr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Yr(l.bytesValue).isEqual(Yr(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return me(l.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return me(l.integerValue)===me(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=me(l.doubleValue),p=me(h.doubleValue);return d===p?jc(d)===jc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Qa(s.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(rv(d)!==rv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(s,t);default:return dt(52216,{left:s})}}function Cl(s,t){return(s.values||[]).find((i=>wi(i,t)))!==void 0}function Ka(s,t){if(s===t)return 0;const i=Xr(s),a=Xr(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return av(s.timestampValue,t.timestampValue);case 4:return av(wl(s),wl(t));case 5:return Qd(s.stringValue,t.stringValue);case 6:return(function(h,d){const p=Yr(h),v=Yr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Nt(p[_],v[_]);if(A!==0)return A}return Nt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Nt(me(h.latitude),me(d.latitude));return p!==0?p:Nt(me(h.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return ov(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Hc]?.arrayValue,A=v[Hc]?.arrayValue,b=Nt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:ov(_,A)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===vc.mapValue&&d===vc.mapValue)return 0;if(h===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Qd(v[b],A[b]);if(x!==0)return x;const Y=Ka(p[v[b]],_[A[b]]);if(Y!==0)return Y}return Nt(v.length,A.length)})(s.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function av(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const i=Kr(s),a=Kr(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function ov(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ka(i[l],a[l]);if(h)return h}return Nt(i.length,a.length)}function Ya(s){return Kd(s)}function Kd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Kr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Kd(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"})(s.mapValue):dt(61005,{value:s})}function Ic(s){switch(Xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(s);return t?16+Ic(t):16;case 5:return 2*s.stringValue.length;case 6:return Yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Ic(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ps(a.fields,((h,d)=>{l+=h.length+Ic(d)})),l})(s.mapValue);default:throw dt(13486,{value:s})}}function Yd(s){return!!s&&"integerValue"in s}function Sm(s){return!!s&&"arrayValue"in s}function lv(s){return!!s&&"nullValue"in s}function uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dc(s){return!!s&&"mapValue"in s}function _R(s){return(s?.mapValue?.fields||{})[aT]?.stringValue===oT}function _l(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ps(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=_l(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(s.arrayValue.values[i]);return t}return{...s}}function vR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=_l(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ps(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new Vn(_l(this.value))}}function lT(s){const t=[];return Ps(s.fields,((i,a)=>{const l=new Fe([i]);if(Dc(a)){const h=lT(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Je{constructor(t,i,a,l,h,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gc{constructor(t,i){this.position=t,this.inclusive=i}}function cv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function hv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!wi(s.position[i],t.position[i]))return!1;return!0}class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function ER(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class uT{}class Ne extends uT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new AR(t,i,a):i==="array-contains"?new wR(t,a):i==="in"?new RR(t,a):i==="not-in"?new CR(t,a):i==="array-contains-any"?new IR(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new SR(t,a):new bR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends uT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ri(t,i)}matches(t){return cT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(s){return s.op==="and"}function hT(s){return TR(s)&&cT(s)}function TR(s){for(const t of s.filters)if(t instanceof Ri)return!1;return!0}function Xd(s){if(s instanceof Ne)return s.field.canonicalString()+s.op.toString()+Ya(s.value);if(hT(s))return s.filters.map((t=>Xd(t))).join(",");{const t=s.filters.map((i=>Xd(i))).join(",");return`${s.op}(${t})`}}function fT(s,t){return s instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&wi(a.value,l.value)})(s,t):s instanceof Ri?(function(a,l){return l instanceof Ri&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,p)=>h&&fT(d,l.filters[p])),!0):!1})(s,t):void dt(19439)}function dT(s){return s instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(s):s instanceof Ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(dT).join(" ,")+"}"})(s):"Filter"}class AR extends Ne{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class SR extends Ne{constructor(t,i){super(t,"in",i),this.keys=mT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class bR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=mT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function mT(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class wR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sm(i)&&Cl(i.arrayValue,this.value)}}class RR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class CR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class IR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class DR{constructor(t,i=null,a=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function fv(s,t=null,i=[],a=[],l=null,h=null,d=null){return new DR(s,t,i,a,l,h,d)}function bm(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Xd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ya(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ya(a))).join(",")),t.Te=i}return t.Te}function wm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ER(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!fT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!hv(s.startAt,t.startAt)&&hv(s.endAt,t.endAt)}function Jd(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class lh{constructor(t,i=null,a=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NR(s,t,i,a,l,h,d,p){return new lh(s,t,i,a,l,h,d,p)}function Rm(s){return new lh(s)}function dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function OR(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function VR(s){return s.collectionGroup!==null}function vl(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Fc(h,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Fc(Fe.keyField(),a))}return t.Ie}function Ai(s){const t=vt(s);return t.Ee||(t.Ee=MR(t,vl(s))),t.Ee}function MR(s,t){if(s.limitType==="F")return fv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Fc(l.field,h)}));const i=s.endAt?new Gc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Gc(s.startAt.position,s.startAt.inclusive):null;return fv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Zd(s,t,i){return new lh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function uh(s,t){return wm(Ai(s),Ai(t))&&s.limitType===t.limitType}function gT(s){return`${bm(Ai(s))}|lt:${s.limitType}`}function Ma(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>dT(l))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function ch(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of vl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=cv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,vl(a),l)||a.endAt&&!(function(d,p,v){const _=cv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,vl(a),l))})(s,t)}function xR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pT(s){return(t,i)=>{let a=!1;for(const l of vl(s)){const h=UR(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function UR(s,t,i){const a=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Ka(v,_):dt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}class zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}const LR=new ae(ct.comparator);function Wi(){return LR}const yT=new ae(ct.comparator);function dl(...s){let t=yT;for(const i of s)t=t.insert(i.key,i);return t}function _T(s){let t=yT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ns(){return El()}function vT(){return El()}function El(){return new zs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const kR=new ae(ct.comparator),PR=new Oe(ct.comparator);function Ot(...s){let t=PR;for(const i of s)t=t.add(i);return t}const zR=new Oe(Nt);function BR(){return zR}function Cm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function ET(s){return{integerValue:""+s}}function jR(s,t){return hR(t)?ET(t):Cm(s,t)}class hh{constructor(){this._=void 0}}function qR(s,t,i){return s instanceof Qc?(function(l,h){const d={fields:{[iT]:{stringValue:nT},[sT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Am(h)&&(h=oh(h)),h&&(d.fields[rT]=h),{mapValue:d}})(i,t):s instanceof Il?AT(s,t):s instanceof Dl?ST(s,t):(function(l,h){const d=TT(l,h),p=mv(d)+mv(l.Ae);return Yd(d)&&Yd(l.Ae)?ET(p):Cm(l.serializer,p)})(s,t)}function HR(s,t,i){return s instanceof Il?AT(s,t):s instanceof Dl?ST(s,t):i}function TT(s,t){return s instanceof Kc?(function(a){return Yd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Qc extends hh{}class Il extends hh{constructor(t){super(),this.elements=t}}function AT(s,t){const i=bT(t);for(const a of s.elements)i.some((l=>wi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Dl extends hh{constructor(t){super(),this.elements=t}}function ST(s,t){let i=bT(t);for(const a of s.elements)i=i.filter((l=>!wi(l,a)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function mv(s){return me(s.integerValue||s.doubleValue)}function bT(s){return Sm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function GR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof Dl&&l instanceof Dl?Qa(a.elements,l.elements,wi):a instanceof Kc&&l instanceof Kc?wi(a.Ae,l.Ae):a instanceof Qc&&l instanceof Qc})(s.transform,t.transform)}class FR{constructor(t,i){this.version=t,this.transformResults=i}}class Yi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class fh{}function wT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new CT(s.key,Yi.none()):new kl(s.key,s.data,Yi.none());{const i=s.data,a=Vn.empty();let l=new Oe(Fe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new Bs(s.key,a,new Xn(l.toArray()),Yi.none())}}function QR(s,t,i){s instanceof kl?(function(l,h,d){const p=l.value.clone(),v=pv(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Bs?(function(l,h,d){if(!Nc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=pv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(RT(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(s,t,i,a){return s instanceof kl?(function(h,d,p,v){if(!Nc(h.precondition,d))return p;const _=h.value.clone(),A=yv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Bs?(function(h,d,p,v){if(!Nc(h.precondition,d))return p;const _=yv(h.fieldTransforms,v,d),A=d.data;return A.setAll(RT(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(h,d,p){return Nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function KR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=TT(a.transform,l||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,h))}return i||null}function gv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Qa(a,l,((h,d)=>GR(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class kl extends fh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bs extends fh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function RT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function pv(s,t,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,p=t.data.field(h.field);a.set(h.field,HR(d,p,i[l]))}return a}function yv(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,qR(h,d,t))}return a}class CT extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&QR(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=vT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=wT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,a)=>gv(i,a)))&&Qa(this.baseMutations,t.baseMutations,((i,a)=>gv(i,a)))}}class Im{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return kR})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new Im(t,i,a,l)}}class JR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZR{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,xt;function $R(s){switch(s){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function IT(s){if(s===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(s){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:s})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function WR(){return new TextEncoder}const tC=new Gr([4294967295,4294967295],0);function _v(s){const t=WR().encode(s),i=new GE;return i.update(t),new Uint8Array(i.digest())}function vv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Gr([i,a],0),new Gr([l,h],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(a<0)throw new ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gr.fromNumber(a)));return l.compare(tC)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=_v(t),[a,l]=vv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Dm(h,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=_v(t),[a,l]=vv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new dh(yt.min(),l,new ae(Nt),Wi(),Ot())}}class Pl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Pl(a,i,Ot(),Ot(),Ot())}}class Oc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class DT{constructor(t,i){this.targetId=t,this.Ce=i}}class NT{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Ev{constructor(){this.ve=0,this.Fe=Tv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:dt(38017,{changeType:h})}})),new Pl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Tv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.He=Ec(),this.Je=Ec(),this.Ze=new ae(Nt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Jd(h))if(a===0){const d=new ct(h.path);this.et(i,d,Je.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Yr(a).toUint8Array()}catch(v){if(v instanceof eT)return Fa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Dm(d,l,h)}catch(v){return Fa(v instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Jd(p.target)){const v=new ct(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=Ot();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ze,this.je,a);return this.je=Wi(),this.He=Ec(),this.Je=Ec(),this.Ze=new ae(Nt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Ev,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Oe(Nt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Oe(Nt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ev),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new ae(ct.comparator)}function Tv(){return new ae(ct.comparator)}const nC={asc:"ASCENDING",desc:"DESCENDING"},iC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rC={and:"AND",or:"OR"};class sC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function $d(s,t){return s.useProto3Json||ah(t)?t:{value:t}}function Yc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function aC(s,t){return Yc(s,t.toTimestamp())}function Si(s){return qt(!!s,49232),yt.fromTimestamp((function(i){const a=Kr(i);return new te(a.seconds,a.nanos)})(s))}function Nm(s,t){return Wd(s,t).canonicalString()}function Wd(s,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function VT(s){const t=se.fromString(s);return qt(kT(t),10190,{key:t.toString()}),t}function tm(s,t){return Nm(s.databaseId,t.path)}function Od(s,t){const i=VT(t);if(i.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(xT(i))}function MT(s,t){return Nm(s.databaseId,t)}function oC(s){const t=VT(s);return t.length===4?se.emptyPath():xT(t)}function em(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function xT(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Av(s,t,i){return{name:tm(s,t),fields:i.value.mapValue.fields}}function lC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:IT(_.code);return new ot(A,_.message||"")})(d);i=new NT(a,l,h,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Od(s,a.document.name),h=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):yt.min(),p=new Vn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(l,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Oc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Od(s,a.document),h=a.readTime?Si(a.readTime):yt.min(),d=Je.newNoDocument(l,h),p=a.removedTargetIds||[];i=new Oc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Od(s,a.document),h=a.removedTargetIds||[];i=new Oc([],h,l,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new ZR(l,h),p=a.targetId;i=new DT(p,d)}}return i}function uC(s,t){let i;if(t instanceof kl)i={update:Av(s,t.key,t.value)};else if(t instanceof CT)i={delete:tm(s,t.key)};else if(t instanceof Bs)i={update:Av(s,t.key,t.data),updateMask:_C(t.fieldMask)};else{if(!(t instanceof YR))return dt(16599,{dt:t.type});i={verify:tm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:aC(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(s,t.precondition)),i}function cC(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?Si(l.updateTime):Si(h);return d.isEqual(yt.min())&&(d=Si(h)),new FR(d,l.transformResults||[])})(i,t)))):[]}function hC(s,t){return{documents:[MT(s,t.path)]}}function fC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=MT(s,l);const h=(function(_){if(_.length!==0)return LT(Ri.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:xa(x.field),direction:gC(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$d(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function dC(s){let t=oC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const x=UT(b);return x instanceof Ri&&hT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new Fc(Ua(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,ah(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,Y=b.values||[];return new Gc(Y,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,Y=b.values||[];return new Gc(Y,x)})(i.endAt)),NR(t,l,d,h,p,"F",v,_)}function mC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function UT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ua(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ne.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ri.create(i.compositeFilter.filters.map((a=>UT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(s):dt(30097,{filter:s})}function gC(s){return nC[s]}function pC(s){return iC[s]}function yC(s){return rC[s]}function xa(s){return{fieldPath:s.canonicalString()}}function Ua(s){return Fe.fromServerFormat(s.fieldPath)}function LT(s){return s instanceof Ne?(function(i){if(i.op==="=="){if(uv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if(lv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if(lv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:pC(i.op),value:i.value}}})(s):s instanceof Ri?(function(i){const a=i.getFilters().map((l=>LT(l)));return a.length===1?a[0]:{compositeFilter:{op:yC(i.op),filters:a}}})(s):dt(54877,{filter:s})}function _C(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function PT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,h=yt.min(),d=yt.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class vC{constructor(t){this.yt=t}}function EC(s){const t=dC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zd(t,t.limit,"L"):t}class TC{constructor(){this.Sn=new AC}addToCollectionParentIndex(t,i){return this.Sn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Qr.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class AC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Oe(se.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Oe(se.comparator)).toArray()}}const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(zT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Xa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Xa(0)}static ar(){return new Xa(-1)}}const bv="LruGarbageCollector",SC=1048576;function wv([s,t],[i,a]){const l=Nt(s,i);return l===0?Nt(t,a):l}class bC{constructor(t){this.Pr=t,this.buffer=new Oe(wv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();wv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?nt(bv,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Ar(3e5)}))}}class RC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return K.resolve(sh.ce);const a=new bC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Sv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),Va()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:b}))))}}function CC(s,t){return new RC(s,t)}class IC{constructor(){this.changes=new zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class NC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Tl(a.mutation,l,Xn.empty(),te.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Ns();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=dl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ns();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let h=Wi();const d=El(),p=(function(){return El()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Bs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Tl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new DC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=El();let l=new ae(((d,p)=>d-p)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Xn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const b=(l.get(p.batchId)||Ot()).add(v);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,b=vT();A.forEach((x=>{if(!h.has(x)){const Y=wT(i.get(x),a.get(x));Y!==null&&b.set(x,Y),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return K.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return OR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):VR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):K.resolve(Ns());let p=bl,v=h;return d.next((_=>K.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Ot()))).next((A=>({batchId:p,changes:_T(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(t,h).next((p=>K.forEach(p,(v=>{const _=(function(b,x){return new lh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=dl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Tl(A.mutation,_,Xn.empty(),te.now()),ch(i,_)&&(p=p.insert(v,_))})),p}))}}class OC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return K.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:EC(l.bundledQuery),readTime:Si(l.readTime)}})(i)),K.resolve()}}class VC{constructor(){this.overlays=new ae(ct.comparator),this.Lr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ns();return K.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.bt(t,i,h)})),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=Ns(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=Ns(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ns(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return K.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new JR(i,a));let h=this.Lr.get(i);h===void 0&&(h=Ot(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class MC{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}class Om{constructor(){this.kr=new Oe(Ue.Kr),this.qr=new Oe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ct(new se([])),a=new Ue(i,t),l=new Ue(i,t+1),h=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new se([])),a=new Ue(i,t),l=new Ue(i,t+1);let h=Ot();return this.qr.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||Nt(t.Hr,i.Hr)}static Ur(t,i){return Nt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class xC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(Ue.Kr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new XR(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Tm:this.Yn-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);h.push(p)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Oe(Nt);return i.forEach((l=>{const h=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{a=a.add(p.Hr)}))})),K.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let p=new Oe(Nt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),K.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return K.forEach(i.mutations,(l=>{const h=new Ue(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class UC{constructor(t){this.ti=t,this.docs=(function(){return new ae(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=Wi();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Je.newInvalidDocument(l))})),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=Wi();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||oR(aR(A),a)<=0||(l.has(A.key)||ch(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,a,l){dt(9500)}ni(t,i){return K.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new LC(this)}getSize(t){return K.resolve(this.size)}}class LC extends IC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),K.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class kC{constructor(t){this.persistence=t,this.ri=new zs((i=>bm(i)),wm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Om,this.targetCount=0,this.oi=Xa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),K.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.lr(i),K.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),K.waitFor(h).next((()=>l))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),K.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this.si.containsKey(i))}}class BT{constructor(t,i){this._i={},this.overlays={},this.ai=new sh(0),this.ui=!1,this.ui=!0,this.ci=new MC,this.referenceDelegate=t(this),this.li=new kC(this),this.indexManager=new TC,this.remoteDocumentCache=(function(l){return new UC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new vC(i),this.Pi=new OC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new VC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new xC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const l=new PC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,i){return K.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class PC extends uR{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Om,this.Ai=null}static Vi(t){return new Vm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(a=>{const l=ct.fromPath(a);return this.mi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.fi=new zs((a=>fR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=CC(this,i)}static Vi(t,i){return new Xc(t,i)}Ti(){}Ii(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return K.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?K.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),K.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}wr(t,i,a){return K.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Mm(t,i.fromCache,a,l)}}class zC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class BC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RS()?8:cR(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.gs(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new zC;return this.ys(t,i,d).next((p=>{if(h.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>h.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Va()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Va()<=Dt.DEBUG&&nt("QueryEngine","Query:",Ma(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Va()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):K.resolve())}gs(t,i){if(dv(i))return K.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Ot(...h);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,Zd(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return dv(i)||l.isEqual(yt.min())?K.resolve(null):this.fs.getDocuments(t,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,l)?K.resolve(null):(Va()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.Ds(t,d,i,sR(l,bl)).next((p=>p)))}))}bs(t,i){let a=new Oe(pT(t));return i.forEach(((l,h)=>{ch(t,h)&&(a=a.add(h))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,i,a){return Va()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.fs.getDocumentsMatchingQuery(t,i,Qr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const xm="LocalStore",jC=3e8;class qC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ae(Nt),this.Fs=new zs((h=>bm(h)),wm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function HC(s,t,i,a){return new qC(s,t,i,a)}async function jT(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function GC(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const b=_.batch,x=b.keys();let Y=K.resolve();return x.forEach((Z=>{Y=Y.next((()=>A.getEntry(v,Z))).next((et=>{const tt=_.docVersions.get(Z);qt(tt!==null,48541),et.version.compareTo(tt)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function qT(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function FC(s,t){const i=vt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;p.push(i.li.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,b))));let Y=x.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?Y=Y.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,a)),l=l.insert(b,Y),(function(et,tt,rt){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=jC?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(x,Y,A)&&p.push(i.li.updateTargetData(h,Y))}));let v=Wi(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(QC(h,d,t.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!a.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((b=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return K.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=l,h)))}function QC(s,t,i){let a=Ot(),l=Ot();return i.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let d=Wi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):nt(xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function KC(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function YC(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((h=>h?(l=h,K.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function nm(s,t,i){const a=vt(s),l=a.vs.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;nt(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Rv(s,t,i){const a=vt(s);let l=yt.min(),h=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=vt(v),x=b.Fs.get(A);return x!==void 0?K.resolve(b.vs.get(x)):b.li.getTargetData(_,A)})(a,d,Ai(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Ot()))).next((p=>(XC(a,xR(t),p),{documents:p,ks:h})))))}function XC(s,t,i){let a=s.Ms.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Ms.set(t,a)}class Cv{constructor(){this.activeTargetIds=BR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JC{constructor(){this.vo=new Cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Cv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ZC{Mo(t){}shutdown(){}}const Iv="ConnectivityMonitor";class Dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(Iv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(Iv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function im(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const Vd="RestConnection",$C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,h){const d=im(),p=this.Qo(t,i.toUriEncodedString());nt(Vd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:_}=new URL(p),A=Za(_);return this.zo(t,p,v,a,A).then((b=>(nt(Vd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Fa(Vd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,h,d){return this.Wo(t,i,a,l,h)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,i){const a=$C[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class tI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ye="WebChannelConnection",hl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ja extends WC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ja.c_){const t=YE();hl(t,KE.STAT_EVENT,(i=>{i.stat===Fd.PROXY?nt(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Fd.NOPROXY&&nt(Ye,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(t,i,a,l,h){const d=im();return new Promise(((p,v)=>{const _=new FE;_.setWithCredentials(!0),_.listenOnce(QE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const b=_.getResponseJson();nt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Cc.TIMEOUT:nt(Ye,`RPC '${t}' ${d} timed out`),v(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const x=_.getStatus();if(nt(Ye,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const Z=Y?.error;if(Z&&Z.status&&Z.message){const et=(function(rt){const ft=rt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ft)>=0?ft:X.UNKNOWN})(Z.status);v(new ot(et,Z.message))}else v(new ot(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=im(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=h.join("");nt(Ye,`Creating RPC '${t}' stream ${l}: ${_}`,p);const A=d.createWebChannel(_,p);this.I_(A);let b=!1,x=!1;const Y=new tI({Ho:Z=>{x?nt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(nt(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),nt(Ye,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return hl(A,fl.EventType.OPEN,(()=>{x||(nt(Ye,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),hl(A,fl.EventType.CLOSE,(()=>{x||(x=!0,nt(Ye,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(A))})),hl(A,fl.EventType.ERROR,(Z=>{x||(x=!0,Fa(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Y.o_(new ot(X.UNAVAILABLE,"The operation could not be completed")))})),hl(A,fl.EventType.MESSAGE,(Z=>{if(!x){const et=Z.data[0];qt(!!et,16349);const tt=et,rt=tt?.error||tt[0]?.error;if(rt){nt(Ye,`RPC '${t}' stream ${l} received error:`,rt);const ft=rt.status;let mt=(function(Lt){const I=be[Lt];if(I!==void 0)return IT(I)})(ft),jt=rt.message;mt===void 0&&(mt=X.INTERNAL,jt="Unknown error status: "+ft+" with message "+rt.message),x=!0,Y.o_(new ot(mt,jt)),A.close()}else nt(Ye,`RPC '${t}' stream ${l} received:`,et),Y.__(et)}})),ja.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return XE()}}function eI(s){return new ja(s)}function Md(){return typeof document<"u"?document:null}function mh(s){return new sC(s,!0)}ja.c_=!1;class HT{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Nv="PersistentStream";class GT{constructor(t,i,a,l,h,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(nt(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nI extends GT{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=lC(this.serializer,t),a=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Si(d.readTime):yt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Jd(v)?{documents:hC(h,v)}:{query:fC(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=OT(h,d.resumeToken);const _=$d(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Yc(h,d.snapshotVersion.toTimestamp());const _=$d(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=mC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.K_(i)}}class iI extends GT{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=cC(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=em(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>uC(this.serializer,a)))};this.K_(i)}}class rI{}class sI extends rI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(t,Wd(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())}))}jo(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Wd(i,a),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aI(s,t,i,a){return new sI(s,t,i,a)}class oI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ks="RemoteStore";class lI{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{js(this)&&(nt(ks,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await zl(_),_.Va.set("Unknown"),_.Ea.delete(4),await gh(_)})(this))}))})),this.Va=new oI(a,l)}}async function gh(s){if(js(s))for(const t of s.Ra)await t(!0)}async function zl(s){for(const t of s.Ra)await t(!1)}function FT(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?km(i):io(i).O_()&&Lm(i,t))}function Um(s,t){const i=vt(s),a=io(i);i.Ia.delete(t),a.O_()&&QT(i,t),i.Ia.size===0&&(a.O_()?a.L_():js(i)&&i.Va.set("Unknown"))}function Lm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}io(s).Z_(t)}function QT(s,t){s.da.$e(t),io(s).X_(t)}function km(s){s.da=new eC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),io(s).start(),s.Va.ua()}function Pm(s){return js(s)&&!io(s).x_()&&s.Ia.size>0}function js(s){return vt(s).Ea.size===0}function KT(s){s.da=void 0}async function uI(s){s.Va.set("Online")}async function cI(s){s.Ia.forEach(((t,i)=>{Lm(s,t)}))}async function hI(s,t){KT(s),Pm(s)?(s.Va.ha(t),km(s)):s.Va.set("Unknown")}async function fI(s,t,i){if(s.Va.set("Online"),t instanceof NT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){nt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(s,a)}else if(t instanceof Oc?s.da.Xe(t):t instanceof DT?s.da.st(t):s.da.tt(t),!i.isEqual(yt.min()))try{const a=await qT(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),QT(h,v);const b=new zr(A.target,v,_,A.sequenceNumber);Lm(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){nt(ks,"Failed to raise snapshot:",a),await Jc(s,a)}}async function Jc(s,t,i){if(!no(t))throw t;s.Ea.add(1),await zl(s),s.Va.set("Offline"),i||(i=()=>qT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await gh(s)}))}function YT(s,t){return t().catch((i=>Jc(s,i,t)))}async function ph(s){const t=vt(s),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;dI(t);)try{const l=await KC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,mI(t,l)}catch(l){await Jc(t,l)}XT(t)&&JT(t)}function dI(s){return js(s)&&s.Ta.length<10}function mI(s,t){s.Ta.push(t);const i=Jr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function XT(s){return js(s)&&!Jr(s).x_()&&s.Ta.length>0}function JT(s){Jr(s).start()}async function gI(s){Jr(s).ra()}async function pI(s){const t=Jr(s);for(const i of s.Ta)t.ea(i.mutations)}async function yI(s,t,i){const a=s.Ta.shift(),l=Im.from(a,t,i);await YT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await ph(s)}async function _I(s,t){t&&Jr(s).Y_&&await(async function(a,l){if((function(d){return $R(d)&&d!==X.ABORTED})(l.code)){const h=a.Ta.shift();Jr(a).B_(),await YT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await ph(a)}})(s,t),XT(s)&&JT(s)}async function Ov(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),nt(ks,"RemoteStore received new credentials");const a=js(i);i.Ea.add(3),await zl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function vI(s,t){const i=vt(s);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await zl(i),i.Va.set("Unknown"))}function io(s){return s.ma||(s.ma=(function(i,a,l){const h=vt(i);return h.sa(),new nI(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:uI.bind(null,s),Yo:cI.bind(null,s),t_:hI.bind(null,s),J_:fI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Pm(s)?km(s):s.Va.set("Unknown")):(await s.ma.stop(),KT(s))}))),s.ma}function Jr(s){return s.fa||(s.fa=(function(i,a,l){const h=vt(i);return h.sa(),new iI(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gI.bind(null,s),t_:_I.bind(null,s),ta:pI.bind(null,s),na:yI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await ph(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class zm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,p=new zm(t,i,d,l,h);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(s,t){if($i("AsyncQueue",`${t}: ${s}`),no(s))return new ot(X.UNAVAILABLE,`${t}: ${s}`);throw s}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=dl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Vv{constructor(){this.ga=new ae(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,h,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,qa.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class EI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class TI{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),h=l.queries;l.queries=Mv(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function Mv(){return new zs((s=>gT(s)),uh)}async function AI(s,t){const i=vt(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new EI,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Bm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.ba.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&jm(i)}async function SI(s,t){const i=vt(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(t);d>=0&&(h.ba.splice(d,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function bI(s,t){const i=vt(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&jm(i)}function wI(s,t,i){const a=vt(s),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(i);a.queries.delete(t)}function jm(s){s.Ca.forEach((t=>{t.next()}))}var rm,xv;(xv=rm||(rm={})).Ma="default",xv.Cache="cache";class RI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rm.Cache}}class ZT{constructor(t){this.key=t}}class $T{constructor(t){this.key=t}}class CI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=pT(t),this.tu=new qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Vv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),Y=ch(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),et=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let tt=!1;x&&Y?x.data.isEqual(Y.data)?Z!==et&&(a.track({type:3,doc:Y}),tt=!0):this.su(x,Y)||(a.track({type:2,doc:Y}),tt=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!x&&Y?(a.track({type:0,doc:Y}),tt=!0):x&&!Y&&(a.track({type:1,doc:x}),tt=!0,(v||_)&&(p=!0)),tt&&(Y?(d=d.add(Y),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Y,Z){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:tt})}};return et(Y)-et(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Ja(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new $T(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new ZT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qm="SyncEngine";class II{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class DI{constructor(t){this.key=t,this.hu=!1}}class NI{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zs((p=>gT(p)),uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ae(ct.comparator),this.Au=new Map,this.Vu=new Om,this.du={},this.mu=new Map,this.fu=Xa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OI(s,t,i=!0){const a=r0(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await WT(a,t,i,!0),l}async function VI(s,t){const i=r0(s);await WT(i,t,!0,!1)}async function WT(s,t,i,a){const l=await YC(s.localStore,Ai(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await MI(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&FT(s.remoteStore,l),p}async function MI(s,t,i,a,l){s.pu=(b,x,Y)=>(async function(et,tt,rt,ft){let mt=tt.view.ru(rt);mt.Ss&&(mt=await Rv(et.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,mt))));const jt=ft&&ft.targetChanges.get(tt.targetId),oe=ft&&ft.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(mt,et.isPrimaryClient,jt,oe);return Lv(et,tt.targetId,Lt.au),Lt.snapshot})(s,b,x,Y);const h=await Rv(s.localStore,t,!0),d=new CI(t,h.ks),p=d.ru(h.documents),v=Pl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);Lv(s,i,_.au);const A=new II(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function xI(s,t,i){const a=vt(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!uh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Um(a.remoteStore,l.targetId),sm(a,l.targetId)})).catch(eo)):(sm(a,l.targetId),await nm(a.localStore,l.targetId,!0))}async function UI(s,t){const i=vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Um(i.remoteStore,a.targetId))}async function LI(s,t,i){const a=HI(s);try{const l=await(function(d,p){const v=vt(d),_=te.now(),A=p.reduce(((Y,Z)=>Y.add(Z.key)),Ot());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let Z=Wi(),et=Ot();return v.xs.getEntries(Y,A).next((tt=>{Z=tt,Z.forEach(((rt,ft)=>{ft.isValidDocument()||(et=et.add(rt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,Z))).next((tt=>{b=tt;const rt=[];for(const ft of p){const mt=KR(ft,b.get(ft.key).overlayedDocument);mt!=null&&rt.push(new Bs(ft.key,mt,lT(mt.value.mapValue),Yi.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,rt,p)})).next((tt=>{x=tt;const rt=tt.applyToLocalDocumentSet(b,et);return v.documentOverlayCache.saveOverlays(Y,tt.batchId,rt)}))})).then((()=>({batchId:x.batchId,changes:_T(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new ae(Nt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Bl(a,l.changes),await ph(a.remoteStore)}catch(l){const h=Bm(l,"Failed to persist write");i.reject(h)}}async function t0(s,t){const i=vt(s);try{const a=await FC(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Bl(i,a,t)}catch(a){await eo(a)}}function Uv(s,t,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=vt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.ba)x.va(p)&&(_=!0)})),_&&jm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function kI(s,t,i){const a=vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new ae(ct.comparator);d=d.insert(h,Je.newNoDocument(h,yt.min()));const p=Ot().add(h),v=new dh(yt.min(),new Map,new ae(Nt),d,p);await t0(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),Hm(a)}else await nm(a.localStore,t,!1).then((()=>sm(a,t,i))).catch(eo)}async function PI(s,t){const i=vt(s),a=t.batch.batchId;try{const l=await GC(i.localStore,t);n0(i,a,null),e0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Bl(i,l)}catch(l){await eo(l)}}async function zI(s,t,i){const a=vt(s);try{const l=await(function(d,p){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((b=>(qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);n0(a,t,i),e0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Bl(a,l)}catch(l){await eo(l)}}function e0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function n0(s,t,i){const a=vt(s);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||i0(s,a)}))}function i0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Um(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Hm(s))}function Lv(s,t,i){for(const a of i)a instanceof ZT?(s.Vu.addReference(a.key,t),BI(s,a)):a instanceof $T?(nt(qm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||i0(s,a.key)):dt(19791,{wu:a})}function BI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(nt(qm,"New document in limbo: "+i),s.Eu.add(a),Hm(s))}function Hm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(se.fromString(t)),a=s.fu.next();s.Au.set(a,new DI(i)),s.Ru=s.Ru.insert(i,a),FT(s.remoteStore,new zr(Ai(Rm(i.path)),a,"TargetPurposeLimboResolution",sh.ce))}}async function Bl(s,t,i){const a=vt(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Mm.Es(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(_,(x=>K.forEach(x.Ts,(Y=>A.persistence.referenceDelegate.addReference(b,x.targetId,Y))).next((()=>K.forEach(x.Is,(Y=>A.persistence.referenceDelegate.removeReference(b,x.targetId,Y)))))))))}catch(b){if(!no(b))throw b;nt(xm,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const Y=A.vs.get(x),Z=Y.snapshotVersion,et=Y.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(x,et)}}})(a.localStore,h))}async function jI(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){nt(qm,"User change. New user:",t.toKey());const a=await jT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bl(i,a.Ns)}}function qI(s,t){const i=vt(s),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function r0(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=t0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kI.bind(null,t),t.Pu.J_=bI.bind(null,t.eventManager),t.Pu.yu=wI.bind(null,t.eventManager),t}function HI(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zI.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return HC(this.persistence,new BC,t.initialUser,this.serializer)}Cu(t){return new BT(Vm.Vi,this.serializer)}Du(t){return new JC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class GI extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new BT((a=>Xc.Vi(a,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await vI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TI})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),a=eI(t.databaseInfo);return aI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,p){return new lI(a,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Uv(this.syncEngine,i,0)),(function(){return Dv.v()?new Dv:new ZC})())}createSyncEngine(t,i){return(function(l,h,d,p,v,_,A){const b=new NI(l,h,d,p,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);nt(ks,"RemoteStore shutting down."),a.Ea.add(5),await zl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class FI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class QI{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{nt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function xd(s,t){s.asyncQueue.verifyOperationInProgress(),nt(Zr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await jT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function kv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await KI(s);nt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Ov(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Ov(t.remoteStore,l))),s._onlineComponents=t}async function KI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Zr,"Using user provided OfflineComponentProvider");try{await xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await xd(s,new Zc)}}else nt(Zr,"Using default OfflineComponentProvider"),await xd(s,new GI(void 0));return s._offlineComponents}async function s0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Zr,"Using user provided OnlineComponentProvider"),await kv(s,s._uninitializedComponentsProvider._online)):(nt(Zr,"Using default OnlineComponentProvider"),await kv(s,new am))),s._onlineComponents}function YI(s){return s0(s).then((t=>t.syncEngine))}async function Pv(s){const t=await s0(s),i=t.eventManager;return i.onListen=OI.bind(null,t.syncEngine),i.onUnlisten=xI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=VI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=UI.bind(null,t.syncEngine),i}function XI(s,t,i,a){const l=new FI(a),h=new RI(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>AI(await Pv(s),h))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>SI(await Pv(s),h)))}}function JI(s,t){const i=new Os;return s.asyncQueue.enqueueAndForget((async()=>LI(await YI(s),t,i))),i.promise}function a0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const ZI="ComponentProvider",zv=new Map;function $I(s,t,i,a,l){return new gR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,a0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const o0="firestore.googleapis.com",Bv=!0;class jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o0,this.ssl=Bv}else this.host=t.host,this.ssl=t.ssl??Bv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SC)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Kw;switch(a.type){case"firstParty":return new Zw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=zv.get(i);a&&(nt(ZI,"Removing Datastore"),zv.delete(i),a.terminate())})(this),Promise.resolve()}}function WI(s,t,i,a={}){s=Ba(s,Gm);const l=Za(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(rE(`https://${p}`),sE("Firestore",!0)),h.host!==o0&&h.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:a};if(!Ms(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Xe.MOCK_USER;else{_=yS(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}s._authCredentials=new Yw(new ZE(_,A))}}class yh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ll(i,Le._jsonSchema))return new Le(t,a||null,new ct(se.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:we("string",Le._jsonSchemaVersion),referencePath:we("string")};class Nl extends yh{constructor(t,i,a){super(t,i,Rm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ct(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function Ud(s,t,...i){if(s=xn(s),arguments.length===1&&(t=vm.newId()),iR("doc","path",t),s instanceof Gm){const a=se.fromString(t,...i);return tv(a),new Le(s,null,new ct(a))}{if(!(s instanceof Le||s instanceof Nl))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(t,...i));return tv(a),new Le(s.firestore,s instanceof Nl?s.converter:null,new ct(a))}}const qv="AsyncQueue";class Hv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HT(this,"async_queue_retry"),this._c=()=>{const a=Md();a&&nt(qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;nt(qv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Gv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class $c extends Gm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hv(t),this._firestoreClient=void 0,await t}}}function t2(s,t){const i=typeof s=="object"?s:uE(),a=typeof s=="string"?s:qc,l=cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=gS("firestore");h&&WI(l,...h)}return l}function l0(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||e2(s),s._firestoreClient}function e2(s){const t=s._freezeSettings(),i=$I(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new QI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Qe.fromBase64String(t))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ll(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:we("string",Mn._jsonSchemaVersion),bytes:we("string")};class u0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class c0{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Ll(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ll(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:we("string",Jn._jsonSchemaVersion),vectorValues:we("object")};const n2=/^__.*__$/;class i2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function h0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:s})}}class Fm{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(h0(this.dataSource)&&n2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class r2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||mh(t)}createContext(t,i,a,l=!1){return new Fm({dataSource:t,methodName:i,targetDoc:a,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s2(s){const t=s._freezeSettings(),i=mh(s._databaseId);return new r2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function a2(s,t,i,a,l,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,t,i,l);g0("Data must be an object, but it was:",d,a);const p=d0(a,d);let v,_;if(h.merge)v=new Xn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const x=Qm(t,b,i);if(!d.contains(x))throw new ot(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);u2(A,x)||A.push(x)}v=new Xn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new i2(new Vn(p),v,_)}function f0(s,t){if(m0(s=xn(s)))return g0("Unsupported field value:",t,s),d0(s,t);if(s instanceof c0)return(function(a,l){if(!h0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const p of a){let v=f0(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=xn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=te.fromDate(a);return{timestampValue:Yc(l.serializer,h)}}if(a instanceof te){const h=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,h)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mn)return{bytesValue:OT(l.serializer,a._byteString)};if(a instanceof Le){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Jn)return(function(d,p){const v=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[aT]:{stringValue:oT},[Hc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Cm(p.serializer,A)}))}}}}}})(a,l);if(PT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Em(a)}`)})(s,t)}function d0(s,t){const i={};return tT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(s,((a,l)=>{const h=f0(l,t.childContextForField(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function m0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof bi||s instanceof Mn||s instanceof Le||s instanceof c0||s instanceof Jn||PT(s))}function g0(s,t,i){if(!m0(i)||!$E(i)){const a=Em(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Qm(s,t,i){if((t=xn(t))instanceof u0)return t._internalPath;if(typeof t=="string")return l2(s,t);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const o2=new RegExp("[~\\*/\\[\\]]");function l2(s,t,i){if(t.search(o2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new u0(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ot(X.INVALID_ARGUMENT,p+s+v)}function u2(s,t){return s.some((i=>i.isEqual(t)))}class c2{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ps(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Hc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new bi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);qt(kT(a),9688,{name:t});const l=new Rl(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return l.isEqual(i)||$i(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class p0 extends c2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}const Fv="@firebase/firestore",Qv="4.10.0";function Kv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class y0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new h2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Qm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class h2 extends y0{data(){return super.data()}}function f2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function d2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends y0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Qm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:we("string",Vs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Vc extends Vs{data(t={}){return super.data(t)}}class Ha{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:m2(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:we("string",Ha._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};function Yv(s,t,i){s=Ba(s,Le);const a=Ba(s.firestore,$c),l=d2(s.converter,t),h=s2(a);return p2(a,[a2(h,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Yi.none())])}function g2(s,...t){s=xn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Kv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Kv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let h,d,p;if(s instanceof Le)d=Ba(s.firestore,$c),p=Rm(s._key.path),h={next:_=>{t[a]&&t[a](y2(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=Ba(s,yh);d=Ba(_.firestore,$c),p=_._query;const A=new p0(d);h={next:b=>{t[a]&&t[a](new Ha(d,A,_,b))},error:t[a+1],complete:t[a+2]},f2(s._query)}const v=l0(d);return XI(v,p,l,h)}function p2(s,t){const i=l0(s);return JI(i,t)}function y2(s,t,i){const a=i.docs.get(t._key),l=new p0(s);return new Vs(s,l,t._key,a,new gl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Qw($a),Ga(new xs("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new $c(new Xw(a.getProvider("auth-internal")),new $w(d,a.getProvider("app-check-internal")),pR(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),qr(Fv,Qv,t),qr(Fv,Qv,"esm2020")})();const _0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const _2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const v2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const Xv=s=>{const t=v2(s);return t.charAt(0).toUpperCase()+t.slice(1)};var E2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T2=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const A2=He.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:d,...p},v)=>He.createElement("svg",{ref:v,...E2,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:_0("lucide",l),...!h&&!T2(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>He.createElement(_,A)),...Array.isArray(h)?h:[h]]));const v0=(s,t)=>{const i=He.forwardRef(({className:a,...l},h)=>He.createElement(A2,{ref:h,iconNode:t,className:_0(`lucide-${_2(Xv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Xv(s),i};const S2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],b2=v0("loader-circle",S2);const w2=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Jv=v0("plane",w2),R2=()=>{if(typeof __firebase_config<"u"&&__firebase_config)try{return JSON.parse(__firebase_config)}catch{}return{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65",measurementId:"G-46DG11FWVQ"}},C2=R2(),E0=lE(C2),Zv=Gw(E0),Ld=t2(E0),Ac="travel-yeh",I2=()=>{const[s,t]=He.useState("home"),[i,a]=He.useState(null),[l,h]=He.useState(null),[d,p]=He.useState(!1),[v,_]=He.useState(1),[A,b]=He.useState({country:"",city:"",startDate:"",duration:3}),[x,Y]=He.useState({}),[Z,et]=He.useState({time:"09:00",spot:""});He.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const rt=document.createElement("script");rt.id="tailwind-cdn",rt.src="https://cdn.tailwindcss.com",document.head.appendChild(rt)}},[]),He.useEffect(()=>{const rt=Mb(Zv,async ft=>{if(ft)a(ft);else try{await Cb(Zv)}catch(mt){console.error("Login failed",mt)}});return()=>rt()},[]),He.useEffect(()=>{if(!i||!l)return;const rt=Ud(Ld,"artifacts",Ac,"public","data","itineraries",l);return g2(rt,ft=>{ft.exists()&&(Y(ft.data().days||{}),t("editor"))})},[i,l]);const tt=async rt=>{rt.preventDefault(),p(!0);const ft=crypto.randomUUID(),mt={};for(let jt=1;jt<=Math.max(1,parseInt(A.duration));jt++)mt[jt]=[];try{await Yv(Ud(Ld,"artifacts",Ac,"public","data","trips",ft),{...A,creator:i.uid,createdAt:new Date().toISOString()}),await Yv(Ud(Ld,"artifacts",Ac,"public","data","itineraries",ft),{days:mt}),h(ft)}finally{p(!1)}};return bt.jsx("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 flex flex-col",children:s==="home"?bt.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 w-full",children:bt.jsxs("div",{className:"max-w-md w-full text-center animate-in fade-in zoom-in duration-500",children:[bt.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2rem] flex items-center justify-center mx-auto mb-10 shadow-2xl rotate-12 transition-transform hover:rotate-0",children:bt.jsx(Jv,{size:48})}),bt.jsx("h1",{className:"text-4xl font-black mb-4 tracking-tight",children:""}),bt.jsxs("p",{className:"text-slate-400 font-bold mb-10",children:["",Ac]}),bt.jsxs("form",{onSubmit:tt,className:"bg-white p-10 rounded-[3rem] shadow-2xl space-y-6 text-left border border-slate-100",children:[bt.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[bt.jsxs("div",{className:"space-y-1",children:[bt.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),bt.jsx("input",{required:!0,placeholder:"",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",value:A.country,onChange:rt=>b({...A,country:rt.target.value})})]}),bt.jsxs("div",{className:"space-y-1",children:[bt.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),bt.jsx("input",{required:!0,placeholder:"",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",value:A.city,onChange:rt=>b({...A,city:rt.target.value})})]})]}),bt.jsxs("div",{className:"space-y-1",children:[bt.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),bt.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",value:A.startDate,onChange:rt=>b({...A,startDate:rt.target.value})})]}),bt.jsxs("div",{className:"space-y-1",children:[bt.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),bt.jsx("input",{required:!0,type:"number",min:"1",max:"14",placeholder:"",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",value:A.duration,onChange:rt=>b({...A,duration:rt.target.value})})]}),bt.jsx("button",{disabled:d||!i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-5 rounded-2xl font-black shadow-xl shadow-blue-100 transition-all active:scale-95 disabled:opacity-50",children:d?bt.jsx(b2,{className:"animate-spin mx-auto"}):""})]})]})}):bt.jsxs("div",{className:"flex-1 flex flex-col items-center w-full pb-20",children:[bt.jsxs("nav",{className:"w-full h-20 bg-white/80 backdrop-blur-md border-b border-slate-100 flex items-center justify-between px-8 sticky top-0 z-50",children:[bt.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.href=window.location.pathname,children:[bt.jsx("div",{className:"p-2 bg-blue-50 rounded-xl group-hover:rotate-12 transition-transform",children:bt.jsx(Jv,{size:24,className:"rotate-45"})}),bt.jsx("span",{className:"tracking-tighter uppercase",children:"Traveler"})]}),bt.jsxs("div",{className:"text-right",children:[bt.jsxs("div",{className:"font-black text-slate-800 leading-none",children:[A.city," "]}),bt.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1",children:A.startDate})]})]}),bt.jsx("main",{className:"w-full max-w-4xl p-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:bt.jsxs("div",{className:"bg-white p-12 rounded-[3rem] border border-slate-100 shadow-sm text-center",children:[bt.jsxs("h2",{className:"text-5xl font-black mb-6 italic tracking-tighter",children:["Day ",v]}),bt.jsx("div",{className:"w-20 h-1.5 bg-blue-600 mx-auto rounded-full mb-8 shadow-sm shadow-blue-100"}),bt.jsx("p",{className:"text-slate-400 font-bold italic",children:""})]})})]})})};aS.createRoot(document.getElementById("root")).render(bt.jsx(He.StrictMode,{children:bt.jsx(I2,{})}));
