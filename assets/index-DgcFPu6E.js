(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Id={exports:{}},go={};var U_;function wb(){if(U_)return go;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=t,go.jsx=i,go.jsxs=i,go}var L_;function xb(){return L_||(L_=1,Id.exports=wb()),Id.exports}var E=xb(),Dd={exports:{}},bt={};var z_;function Rb(){if(z_)return bt;z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function rt(C,F,W){this.props=C,this.context=F,this.refs=Z,this.updater=W||J}rt.prototype.isReactComponent={},rt.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},rt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function st(){}st.prototype=rt.prototype;function ot(C,F,W){this.props=C,this.context=F,this.refs=Z,this.updater=W||J}var xt=ot.prototype=new st;xt.constructor=ot,tt(xt,rt.prototype),xt.isPureReactComponent=!0;var te=Array.isArray;function It(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(C,F,W){var nt=W.ref;return{$$typeof:s,type:C,key:F,ref:nt!==void 0?nt:null,props:W}}function k(C,F){return R(C.type,F,C.props)}function M(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function j(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return F[W]})}var N=/\/+/g;function ee(C,F){return typeof C=="object"&&C!==null&&C.key!=null?j(""+C.key):F.toString(36)}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(It,It):(C.status="pending",C.then(function(F){C.status==="pending"&&(C.status="fulfilled",C.value=F)},function(F){C.status==="pending"&&(C.status="rejected",C.reason=F)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function G(C,F,W,nt,mt){var vt=typeof C;(vt==="undefined"||vt==="boolean")&&(C=null);var Lt=!1;if(C===null)Lt=!0;else switch(vt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(C.$$typeof){case s:case t:Lt=!0;break;case S:return Lt=C._init,G(Lt(C._payload),F,W,nt,mt)}}if(Lt)return mt=mt(C),Lt=nt===""?"."+ee(C,0):nt,te(mt)?(W="",Lt!=null&&(W=Lt.replace(N,"$&/")+"/"),G(mt,F,W,"",function(oa){return oa})):mt!=null&&(M(mt)&&(mt=k(mt,W+(mt.key==null||C&&C.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+Lt)),F.push(mt)),1;Lt=0;var Ie=nt===""?".":nt+":";if(te(C))for(var re=0;re<C.length;re++)nt=C[re],vt=Ie+ee(nt,re),Lt+=G(nt,F,W,vt,mt);else if(re=P(C),typeof re=="function")for(C=re.call(C),re=0;!(nt=C.next()).done;)nt=nt.value,vt=Ie+ee(nt,re++),Lt+=G(nt,F,W,vt,mt);else if(vt==="object"){if(typeof C.then=="function")return G(fe(C),F,W,nt,mt);throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function it(C,F,W){if(C==null)return C;var nt=[],mt=0;return G(C,nt,"","",function(vt){return F.call(W,vt,mt++)}),nt}function ht(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var jt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},qt={map:it,forEach:function(C,F,W){it(C,function(){F.apply(this,arguments)},W)},count:function(C){var F=0;return it(C,function(){F++}),F},toArray:function(C){return it(C,function(F){return F})||[]},only:function(C){if(!M(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return bt.Activity=w,bt.Children=qt,bt.Component=rt,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=ot,bt.StrictMode=r,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,bt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return D.H.useMemoCache(C)}},bt.cache=function(C){return function(){return C.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(C,F,W){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var nt=tt({},C.props),mt=C.key;if(F!=null)for(vt in F.key!==void 0&&(mt=""+F.key),F)!A.call(F,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&F.ref===void 0||(nt[vt]=F[vt]);var vt=arguments.length-2;if(vt===1)nt.children=W;else if(1<vt){for(var Lt=Array(vt),Ie=0;Ie<vt;Ie++)Lt[Ie]=arguments[Ie+2];nt.children=Lt}return R(C.type,mt,nt)},bt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},bt.createElement=function(C,F,W){var nt,mt={},vt=null;if(F!=null)for(nt in F.key!==void 0&&(vt=""+F.key),F)A.call(F,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=F[nt]);var Lt=arguments.length-2;if(Lt===1)mt.children=W;else if(1<Lt){for(var Ie=Array(Lt),re=0;re<Lt;re++)Ie[re]=arguments[re+2];mt.children=Ie}if(C&&C.defaultProps)for(nt in Lt=C.defaultProps,Lt)mt[nt]===void 0&&(mt[nt]=Lt[nt]);return R(C,vt,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(C){return{$$typeof:g,render:C}},bt.isValidElement=M,bt.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:ht}},bt.memo=function(C,F){return{$$typeof:y,type:C,compare:F===void 0?null:F}},bt.startTransition=function(C){var F=D.T,W={};D.T=W;try{var nt=C(),mt=D.S;mt!==null&&mt(W,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(It,jt)}catch(vt){jt(vt)}finally{F!==null&&W.types!==null&&(F.types=W.types),D.T=F}},bt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},bt.use=function(C){return D.H.use(C)},bt.useActionState=function(C,F,W){return D.H.useActionState(C,F,W)},bt.useCallback=function(C,F){return D.H.useCallback(C,F)},bt.useContext=function(C){return D.H.useContext(C)},bt.useDebugValue=function(){},bt.useDeferredValue=function(C,F){return D.H.useDeferredValue(C,F)},bt.useEffect=function(C,F){return D.H.useEffect(C,F)},bt.useEffectEvent=function(C){return D.H.useEffectEvent(C)},bt.useId=function(){return D.H.useId()},bt.useImperativeHandle=function(C,F,W){return D.H.useImperativeHandle(C,F,W)},bt.useInsertionEffect=function(C,F){return D.H.useInsertionEffect(C,F)},bt.useLayoutEffect=function(C,F){return D.H.useLayoutEffect(C,F)},bt.useMemo=function(C,F){return D.H.useMemo(C,F)},bt.useOptimistic=function(C,F){return D.H.useOptimistic(C,F)},bt.useReducer=function(C,F,W){return D.H.useReducer(C,F,W)},bt.useRef=function(C){return D.H.useRef(C)},bt.useState=function(C){return D.H.useState(C)},bt.useSyncExternalStore=function(C,F,W){return D.H.useSyncExternalStore(C,F,W)},bt.useTransition=function(){return D.H.useTransition()},bt.version="19.2.4",bt}var P_;function Tm(){return P_||(P_=1,Dd.exports=Rb()),Dd.exports}var ft=Tm(),Od={exports:{}},yo={},Md={exports:{}},kd={};var B_;function Cb(){return B_||(B_=1,(function(s){function t(G,it){var ht=G.length;G.push(it);t:for(;0<ht;){var jt=ht-1>>>1,qt=G[jt];if(0<o(qt,it))G[jt]=it,G[ht]=qt,ht=jt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var it=G[0],ht=G.pop();if(ht!==it){G[0]=ht;t:for(var jt=0,qt=G.length,C=qt>>>1;jt<C;){var F=2*(jt+1)-1,W=G[F],nt=F+1,mt=G[nt];if(0>o(W,ht))nt<qt&&0>o(mt,W)?(G[jt]=mt,G[nt]=ht,jt=nt):(G[jt]=W,G[F]=ht,jt=F);else if(nt<qt&&0>o(mt,ht))G[jt]=mt,G[nt]=ht,jt=nt;else break t}}return it}function o(G,it){var ht=G.sortIndex-it.sortIndex;return ht!==0?ht:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,w=null,x=3,P=!1,J=!1,tt=!1,Z=!1,rt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function xt(G){for(var it=i(y);it!==null;){if(it.callback===null)r(y);else if(it.startTime<=G)r(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function te(G){if(tt=!1,xt(G),!J)if(i(_)!==null)J=!0,It||(It=!0,j());else{var it=i(y);it!==null&&fe(te,it.startTime-G)}}var It=!1,D=-1,A=5,R=-1;function k(){return Z?!0:!(s.unstable_now()-R<A)}function M(){if(Z=!1,It){var G=s.unstable_now();R=G;var it=!0;try{t:{J=!1,tt&&(tt=!1,st(D),D=-1),P=!0;var ht=x;try{e:{for(xt(G),w=i(_);w!==null&&!(w.expirationTime>G&&k());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,x=w.priorityLevel;var qt=jt(w.expirationTime<=G);if(G=s.unstable_now(),typeof qt=="function"){w.callback=qt,xt(G),it=!0;break e}w===i(_)&&r(_),xt(G)}else r(_);w=i(_)}if(w!==null)it=!0;else{var C=i(y);C!==null&&fe(te,C.startTime-G),it=!1}}break t}finally{w=null,x=ht,P=!1}it=void 0}}finally{it?j():It=!1}}}var j;if(typeof ot=="function")j=function(){ot(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ee=N.port2;N.port1.onmessage=M,j=function(){ee.postMessage(null)}}else j=function(){rt(M,0)};function fe(G,it){D=rt(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var ht=x;x=it;try{return G()}finally{x=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=x;x=G;try{return it()}finally{x=ht}},s.unstable_scheduleCallback=function(G,it,ht){var jt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,G={id:S++,callback:it,priorityLevel:G,startTime:ht,expirationTime:qt,sortIndex:-1},ht>jt?(G.sortIndex=ht,t(y,G),i(_)===null&&G===i(y)&&(tt?(st(D),D=-1):tt=!0,fe(te,ht-jt))):(G.sortIndex=qt,t(_,G),J||P||(J=!0,It||(It=!0,j()))),G},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(G){var it=x;return function(){var ht=x;x=it;try{return G.apply(this,arguments)}finally{x=ht}}}})(kd)),kd}var q_;function Nb(){return q_||(q_=1,Md.exports=Cb()),Md.exports}var Vd={exports:{}},Ye={};var H_;function Ib(){if(H_)return Ye;H_=1;var s=Tm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},Ye.flushSync=function(_){var y=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=S,r.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,w=g(S,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:P}):S==="script"&&r.d.X(_,{crossOrigin:w,integrity:x,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,w=g(S,y.crossOrigin);r.d.L(_,S,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ye.requestFormReset=function(_){r.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var F_;function Db(){if(F_)return Vd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=Ib(),Vd.exports}var G_;function Ob(){if(G_)return yo;G_=1;var s=Nb(),t=Tm(),i=Db();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,l=f;break}if(T===l){p=!0,l=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,l=h;break}if(T===l){p=!0,l=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case rt:return"Profiler";case Z:return"StrictMode";case te:return"Suspense";case It:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ot:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],qt=-1;function C(e){return{current:e}}function F(e){0>qt||(e.current=jt[qt],jt[qt]=null,qt--)}function W(e,n){qt++,jt[qt]=e.current,e.current=n}var nt=C(null),mt=C(null),vt=C(null),Lt=C(null);function Ie(e,n){switch(W(vt,n),W(mt,e),W(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=l_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(nt),W(nt,e)}function re(){F(nt),F(mt),F(vt)}function oa(e){e.memoizedState!==null&&W(Lt,e);var n=nt.current,a=l_(n,e.type);n!==a&&(W(mt,e),W(nt,a))}function Ja(e){mt.current===e&&(F(nt),F(mt)),Lt.current===e&&(F(Lt),ho._currentValue=ht)}var Za,Wa;function ni(e){if(Za===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Za=n&&n[1]||"",Wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+e+Wa}var hl=!1;function ua(e,n){if(!e||hl)return"";hl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{hl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function fl(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ua(e.type,!1);case 11:return ua(e.type.render,!1);case 1:return ua(e.type,!0);case 31:return ni("Activity");default:return""}}function dl(e){try{var n="",a=null;do n+=fl(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,Zo=s.unstable_requestPaint,tn=s.unstable_now,ca=s.unstable_getCurrentPriorityLevel,ml=s.unstable_ImmediatePriority,pl=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,Wo=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,zn=null,ze=null;function Sn(e){if(typeof tu=="function"&&eu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var de=Math.clz32?Math.clz32:iu,nu=Math.log,tr=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/tr|0)|0}var ii=256,ha=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=si(l):(p&=T,p!==0?h=si(p):a||(a=T&~e,a!==0&&(h=si(a))))):(T=l&~f,T!==0?h=si(T):p!==0?h=si(p):a||(a=l&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ri(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,a,l,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-de(a),Y=1<<Q;T[Q]=0,I[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&da(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function da(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function gl(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function yl(e,n){var a=n&-n;return a=(a&42)!==0?1:ma(a),(a&(e.suspendedLanes|n))!==0?0:a}function ma(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function Bn(e,n){var a=it.p;try{return it.p=e,n()}finally{it.p=a}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Ve="__reactProps$"+qn,li="__reactContainer$"+qn,er="__reactEvents$"+qn,Vh="__reactListeners$"+qn,ru="__reactHandles$"+qn,lu="__reactResources$"+qn,oi="__reactMarker$"+qn;function nr(e){delete e[Ee],delete e[Ve],delete e[er],delete e[Vh],delete e[ru]}function ui(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[li]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=m_(e);e!==null;){if(a=e[Ee])return a;e=m_(e)}return n}e=a,a=e.parentNode}return null}function An(e){if(e=e[Ee]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ci(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[oi]=!0}var _l=new Set,vl={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(vl[e]=n,e=0;e<n.length;e++)_l.add(n[e])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},bl={};function ou(e){return _e.call(bl,e)?!0:_e.call(Tl,e)?!1:El.test(e)?bl[e]=!0:(Tl[e]=!0,!1)}function ir(e,n,a){if(ou(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function be(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sl(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=Sl(e,n,""+e[n])}}function pa(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=us(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ga=/[\n"\\]/g;function sn(e){return e.replace(ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sr(e,n,a,l,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+je(n)):e.value!==""+je(n)&&(e.value=""+je(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Al(e,p,je(n)):a!=null?Al(e,p,je(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+je(T):e.removeAttribute("name")}function uu(e,n,a,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+je(a):"",n=n!=null?""+je(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function Al(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cs(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+je(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,a){if(n!=null&&(n=""+je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+je(a):""}function hs(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=je(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function xl(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&wl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&wl(e,f,n[f])}function ar(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Rl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,mi=null;function ya(e){var n=An(e);if(n&&(e=n.stateNode)){var a=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(sr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(r(90));sr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&pa(l)}break t;case"textarea":cu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&cs(e,!!a.multiple,n,!1)}}}var lr=!1;function ms(e,n,a){if(lr)return e(n,a);lr=!0;try{var l=e(n);return l}finally{if(lr=!1,(ds!==null||mi!==null)&&(ac(),ds&&(n=ds,e=mi,mi=ds=null,ya(n),e)))for(n=0;n<e.length;n++)ya(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(xn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{_a=!1}var pi=null,Cl=null,va=null;function Nl(){if(va)return va;var e,n=Cl,a=n.length,l,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(l=1;l<=p&&n[a-l]===h[f-l];l++);return va=h.slice(e,1<l?1-l:void 0)}function Ea(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Gn(){return!1}function Pe(e){function n(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Pe(ki),ps=w({},ki,{view:0,detail:0}),Il=Pe(ps),gs,or,yi,ur=w({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(gs=e.screenX-yi.screenX,or=e.screenY-yi.screenY):or=gs=0,yi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:or}}),Dl=Pe(ur),Ta=w({},ur,{dataTransfer:0}),du=Pe(Ta),mu=w({},ps,{relatedTarget:0}),ba=Pe(mu),Ol=w({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Pe(Ol),cr=w({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Pe(cr),yu=w({},ki,{data:0}),_i=Pe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function ys(){return Tu}var en=w({},ps,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Pe(en),Su=w({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Pe(Su),u=w({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=Pe(u),v=w({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Pe(v),U=w({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(U),et=w({},ki,{newState:0,oldState:0}),At=Pe(et),me=[9,13,27,32],Ht=xn&&"CompositionEvent"in window,le=null;xn&&"documentMode"in document&&(le=document.documentMode);var Rn=xn&&"TextEvent"in window&&!le,vi=xn&&(!Ht||le&&8<le&&11>=le),Qn=" ",Kn=!1;function Sa(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function XE(e,n){switch(e){case"compositionend":return hr(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function $E(e,n){if(fr)return e==="compositionend"||!Ht&&Sa(e,n)?(e=Nl(),va=Cl=pi=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var JE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JE[e.type]:n==="textarea"}function _p(e,n,a,l){ds?mi?mi.push(l):mi=[l]:ds=l,n=fc(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ml=null,kl=null;function ZE(e){t_(e,0)}function Au(e){var n=dn(e);if(pa(n))return e}function vp(e,n){if(e==="change")return n}var Ep=!1;if(xn){var jh;if(xn){var Uh="oninput"in document;if(!Uh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Uh=typeof Tp.oninput=="function"}jh=Uh}else jh=!1;Ep=jh&&(!document.documentMode||9<document.documentMode)}function bp(){Ml&&(Ml.detachEvent("onpropertychange",Sp),kl=Ml=null)}function Sp(e){if(e.propertyName==="value"&&Au(kl)){var n=[];_p(n,kl,e,wn(e)),ms(ZE,n)}}function WE(e,n,a){e==="focusin"?(bp(),Ml=n,kl=a,Ml.attachEvent("onpropertychange",Sp)):e==="focusout"&&bp()}function tT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(kl)}function eT(e,n){if(e==="click")return Au(n)}function nT(e,n){if(e==="input"||e==="change")return Au(n)}function iT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:iT;function Vl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wp(e,n){var a=Ap(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ap(a)}}function xp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var sT=xn&&"documentMode"in document&&11>=document.documentMode,dr=null,zh=null,jl=null,Ph=!1;function Cp(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ph||dr==null||dr!==di(l)||(l=dr,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&Vl(jl,l)||(jl=l,l=fc(zh,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=dr)))}function Aa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var mr={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Bh={},Np={};xn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function wa(e){if(Bh[e])return Bh[e];if(!mr[e])return e;var n=mr[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Np)return Bh[e]=n[a];return e}var Ip=wa("animationend"),Dp=wa("animationiteration"),Op=wa("animationstart"),aT=wa("transitionrun"),rT=wa("transitionstart"),lT=wa("transitioncancel"),Mp=wa("transitionend"),kp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Yn(e,n){kp.set(e,n),hi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],pr=0,Hh=0;function xu(){for(var e=pr,n=Hh=pr=0;n<e;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Vp(a,h,f)}}function Ru(e,n,a,l){Cn[pr++]=e,Cn[pr++]=n,Cn[pr++]=a,Cn[pr++]=l,Hh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fh(e,n,a,l){return Ru(e,n,a,l),Cu(e)}function xa(e,n){return Ru(e,null,null,n),Cu(e)}function Vp(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Cu(e){if(50<so)throw so=0,td=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gr={};function oT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,l){return new oT(e,n,a,l)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,a,l,h,f){var p=0;if(l=e,typeof e=="function")Gh(e)&&(p=1);else if(typeof e=="string")p=db(e,a,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,n,h),e.elementType=R,e.lanes=f,e;case tt:return Ra(a.children,h,f,n);case Z:p=8,h|=24;break;case rt:return e=gn(12,a,n,h|2),e.elementType=rt,e.lanes=f,e;case te:return e=gn(13,a,n,h),e.elementType=te,e.lanes=f,e;case It:return e=gn(19,a,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:p=10;break t;case st:p=9;break t;case xt:p=11;break t;case D:p=14;break t;case A:p=16,l=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=gn(p,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ra(e,n,a,l){return e=gn(7,e,l,n),e.lanes=a,e}function Qh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Up(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=Lp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:dl(n)},Lp.set(e,n),n)}return{value:e,source:n,stack:dl(n)}}var yr=[],_r=0,Iu=null,Ul=0,In=[],Dn=0,_s=null,Ei=1,Ti="";function Ui(e,n){yr[_r++]=Ul,yr[_r++]=Iu,Iu=e,Ul=n}function zp(e,n,a){In[Dn++]=Ei,In[Dn++]=Ti,In[Dn++]=_s,_s=e;var l=Ei;e=Ti;var h=32-de(l)-1;l&=~(1<<h),a+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ei=1<<32-de(n)+h|a<<h|l,Ti=f+e}else Ei=1<<f|a<<h|l,Ti=e}function Yh(e){e.return!==null&&(Ui(e,1),zp(e,1,0))}function Xh(e){for(;e===Iu;)Iu=yr[--_r],yr[_r]=null,Ul=yr[--_r],yr[_r]=null;for(;e===_s;)_s=In[--Dn],In[Dn]=null,Ti=In[--Dn],In[Dn]=null,Ei=In[--Dn],In[Dn]=null}function Pp(e,n){In[Dn++]=Ei,In[Dn++]=Ti,In[Dn++]=_s,Ei=n.id,Ti=n.overflow,_s=e}var Be=null,ne=null,Ut=!1,vs=null,On=!1,$h=Error(r(519));function Es(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Nn(n,e)),$h}function Bp(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[Ve]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<ro.length;a++)Nt(ro[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),hs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||s_(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Es(e,!0)}function qp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function vr(e){if(e!==Be)return!1;if(!Ut)return qp(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ne&&Es(e),qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=d_(e)}else n===27?(n=ne,ks(e.type)?(e=Ed,Ed=null,ne=e):ne=n):ne=Be?kn(e.stateNode.nextSibling):null;return!0}function Ca(){ne=Be=null,Ut=!1}function Jh(){var e=vs;return e!==null&&(un===null?un=e:un.push.apply(un,e),vs=null),e}function Ll(e){vs===null?vs=[e]:vs.push(e)}var Zh=C(null),Na=null,Li=null;function Ts(e,n,a){W(Zh,n._currentValue),n._currentValue=a}function zi(e){e._currentValue=Zh.current,F(Zh)}function Wh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function tf(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Wh(f.return,a,e),l||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Wh(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Er(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ho):e=[ho])}h=h.return}e!==null&&tf(n,e,a,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Na=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Hp(Na,e)}function Ou(e,n){return Na===null&&Ia(e),Hp(e,n)}function Hp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(r(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return a}var uT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},cT=s.unstable_scheduleCallback,hT=s.unstable_NormalPriority,Se={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new uT,data:new Map,refCount:0}}function zl(e){e.refCount--,e.refCount===0&&cT(hT,function(){e.controller.abort()})}var Pl=null,nf=0,Tr=0,br=null;function fT(e,n){if(Pl===null){var a=Pl=[];nf=0,Tr=rd(),br={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nf++,n.then(Fp,Fp),n}function Fp(){if(--nf===0&&Pl!==null){br!==null&&(br.status="fulfilled");var e=Pl;Pl=null,Tr=0,br=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Gp=G.S;G.S=function(e,n){Cy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fT(e,n),Gp!==null&&Gp(e,n)};var Da=C(null);function sf(){var e=Da.current;return e!==null?e:Wt.pooledCache}function Mu(e,n){n===null?W(Da,Da.current):W(Da,n.pool)}function Qp(){var e=sf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sr=Error(r(460)),af=Error(r(474)),ku=Error(r(542)),Vu={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e}throw Ma=n,Sr}}function Oa(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ma=a,Sr):a}}var Ma=null;function Xp(){if(Ma===null)throw Error(r(459));var e=Ma;return Ma=null,e}function $p(e){if(e===Sr||e===ku)throw Error(r(483))}var Ar=null,Bl=0;function ju(e){var n=Bl;return Bl+=1,Ar===null&&(Ar=[]),Yp(Ar,e,n)}function ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){function n(V,O){if(e){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function a(V,O){if(!e)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=ji(V,O),V.index=0,V.sibling=null,V}function f(V,O,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,L,K){return O===null||O.tag!==6?(O=Qh(L,V.mode,K),O.return=V,O):(O=h(O,L),O.return=V,O)}function I(V,O,L,K){var dt=L.type;return dt===tt?Q(V,O,L.props.children,K,L.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Oa(dt)===O.type)?(O=h(O,L.props),ql(O,L),O.return=V,O):(O=Nu(L.type,L.key,L.props,null,V.mode,K),ql(O,L),O.return=V,O)}function z(V,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Kh(L,V.mode,K),O.return=V,O):(O=h(O,L.children||[]),O.return=V,O)}function Q(V,O,L,K,dt){return O===null||O.tag!==7?(O=Ra(L,V.mode,K,dt),O.return=V,O):(O=h(O,L),O.return=V,O)}function Y(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return L=Nu(O.type,O.key,O.props,null,V.mode,L),ql(L,O),L.return=V,L;case J:return O=Kh(O,V.mode,L),O.return=V,O;case A:return O=Oa(O),Y(V,O,L)}if(fe(O)||j(O))return O=Ra(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return Y(V,ju(O),L);if(O.$$typeof===ot)return Y(V,Ou(V,O),L);Uu(V,O)}return null}function B(V,O,L,K){var dt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:T(V,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===dt?I(V,O,L,K):null;case J:return L.key===dt?z(V,O,L,K):null;case A:return L=Oa(L),B(V,O,L,K)}if(fe(L)||j(L))return dt!==null?null:Q(V,O,L,K,null);if(typeof L.then=="function")return B(V,O,ju(L),K);if(L.$$typeof===ot)return B(V,O,Ou(V,L),K);Uu(V,L)}return null}function H(V,O,L,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(L)||null,T(O,V,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return V=V.get(K.key===null?L:K.key)||null,I(O,V,K,dt);case J:return V=V.get(K.key===null?L:K.key)||null,z(O,V,K,dt);case A:return K=Oa(K),H(V,O,L,K,dt)}if(fe(K)||j(K))return V=V.get(L)||null,Q(O,V,K,dt,null);if(typeof K.then=="function")return H(V,O,L,ju(K),dt);if(K.$$typeof===ot)return H(V,O,L,Ou(O,K),dt);Uu(O,K)}return null}function lt(V,O,L,K){for(var dt=null,Pt=null,ut=O,Rt=O=0,Ot=null;ut!==null&&Rt<L.length;Rt++){ut.index>Rt?(Ot=ut,ut=null):Ot=ut.sibling;var Bt=B(V,ut,L[Rt],K);if(Bt===null){ut===null&&(ut=Ot);break}e&&ut&&Bt.alternate===null&&n(V,ut),O=f(Bt,O,Rt),Pt===null?dt=Bt:Pt.sibling=Bt,Pt=Bt,ut=Ot}if(Rt===L.length)return a(V,ut),Ut&&Ui(V,Rt),dt;if(ut===null){for(;Rt<L.length;Rt++)ut=Y(V,L[Rt],K),ut!==null&&(O=f(ut,O,Rt),Pt===null?dt=ut:Pt.sibling=ut,Pt=ut);return Ut&&Ui(V,Rt),dt}for(ut=l(ut);Rt<L.length;Rt++)Ot=H(ut,V,Rt,L[Rt],K),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?Rt:Ot.key),O=f(Ot,O,Rt),Pt===null?dt=Ot:Pt.sibling=Ot,Pt=Ot);return e&&ut.forEach(function(zs){return n(V,zs)}),Ut&&Ui(V,Rt),dt}function gt(V,O,L,K){if(L==null)throw Error(r(151));for(var dt=null,Pt=null,ut=O,Rt=O=0,Ot=null,Bt=L.next();ut!==null&&!Bt.done;Rt++,Bt=L.next()){ut.index>Rt?(Ot=ut,ut=null):Ot=ut.sibling;var zs=B(V,ut,Bt.value,K);if(zs===null){ut===null&&(ut=Ot);break}e&&ut&&zs.alternate===null&&n(V,ut),O=f(zs,O,Rt),Pt===null?dt=zs:Pt.sibling=zs,Pt=zs,ut=Ot}if(Bt.done)return a(V,ut),Ut&&Ui(V,Rt),dt;if(ut===null){for(;!Bt.done;Rt++,Bt=L.next())Bt=Y(V,Bt.value,K),Bt!==null&&(O=f(Bt,O,Rt),Pt===null?dt=Bt:Pt.sibling=Bt,Pt=Bt);return Ut&&Ui(V,Rt),dt}for(ut=l(ut);!Bt.done;Rt++,Bt=L.next())Bt=H(ut,V,Rt,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?Rt:Bt.key),O=f(Bt,O,Rt),Pt===null?dt=Bt:Pt.sibling=Bt,Pt=Bt);return e&&ut.forEach(function(Ab){return n(V,Ab)}),Ut&&Ui(V,Rt),dt}function Zt(V,O,L,K){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var dt=L.key;O!==null;){if(O.key===dt){if(dt=L.type,dt===tt){if(O.tag===7){a(V,O.sibling),K=h(O,L.props.children),K.return=V,V=K;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Oa(dt)===O.type){a(V,O.sibling),K=h(O,L.props),ql(K,L),K.return=V,V=K;break t}a(V,O);break}else n(V,O);O=O.sibling}L.type===tt?(K=Ra(L.props.children,V.mode,K,L.key),K.return=V,V=K):(K=Nu(L.type,L.key,L.props,null,V.mode,K),ql(K,L),K.return=V,V=K)}return p(V);case J:t:{for(dt=L.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(V,O.sibling),K=h(O,L.children||[]),K.return=V,V=K;break t}else{a(V,O);break}else n(V,O);O=O.sibling}K=Kh(L,V.mode,K),K.return=V,V=K}return p(V);case A:return L=Oa(L),Zt(V,O,L,K)}if(fe(L))return lt(V,O,L,K);if(j(L)){if(dt=j(L),typeof dt!="function")throw Error(r(150));return L=dt.call(L),gt(V,O,L,K)}if(typeof L.then=="function")return Zt(V,O,ju(L),K);if(L.$$typeof===ot)return Zt(V,O,Ou(V,L),K);Uu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(V,O.sibling),K=h(O,L),K.return=V,V=K):(a(V,O),K=Qh(L,V.mode,K),K.return=V,V=K),p(V)):a(V,O)}return function(V,O,L,K){try{Bl=0;var dt=Zt(V,O,L,K);return Ar=null,dt}catch(ut){if(ut===Sr||ut===ku)throw ut;var Pt=gn(29,ut,null,V.mode);return Pt.lanes=K,Pt.return=V,Pt}}}var ka=Jp(!0),Zp=Jp(!1),bs=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),Vp(e,null,a),n}return Ru(e,l,n,a),Cu(e)}function Hl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,gl(e,a)}}function of(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uf=!1;function Fl(){if(uf){var e=br;if(e!==null)throw e}}function Gl(e,n,a,l){uf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==p&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,Q=z=I=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Dt&B)===B:(l&B)===B){B!==0&&B===Tr&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,gt=T;B=n;var Zt=a;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){Y=lt.call(Zt,Y,B);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,B=typeof lt=="function"?lt.call(Zt,Y,B):lt,B==null)break t;Y=w({},Y,B);break t;case 2:bs=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=H,I=Y):Q=Q.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ns|=p,e.lanes=p,e.memoizedState=Y}}function Wp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function tg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wp(a[e],n)}var wr=C(null),Lu=C(0);function eg(e,n){e=Yi,W(Lu,e),W(wr,n),Yi=e|n.baseLanes}function cf(){W(Lu,Yi),W(wr,wr.current)}function hf(){Yi=Lu.current,F(wr),F(Lu)}var yn=C(null),Mn=null;function ws(e){var n=e.alternate;W(pe,pe.current&1),W(yn,e),Mn===null&&(n===null||wr.current!==null||n.memoizedState!==null)&&(Mn=e)}function ff(e){W(pe,pe.current),W(yn,e),Mn===null&&(Mn=e)}function ng(e){e.tag===22?(W(pe,pe.current),W(yn,e),Mn===null&&(Mn=e)):xs()}function xs(){W(pe,pe.current),W(yn,yn.current)}function _n(e){F(yn),Mn===e&&(Mn=null),F(pe)}var pe=C(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,wt=null,$t=null,Ae=null,Pu=!1,xr=!1,Va=!1,Bu=0,Ql=0,Rr=null,mT=0;function ce(){throw Error(r(321))}function df(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function mf(e,n,a,l,h,f){return Pi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?zg:Nf,Va=!1,f=a(l,h),Va=!1,xr&&(f=sg(n,a,l,h)),ig(e),f}function ig(e){G.H=Xl;var n=$t!==null&&$t.next!==null;if(Pi=0,Ae=$t=wt=null,Pu=!1,Ql=0,Rr=null,n)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&Du(e)&&(we=!0))}function sg(e,n,a,l){wt=e;var h=0;do{if(xr&&(Rr=null),Ql=0,xr=!1,25<=h)throw Error(r(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Pg,f=n(a,l)}while(xr);return f}function pT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Kl(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(wt.flags|=1024),n}function pf(){var e=Bu!==0;return Bu=0,e}function gf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function yf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Pi=0,Ae=$t=wt=null,xr=!1,Ql=Bu=0,Rr=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if($t===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?wt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var n=Ql;return Ql+=1,Rr===null&&(Rr=[]),e=Yp(Rr,e,n),n=wt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zg:Nf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===ot)return qe(e)}throw Error(r(438,String(e)))}function _f(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qu(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=k;return n.index++,a}function Bi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ge();return vf(n,$t,e)}function vf(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,I=null,z=n,Q=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(Pi&Y)===Y){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Tr&&(Q=!0);else if((Pi&B)===B){z=z.next,B===Tr&&(Q=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=Y,p=f):I=I.next=Y,wt.lanes|=B,Ns|=B;Y=z.action,Va&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,p=f):I=I.next=B,wt.lanes|=Y,Ns|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=T,!pn(f,e.memoizedState)&&(we=!0,Q&&(a=br,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function ag(e,n,a){var l=wt,h=ge(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!pn(($t||h).memoizedState,a);if(p&&(h.memoizedState=a,we=!0),h=h.queue,Sf(og.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Cr(9,{destroy:void 0},lg.bind(null,l,h,a,n),null),Wt===null)throw Error(r(349));f||(Pi&127)!==0||rg(l,n,a)}return a}function rg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=qu(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function lg(e,n,a,l){n.value=a,n.getSnapshot=l,ug(n)&&cg(e)}function og(e,n,a){return a(function(){ug(n)&&cg(e)})}function ug(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function cg(e){var n=xa(e,2);n!==null&&cn(n,e,2)}function Tf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Va){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function hg(e,n,a,l){return e.baseState=a,vf(e,$t,typeof l=="function"?l:Bi)}function gT(e,n,a,l,h){if(Ku(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,fg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=a(h,l),I=G.S;I!==null&&I(p,T),dg(e,n,T)}catch(z){bf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,l),dg(e,n,f)}catch(z){bf(e,n,z)}}function dg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mg(e,n,l)},function(l){return bf(e,n,l)}):mg(e,n,a)}function mg(e,n,a){n.status="fulfilled",n.value=a,pg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,fg(e,a)))}function bf(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,pg(n),n=n.next;while(n!==l)}e.action=null}function pg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gg(e,n){return n}function yg(e,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=wt;if(Ut){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=kn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},a.queue=l,a=jg.bind(null,wt,l),l.dispatch=a,l=Tf(!1),f=Cf.bind(null,wt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=gT.bind(null,wt,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function _g(e){var n=ge();return vg(n,$t,e)}function vg(e,n,a){if(n=vf(e,n,gg)[0],e=Fu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(p){throw p===Sr?ku:p}else l=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,Cr(9,{destroy:void 0},yT.bind(null,h,a),null)),[l,f,e]}function yT(e,n){e.action=n}function Eg(e){var n=ge(),a=$t;if(a!==null)return vg(n,a,e);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Cr(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=qu(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Tg(){return ge().memoizedState}function Gu(e,n,a,l){var h=nn();wt.flags|=e,h.memoizedState=Cr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Qu(e,n,a,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&df(l,$t.memoizedState.deps)?h.memoizedState=Cr(n,f,a,l):(wt.flags|=e,h.memoizedState=Cr(1|n,f,a,l))}function bg(e,n){Gu(8390656,8,e,n)}function Sf(e,n){Qu(2048,8,e,n)}function _T(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=qu(),wt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Sg(e){var n=ge().memoizedState;return _T({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ag(e,n){return Qu(4,2,e,n)}function wg(e,n){return Qu(4,4,e,n)}function xg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rg(e,n,a){a=a!=null?a.concat([e]):null,Qu(4,4,xg.bind(null,n,e),a)}function Af(){}function Cg(e,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&df(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Ng(e,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=e(),Va){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function wf(e,n,a){return a===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Iy(),wt.lanes|=e,Ns|=e,a)}function Ig(e,n,a,l){return pn(a,n)?a:wr.current!==null?(e=wf(e,a,l),pn(e,n)||(we=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(we=!0,e.memoizedState=a):(e=Iy(),wt.lanes|=e,Ns|=e,n)}function Dg(e,n,a,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Cf(e,!1,n,a);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=dT(I,l);Yl(e,n,Q,Tn(e))}else Yl(e,n,l,Tn(e))}catch(Y){Yl(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{it.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function vT(){}function xf(e,n,a,l){if(e.tag!==5)throw Error(r(476));var h=Og(e).queue;Dg(e,h,n,ht,a===null?vT:function(){return Mg(e),a(l)})}function Og(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mg(e){var n=Og(e);n.next===null&&(n=e.alternate.memoizedState),Yl(e,n.next.queue,{},Tn())}function Rf(){return qe(ho)}function kg(){return ge().memoizedState}function Vg(){return ge().memoizedState}function ET(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Ss(a);var l=As(n,e,a);l!==null&&(cn(l,n,a),Hl(l,n,a)),n={cache:ef()},e.payload=n;return}n=n.return}}function TT(e,n,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Ug(n,a):(a=Fh(e,n,a,l),a!==null&&(cn(a,e,l),Lg(a,n,l)))}function jg(e,n,a){var l=Tn();Yl(e,n,a,l)}function Yl(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ug(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,p))return Ru(e,n,h,0),Wt===null&&xu(),!1}catch{}if(a=Fh(e,n,h,l),a!==null)return cn(a,e,l),Lg(a,n,l),!0}return!1}function Cf(e,n,a,l){if(l={lane:2,revertLane:rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(r(479))}else n=Fh(e,a,l,2),n!==null&&cn(n,e,2)}function Ku(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Ug(e,n){xr=Pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Lg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,gl(e,a)}}var Xl={readContext:qe,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Xl.useEffectEvent=ce;var zg={readContext:qe,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:bg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,xg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var l=e();if(Va){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Va){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=TT.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,a=jg.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(e,n){var a=nn();return wf(a,e,n)},useTransition:function(){var e=Tf(!1);return e=Dg.bind(null,wt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=wt,h=nn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Dt&127)!==0||rg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,bg(og.bind(null,l,f,e),[e]),l.flags|=2048,Cr(9,{destroy:void 0},lg.bind(null,l,f,a,n),null),a},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Ut){var a=Ti,l=Ei;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=mT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:yg,useActionState:yg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=ET.bind(null,wt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:qe,use:Hu,useCallback:Cg,useContext:qe,useEffect:Sf,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:wg,useMemo:Ng,useReducer:Fu,useRef:Tg,useState:function(){return Fu(Bi)},useDebugValue:Af,useDeferredValue:function(e,n){var a=ge();return Ig(a,$t.memoizedState,e,n)},useTransition:function(){var e=Fu(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:Rf,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var a=ge();return hg(a,$t,e,n)},useMemoCache:_f,useCacheRefresh:Vg};Nf.useEffectEvent=Sg;var Pg={readContext:qe,use:Hu,useCallback:Cg,useContext:qe,useEffect:Sf,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:wg,useMemo:Ng,useReducer:Ef,useRef:Tg,useState:function(){return Ef(Bi)},useDebugValue:Af,useDeferredValue:function(e,n){var a=ge();return $t===null?wf(a,e,n):Ig(a,$t.memoizedState,e,n)},useTransition:function(){var e=Ef(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:Rf,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var a=ge();return $t!==null?hg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Vg};Pg.useEffectEvent=Sg;function If(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Df={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Tn(),h=Ss(l);h.payload=n,a!=null&&(h.callback=a),n=As(e,h,l),n!==null&&(cn(n,e,l),Hl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Tn(),h=Ss(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=As(e,h,l),n!==null&&(cn(n,e,l),Hl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),l=Ss(a);l.tag=2,n!=null&&(l.callback=n),n=As(e,l,a),n!==null&&(cn(n,e,a),Hl(n,e,a))}};function Bg(e,n,a,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vl(a,l)||!Vl(h,f):!0}function qg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function ja(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Hg(e){wu(e)}function Fg(e){console.error(e)}function Gg(e){wu(e)}function Yu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(e,n)},a}function Kg(e){return e=Ss(e),e.tag=3,e}function Yg(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Qg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Qg(n,a,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bT(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Er(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?rc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),id(e,l,h)),!1;case 22:return a.flags|=65536,l===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),id(e,l,h)),!1}throw Error(r(435,a.tag))}return id(e,l,h),rc(),!1}if(Ut)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(e=Error(r(422),{cause:l}),Ll(Nn(e,a)))):(l!==$h&&(n=Error(r(423),{cause:l}),Ll(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=Of(e.stateNode,l,h),of(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:l});if(f=Nn(f,a),io===null?io=[f]:io.push(f),he!==4&&(he=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Of(a.stateNode,l,e),of(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Yg(h,e,a,l),of(a,h),!1}a=a.return}while(a!==null);return!1}var Mf=Error(r(461)),we=!1;function He(e,n,a,l){n.child=e===null?Zp(n,null,a,l):ka(n,e.child,a,l)}function Xg(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Ia(n),l=mf(e,n,a,p,f,h),T=pf(),e!==null&&!we?(gf(e,n,h),qi(e,n,h)):(Ut&&T&&Yh(n),n.flags|=1,He(e,n,l,h),n.child)}function $g(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Jg(e,n,f,l,h)):(e=Nu(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(p,l)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=ji(f,l),e.ref=n.ref,e.return=n,n.child=e}function Jg(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,Bf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,qi(e,n,h)}return kf(e,n,a,l,h)}function Zg(e,n,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Wg(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?eg(n,f):cf(),ng(n);else return l=n.lanes=536870912,Wg(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Mu(n,f.cachePool),eg(n,f),xs(),n.memoizedState=null):(e!==null&&Mu(n,null),cf(),xs());return He(e,n,h,a),n.child}function $l(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(e,n,a,l,h){var f=sf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),cf(),ng(n),e!==null&&Er(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,a){return ka(n,e.child,null,a),e=Xu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function ST(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,$l(null,e);if(ff(n),(e=ne)?(e=f_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Up(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(we||Er(e,n,a,!1),h=(a&e.childLanes)!==0,we||h){if(l=Wt,l!==null&&(p=yl(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,xa(e,p),cn(l,e,p),Mf;rc(),n=ty(e,n,a)}else e=f.treeContext,ne=kn(p.nextSibling),Be=n,Ut=!0,vs=null,On=!1,e!==null&&Pp(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=ji(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function kf(e,n,a,l,h){return Ia(n),a=mf(e,n,a,l,void 0,h),l=pf(),e!==null&&!we?(gf(e,n,h),qi(e,n,h)):(Ut&&l&&Yh(n),n.flags|=1,He(e,n,a,h),n.child)}function ey(e,n,a,l,h,f){return Ia(n),n.updateQueue=null,a=sg(n,l,a,h),ig(e),l=pf(),e!==null&&!we?(gf(e,n,f),qi(e,n,f)):(Ut&&l&&Yh(n),n.flags|=1,He(e,n,a,f),n.child)}function ny(e,n,a,l,h){if(Ia(n),n.stateNode===null){var f=gr,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):gr,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(If(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=ja(a,T);f.props=I;var z=f.context,Q=a.contextType;p=gr,typeof Q=="object"&&Q!==null&&(p=qe(Q));var Y=a.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&qg(n,f,l,p),bs=!1;var B=n.memoizedState;f.state=B,Gl(n,l,f,h),Fl(),z=n.memoizedState,T||B!==z||bs?(typeof Y=="function"&&(If(n,a,Y,l),z=n.memoizedState),(I=bs||Bg(n,a,I,l,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,Q=ja(a,p),f.props=Q,Y=n.pendingProps,B=f.context,z=a.contextType,I=gr,typeof z=="object"&&z!==null&&(I=qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==I)&&qg(n,f,l,I),bs=!1,B=n.memoizedState,f.state=B,Gl(n,l,f,h),Fl();var H=n.memoizedState;p!==Y||B!==H||bs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(If(n,a,T,l),H=n.memoizedState),(Q=bs||Bg(n,a,Q,l,B,H,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ka(n,e.child,null,h),n.child=ka(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function iy(e,n,a,l){return Ca(),n.flags|=256,He(e,n,a,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:Qp()}}function Uf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function sy(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?ws(n):xs(),(e=ne)?(e=f_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Up(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw Es(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xs(),h=n.mode,T=Ju({mode:"hidden",children:T},h),l=Ra(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=jf(a),l.childLanes=Uf(e,p,a),n.memoizedState=Vf,$l(null,l)):(ws(n),Lf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=zf(e,n,a)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),T=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),T=Ra(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ka(n,e.child,null,a),l=n.child,l.memoizedState=jf(a),l.childLanes=Uf(e,p,a),n.memoizedState=Vf,n=$l(null,l));else if(ws(n),vd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(r(419)),l.stack="",l.digest=p,Ll({value:l,source:null,stack:null}),n=zf(e,n,a)}else if(we||Er(e,n,a,!1),p=(a&e.childLanes)!==0,we||p){if(p=Wt,p!==null&&(l=yl(p,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,xa(e,l),cn(p,e,l),Mf;_d(T)||rc(),n=zf(e,n,a)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=kn(T.nextSibling),Be=n,Ut=!0,vs=null,On=!1,e!==null&&Pp(n,e),n=Lf(n,l.children),n.flags|=4096);return n}return h?(xs(),T=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=ji(z,T):(T=Ra(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,$l(null,l),l=n.child,T=e.child.memoizedState,T===null?T=jf(a):(h=T.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Qp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Uf(e,p,a),n.memoizedState=Vf,$l(e.child,l)):(ws(n),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Lf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function zf(e,n,a){return ka(n,e.child,null,a),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wh(e.return,n,a)}function Pf(e,n,a,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function ry(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pe.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,W(pe,p),He(e,n,l,a),l=Ut?Ul:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,a,n);else if(e.tag===19)ay(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Pf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Pf(n,!0,a,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Er(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ji(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function AT(e,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Ts(n,Se,e.memoizedState.cache),Ca();break;case 27:case 5:oa(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(a&n.child.childLanes)!==0?sy(e,n,a):(ws(n),e=qi(e,n,a),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Er(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Zg(e,n,a,n.pendingProps);case 24:Ts(n,Se,e.memoizedState.cache)}return qi(e,n,a)}function ly(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Bf(e,a)&&(n.flags&128)===0)return we=!1,AT(e,n,a);we=(e.flags&131072)!==0}else we=!1,Ut&&(n.flags&1048576)!==0&&zp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Oa(n.elementType),n.type=e,typeof e=="function")Gh(e)?(l=ja(e,l),n.tag=1,n=ny(null,n,e,l,a)):(n.tag=0,n=kf(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=Xg(null,n,e,l,a);break t}else if(h===D){n.tag=14,n=$g(null,n,e,l,a);break t}}throw n=ee(e)||e,Error(r(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ja(l,n.pendingProps),ny(e,n,l,h,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Gl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Ts(n,Se,l),l!==f.cache&&tf(n,[Se],a,!0),Fl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,l,a);break t}else if(l!==h){h=Nn(Error(r(424)),n),Ll(h),n=iy(e,n,l,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=kn(e.firstChild),Be=n,Ut=!0,vs=null,On=!0,a=Zp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ca(),l===h){n=qi(e,n,a);break t}He(e,n,l,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=__(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,l=dc(vt.current).createElement(a),l[Ee]=n,l[Ve]=e,Fe(l,a,e),Te(l),n.stateNode=l):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return oa(n),e===null&&Ut&&(l=n.stateNode=p_(n.type,n.pendingProps,vt.current),Be=n,On=!0,h=ne,ks(n.type)?(Ed=h,ne=kn(l.firstChild)):ne=h),He(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=l=ne)&&(l=tb(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,ne=kn(l.firstChild),On=!1,h=!0):h=!1),h||Es(n)),oa(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,pd(h,f)?l=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,pT,null,null,a),ho._currentValue=h),$u(e,n),He(e,n,l,a),n.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=eb(a,n.pendingProps,On),a!==null?(n.stateNode=a,Be=n,ne=null,e=!0):e=!1),e||Es(n)),null;case 13:return sy(e,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ka(n,null,l,a):He(e,n,l,a),n.child;case 11:return Xg(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),He(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ia(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,a),n.child;case 14:return $g(e,n,n.type,n.pendingProps,a);case 15:return Jg(e,n,n.type,n.pendingProps,a);case 19:return ry(e,n,a);case 31:return ST(e,n,a);case 22:return Zg(e,n,a,n.pendingProps);case 24:return Ia(n),l=qe(Se),e===null?(h=sf(),h===null&&(h=Wt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},rf(n),Ts(n,Se,h)):((e.lanes&a)!==0&&(lf(e,n),Gl(n,null,null,a),Fl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Se,l)):(l=f.cache,Ts(n,Se,l),l!==h.cache&&tf(n,[Se],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(e){e.flags|=4}function qf(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ky())e.flags|=8192;else throw Ma=Vu,af}else e.flags&=-16777217}function oy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(ky())e.flags|=8192;else throw Ma=Vu,af}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Or|=n)}function Jl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function wT(e,n,a){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Se),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vr(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),oy(n,f)):(ie(n),qf(n,h,null,l,a))):f?f!==e.memoizedState?(Hi(n),ie(n),oy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hi(n),ie(n),qf(n,h,e,l,a)),null;case 27:if(Ja(n),a=vt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=nt.current,vr(n)?Bp(n):(e=p_(h,l,a),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if(Ja(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=nt.current,vr(n))Bp(n);else{var p=dc(vt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ee]=n,f[Ve]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(n)}}return ie(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=vt.current,vr(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s_(e.nodeValue,a)),e||Es(n,!0)}else e=dc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=vr(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=vr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ee]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&cd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(F(pe),l=n.memoizedState,l===null)return ie(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Jl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Jl(l,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)jp(a,e),a=a.sibling;return W(pe,pe.current&1|2),Ut&&Ui(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*tn()-l.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=pe.current,W(pe,h?a&1|2:a&1),Ut&&Ui(n,l.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),hf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&F(Da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function xT(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ja(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(r(340));Ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(pe),null;case 4:return re(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),hf(),e!==null&&F(Da),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function uy(e,n){switch(Xh(n),n.tag){case 3:zi(Se),re();break;case 26:case 27:case 5:Ja(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:F(pe);break;case 10:zi(n.type);break;case 22:case 23:_n(n),hf(),e!==null&&F(Da);break;case 24:zi(Se)}}function Zl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function Rs(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=a,z=T;try{z()}catch(Q){Yt(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Yt(n,n.return,Q)}}function cy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{tg(n,a)}catch(l){Yt(e,e.return,l)}}}function hy(e,n,a){a.props=ja(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Wl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,n,h)}}function bi(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function fy(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Hf(e,n,a){try{var l=e.stateNode;YT(l,e.type,a,n),l[Ve]=n}catch(h){Yt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,a),e=e.sibling;e!==null;)Gf(e,n,a),e=e.sibling}function Wu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function my(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,a),n[Ee]=e,n[Ve]=a}catch(f){Yt(e,e.return,f)}}var Fi=!1,xe=!1,Qf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function RT(e,n){if(e=e.containerInfo,dd=Ec,e=Rp(e),Lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,I=-1,z=0,Q=0,Y=e,B=null;e:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||l!==0&&Y.nodeType!==3||(I=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===a&&++z===h&&(T=p),B===f&&++Q===l&&(I=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},Ec=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var lt=ja(a.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function gy(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),l&4&&Zl(5,a);break;case 1:if(Qi(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=ja(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}l&64&&cy(a),l&512&&Wl(a,a.return);break;case 3:if(Qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tg(e,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&l&4&&my(a);case 26:case 5:Qi(e,a),n===null&&l&4&&fy(a),l&512&&Wl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),l&4&&vy(e,a);break;case 13:Qi(e,a),l&4&&Ey(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jT.bind(null,a),nb(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||xe,h=Fi;var f=xe;Fi=l,(xe=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Fi=h,xe=f}break;case 30:break;default:Qi(e,a)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&nr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function Gi(e,n,a){for(a=a.child;a!==null;)_y(e,n,a),a=a.sibling}function _y(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:xe||bi(a,n),Gi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||bi(a,n);var l=oe,h=rn;ks(a.type)&&(oe=a.stateNode,rn=!1),Gi(e,n,a),oo(a.stateNode),oe=l,rn=h;break;case 5:xe||bi(a,n);case 6:if(l=oe,h=rn,oe=null,Gi(e,n,a),oe=l,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(rn?(e=oe,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pr(e)):c_(oe,a.stateNode));break;case 4:l=oe,h=rn,oe=a.stateNode.containerInfo,rn=!0,Gi(e,n,a),oe=l,rn=h;break;case 0:case 11:case 14:case 15:Rs(2,a,n),xe||Rs(4,a,n),Gi(e,n,a);break;case 1:xe||(bi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hy(a,n,l)),Gi(e,n,a);break;case 21:Gi(e,n,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Gi(e,n,a),xe=l;break;default:Gi(e,n,a)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pr(e)}catch(a){Yt(n,n.return,a)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pr(e)}catch(a){Yt(n,n.return,a)}}function CT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(r(435,e.tag))}}function tc(e,n){var a=CT(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=UT.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){oe=T.stateNode,rn=!1;break t}break;case 5:oe=T.stateNode,rn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(oe===null)throw Error(r(160));_y(f,p,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var Xn=null;function Ty(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(Rs(3,e,e.return),Zl(3,e),Rs(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(xe||a===null||bi(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(ln(n,e),on(e),l&512&&(xe||a===null||bi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,a),f[Ee]=e,Te(f),l=f;break t;case"link":var p=T_("link","href",h).get(l+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(l+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?b_(h,e.type,e.stateNode):E_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(xe||a===null||bi(a,a.return)),a!==null&&l&4&&Hf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(xe||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(lt){Yt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(gc=null,h=Xn,Xn=mc(n.containerInfo),ln(n,e),Xn=h,on(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pr(n.containerInfo)}catch(lt){Yt(e,e.return,lt)}Qf&&(Qf=!1,by(e));break;case 4:l=Xn,Xn=mc(e.stateNode.containerInfo),ln(n,e),on(e),Xn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fi,Q=xe;if(Fi=z||h,xe=Q||I,ln(n,e),xe=Q,Fi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Fi||xe||Ua(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var Y=I.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Yt(I,I.return,lt)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Yt(I,I.return,lt)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?h_(H,!0):h_(I.stateNode,!1)}catch(lt){Yt(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tc(e,a))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(dy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(e);Wu(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var T=Ff(e);Wu(e,T,p);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Ff(e);Gf(e,z,I);break;default:throw Error(r(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(e,n.alternate,n),n=n.sibling}function Ua(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Ua(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&hy(n,n.return,a),Ua(n);break;case 27:oo(n.stateNode);case 26:case 5:bi(n,n.return),Ua(n);break;case 22:n.memoizedState===null&&Ua(n);break;case 30:Ua(n);break;default:Ua(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),Zl(4,f);break;case 1:if(Ki(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Wp(I[h],T)}catch(z){Yt(l,l.return,z)}}a&&p&64&&cy(f),Wl(f,f.return);break;case 27:my(f);case 26:case 5:Ki(h,f,a),a&&l===null&&p&4&&fy(f),Wl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&p&4&&vy(h,f);break;case 13:Ki(h,f,a),a&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),Wl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Kf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zl(a))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e))}function $n(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,a,l),n=n.sibling}function Sy(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,l),h&2048&&Zl(9,n);break;case 1:$n(e,n,a,l);break;case 3:$n(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e)));break;case 12:if(h&2048){$n(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else $n(e,n,a,l);break;case 31:$n(e,n,a,l);break;case 13:$n(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,l):to(e,n):f._visibility&2?$n(e,n,a,l):(f._visibility|=2,Nr(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:$n(e,n,a,l),h&2048&&Yf(n.alternate,n);break;default:$n(e,n,a,l)}}function Nr(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Nr(f,p,T,I,h),Zl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Nr(f,p,T,I,h):to(f,p):(Q._visibility|=2,Nr(f,p,T,I,h)),h&&z&2048&&Kf(p.alternate,p);break;case 24:Nr(f,p,T,I,h),h&&z&2048&&Yf(p.alternate,p);break;default:Nr(f,p,T,I,h)}n=n.sibling}}function to(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:to(a,l),h&2048&&Kf(l.alternate,l);break;case 24:to(a,l),h&2048&&Yf(l.alternate,l);break;default:to(a,l)}n=n.sibling}}var eo=8192;function Ir(e,n,a){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)Ay(e,n,a),e=e.sibling}function Ay(e,n,a){switch(e.tag){case 26:Ir(e,n,a),e.flags&eo&&e.memoizedState!==null&&mb(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Ir(e,n,a);break;case 3:case 4:var l=Xn;Xn=mc(e.stateNode.containerInfo),Ir(e,n,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,Ir(e,n,a),eo=l):Ir(e,n,a));break;default:Ir(e,n,a)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function no(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Ry(l,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):no(e);break;default:no(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Ry(l,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Ry(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Rs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(yy(l),l===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var NT={getCacheForType:function(e){var n=qe(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(Se).controller.signal}},IT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Ct=null,Dt=0,Kt=0,vn=null,Cs=!1,Dr=!1,Xf=!1,Yi=0,he=0,Ns=0,La=0,$f=0,En=0,Or=0,io=null,un=null,Jf=!1,nc=0,Cy=0,ic=1/0,sc=null,Is=null,Oe=0,Ds=null,Mr=null,Xi=0,Zf=0,Wf=null,Ny=null,so=0,td=null;function Tn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?rd():au()}function Iy(){if(En===0)if((Dt&536870912)===0||Ut){var e=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(kr(e,0),Os(e,Dt,En,!1)),fa(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(La|=a),he===4&&Os(e,Dt,En,!1)),Si(e))}function Dy(e,n,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=l?MT(e,n):nd(e,n,!0),f=l;do{if(h===0){Dr&&!l&&Os(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!DT(a)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=io;var I=T.current.memoizedState.isDehydrated;if(I&&(kr(T,p).flags|=256),p=nd(T,p,!1),p!==2){if(Xf&&!I){T.errorRecoveryDisabledLanes|=f,La|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){kr(e,0),Os(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Os(l,n,En,!Cs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Os(l,n,En,!Cs),ai(l,0,!0)!==0)break t;Xi=n,l.timeoutHandle=o_(Oy.bind(null,l,a,un,sc,Jf,n,En,La,Or,Cs,f,"Throttled",-0,0),h);break t}Oy(l,a,un,sc,Jf,n,En,La,Or,Cs,f,null,-0,0)}}break}while(!0);Si(e)}function Oy(e,n,a,l,h,f,p,T,I,z,Q,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ay(n,f,Y);var lt=(f&62914560)===f?nc-tn():(f&4194048)===f?Cy-tn():0;if(lt=pb(Y,lt),lt!==null){Xi=f,e.cancelPendingCommit=lt(Py.bind(null,e,n,f,a,l,h,p,T,I,Q,Y,null,B,H)),Os(e,f,p,!z);return}}Py(e,n,f,a,l,h,p,T,I)}function DT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,a,l){n&=~$f,n&=~La,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&da(e,a,n)}function ac(){return(Ft&6)===0?(ao(0),!1):!0}function ed(){if(Ct!==null){if(Kt===0)var e=Ct.return;else e=Ct,Li=Na=null,yf(e),Ar=null,Bl=0,e=Ct;for(;e!==null;)uy(e.alternate,e),e=e.return;Ct=null}}function kr(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,JT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,ed(),Wt=e,Ct=a=ji(e.current,null),Dt=n,Kt=0,vn=null,Cs=!1,Dr=Pn(e,n),Xf=!1,Or=En=$f=La=Ns=he=0,un=io=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Yi=n,xu(),a}function My(e,n){wt=null,G.H=Xl,n===Sr||n===ku?(n=Xp(),Kt=3):n===af?(n=Xp(),Kt=4):Kt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ct===null&&(he=1,Yu(e,Nn(n,e.current)))}function ky(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function Vy(){var e=G.H;return G.H=Xl,e===null?Xl:e}function jy(){var e=G.A;return G.A=NT,e}function rc(){he=4,Cs||(Dt&4194048)!==Dt&&yn.current!==null||(Dr=!0),(Ns&134217727)===0&&(La&134217727)===0||Wt===null||Os(Wt,Dt,En,!1)}function nd(e,n,a){var l=Ft;Ft|=2;var h=Vy(),f=jy();(Wt!==e||Dt!==n)&&(sc=null,kr(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&Ct!==null){var T=Ct,I=vn;switch(Kt){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,Vr(e,T,I,z),a&&Dr){p=0;break t}break;default:z=Kt,Kt=0,vn=null,Vr(e,T,I,z)}}OT(),p=he;break}catch(Q){My(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Li=Na=null,Ft=l,G.H=h,G.A=f,Ct===null&&(Wt=null,Dt=0,xu()),p}function OT(){for(;Ct!==null;)Uy(Ct)}function MT(e,n){var a=Ft;Ft|=2;var l=Vy(),h=jy();Wt!==e||Dt!==n?(sc=null,ic=tn()+500,kr(e,n)):Dr=Pn(e,n);t:do try{if(Kt!==0&&Ct!==null){n=Ct;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Vr(e,n,f,1);break;case 2:case 9:if(Kp(f)){Kt=0,vn=null,Ly(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Si(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Kp(f)?(Kt=0,vn=null,Ly(n)):(Kt=0,vn=null,Vr(e,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var T=Ct;if(p?S_(p):T.stateNode.complete){Kt=0,vn=null;var I=T.sibling;if(I!==null)Ct=I;else{var z=T.return;z!==null?(Ct=z,lc(z)):Ct=null}break e}}Kt=0,vn=null,Vr(e,n,f,5);break;case 6:Kt=0,vn=null,Vr(e,n,f,6);break;case 8:ed(),he=6;break t;default:throw Error(r(462))}}kT();break}catch(Q){My(e,Q)}while(!0);return Li=Na=null,G.H=l,G.A=h,Ft=a,Ct!==null?0:(Wt=null,Dt=0,xu(),he)}function kT(){for(;Ct!==null&&!Dh();)Uy(Ct)}function Uy(e){var n=ly(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function Ly(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ey(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=ey(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:yf(n);default:uy(a,n),n=Ct=jp(n,Yi),n=ly(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function Vr(e,n,a,l){Li=Na=null,yf(n),Ar=null,Bl=0;var h=n.return;try{if(bT(e,h,n,a,Dt)){he=1,Yu(e,Nn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,Yu(e,Nn(a,e.current)),Ct=null;return}n.flags&32768?(Ut||l===1?e=!0:Dr||(Dt&536870912)!==0?e=!1:(Cs=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Cs);return}e=n.return;var a=wT(n.alternate,n,Yi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function zy(e,n){do{var a=xT(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);he=6,Ct=null}function Py(e,n,a,l,h,f,p,T,I){e.cancelPendingCommit=null;do oc();while(Oe!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hh,kh(e,a,f,p,T,I),e===Wt&&(Ct=Wt=null,Dt=0),Mr=n,Ds=e,Xi=a,Zf=f,Wf=h,Ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,LT(os,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,p=Ft,Ft|=4;try{RT(e,n,a)}finally{Ft=p,it.p=h,G.T=l}}Oe=1,By(),qy(),Hy()}}function By(){if(Oe===1){Oe=0;var e=Ds,n=Mr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{Ty(n,e);var f=md,p=Rp(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&xp(T.ownerDocument.documentElement,T)){if(I!==null&&Lh(T)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=T.textContent.length,gt=Math.min(I.start,lt),Zt=I.end===void 0?gt:Math.min(I.end,lt);!H.extend&&gt>Zt&&(p=Zt,Zt=gt,gt=p);var V=wp(T,gt),O=wp(T,Zt);if(V&&O&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),gt>Zt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ec=!!dd,md=dd=null}finally{Ft=h,it.p=l,G.T=a}}e.current=n,Oe=2}}function qy(){if(Oe===2){Oe=0;var e=Ds,n=Mr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{gy(e,n.alternate,n)}finally{Ft=h,it.p=l,G.T=a}}Oe=3}}function Hy(){if(Oe===4||Oe===3){Oe=0,Zo();var e=Ds,n=Mr,a=Xi,l=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Mr=Ds=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Oi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,it.p=h}}(Xi&3)!==0&&oc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===td?so++:(so=0,td=e):so=0,ao(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zl(n)))}function oc(){return By(),qy(),Hy(),Gy()}function Gy(){if(Oe!==5)return!1;var e=Ds,n=Zf;Zf=0;var a=Oi(Xi),l=G.T,h=it.p;try{it.p=32>a?32:a,G.T=null,a=Wf,Wf=null;var f=Ds,p=Xi;if(Oe=0,Mr=Ds=null,Xi=0,(Ft&6)!==0)throw Error(r(331));var T=Ft;if(Ft|=4,xy(f.current),Sy(f,f.current,p,a),Ft=T,ao(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{it.p=h,G.T=l,Fy(e,n)}}function Qy(e,n,a){n=Nn(a,n),n=Of(e.stateNode,n,2),e=As(e,n,2),e!==null&&(fa(e,2),Si(e))}function Yt(e,n,a){if(e.tag===3)Qy(e,e,a);else for(;n!==null;){if(n.tag===3){Qy(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=Nn(a,e),a=Kg(2),l=As(n,a,2),l!==null&&(Yg(a,l,n,e),fa(l,2),Si(l));break}}n=n.return}}function id(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new IT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Xf=!0,h.add(a),e=VT.bind(null,e,n,a),n.then(e,e))}function VT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Dt&a)===a&&(he===4||he===3&&(Dt&62914560)===Dt&&300>tn()-nc?(Ft&2)===0&&kr(e,0):$f|=a,Or===Dt&&(Or=0)),Si(e)}function Ky(e,n){n===0&&(n=su()),e=xa(e,n),e!==null&&(fa(e,n),Si(e))}function jT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(e,a)}function UT(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ky(e,a)}function LT(e,n){return De(e,n)}var uc=null,jr=null,sd=!1,cc=!1,ad=!1,Ms=0;function Si(e){e!==jr&&e.next===null&&(jr===null?uc=jr=e:jr=jr.next=e),cc=!0,sd||(sd=!0,PT())}function ao(e,n){if(!ad&&cc){ad=!0;do for(var a=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jy(l,f))}else f=Dt,f=ai(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,Jy(l,f));l=l.next}while(a);ad=!1}}function zT(){Yy()}function Yy(){cc=sd=!1;var e=0;Ms!==0&&$T()&&(e=Ms);for(var n=tn(),a=null,l=uc;l!==null;){var h=l.next,f=Xy(l,n);f===0?(l.next=null,a===null?uc=h:a.next=h,h===null&&(jr=a)):(a=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}Oe!==0&&Oe!==5||ao(e),Ms!==0&&(Ms=0)}function Xy(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),T=1<<p,I=h[p];I===-1?((T&a)===0||(T&l)!==0)&&(h[p]=Mh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=Wt,a=Dt,a=ai(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&ls(l),Oi(a)){case 2:case 8:a=pl;break;case 32:a=os;break;case 268435456:a=Wo;break;default:a=os}return l=$y.bind(null,e),a=De(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oc()&&e.callbackNode!==a)return null;var l=Dt;return l=ai(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dy(e,l,n),Xy(e,tn()),e.callbackNode!=null&&e.callbackNode===a?$y.bind(null,e):null)}function Jy(e,n){if(oc())return null;Dy(e,n,!0)}function PT(){ZT(function(){(Ft&6)!==0?De(ml,zT):Yy()})}function rd(){if(Ms===0){var e=Tr;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ms=e}return Ms}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rr(""+e)}function Wy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function BT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Zy((h[Ve]||null).action),p=l.submitter;p&&(n=(n=p[Ve]||null)?Zy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new gi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=p?Wy(h,p):new FormData(h);xf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?Wy(h,p):new FormData(h),xf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ld=0;ld<qh.length;ld++){var od=qh[ld],qT=od.toLowerCase(),HT=od[0].toUpperCase()+od.slice(1);Yn(qT,"on"+HT)}Yn(Ip,"onAnimationEnd"),Yn(Dp,"onAnimationIteration"),Yn(Op,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(aT,"onTransitionRun"),Yn(rT,"onTransitionStart"),Yn(lT,"onTransitionCancel"),Yn(Mp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function t_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(T=l[p],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}}}}function Nt(e,n){var a=n[er];a===void 0&&(a=n[er]=new Set);var l=e+"__bubble";a.has(l)||(e_(n,e,2,!1),a.add(l))}function ud(e,n,a){var l=0;n&&(l|=4),e_(a,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[hc]){e[hc]=!0,_l.forEach(function(a){a!=="selectionchange"&&(FT.has(a)||ud(a,!1,e),ud(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ud("selectionchange",!1,n))}}function e_(e,n,a,l){switch(I_(n)){case 2:var h=_b;break;case 8:h=vb;break;default:h=wd}a=h.bind(null,n,a,e),h=void 0,!_a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function hd(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=ui(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}T=T.parentNode}}l=l.return}ms(function(){var z=f,Q=wn(a),Y=[];t:{var B=kp.get(e);if(B!==void 0){var H=gi,lt=e;switch(e){case"keypress":if(Ea(a)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":lt="focus",H=ba;break;case"focusout":lt="blur",H=ba;break;case"beforeblur":case"afterblur":H=ba;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ip:case Dp:case Op:H=pu;break;case Mp:H=b;break;case"scroll":case"scrollend":H=Il;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=At}var gt=(n&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),V=gt?B!==null?B+"Capture":null:B;gt=[];for(var O=z,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||V===null||(K=Fn(O,V),K!=null&&gt.push(lo(O,K,L))),Zt)break;O=O.return}0<gt.length&&(B=new H(B,lt,null,a,Q),Y.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Rl&&(lt=a.relatedTarget||a.fromElement)&&(ui(lt)||lt[li]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?ui(lt):null,lt!==null&&(Zt=c(lt),gt=lt.tag,lt!==Zt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(gt=Dl,K="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Vi,K="onPointerLeave",V="onPointerEnter",O="pointer"),Zt=H==null?B:dn(H),L=lt==null?B:dn(lt),B=new gt(K,O+"leave",H,a,Q),B.target=Zt,B.relatedTarget=L,K=null,ui(Q)===z&&(gt=new gt(V,O+"enter",lt,a,Q),gt.target=L,gt.relatedTarget=Zt,K=gt),Zt=K,H&&lt)e:{for(gt=GT,V=H,O=lt,L=0,K=V;K;K=gt(K))L++;K=0;for(var dt=O;dt;dt=gt(dt))K++;for(;0<L-K;)V=gt(V),L--;for(;0<K-L;)O=gt(O),K--;for(;L--;){if(V===O||O!==null&&V===O.alternate){gt=V;break e}V=gt(V),O=gt(O)}gt=null}else gt=null;H!==null&&n_(Y,B,H,gt,!1),lt!==null&&Zt!==null&&n_(Y,Zt,lt,gt,!0)}}t:{if(B=z?dn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Pt=vp;else if(yp(B))if(Ep)Pt=nT;else{Pt=tT;var ut=WE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ar(z.elementType)&&(Pt=vp):Pt=eT;if(Pt&&(Pt=Pt(e,z))){_p(Y,Pt,a,Q);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Al(B,"number",B.value)}switch(ut=z?dn(z):window,e){case"focusin":(yp(ut)||ut.contentEditable==="true")&&(dr=ut,zh=z,jl=null);break;case"focusout":jl=zh=dr=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Cp(Y,a,Q);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Cp(Y,a,Q)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else fr?Sa(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(vi&&a.locale!=="ko"&&(fr||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&fr&&(Rt=Nl()):(pi=Q,Cl="value"in pi?pi.value:pi.textContent,fr=!0)),ut=fc(z,Ot),0<ut.length&&(Ot=new _i(Ot,e,null,a,Q),Y.push({event:Ot,listeners:ut}),Rt?Ot.data=Rt:(Rt=hr(a),Rt!==null&&(Ot.data=Rt)))),(Rt=Rn?XE(e,a):$E(e,a))&&(Ot=fc(z,"onBeforeInput"),0<Ot.length&&(ut=new _i("onBeforeInput","beforeinput",null,a,Q),Y.push({event:ut,listeners:Ot}),ut.data=Rt)),BT(Y,e,z,a,Q)}t_(Y,n)})}function lo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fc(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&l.unshift(lo(e,h,f)),h=Fn(e,n),h!=null&&l.push(lo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function GT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,a,l,h){for(var f=n._reactName,p=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Fn(a,f),z!=null&&p.unshift(lo(a,z,I))):h||(z=Fn(a,f),z!=null&&p.push(lo(a,z,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var QT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(QT,`
`).replace(KT,"")}function s_(e,n){return n=i_(n),i_(e)===n}function Jt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":xl(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=rr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=rr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=rr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ir(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,ir(e,a,l))}}function fd(e,n,a,l,h,f){switch(a){case"style":xl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ir(e,a,l)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,p,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),l&&Jt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=f=p=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Jt(e,n,l,Q,a,null)}}uu(e,f,T,I,z,p,h,!1);return;case"select":Nt("invalid",e),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Jt(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!l,n!=null?cs(e,!!l,n,!1):a!=null&&cs(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Jt(e,n,p,T,a,null)}hs(e,l,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,n,I,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Nt(ro[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,z,l,a,null)}return;default:if(ar(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&fd(e,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,n,T,l,a,null))}function YT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,z=null,Q=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(H)||Jt(e,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&Jt(e,n,B,H,l,Y)}}sr(e,p,T,I,z,Q,f,h);return;case"select":H=p=T=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||Jt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&Jt(e,n,h,f,l,I)}n=T,a=p,l=H,B!=null?cs(e,!!a,B,!1):!!l!=!!a&&(n!=null?cs(e,!!a,n,!0):cs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,n,T,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,p,h,l,f)}cu(e,B,H);return;case"option":for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,n,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Jt(e,n,gt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Jt(e,n,z,B,l,H)}return;default:if(ar(n)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&fd(e,n,Zt,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||fd(e,n,Q,B,l,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Jt(e,n,V,null,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||Jt(e,n,Y,B,l,H)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&a_(p)){for(p=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var Q=I.transferSize,Y=I.initiatorType;Q&&a_(Y)&&(I=I.responseEnd,p+=Q*(I<T?1:(T-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function $T(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(WT)}:o_;function WT(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function c_(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Pr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oo(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,oo(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&oo(e.ownerDocument.body);a=h}while(a);Pr(n)}function h_(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tb(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function eb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,a){switch(n=dc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function oo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);nr(e)}var Vn=new Map,g_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=it.d;it.d={f:ib,r:sb,D:ab,C:rb,L:lb,m:ob,X:cb,S:ub,M:hb};function ib(){var e=$i.f(),n=ac();return e||n}function sb(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Mg(n):$i.r(e)}var Ur=typeof document>"u"?null:document;function y_(e,n,a){var l=Ur;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g_.has(h)||(g_.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function ab(e){$i.D(e),y_("dns-prefetch",e,null)}function rb(e,n){$i.C(e,n),y_("preconnect",e,n)}function lb(e,n,a){$i.L(e,n,a);var l=Ur;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Lr(e);break;case"script":f=zr(e)}Vn.has(f)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Vn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(uo(f))||n==="script"&&l.querySelector(co(f))||(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function ob(e,n){$i.m(e,n);var a=Ur;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=zr(e)}if(!Vn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Vn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(f)))return}l=a.createElement("link"),Fe(l,"link",e),Te(l),a.head.appendChild(l)}}}function ub(e,n,a){$i.S(e,n,a);var l=Ur;if(l&&e){var h=ci(l).hoistableStyles,f=Lr(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(uo(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Vn.get(f))&&Td(e,a);var I=p=l.createElement("link");Te(I),Fe(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function cb(e,n){$i.X(e,n);var a=Ur;if(a&&e){var l=ci(a).hoistableScripts,h=zr(e),f=l.get(h);f||(f=a.querySelector(co(h)),f||(e=w({src:e,async:!0},n),(n=Vn.get(h))&&bd(e,n),f=a.createElement("script"),Te(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function hb(e,n){$i.M(e,n);var a=Ur;if(a&&e){var l=ci(a).hoistableScripts,h=zr(e),f=l.get(h);f||(f=a.querySelector(co(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&bd(e,n),f=a.createElement("script"),Te(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function __(e,n,a,l){var h=(h=vt.current)?mc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Lr(a.href),a=ci(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Lr(a.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(uo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||fb(h,e,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=zr(a),a=ci(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Lr(e){return'href="'+sn(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function fb(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",a),Te(n),e.head.appendChild(n))}function zr(e){return'[src="'+sn(e)+'"]'}function co(e){return"script[async]"+e}function E_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Fe(l,"style",h),pc(l,a.precedence,e),n.instance=l;case"stylesheet":h=Lr(a.href);var f=e.querySelector(uo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=v_(a),(h=Vn.get(h))&&Td(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Fe(f,"link",l),n.state.loading|=4,pc(f,a.precedence,e),n.instance=f;case"script":return f=zr(a.src),(h=e.querySelector(co(f)))?(n.instance=h,Te(h),h):(l=a,(h=Vn.get(f))&&(l=w({},a),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,a.precedence,e));return n.instance}function pc(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function T_(e,n,a){if(gc===null){var l=new Map,h=gc=new Map;h.set(a,l)}else h=gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[oi]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function b_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function db(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mb(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Lr(l.href),f=n.querySelector(uo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,l=v_(l),(h=Vn.get(h))&&Td(l,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Fe(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Sd=0;function pb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*XT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(gb,e),_c=null,yc.call(e))}function gb(e,n){if(!(n.state.loading&4)){var a=_c.get(e);if(a)var l=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ho={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function yb(e,n,a,l,h,f,p,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function A_(e,n,a,l,h,f,p,T,I,z,Q,Y){return e=new yb(e,n,a,p,I,z,Q,Y,T),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rf(f),e}function w_(e){return e?(e=gr,e):gr}function x_(e,n,a,l,h,f){h=w_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ss(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=As(e,l,n),a!==null&&(cn(a,e,n),Hl(a,e,n))}function R_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ad(e,n){R_(e,n),(e=e.alternate)&&R_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=xa(e,67108864);n!==null&&cn(n,e,67108864),Ad(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var n=Tn();n=ma(n);var a=xa(e,n);a!==null&&cn(a,e,n),Ad(e,n)}}var Ec=!0;function _b(e,n,a,l){var h=G.T;G.T=null;var f=it.p;try{it.p=2,wd(e,n,a,l)}finally{it.p=f,G.T=h}}function vb(e,n,a,l){var h=G.T;G.T=null;var f=it.p;try{it.p=8,wd(e,n,a,l)}finally{it.p=f,G.T=h}}function wd(e,n,a,l){if(Ec){var h=xd(l);if(h===null)hd(e,n,l,Tc,a),D_(e,l);else if(Tb(h,e,n,a,l))l.stopPropagation();else if(D_(e,l),n&4&&-1<Eb.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-de(p);T.entanglements[1]|=I,p&=~I}Si(f),(Ft&6)===0&&(ic=tn()+500,ao(0))}}break;case 31:case 13:T=xa(f,2),T!==null&&cn(T,f,2),ac(),Ad(f,2)}if(f=xd(l),f===null&&hd(e,n,l,Tc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(e,n,l,null,a)}}function xd(e){return e=wn(e),Rd(e)}var Tc=null;function Rd(e){if(Tc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case ml:return 2;case pl:return 8;case os:case Oh:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var Cd=!1,Vs=null,js=null,Us=null,fo=new Map,mo=new Map,Ls=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(n.pointerId)}}function po(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Tb(e,n,a,l,h){switch(n){case"focusin":return Vs=po(Vs,e,n,a,l,h),!0;case"dragenter":return js=po(js,e,n,a,l,h),!0;case"mouseover":return Us=po(Us,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return fo.set(f,po(fo.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,mo.set(f,po(mo.get(f)||null,e,n,a,l,h)),!0}return!1}function O_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){N_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){N_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Rl=l,a.target.dispatchEvent(l),Rl=null}else return n=An(a),n!==null&&C_(n),e.blockedOn=a,!1;n.shift()}return!0}function M_(e,n,a){bc(e)&&a.delete(n)}function bb(){Cd=!1,Vs!==null&&bc(Vs)&&(Vs=null),js!==null&&bc(js)&&(js=null),Us!==null&&bc(Us)&&(Us=null),fo.forEach(M_),mo.forEach(M_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bb)))}var Ac=null;function k_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Rd(l||a)===null)continue;break}var f=An(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pr(e){function n(I){return Sc(I,e)}Vs!==null&&Sc(Vs,e),js!==null&&Sc(js,e),Us!==null&&Sc(Us,e),fo.forEach(n),mo.forEach(n);for(var a=0;a<Ls.length;a++){var l=Ls[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Ls.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[Ve]||null;if(typeof f=="function")p||k_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)T=p.formAction;else if(Rd(h)!==null)continue}else T=p.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),k_(a)}}}function V_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}wc.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Tn();x_(a,l,e,n,null,null)},wc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),ac(),n[li]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ls.length&&n!==0&&n<Ls[a].priority;a++);Ls.splice(a,0,e),a===0&&O_(e)}};var j_=t.version;if(j_!=="19.2.4")throw Error(r(527,j_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{zn=xc.inject(Sb),ze=xc}catch{}}return yo.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",h=Hg,f=Fg,p=Gg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=A_(e,1,!1,null,null,a,l,null,h,f,p,V_),e[li]=n.current,cd(e),new Nd(n)},yo.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,h="",f=Hg,p=Fg,T=Gg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=A_(e,1,!0,n,a??null,l,h,I,f,p,T,V_),n.context=w_(null),a=n.current,l=Tn(),l=ma(l),h=Ss(l),h.callback=null,As(a,h,l),a=l,n.current.lanes=a,fa(n,a),Si(n),e[li]=n.current,cd(e),new wc(n)},yo.version="19.2.4",yo}var Q_;function Mb(){if(Q_)return Od.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=Ob(),Od.exports}var kb=Mb();const Vb=()=>{};var K_={};const Sv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},jb=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,S=c>>2,w=(c&3)<<4|g>>4;let x=(g&15)<<2|y>>6,P=y&63;_||(P=64,d||(x=64)),r.push(i[S],i[w],i[x],i[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Sv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):jb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new Ub;const x=c<<2|g>>4;if(r.push(x),y!==64){const P=g<<4&240|y>>2;if(r.push(P),w!==64){const J=y<<6&192|w;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(s){const t=Sv(s);return Av.encodeByteArray(t,!0)},Gc=function(s){return Lb(s).replace(/\./g,"")},wv=function(s){try{return Av.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pb=()=>zb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&wv(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return Vb()||Pb()||Bb()||qb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xv=s=>fh()?.emulatorHosts?.[s],Hb=s=>{const t=xv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Rv=()=>fh()?.config,Cv=s=>fh()?.[`_${s}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function sl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nv(s){return(await fetch(s,{credentials:"include"})).ok}function Gb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const So={};function Qb(){const s={prod:[],emulator:[]};for(const t of Object.keys(So))So[t]?s.emulator.push(t):s.prod.push(t);return s}function Kb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Y_=!1;function Iv(s,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||So[s]===t||So[s]||Y_)return;So[s]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=Qb().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,P){x.setAttribute("width","24"),x.setAttribute("id",P),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Y_=!0,d()},x}function S(x,P){x.setAttribute("id",P),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=Kb(r),P=i("text"),J=document.getElementById(P)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),rt=i("preprendIcon"),st=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ot=x.element;g(ot),S(Z,tt);const xt=y();_(st,rt),ot.append(st,J,Z,xt),document.body.appendChild(ot)}c?(J.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Xb(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function tS(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const iS="FirebaseError";class rs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=iS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?sS(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new rs(o,g,r)}}function sS(s,t){return s.replace(aS,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const aS=/\{\$([^}]+)}/g;function rS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ha(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=t[o];if(X_(c)&&X_(d)){if(!Ha(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}function Po(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lS(s,t){const i=new oS(s,t);return i.subscribe.bind(i)}class oS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");uS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}function We(s){return s&&s._delegate?s._delegate:s}class Fa{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const za="[DEFAULT]";class cS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Fb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fS(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(s){return s===za?void 0:s}function fS(s){return s.instantiationMode==="EAGER"}class dS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const mS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},pS=Mt.INFO,gS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},yS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=gS[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const _S=(s,t)=>t.some(i=>s instanceof i);let $_,J_;function vS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Yd=new WeakMap,Ov=new WeakMap,Ud=new WeakMap,Sm=new WeakMap;function TS(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ys(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Dv.set(i,s)}).catch(()=>{}),Sm.set(t,s),t}function bS(s){if(Yd.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Yd.set(s,t)}let Xd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Yd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Ov.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function SS(s){Xd=s(Xd)}function AS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Ld(this),t,...i);return Ov.set(r,t.sort?t.sort():[t]),Ys(r)}:ES().includes(s)?function(...t){return s.apply(Ld(this),t),Ys(Dv.get(this))}:function(...t){return Ys(s.apply(Ld(this),t))}}function wS(s){return typeof s=="function"?AS(s):(s instanceof IDBTransaction&&bS(s),_S(s,vS())?new Proxy(s,Xd):s)}function Ys(s){if(s instanceof IDBRequest)return TS(s);if(Ud.has(s))return Ud.get(s);const t=wS(s);return t!==s&&(Ud.set(s,t),Sm.set(t,s)),t}const Ld=s=>Sm.get(s);function xS(s,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),g=Ys(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const RS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],zd=new Map;function Z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=CS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||RS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return zd.set(t,c),c}SS(s=>({...s,get:(t,i,r)=>Z_(t,i)||s.get(t,i,r),has:(t,i)=>!!Z_(t,i)||s.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function IS(s){return s.getComponent()?.type==="VERSION"}const $d="@firebase/app",W_="0.14.7";const ts=new bm("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",kS="@firebase/app-check-compat",VS="@firebase/app-check",jS="@firebase/auth",US="@firebase/auth-compat",LS="@firebase/database",zS="@firebase/data-connect",PS="@firebase/database-compat",BS="@firebase/functions",qS="@firebase/functions-compat",HS="@firebase/installations",FS="@firebase/installations-compat",GS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",$S="@firebase/remote-config-compat",JS="@firebase/storage",ZS="@firebase/storage-compat",WS="@firebase/firestore",t2="@firebase/ai",e2="@firebase/firestore-compat",n2="firebase",i2="12.8.0";const Jd="[DEFAULT]",s2={[$d]:"fire-core",[DS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[VS]:"fire-app-check",[kS]:"fire-app-check-compat",[jS]:"fire-auth",[US]:"fire-auth-compat",[LS]:"fire-rtdb",[zS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[BS]:"fire-fn",[qS]:"fire-fn-compat",[HS]:"fire-iid",[FS]:"fire-iid-compat",[GS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[$S]:"fire-rc-compat",[JS]:"fire-gcs",[ZS]:"fire-gcs-compat",[WS]:"fire-fst",[e2]:"fire-fst-compat",[t2]:"fire-vertex","fire-js":"fire-js",[n2]:"fire-js-all"};const No=new Map,a2=new Map,Zd=new Map;function t0(s,t){try{s.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Jr(s){const t=s.name;if(Zd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,s);for(const i of No.values())t0(i,s);for(const i of a2.values())t0(i,s);return!0}function Am(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Un(s){return s==null?!1:s.settings!==void 0}const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new zo("app","Firebase",r2);class l2{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const al=i2;function Mv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Jd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=Rv()),!i)throw Xs.create("no-options");const c=No.get(o);if(c){if(Ha(i,c.options)&&Ha(r,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new dS(o);for(const _ of Zd.values())d.addComponent(_);const g=new l2(i,r,d);return No.set(o,g),g}function wm(s=Jd){const t=No.get(s);if(!t&&s===Jd&&Rv())return Mv();if(!t)throw Xs.create("no-app",{appName:s});return t}function o2(){return Array.from(No.values())}function $s(s,t,i){let r=s2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Jr(new Fa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const u2="firebase-heartbeat-database",c2=1,Io="firebase-heartbeat-store";let Pd=null;function kv(){return Pd||(Pd=xS(u2,c2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function h2(s){try{const i=(await kv()).transaction(Io),r=await i.objectStore(Io).get(Vv(s));return await i.done,r}catch(t){if(t instanceof rs)ts.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function e0(s,t){try{const r=(await kv()).transaction(Io,"readwrite");await r.objectStore(Io).put(t,Vv(s)),await r.done}catch(i){if(i instanceof rs)ts.warn(i.message);else{const r=Xs.create("idb-set",{originalErrorMessage:i?.message});ts.warn(r.message)}}}function Vv(s){return`${s.name}!${s.options.appId}`}const f2=1024,d2=30;class m2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new g2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>d2){const o=y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:i,unsentEntries:r}=p2(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ts.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function p2(s,t=f2){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),i0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),i0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class g2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await h2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function i0(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function y2(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function _2(s){Jr(new Fa("platform-logger",t=>new NS(t),"PRIVATE")),Jr(new Fa("heartbeat",t=>new m2(t),"PRIVATE")),$s($d,W_,s),$s($d,W_,"esm2020"),$s("fire-js","")}_2("");var v2="firebase",E2="12.8.0";$s(v2,E2,"app");function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T2=jv,Uv=new zo("auth","Firebase",jv());const Qc=new bm("@firebase/auth");function b2(s,...t){Qc.logLevel<=Mt.WARN&&Qc.warn(`Auth (${al}): ${s}`,...t)}function Mc(s,...t){Qc.logLevel<=Mt.ERROR&&Qc.error(`Auth (${al}): ${s}`,...t)}function es(s,...t){throw xm(s,...t)}function wi(s,...t){return xm(s,...t)}function Lv(s,t,i){const r={...T2(),[t]:i};return new zo("auth","Firebase",r).create(t,{appName:s.name})}function Wi(s){return Lv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Uv.create(s,...t)}function Et(s,t,...i){if(!s)throw xm(t,...i)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function ns(s,t){s||Ji(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function S2(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function A2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||Jb()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=Yb()||Zb()}get(){return A2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,t){ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const R2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C2=new Bo(3e4,6e4);function qo(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function rl(s,t,i,r,o={}){return Pv(s,o,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Po({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return $b()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&sl(s.emulatorConfig.host)&&(y.credentials="include"),zv.fetch()(await Bv(s,s.config.apiHost,i,g),y)})}async function Pv(s,t,i){s._canInitEmulator=!1;const r={...x2,...t};try{const o=new N2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(s,"user-disabled",d);const S=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Lv(s,S,y);es(s,S)}}catch(o){if(o instanceof rs)throw o;es(s,"network-request-failed",{message:String(o)})}}async function Cm(s,t,i,r,o={}){const c=await rl(s,t,i,r,o);return"mfaPendingCredential"in c&&es(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Bv(s,t,i,r){const o=`${t}${i}?${r}`,c=s,d=c.config.emulator?Rm(s.config,o):`${s.config.apiScheme}://${o}`;return R2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class N2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),C2.get())})}}function Rc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=wi(s,t,r);return o.customData._tokenResponse=i,o}async function I2(s,t){return rl(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return rl(s,"POST","/v1/accounts:lookup",t)}function Ao(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function D2(s,t=!1){const i=We(s),r=await i.getIdToken(t),o=Nm(r);Et(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Ao(Bd(o.auth_time)),issuedAtTime:Ao(Bd(o.iat)),expirationTime:Ao(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(s){return Number(s)*1e3}function Nm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=wv(i);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(s){const t=Nm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Do(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof rs&&O2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function O2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class M2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),r=await Do(s,Kc(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?qv(o.providerUserInfo):[],d=V2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function k2(s){const t=We(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function V2(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function qv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function j2(s,t){const i=await Pv(s,{},async()=>{const r=Po({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Bv(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&sl(s.emulatorConfig.host)&&(_.credentials="include"),zv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function U2(s,t){return rl(s,"POST","/v2/accounts:revokeToken",qo(s,t))}class Qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):a0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=a0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await j2(t,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new Qr;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qr,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Ps(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new M2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Do(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return D2(this,t)}reload(){return k2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Do(this,I2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:P,providerData:J,stsTokenManager:tt}=i;Et(w&&tt,t,"internal-error");const Z=Qr.fromJSON(this.name,tt);Et(typeof w=="string",t,"internal-error"),Ps(r,t.name),Ps(o,t.name),Et(typeof x=="boolean",t,"internal-error"),Et(typeof P=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(g,t.name),Ps(_,t.name),Ps(y,t.name),Ps(S,t.name);const rt=new Zn({uid:w,auth:t,email:o,emailVerified:x,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:S});return J&&Array.isArray(J)&&(rt.providerData=J.map(st=>({...st}))),_&&(rt._redirectEventId=_),rt}static async _fromIdTokenResponse(t,i,r=!1){const o=new Qr;o.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];Et(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?qv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Qr;g.updateFromIdToken(r);const _=new Zn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const r0=new Map;function Zi(s){ns(s instanceof Function,"Expected a class definition");let t=r0.get(s);return t?(ns(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,r0.set(s,t),t)}class Hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Hv.type="NONE";const l0=Hv;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Kr{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Kr(Zi(l0),t,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(l0);const d=kc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let w;if(typeof S=="string"){const x=await Kc(t,{idToken:S}).catch(()=>{});if(!x)break;w=await Zn._fromGetAccountInfoResponse(t,x,S)}else w=Zn._fromJSON(t,S);y!==c&&(g=w),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Kr(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Kr(c,t,r))}}function o0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xv(t))return"Blackberry";if($v(t))return"Webos";if(Gv(t))return"Safari";if((t.includes("chrome/")||Qv(t))&&!t.includes("edge/"))return"Chrome";if(Yv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Fv(s=Ze()){return/firefox\//i.test(s)}function Gv(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qv(s=Ze()){return/crios\//i.test(s)}function Kv(s=Ze()){return/iemobile/i.test(s)}function Yv(s=Ze()){return/android/i.test(s)}function Xv(s=Ze()){return/blackberry/i.test(s)}function $v(s=Ze()){return/webos/i.test(s)}function Im(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function L2(s=Ze()){return Im(s)&&!!window.navigator?.standalone}function z2(){return Wb()&&document.documentMode===10}function Jv(s=Ze()){return Im(s)||Yv(s)||$v(s)||Xv(s)||/windows phone/i.test(s)||Kv(s)}function Zv(s,t=[]){let i;switch(s){case"Browser":i=o0(Ze());break;case"Worker":i=`${o0(Ze())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${r}`}class P2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function B2(s,t={}){return rl(s,"GET","/v2/passwordPolicy",qo(s,t))}const q2=6;class H2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??q2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class F2{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new P2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Kr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=w2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Wi(this));const i=t?We(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await B2(this),i=new H2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zo("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await U2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Kr.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&b2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ho(s){return We(s)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G2(s){Dm=s}function Q2(s){return Dm.loadJS(s)}function K2(){return Dm.gapiScript}function Y2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function X2(s,t){const i=Am(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ha(c,t??{}))return o;es(o,"already-initialized")}return i.initialize({options:t})}function $2(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function J2(s,t,i){const r=Ho(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,c=Wv(t),{host:d,port:g}=Z2(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Ha(y,r.config.emulator)&&Ha(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,sl(d)?(Nv(`${c}//${d}${_}`),Iv("Auth",!0)):W2()}function Wv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Z2(s){const t=Wv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:c0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:c0(d)}}}function c0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function W2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class t1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Yr(s,t){return Cm(s,"POST","/v1/accounts:signInWithIdp",qo(s,t))}const tA="http://localhost";class Ga extends t1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Ga(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Yr(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Yr(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Yr(t,i)}buildRequest(){const t={requestUri:tA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Po(i)}return t}}class e1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fo extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends Fo{constructor(){super("facebook.com")}static credential(t){return Ga._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ga._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends Fo{constructor(){super("github.com")}static credential(t){return Ga._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends Fo{constructor(){super("twitter.com")}static credential(t,i){return Ga._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function eA(s,t){return Cm(s,"POST","/v1/accounts:signUp",qo(s,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const c=await Zn._fromIdTokenResponse(t,r,o),d=h0(r);return new is({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=h0(r);return new is({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function h0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function nA(s){if(Un(s.app))return Promise.reject(Wi(s));const t=Ho(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await eA(t,{returnSecureToken:!0}),r=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class Xc extends rs{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Xc(t,i,r,o)}}function n1(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,r):c})}async function iA(s,t,i=!1){const r=await Do(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return is._forOperation(s,"link",r)}async function sA(s,t,i=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(Wi(r));const o="reauthenticate";try{const c=await Do(s,n1(r,o,t,s),i);Et(c.idToken,r,"internal-error");const d=Nm(c.idToken);Et(d,r,"internal-error");const{sub:g}=d;return Et(s.uid===g,r,"user-mismatch"),is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(r,"user-mismatch"),c}}async function aA(s,t,i=!1){if(Un(s.app))return Promise.reject(Wi(s));const r="signIn",o=await n1(s,r,t),c=await is._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function rA(s,t){return Cm(s,"POST","/v1/accounts:signInWithCustomToken",qo(s,t))}async function lA(s,t){if(Un(s.app))return Promise.reject(Wi(s));const i=Ho(s),r=await rA(i,{token:t,returnSecureToken:!0}),o=await is._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function oA(s,t,i,r){return We(s).onIdTokenChanged(t,i,r)}function uA(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function cA(s,t,i,r){return We(s).onAuthStateChanged(t,i,r)}const $c="__sak";class i1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hA=1e3,fA=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);z2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,fA):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}s1.type="LOCAL";const dA=s1;class a1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}a1.type="SESSION";const r1=a1;function mA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await mA(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Om(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class pA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Om("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function gA(s){xi().location.href=s}function l1(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function yA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _A(){return navigator?.serviceWorker?.controller||null}function vA(){return l1()?self:null}const o1="firebaseLocalStorageDb",EA=1,Jc="firebaseLocalStorage",u1="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function TA(){const s=indexedDB.deleteDatabase(o1);return new Go(s).toPromise()}function em(){const s=indexedDB.open(o1,EA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Jc,{keyPath:u1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Jc)?t(r):(r.close(),await TA(),t(await em()))})})}async function f0(s,t,i){const r=mh(s,!0).put({[u1]:t,value:i});return new Go(r).toPromise()}async function bA(s,t){const i=mh(s,!1).get(t),r=await new Go(i).toPromise();return r===void 0?null:r.value}function d0(s,t){const i=mh(s,!0).delete(t);return new Go(i).toPromise()}const SA=800,AA=3;class c1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>AA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(vA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yA(),!this.activeServiceWorker)return;this.sender=new pA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_A()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await f0(t,$c,"1"),await d0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>f0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>bA(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=mh(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c1.type="LOCAL";const wA=c1;new Bo(3e4,6e4);function xA(s,t){return t?Zi(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mm extends t1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yr(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Yr(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Yr(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function RA(s){return aA(s.auth,new Mm(s),s.bypassAuthState)}function CA(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),sA(i,new Mm(s),s.bypassAuthState)}async function NA(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),iA(i,new Mm(s),s.bypassAuthState)}class h1{constructor(t,i,r,o,c=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RA;case"linkViaPopup":case"linkViaRedirect":return NA;case"reauthViaPopup":case"reauthViaRedirect":return CA;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IA=new Bo(2e3,1e4);class Gr extends h1{constructor(t,i,r,o,c){super(t,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IA.get())};t()}}Gr.currentPopupAction=null;const DA="pendingRedirect",Vc=new Map;class OA extends h1{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const r=await MA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MA(s,t){const i=jA(t),r=VA(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function kA(s,t){Vc.set(s._key(),t)}function VA(s){return Zi(s._redirectPersistence)}function jA(s){return kc(DA,s.config.apiKey,s.name)}async function UA(s,t,i=!1){if(Un(s.app))return Promise.reject(Wi(s));const r=Ho(s),o=xA(r,t),d=await new OA(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const LA=600*1e3;class zA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PA(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!f1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LA&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function f1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function PA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(s);default:return!1}}async function BA(s,t={}){return rl(s,"GET","/v1/projects",t)}const qA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HA=/^https?/;async function FA(s){if(s.config.emulator)return;const{authorizedDomains:t}=await BA(s);for(const i of t)try{if(GA(i))return}catch{}es(s,"unauthorized-domain")}function GA(s){const t=Wd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!HA.test(i))return!1;if(qA.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const QA=new Bo(3e4,6e4);function p0(){const s=xi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function KA(s){return new Promise((t,i)=>{function r(){p0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(wi(s,"network-request-failed"))},timeout:QA.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const o=Y2("iframefcb");return xi()[o]=()=>{gapi.load?r():i(wi(s,"network-request-failed"))},Q2(`${K2()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function YA(s){return jc=jc||KA(s),jc}const XA=new Bo(5e3,15e3),$A="__/auth/iframe",JA="emulator/auth/iframe",ZA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tw(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Rm(t,JA):`https://${s.config.authDomain}/${$A}`,r={apiKey:t.apiKey,appName:s.name,v:al},o=WA.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Po(r).slice(1)}`}async function ew(s){const t=await YA(s),i=xi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:tw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZA,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=wi(s,"network-request-failed"),g=xi().setTimeout(()=>{c(d)},XA.get());function _(){xi().clearTimeout(g),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const nw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iw=500,sw=600,aw="_blank",rw="http://localhost";class g0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lw(s,t,i,r=iw,o=sw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...nw,width:r.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=Qv(y)?aw:i),Fv(y)&&(t=t||rw,_.scrollbars="yes");const S=Object.entries(_).reduce((x,[P,J])=>`${x}${P}=${J},`,"");if(L2(y)&&g!=="_self")return ow(t||"",g),new g0(null);const w=window.open(t||"",g,S);Et(w,s,"popup-blocked");try{w.focus()}catch{}return new g0(w)}function ow(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const uw="__/auth/handler",cw="emulator/auth/handler",hw=encodeURIComponent("fac");async function y0(s,t,i,r,o,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:al,eventId:o};if(t instanceof e1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",rS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Fo){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await s._getAppCheckToken(),y=_?`#${hw}=${encodeURIComponent(_)}`:"";return`${fw(s)}?${Po(g).slice(1)}${y}`}function fw({config:s}){return s.emulator?Rm(s,cw):`https://${s.authDomain}/${uw}`}const qd="webStorageSupport";class dw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=UA,this._overrideRedirectResult=kA}async _openPopup(t,i,r,o){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,r,Wd(),o);return lw(t,c,Om())}async _openRedirect(t,i,r,o){await this._originValidation(t);const c=await y0(t,i,r,Wd(),o);return gA(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ns(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await ew(t),r=new zA(t);return i.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},o=>{const c=o?.[0]?.[qd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=FA(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Gv()||Im()}}const mw=dw;var _0="@firebase/auth",v0="1.12.0";class pw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yw(s){Jr(new Fa("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zv(s)},y=new F2(r,o,c,_);return $2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Jr(new Fa("auth-internal",t=>{const i=Ho(t.getProvider("auth").getImmediate());return(r=>new pw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(_0,v0,gw(s)),$s(_0,v0,"esm2020")}const _w=300,vw=Cv("authIdTokenMaxAge")||_w;let E0=null;const Ew=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>vw)return;const o=i?.token;E0!==o&&(E0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Tw(s=wm()){const t=Am(s,"auth");if(t.isInitialized())return t.getImmediate();const i=X2(s,{popupRedirectResolver:mw,persistence:[wA,dA,r1]}),r=Cv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Ew(c.toString());uA(i,d,()=>d(i.currentUser)),oA(i,g=>d(g))}}const o=xv("auth");return o&&J2(i,`http://${o}`),i}function bw(){return document.getElementsByTagName("head")?.[0]??document}G2({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const c=wi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",bw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yw("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,d1;(function(){var s;function t(D,A){function R(){}R.prototype=A.prototype,D.F=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(k,M,j){for(var N=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)N[ee-2]=arguments[ee];return A.prototype[M].apply(k,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)k[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)k[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],M=D.g[2];let j=D.g[3],N;N=A+(j^R&(M^j))+k[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(M^A&(R^M))+k[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(R^j&(A^R))+k[2]+606105819&4294967295,M=j+(N<<17&4294967295|N>>>15),N=R+(A^M&(j^A))+k[3]+3250441966&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(j^R&(M^j))+k[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(M^A&(R^M))+k[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(R^j&(A^R))+k[6]+2821735955&4294967295,M=j+(N<<17&4294967295|N>>>15),N=R+(A^M&(j^A))+k[7]+4249261313&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(j^R&(M^j))+k[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(M^A&(R^M))+k[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(R^j&(A^R))+k[10]+4294925233&4294967295,M=j+(N<<17&4294967295|N>>>15),N=R+(A^M&(j^A))+k[11]+2304563134&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(j^R&(M^j))+k[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(M^A&(R^M))+k[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(R^j&(A^R))+k[14]+2792965006&4294967295,M=j+(N<<17&4294967295|N>>>15),N=R+(A^M&(j^A))+k[15]+1236535329&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(M^j&(R^M))+k[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^M&(A^R))+k[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(j^A))+k[11]+643717713&4294967295,M=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(M^j))+k[0]+3921069994&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(M^j&(R^M))+k[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^M&(A^R))+k[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(j^A))+k[15]+3634488961&4294967295,M=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(M^j))+k[4]+3889429448&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(M^j&(R^M))+k[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^M&(A^R))+k[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(j^A))+k[3]+4107603335&4294967295,M=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(M^j))+k[8]+1163531501&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(M^j&(R^M))+k[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^M&(A^R))+k[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(j^A))+k[7]+1735328473&4294967295,M=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(M^j))+k[12]+2368359562&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(R^M^j)+k[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^M)+k[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^R)+k[11]+1839030562&4294967295,M=j+(N<<16&4294967295|N>>>16),N=R+(M^j^A)+k[14]+4259657740&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(R^M^j)+k[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^M)+k[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^R)+k[7]+4139469664&4294967295,M=j+(N<<16&4294967295|N>>>16),N=R+(M^j^A)+k[10]+3200236656&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(R^M^j)+k[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^M)+k[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^R)+k[3]+3572445317&4294967295,M=j+(N<<16&4294967295|N>>>16),N=R+(M^j^A)+k[6]+76029189&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(R^M^j)+k[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^M)+k[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^R)+k[15]+530742520&4294967295,M=j+(N<<16&4294967295|N>>>16),N=R+(M^j^A)+k[2]+3299628645&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(M^(R|~j))+k[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~M))+k[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~R))+k[14]+2878612391&4294967295,M=j+(N<<15&4294967295|N>>>17),N=R+(j^(M|~A))+k[5]+4237533241&4294967295,R=M+(N<<21&4294967295|N>>>11),N=A+(M^(R|~j))+k[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~M))+k[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~R))+k[10]+4293915773&4294967295,M=j+(N<<15&4294967295|N>>>17),N=R+(j^(M|~A))+k[1]+2240044497&4294967295,R=M+(N<<21&4294967295|N>>>11),N=A+(M^(R|~j))+k[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~M))+k[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~R))+k[6]+2734768916&4294967295,M=j+(N<<15&4294967295|N>>>17),N=R+(j^(M|~A))+k[13]+1309151649&4294967295,R=M+(N<<21&4294967295|N>>>11),N=A+(M^(R|~j))+k[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~M))+k[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~R))+k[2]+718787259&4294967295,M=j+(N<<15&4294967295|N>>>17),N=R+(j^(M|~A))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.v=function(D,A){A===void 0&&(A=D.length);const R=A-this.blockSize,k=this.C;let M=this.h,j=0;for(;j<A;){if(M==0)for(;j<=R;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(k[M++]=D.charCodeAt(j++),M==this.blockSize){o(this,k),M=0;break}}else for(;j<A;)if(k[M++]=D[j++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)D[A++]=this.g[R]>>>k&255;return D};function c(D,A){var R=g;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function d(D,A){this.h=A;const R=[];let k=!0;for(let M=D.length-1;M>=0;M--){const j=D[M]|0;k&&j==A||(R[M]=j,k=!1)}this.g=R}var g={};function _(D){return-128<=D&&D<128?c(D,function(A){return new d([A|0],A<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return Z(y(-D));const A=[];let R=1;for(let k=0;D>=R;k++)A[k]=D/R|0,R*=4294967296;return new d(A,0)}function S(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return Z(S(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let k=w;for(let j=0;j<D.length;j+=8){var M=Math.min(8,D.length-j);const N=parseInt(D.substring(j,j+M),A);M<8?(M=y(Math.pow(A,M)),k=k.j(M).add(y(N))):(k=k.j(R),k=k.add(y(N)))}return k}var w=_(0),x=_(1),P=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Z(this).m();let D=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);D+=(k>=0?k:4294967296+k)*A,A*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(tt(this))return"-"+Z(this).toString(D);const A=y(Math.pow(D,6));var R=this;let k="";for(;;){const M=xt(R,A).g;R=rt(R,M.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=M,J(R))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function tt(D){return D.h==-1}s.l=function(D){return D=rt(this,D),tt(D)?-1:J(D)?0:1};function Z(D){const A=D.g.length,R=[];for(let k=0;k<A;k++)R[k]=~D.g[k];return new d(R,~D.h).add(x)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(D){const A=Math.max(this.g.length,D.g.length),R=[];let k=0;for(let M=0;M<=A;M++){let j=k+(this.i(M)&65535)+(D.i(M)&65535),N=(j>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);k=N>>>16,j&=65535,N&=65535,R[M]=N<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function rt(D,A){return D.add(Z(A))}s.j=function(D){if(J(this)||J(D))return w;if(tt(this))return tt(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(tt(D))return Z(this.j(Z(D)));if(this.l(P)<0&&D.l(P)<0)return y(this.m()*D.m());const A=this.g.length+D.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<D.g.length;M++){const j=this.i(k)>>>16,N=this.i(k)&65535,ee=D.i(M)>>>16,fe=D.i(M)&65535;R[2*k+2*M]+=N*fe,st(R,2*k+2*M),R[2*k+2*M+1]+=j*fe,st(R,2*k+2*M+1),R[2*k+2*M+1]+=N*ee,st(R,2*k+2*M+1),R[2*k+2*M+2]+=j*ee,st(R,2*k+2*M+2)}for(D=0;D<A;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=A;D<2*A;D++)R[D]=0;return new d(R,0)};function st(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function ot(D,A){this.g=D,this.h=A}function xt(D,A){if(J(A))throw Error("division by zero");if(J(D))return new ot(w,w);if(tt(D))return A=xt(Z(D),A),new ot(Z(A.g),Z(A.h));if(tt(A))return A=xt(D,Z(A)),new ot(Z(A.g),A.h);if(D.g.length>30){if(tt(D)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,k=A;k.l(D)<=0;)R=te(R),k=te(k);var M=It(R,1),j=It(k,1);for(k=It(k,2),R=It(R,2);!J(k);){var N=j.add(k);N.l(D)<=0&&(M=M.add(R),j=N),k=It(k,1),R=It(R,1)}return A=rt(D,M.j(A)),new ot(M,A)}for(M=w;D.l(A)>=0;){for(R=Math.max(1,Math.floor(D.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=y(R),N=j.j(A);tt(N)||N.l(D)>0;)R-=k,j=y(R),N=j.j(A);J(j)&&(j=x),M=M.add(j),D=rt(D,N)}return new ot(M,D)}s.B=function(D){return xt(this,D).h},s.and=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&D.i(k);return new d(R,this.h&D.h)},s.or=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|D.i(k);return new d(R,this.h|D.h)},s.xor=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^D.i(k);return new d(R,this.h^D.h)};function te(D){const A=D.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=D.i(k)<<1|D.i(k-1)>>>31;return new d(R,D.h)}function It(D,A){const R=A>>5;A%=32;const k=D.g.length-R,M=[];for(let j=0;j<k;j++)M[j]=A>0?D.i(j+R)>>>A|D.i(j+R+1)<<32-A:D.i(j+R);return new d(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Js=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m1,vo,p1,Uc,nm,g1,y1,_1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,q){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[U].apply(b,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=U[et]}else u.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const b=ot.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ot=new tt(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,It=!1,D=new st,A=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(R)}};function R(){for(var u;u=rt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ee,M),ee.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function C(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,v,b,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=vt(u,m,b,U);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new it(m,this.src,q,!!b,U),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function vt(u,m,v,b){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,v,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,b,U);return null}return v=dl(v),u&&u[fe]?u.J(m,v,g(b)?!!b.capture:!1,U):oa(u,m,v,!1,b,U)}function oa(u,m,v,b,U,q){if(!m)throw Error("Invalid event type");const et=g(U)?!!U.capture:!!U;let At=ua(u);if(At||(u[Lt]=At=new nt(u)),v=At.add(m,v,b,et,q),v.proxy)return v;if(b=Ja(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)j||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(ni(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ja(){function u(v){return m.call(u.src,u.listener,v)}const m=hl;return u}function Za(u,m,v,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Za(u,m[q],v,b,U);else b=g(b)?!!b.capture:!!b,v=dl(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=vt(m,v,b,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ua(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vt(m,v,b,U)),(v=u>-1?m[u]:null)&&Wa(v))}function Wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])mt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ni(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ua(m))?(mt(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ht(u)}}}function ni(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function hl(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Wa(u),u=v.call(b,m)}return u}function ua(u){return u=u[Lt],u instanceof nt?u:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(u){return typeof u=="function"?u:(u[fl]||(u[fl]=function(m){return u.handleEvent(m)}),u[fl])}function _e(){k.call(this),this.i=new nt(this),this.M=this,this.G=null}w(_e,k),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,v,b){Za(this,u,m,v,b)};function De(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(b,u),W(m,U)}U=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],U=ls(q,b,!0,m)&&U;if(q=m.g=u,U=ls(q,b,!0,m)&&U,U=ls(q,b,!1,m)&&U,v)for(et=0;et<v.length;et++)q=m.g=v[et],U=ls(q,b,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_e.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ls(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const At=et.listener,me=et.ha||et.src;et.fa&&mt(u.i,et),U=At.call(me,b)!==!1&&U}}return U&&!b.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(u){k.call(this),this.h=u,this.g={}}w(ca,k);var ml=[];function pl(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wa(m)},u),u.g={}}ca.prototype.N=function(){ca.Z.N.call(this),pl(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Oh=d.JSON.parse,Wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){M.call(this,"d")}w(ze,M);function Sn(){M.call(this,"c")}w(Sn,M);var de={},nu=null;function tr(){return nu=nu||new _e}de.Ia="serverreachability";function iu(u){M.call(this,de.Ia,u)}w(iu,M);function ii(u){const m=tr();De(m,new iu(m))}de.STAT_EVENT="statevent";function ha(u,m){M.call(this,de.STAT_EVENT,u),this.stat=m}w(ha,M);function ve(u){const m=tr();De(m,new ha(m,u))}de.Ja="timingevent";function si(u,m){M.call(this,de.Ja,u),this.size=m}w(si,M);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,U,q){u.info(function(){if(u.g)if(q){var et="",At=q.split("&");for(let Ht=0;Ht<At.length;Ht++){var me=At[Ht].split("=");if(me.length>1){const le=me[0];me=me[1];const Rn=le.split("_");et=Rn.length>=2&&Rn[1]=="type"?et+(le+"="+me+"&"):et+(le+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+et})}function su(u,m,v,b,U,q,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+et})}function ri(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(b?" "+b:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return os(q)}catch{return m}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function ma(){}w(ma,tu),ma.prototype.g=function(){return new XMLHttpRequest},yl=new ma;function Oi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function li(u,m,v){u.M=1,u.A=pa(be(m)),u.u=v,u.R=!0,er(u,null)}function er(u,m){u.F=Date.now(),oi(u),u.B=be(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ar(v.i,"t",b),u.C=0,v=u.j.L,u.h=new qn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ml[0]=U.toString()),U=ml);for(let q=0;q<U.length;q++){const et=re(v,U[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||At!=4||me==7||(me==8||Ht<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var q=b;break e}}q=null}if(u=q)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),An(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=lu(this,v),le==Ve){At==4&&(this.m=4,ve(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,le,null),ci(this,le);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ol(et),et.P=!0,ve(11))}}else ri(this.i,this.l,v,null),ci(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?gu(this.j,this):(this.o=!1,oi(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),An(this)}}}catch{}};function Vh(u){if(!ru(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let v="";const b=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ve:(v=Number(m.substring(v,b)),isNaN(v)?Ee:(b+=1,b+v>m.length?Ve:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function oi(u){u.T=Date.now()+u.H,nr(u,u.H)}function nr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fa(this.i,this.B),this.M!=2&&(ii(),ve(17)),dn(this),this.m=2,An(this)):nr(this,this.T-u)};function An(u){u.j.I==0||u.K||gu(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)cr(v),gs(v);else break t;ba(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&cr(v),!N(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const le=Ht[0];if(!(le<=v.K))if(v.K=le,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Rn=Ht[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const vi=Ht[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=Ht[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Kn=u.g;if(Kn){const Sa=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var q=b.h;q.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(El(q,q.h),q.h=null))}if(b.G){const hr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(b.wa=hr,Qt(b.J,b.G,hr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=vu(b,b.L?b.ba:null,b.W),et.L){Tl(b.h,et);var At=et,me=b.O;me&&(At.H=me),At.D&&(ui(At),oi(At)),b.g=et}else mu(b);v.i.length>0&&yi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||_i(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?_i(v,7):Il(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function _l(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_l.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return P(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,q=null;b>=0?(U=u[v].substring(0,b),q=u[v].substring(b+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,Sl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,je(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),us(this,m[4]),this.h=di(m[5]||"",!0),Sl(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ga(m,sr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ga(m,sr,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ga(v,v.charAt(0)=="/"?Al:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ga(v,cu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?je(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let et=0;et<U.length;){const At=U[et++];At=="."?b&&et==U.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==U.length&&q.push("")):(q.push(At),b=!0)}b=q.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Sl(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new mn(u)}function je(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Sl(u,m,v){m instanceof hs?(u.i=m,rr(u.i,u.l)):(v||(m=ga(m,cs)),u.i=new hs(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function pa(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ga(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sr=/[#\/\?@]/g,uu=/[#\?:]/g,Al=/[#\?]/g,cs=/[#\?@]/g,cu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ir(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hs.prototype,s.add=function(u,m){an(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){an(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wl(u,m){return an(u),m=fs(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function xl(u,m){an(u);let v=[];if(typeof m=="string")wl(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=fs(this,u),wl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xl(this,u),u.length>0?String(u[0]):m):m};function ar(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),P(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Oi(v);v=xl(this,v);for(let q=0;q<v.length;q++){let et=U;v[q]!==""&&(et+="="+Oi(v[q])),u.push(et)}}return this.i=u.join("&")};function fu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rr(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(hu(this,b),ar(this,U,v))},u)),u.j=m}function Hn(u,m){const v=new Pn;if(d.Image){const b=new Image;b.onload=S(wn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(wn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(wn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(wn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Rl(u,m){const v=new Pn,b=new AbortController,U=setTimeout(()=>{b.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function ds(){this.g=new Wo}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(mi,tu),mi.prototype.g=function(){return new ya(this.i,this.h)};function ya(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ya,_e),s=ya.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Fn(this),this.readyState==3&&lr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},s.Na=function(u){this.g&&(this.response=u,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return jt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function _a(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=xn(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,_e);var pi=/^https?$/i,Cl=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){va(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){va(this,q)}};function va(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Nl(u),Mi(u)}function Nl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},s.Xa=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let et=String(u.D).match(ou)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!pi.test(et?et.toLowerCase():"")}v=b}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Nl(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(N(u[b]))continue;var v=au(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}qt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){ve(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),yi(this)};function Il(u){if(or(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Ta(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=pa(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}_u(u)}function gs(u){u.g&&(Ol(u),u.g.cancel(),u.g=null)}function or(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),cr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!vl(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||A(),It||(te(),It=!0),D.add(m,u),u.D=0}}function ur(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=C(q),W(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Ta(this,v),q&&(this.R?m="headers="+Oi(xn(q))+"&"+m:this.u&&_a(v,this.u,q)),El(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),U.U=!0,li(U,v,null)):li(U,v,m),this.I=2}}else this.I==3&&(u?Dl(this,u):this.i.length==0||vl(this.h)||Dl(this))};function Dl(u,m){var v;m?v=m.l:v=u.V++;const b=be(u.J);Qt(b,"SID",u.M),Qt(b,"RID",v),Qt(b,"AID",u.K),Ta(u,b),u.u&&u.o&&_a(b,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),li(v,b,m)}function Ta(u,m){u.H&&jt(u.H,function(v,b){Qt(m,b,v)}),u.l&&jt({},function(v,b){Qt(m,b,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const me=["count="+v];At==-1?v>0?(At=U[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let Ht=!0;for(let le=0;le<v;le++){var q=U[le].g;const Rn=U[le].map;if(q-=At,q<0)At=Math.max(0,U[le].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var et=Rn instanceof Map?Rn:Object.entries(Rn);for(const[vi,Qn]of et){let Kn=Qn;g(Qn)&&(Kn=os(Qn)),me.push(q+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw me.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{b&&b(Rn)}}if(Ht){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||A(),It||(te(),It=!0),D.add(m,u),u.A=0}}function ba(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),gs(this),pu(this))};function Ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ta(u,m),u.u&&u.o&&_a(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=pa(be(m)),v.u=null,v.R=!0,er(v,u)}s.Va=function(){this.C!=null&&(this.C=null,gs(this),ba(this),ve(19))};function cr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){cr(u),Ol(u),u.g=null;var b=2}else if(fi(u.h,m))v=m.G,Tl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=tr(),De(b,new si(b,v)),yi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ur(u,m)||b==2&&ba(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const U=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(b,"https"),pa(b),U?Hn(b.toString(),v):Rl(b.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),_u(u),or(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var b=v instanceof mn?be(v):new mn(v);if(b.g!="")m&&(b.g=m+"."+b.g),us(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new mn(null);b&&je(q,b),m&&(q.g=m),U&&us(q,U),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Qt(b,v,m),Qt(b,"VER",u.ka),Ta(u,b),b}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Il(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=os(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,en.Z.N.call(this)};function bu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,ze);function Su(){Sn.call(this),this.status=1}w(Su,Sn);function Vi(u){this.g=u}w(Vi,Tu),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new bu(u))},Vi.prototype.pa=function(u){De(this.g,new Su)},Vi.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_1=function(){return new ys},y1=function(){return tr()},g1=de,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Uc=da,gl.COMPLETE="complete",p1=gl,eu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,vo=eu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,m1=Xt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ll="12.8.0";function Sw(s){ll=s}const Qa=new bm("@firebase/firestore");function Br(){return Qa.logLevel}function at(s,...t){if(Qa.logLevel<=Mt.DEBUG){const i=t.map(km);Qa.debug(`Firestore (${ll}): ${s}`,...i)}}function ss(s,...t){if(Qa.logLevel<=Mt.ERROR){const i=t.map(km);Qa.error(`Firestore (${ll}): ${s}`,...i)}}function Zr(s,...t){if(Qa.logLevel<=Mt.WARN){const i=t.map(km);Qa.warn(`Firestore (${ll}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,v1(s,r,i)}function v1(s,t,i){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ss(r),new Error(r)}function Gt(s,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||v1(t,o,r)}function St(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends rs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class E1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Aw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class ww{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new E1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Rw{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Cw{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Rw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new b0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Iw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Iw(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=t.charAt(o[c]%62))}return r}}function kt(s,t){return s<t?-1:s>t?1:0}function im(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=t.charAt(r);if(o!==c)return Hd(o)===Hd(c)?kt(o,c):Hd(o)?1:-1}return kt(s.length,t.length)}const Dw=55296,Ow=57343;function Hd(s){const t=s.charCodeAt(0);return t>=Dw&&t<=Ow}function Wr(s,t,i){return s.length===t.length&&s.every(((r,o)=>i(r,t[o])))}const S0="__name__";class Ai{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const c=Ai.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const r=Ai.isNumericId(t),o=Ai.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class se extends Ai{construct(t,i,r){return new se(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const Mw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return Mw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S0}static keyField(){return new Qe([S0])}static fromServerFormat(t){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(se.fromString(t))}static fromName(t){return new pt(se.fromString(t).popFirst(5))}static empty(){return new pt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new se(t.slice()))}}function T1(s,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function kw(s,t,i,r){if(t===!0&&r===!0)throw new ct($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function A0(s){if(!pt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function w0(s){if(pt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function b1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Wn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(s);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function Qo(s,t){if(!b1(s))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,R0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*R0);return new ae(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<x0)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qo(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oo=-1;function Vw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new ta(o,pt.empty(),t)}function jw(s){return new ta(s.readTime,s.key,Oo)}class ta{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new ta(Tt.min(),pt.empty(),Oo)}static max(){return new ta(Tt.max(),pt.empty(),Oo)}}function Uw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:kt(s.largestBatchId,t.largestBatchId))}const Lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ol(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Lw)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,o)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++g,g===c&&r(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new X(((r,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):r()};c()}))}}function Pw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Um=-1;function gh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function Bw(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const S1="";function qw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=C0(t)),t=Hw(s.get(i),t);return C0(t)}function Hw(s,t){let i=t;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case S1:i+="";break;default:i+=c}}return i}function C0(s){return s+S1+""}function N0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ra(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function A1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,c){return new Ge(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,o,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(t){return new I0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class I0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new ke(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wr(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new w1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=Fw.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function na(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const x1="server_timestamp",R1="__type__",C1="__previous_value__",N1="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[R1]?.stringValue===x1}function yh(s){const t=s.mapValue.fields[C1];return Lm(t)?yh(t):t}function Mo(s){const t=ea(s.mapValue.fields[N1].timestampValue);return new ae(t.seconds,t.nanos)}class Gw{constructor(t,i,r,o,c,d,g,_,y,S,w){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=w}}const Wc="(default)";class ko{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof ko&&t.projectId===this.projectId&&t.database===this.database}}function Qw(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(s.options.projectId,t)}const I1="__type__",Kw="__max__",Ic={mapValue:{}},D1="__vector__",th="value";function ia(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:Xw(s)?9007199254740991:Yw(s)?10:11:_t(28295,{value:s})}function Ii(s,t){if(s===t)return!0;const i=ia(s);if(i!==ia(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Mo(s).isEqual(Mo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ea(o.timestampValue),g=ea(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return na(o.bytesValue).isEqual(na(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Wr(s.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(N0(d)!==N0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ii(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Vo(s,t){return(s.values||[]).find((i=>Ii(i,t)))!==void 0}function tl(s,t){if(s===t)return 0;const i=ia(s),r=ia(t);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),_=ye(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return D0(s.timestampValue,t.timestampValue);case 4:return D0(Mo(s),Mo(t));case 5:return im(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=na(c),_=na(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=kt(g[y],_[y]);if(S!==0)return S}return kt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=kt(ye(c.latitude),ye(d.latitude));return g!==0?g:kt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return O0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[th]?.arrayValue,S=_[th]?.arrayValue,w=kt(y?.values?.length||0,S?.values?.length||0);return w!==0?w:O0(y,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const x=im(_[w],S[w]);if(x!==0)return x;const P=tl(g[_[w]],y[S[w]]);if(P!==0)return P}return kt(_.length,S.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function D0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const i=ea(s),r=ea(t),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function O0(s,t){const i=s.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=tl(i[o],r[o]);if(c)return c}return kt(i.length,r.length)}function el(s){return sm(s)}function sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ea(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return na(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=sm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${sm(i.fields[d])}`;return o+"}"})(s.mapValue):_t(61005,{value:s})}function Lc(s){switch(ia(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return na(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ra(r.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(s.mapValue);default:throw _t(13486,{value:s})}}function am(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function M0(s){return!!s&&"nullValue"in s}function k0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function Yw(s){return(s?.mapValue?.fields||{})[I1]?.stringValue===D1}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ra(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=wo(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(s.arrayValue.values[i]);return t}return{...s}}function Xw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Kw}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=Qe.emptyPath(),r={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=wo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){ra(i,((o,c)=>t[o]=c));for(const o of r)delete t[o]}clone(){return new fn(wo(this.value))}}function O1(s){const t=[];return ra(s.fields,((i,r)=>{const o=new Qe([i]);if(zc(r)){const c=O1(r.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new bn(t)}class Je{constructor(t,i,r,o,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),fn.empty(),0)}static newFoundDocument(t,i,r,o){return new Je(t,1,i,Tt.min(),r,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Tt.min(),Tt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Tt.min(),Tt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function V0(s,t,i){let r=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=tl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function j0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function $w(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class M1{}class Me extends M1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Zw(t,i,r):i==="array-contains"?new ex(t,r):i==="in"?new nx(t,r):i==="not-in"?new ix(t,r):i==="array-contains-any"?new sx(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Ww(t,r):new tx(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&ia(this.value)===ia(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends M1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return k1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(s){return s.op==="and"}function V1(s){return Jw(s)&&k1(s)}function Jw(s){for(const t of s.filters)if(t instanceof Di)return!1;return!0}function rm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+el(s.value);if(V1(s))return s.filters.map((t=>rm(t))).join(",");{const t=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${t})`}}function j1(s,t){return s instanceof Me?(function(r,o){return o instanceof Me&&r.op===o.op&&r.field.isEqual(o.field)&&Ii(r.value,o.value)})(s,t):s instanceof Di?(function(r,o){return o instanceof Di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&j1(d,o.filters[g])),!0):!1})(s,t):void _t(19439)}function U1(s){return s instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(s):s instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(U1).join(" ,")+"}"})(s):"Filter"}class Zw extends Me{constructor(t,i,r){super(t,i,r),this.key=pt.fromName(r.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ww extends Me{constructor(t,i){super(t,"in",i),this.keys=L1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tx extends Me{constructor(t,i){super(t,"not-in",i),this.keys=L1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function L1(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class ex extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&Vo(i.arrayValue,this.value)}}class nx extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class ix extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class sx extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Vo(this.value.arrayValue,r)))}}class ax{constructor(t,i=null,r=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function U0(s,t=null,i=[],r=[],o=null,c=null,d=null){return new ax(s,t,i,r,o,c,d)}function Pm(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>rm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>el(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>el(r))).join(",")),t.Te=i}return t.Te}function Bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!$w(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!j1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!j0(s.startAt,t.startAt)&&j0(s.endAt,t.endAt)}function lm(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(t,i=null,r=[],o=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rx(s,t,i,r,o,c,d,g){return new _h(s,t,i,r,o,c,d,g)}function qm(s){return new _h(s)}function L0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function lx(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function ox(s){return s.collectionGroup!==null}function xo(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new nh(Qe.keyField(),r))}return t.Ie}function Ri(s){const t=St(s);return t.Ee||(t.Ee=ux(t,xo(s))),t.Ee}function ux(s,t){if(s.limitType==="F")return U0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return U0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function om(s,t,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vh(s,t){return Bm(Ri(s),Ri(t))&&s.limitType===t.limitType}function z1(s){return`${Pm(Ri(s))}|lt:${s.limitType}`}function qr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>U1(o))).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Eh(s,t){return t.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,o){for(const c of xo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(d,g,_){const y=V0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,xo(r),o)||r.endAt&&!(function(d,g,_){const y=V0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,xo(r),o))})(s,t)}function cx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function P1(s){return(t,i)=>{let r=!1;for(const o of xo(s)){const c=hx(o,t,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function hx(s,t,i){const r=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?tl(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class Xa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ra(this.inner,((i,r)=>{for(const[o,c]of r)t(o,c)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const fx=new ue(pt.comparator);function as(){return fx}const B1=new ue(pt.comparator);function Eo(...s){let t=B1;for(const i of s)t=t.insert(i.key,i);return t}function q1(s){let t=B1;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Pa(){return Ro()}function H1(){return Ro()}function Ro(){return new Xa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const dx=new ue(pt.comparator),mx=new ke(pt.comparator);function Vt(...s){let t=mx;for(const i of s)t=t.add(i);return t}const px=new ke(kt);function gx(){return px}function Hm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function F1(s){return{integerValue:""+s}}function yx(s,t){return Bw(t)?F1(t):Hm(s,t)}class Th{constructor(){this._=void 0}}function _x(s,t,i){return s instanceof ih?(function(o,c){const d={fields:{[R1]:{stringValue:x1},[N1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=yh(c)),c&&(d.fields[C1]=c),{mapValue:d}})(i,t):s instanceof jo?Q1(s,t):s instanceof Uo?K1(s,t):(function(o,c){const d=G1(o,c),g=z0(d)+z0(o.Ae);return am(d)&&am(o.Ae)?F1(g):Hm(o.serializer,g)})(s,t)}function vx(s,t,i){return s instanceof jo?Q1(s,t):s instanceof Uo?K1(s,t):i}function G1(s,t){return s instanceof sh?(function(r){return am(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ih extends Th{}class jo extends Th{constructor(t){super(),this.elements=t}}function Q1(s,t){const i=Y1(t);for(const r of s.elements)i.some((o=>Ii(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Uo extends Th{constructor(t){super(),this.elements=t}}function K1(s,t){let i=Y1(t);for(const r of s.elements)i=i.filter((o=>!Ii(o,r)));return{arrayValue:{values:i}}}class sh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function z0(s){return ye(s.integerValue||s.doubleValue)}function Y1(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Ex(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof jo&&o instanceof jo||r instanceof Uo&&o instanceof Uo?Wr(r.elements,o.elements,Ii):r instanceof sh&&o instanceof sh?Ii(r.Ae,o.Ae):r instanceof ih&&o instanceof ih})(s.transform,t.transform)}class Tx{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function X1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Fm(s.key,ti.none()):new Ko(s.key,s.data,ti.none());{const i=s.data,r=fn.empty();let o=new ke(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new la(s.key,r,new bn(o.toArray()),ti.none())}}function bx(s,t,i){s instanceof Ko?(function(o,c,d){const g=o.value.clone(),_=B0(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof la?(function(o,c,d){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=B0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll($1(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Co(s,t,i,r){return s instanceof Ko?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),S=q0(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof la?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=q0(c.fieldTransforms,_,d),S=d.data;return S.setAll($1(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,r):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function Sx(s,t){let i=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),c=G1(r.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(r.field,c))}return i||null}function P0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Wr(r,o,((c,d)=>Ex(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ko extends bh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends bh{constructor(t,i,r,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function B0(s,t,i){const r=new Map;Gt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=t.data.field(c.field);r.set(c.field,vx(d,g,i[o]))}return r}function q0(s,t,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,_x(c,d,t))}return r}class Fm extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wx{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&bx(c,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Co(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Co(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=H1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=X1(d,g);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Wr(this.mutations,t.mutations,((i,r)=>P0(i,r)))&&Wr(this.baseMutations,t.baseMutations,((i,r)=>P0(i,r)))}}class Gm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return dx})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Gm(t,i,r,o)}}class xx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Rx{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,zt;function Cx(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function J1(s){if(s===void 0)return ss("GRPC error has no .code"),$.UNKNOWN;switch(s){case Re.OK:return $.OK;case Re.CANCELLED:return $.CANCELLED;case Re.UNKNOWN:return $.UNKNOWN;case Re.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Re.INTERNAL:return $.INTERNAL;case Re.UNAVAILABLE:return $.UNAVAILABLE;case Re.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Re.NOT_FOUND:return $.NOT_FOUND;case Re.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Re.ABORTED:return $.ABORTED;case Re.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Re.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function Nx(){return new TextEncoder}const Ix=new Js([4294967295,4294967295],0);function H0(s){const t=Nx().encode(s),i=new d1;return i.update(t),new Uint8Array(i.digest())}function F0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Js([i,r],0),new Js([o,c],0)]}class Qm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Js.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Js.fromNumber(r)));return o.compare(Ix)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=H0(t),[r,o]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=H0(t),[r,o]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,r,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Yo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sh(Tt.min(),o,new ue(kt),as(),Vt())}}class Yo{constructor(t,i,r,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Yo(r,i,Vt(),Vt(),Vt())}}class Bc{constructor(t,i,r,o){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=o}}class Z1{constructor(t,i){this.targetId=t,this.Ce=i}}class W1{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class G0{constructor(){this.ve=0,this.Fe=Q0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:c})}})),new Yo(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=Q0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Dx{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(lm(c))if(r===0){const d=new pt(c.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=na(r).toUint8Array()}catch(_){if(_ instanceof w1)return Zr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Qm(d,o,c)}catch(_){return Zr(_ instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Vt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Sh(t,i,this.Ze,this.je,r);return this.je=as(),this.He=Dc(),this.Je=Dc(),this.Ze=new ue(kt),o}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new G0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ke(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ke(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new G0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ue(pt.comparator)}function Q0(){return new ue(pt.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kx={and:"AND",or:"OR"};class Vx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function jx(s,t){return ah(s,t.toTimestamp())}function Ci(s){return Gt(!!s,49232),Tt.fromTimestamp((function(i){const r=ea(i);return new ae(r.seconds,r.nanos)})(s))}function Km(s,t){return cm(s,t).canonicalString()}function cm(s,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function eE(s){const t=se.fromString(s);return Gt(rE(t),10190,{key:t.toString()}),t}function hm(s,t){return Km(s.databaseId,t.path)}function Fd(s,t){const i=eE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(iE(i))}function nE(s,t){return Km(s.databaseId,t)}function Ux(s){const t=eE(s);return t.length===4?se.emptyPath():iE(t)}function fm(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function iE(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function K0(s,t,i){return{name:hm(s,t),fields:i.value.mapValue.fields}}function Lx(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Gt(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?$.UNKNOWN:J1(y.code);return new ct(S,y.message||"")})(d);i=new W1(r,o,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fd(s,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):Tt.min(),g=new fn({mapValue:{fields:r.document.fields}}),_=Je.newFoundDocument(o,c,d,g),y=r.targetIds||[],S=r.removedTargetIds||[];i=new Bc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Fd(s,r.document),c=r.readTime?Ci(r.readTime):Tt.min(),d=Je.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Fd(s,r.document),c=r.removedTargetIds||[];i=new Bc([],c,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new Rx(o,c),g=r.targetId;i=new Z1(g,d)}}return i}function zx(s,t){let i;if(t instanceof Ko)i={update:K0(s,t.key,t.value)};else if(t instanceof Fm)i={delete:hm(s,t.key)};else if(t instanceof la)i={update:K0(s,t.key,t.data),updateMask:Yx(t.fieldMask)};else{if(!(t instanceof Ax))return _t(16599,{dt:t.type});i={verify:hm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:jx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function Px(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ci(o.updateTime):Ci(c);return d.isEqual(Tt.min())&&(d=Ci(c)),new Tx(d,o.transformResults||[])})(i,t)))):[]}function Bx(s,t){return{documents:[nE(s,t.path)]}}function qx(s,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=nE(s,o);const c=(function(y){if(y.length!==0)return aE(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(x){return{field:Hr(x.field),direction:Gx(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=um(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function Hx(s){let t=Ux(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const x=sE(w);return x instanceof Di&&V1(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((x=>(function(J){return new nh(Fr(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let x;return x=typeof w=="object"?w.value:w,gh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(w){const x=!!w.before,P=w.values||[];return new eh(P,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const x=!w.before,P=w.values||[];return new eh(P,x)})(i.endAt)),rx(t,o,d,c,g,"F",_,y)}function Fx(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fr(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fr(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fr(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fr(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Me.create(Fr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((r=>sE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function Gx(s){return Ox[s]}function Qx(s){return Mx[s]}function Kx(s){return kx[s]}function Hr(s){return{fieldPath:s.canonicalString()}}function Fr(s){return Qe.fromServerFormat(s.fieldPath)}function aE(s){return s instanceof Me?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NAN"}};if(M0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NAN"}};if(M0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(i.field),op:Qx(i.op),value:i.value}}})(s):s instanceof Di?(function(i){const r=i.getFilters().map((o=>aE(o)));return r.length===1?r[0]:{compositeFilter:{op:Kx(i.op),filters:r}}})(s):_t(54877,{filter:s})}function Yx(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function rE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function lE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ks{constructor(t,i,r,o,c=Tt.min(),d=Tt.min(),g=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Xx{constructor(t){this.yt=t}}function $x(s){const t=Hx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}class Jx{constructor(){this.Sn=new Zx}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(ta.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(ta.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Zx{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new ke(se.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ke(se.comparator)).toArray()}}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(oE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class nl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const X0="LruGarbageCollector",Wx=1048576;function $0([s,t],[i,r]){const o=kt(s,i);return o===0?kt(t,r):o}class tR{constructor(t){this.Pr=t,this.buffer=new ke($0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();$0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class eR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(X0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?at(X0,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Ar(3e5)}))}}class nR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ph.ce);const r=new tR(i);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Y0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,o,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(r=w,g=Date.now(),this.removeTargets(t,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(y=Date.now(),Br()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function iR(s,t){return new nR(s,t)}class sR{constructor(){this.changes=new Xa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class aR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rR{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Co(r.mutation,o,bn.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const o=Pa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((c=>{let d=Eo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Pa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,o){let c=as();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((_,y)=>{const S=r.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof la)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Co(S.mutation,y,S.mutation.getFieldMask(),ae.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new aR(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Ro();let o=new ue(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=r.get(_)||bn.empty();S=g.applyToLocalView(y,S),r.set(_,S);const w=(o.get(g.batchId)||Vt()).add(_);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,w=H1();S.forEach((x=>{if(!c.has(x)){const P=X1(i.get(x),r.get(x));P!==null&&w.set(x,P),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return lx(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ox(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-c.size):X.resolve(Pa());let g=Oo,_=c;return d.next((y=>X.forEach(y,((S,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{_=_.insert(S,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((S=>({batchId:g,changes:q1(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((r=>{let o=Eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const c=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(w,x){return new _h(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((S=>{S.forEach(((w,x)=>{d=d.insert(w,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,o)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let g=Eo();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Co(S.mutation,y,bn.empty(),ae.now()),Eh(i,y)&&(g=g.insert(_,y))})),g}))}}class lR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:$x(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),X.resolve()}}class oR{constructor(){this.overlays=new ue(pt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Pa();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const o=Pa(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let c=new ue(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let S=c.get(y.largestBatchId);S===null&&(S=Pa(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Pa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return X.resolve(g)}bt(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new xx(i,r));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class uR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.kr=new ke(Le.Kr),this.qr=new ke(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new pt(new se([])),r=new Le(i,t),o=new Le(i,t+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new pt(new se([])),r=new Le(i,t),o=new Le(i,t+1);let c=Vt();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return pt.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}class cR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ke(Le.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wx(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(kt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let c=r;pt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new pt(c),0);let g=new ke(kt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Le(i,0),o=this.Jr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hR{constructor(t){this.ti=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=as();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let c=as();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Uw(jw(S),r)<=0||(o.has(S.key)||Eh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,o){_t(9500)}ni(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new fR(this)}getSize(t){return X.resolve(this.size)}}class fR extends sR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class dR{constructor(t){this.persistence=t,this.ri=new Xa((i=>Pm(i)),Bm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Ym,this.targetCount=0,this.oi=nl._r()}forEachTarget(t,i){return this.ri.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new nl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),X.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class uE{constructor(t,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new uR,this.referenceDelegate=t(this),this.li=new dR(this),this.indexManager=new Jx,this.remoteDocumentCache=(function(o){return new hR(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Xx(i),this.Pi=new lR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new cR(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const o=new mR(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class mR extends zw{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Ym,this.Ai=null}static Vi(t){return new Xm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const o=pt.fromPath(r);return this.mi(t,o).next((c=>{c||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new Xa((r=>qw(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=iR(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,r){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=o}static Es(t,i){let r=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $m(t,i.fromCache,r,o)}}class pR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tS()?8:Pw(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new pR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,r,o){return r.documentReadCount<this.Vs?(Br()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",qr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Br()<=Mt.DEBUG&&at("QueryEngine","Query:",qr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Br()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",qr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):X.resolve())}gs(t,i){if(L0(i))return X.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=om(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,r,o){return L0(i)||o.isEqual(Tt.min())?X.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?X.resolve(null):(Br()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qr(i)),this.Ds(t,d,i,Vw(o,Oo)).next((g=>g)))}))}bs(t,i){let r=new ke(P1(t));return i.forEach(((o,c)=>{Eh(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,r){return Br()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",qr(i)),this.fs.getDocumentsMatchingQuery(t,i,ta.min(),r)}Ds(t,i,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",yR=3e8;class _R{constructor(t,i,r,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ue(kt),this.Fs=new Xa((c=>Pm(c)),Bm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function vR(s,t,i,r){return new _R(s,t,i,r)}async function cE(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Vt();for(const y of o){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function ER(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const w=y.batch,x=w.keys();let P=X.resolve();return x.forEach((J=>{P=P.next((()=>S.getEntry(_,J))).next((tt=>{const Z=y.docVersions.get(J);Gt(Z!==null,48541),tt.version.compareTo(Z)<0&&(w.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),S.addEntry(tt)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function hE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function TR(s,t){const i=St(s),r=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((S,w)=>{const x=o.get(w);if(!x)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let P=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?P=P.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(S.resumeToken,r)),o=o.insert(w,P),(function(tt,Z,rt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=yR?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(x,P,S)&&g.push(i.li.updateTargetData(c,P))}));let _=as(),y=Vt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(bR(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!r.isEqual(Tt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function bR(s,t,i){let r=Vt(),o=Vt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=as();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(Jm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function SR(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function AR(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,t).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ks(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function dm(s,t,i){const r=St(s),o=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;at(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function J0(s,t,i){const r=St(s);let o=Tt.min(),c=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const w=St(_),x=w.Fs.get(S);return x!==void 0?X.resolve(w.vs.get(x)):w.li.getTargetData(y,S)})(r,d,Ri(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?c:Vt()))).next((g=>(wR(r,cx(t),g),{documents:g,ks:c})))))}function wR(s,t,i){let r=s.Ms.get(t)||Tt.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class Z0{constructor(){this.activeTargetIds=gx()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xR{constructor(){this.vo=new Z0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Z0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RR{Mo(t){}shutdown(){}}const W0="ConnectivityMonitor";class tv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(W0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(W0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function mm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Gd="RestConnection",CR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class NR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,i,r,o,c){const d=mm(),g=this.Qo(t,i.toUriEncodedString());at(Gd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),S=sl(y);return this.zo(t,g,_,r,S).then((w=>(at(Gd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Zr(Gd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}jo(t,i,r,o,c,d){return this.Wo(t,i,r,o,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),r&&r.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const r=CR[t];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class IR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",_o=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Xr extends NR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Xr.c_){const t=y1();_o(t,g1.STAT_EVENT,(i=>{i.stat===nm.PROXY?at(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&at(Xe,"STAT_EVENT: detected no buffering proxy")})),Xr.c_=!0}}zo(t,i,r,o,c){const d=mm();return new Promise(((g,_)=>{const y=new m1;y.setWithCredentials(!0),y.listenOnce(p1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const w=y.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Uc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),_(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const x=y.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P?.error;if(J&&J.status&&J.message){const tt=(function(rt){const st=rt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(st)>=0?st:$.UNKNOWN})(J.status);_(new ct(tt,J.message))}else _(new ct($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);at(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",S,r,15)}))}T_(t,i,r){const o=mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");at(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,g);const S=d.createWebChannel(y,g);this.I_(S);let w=!1,x=!1;const P=new IR({Ho:J=>{x?at(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(w||(at(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),at(Xe,`RPC '${t}' stream ${o} sending:`,J),S.send(J))},Jo:()=>S.close()});return _o(S,vo.EventType.OPEN,(()=>{x||(at(Xe,`RPC '${t}' stream ${o} transport opened.`),P.i_())})),_o(S,vo.EventType.CLOSE,(()=>{x||(x=!0,at(Xe,`RPC '${t}' stream ${o} transport closed`),P.o_(),this.E_(S))})),_o(S,vo.EventType.ERROR,(J=>{x||(x=!0,Zr(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),P.o_(new ct($.UNAVAILABLE,"The operation could not be completed")))})),_o(S,vo.EventType.MESSAGE,(J=>{if(!x){const tt=J.data[0];Gt(!!tt,16349);const Z=tt,rt=Z?.error||Z[0]?.error;if(rt){at(Xe,`RPC '${t}' stream ${o} received error:`,rt);const st=rt.status;let ot=(function(It){const D=Re[It];if(D!==void 0)return J1(D)})(st),xt=rt.message;ot===void 0&&(ot=$.INTERNAL,xt="Unknown error status: "+st+" with message "+rt.message),x=!0,P.o_(new ct(ot,xt)),S.close()}else at(Xe,`RPC '${t}' stream ${o} received:`,tt),P.__(tt)}})),Xr.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _1()}}function DR(s){return new Xr(s)}function Qd(){return typeof document<"u"?document:null}function Ah(s){return new Vx(s,!0)}Xr.c_=!1;class fE{constructor(t,i,r=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ev="PersistentStream";class dE{constructor(t,i,r,o,c,d,g,_){this.Ci=t,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new ct($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(ev,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OR extends dE{constructor(t,i,r,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Lx(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ci(d.readTime):Tt.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=lm(_)?{documents:Bx(c,_)}:{query:qx(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=tE(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=Fx(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.K_(i)}}class MR extends dE{constructor(t,i,r,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Px(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=fm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>zx(this.serializer,r)))};this.K_(i)}}class kR{}class VR extends kR{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())}))}jo(t,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,cm(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function jR(s,t,i,r){return new VR(s,t,i,r)}class UR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class LR{constructor(t,i,r,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{$a(this)&&(at(Ka,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Xo(y),y.Va.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Va=new UR(r,o)}}async function wh(s){if($a(s))for(const t of s.Ra)await t(!0)}async function Xo(s){for(const t of s.Ra)await t(!1)}function mE(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ep(i)?tp(i):cl(i).O_()&&Wm(i,t))}function Zm(s,t){const i=St(s),r=cl(i);i.Ia.delete(t),r.O_()&&pE(i,t),i.Ia.size===0&&(r.O_()?r.L_():$a(i)&&i.Va.set("Unknown"))}function Wm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}cl(s).Z_(t)}function pE(s,t){s.da.$e(t),cl(s).X_(t)}function tp(s){s.da=new Dx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),cl(s).start(),s.Va.ua()}function ep(s){return $a(s)&&!cl(s).x_()&&s.Ia.size>0}function $a(s){return St(s).Ea.size===0}function gE(s){s.da=void 0}async function zR(s){s.Va.set("Online")}async function PR(s){s.Ia.forEach(((t,i)=>{Wm(s,t)}))}async function BR(s,t){gE(s),ep(s)?(s.Va.ha(t),tp(s)):s.Va.set("Unknown")}async function qR(s,t,i){if(s.Va.set("Online"),t instanceof W1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,t)}catch(r){at(Ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lh(s,r)}else if(t instanceof Bc?s.da.Xe(t):t instanceof Z1?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const r=await hE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),pE(c,_);const w=new Ks(S.target,_,y,S.sequenceNumber);Wm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(Ka,"Failed to raise snapshot:",r),await lh(s,r)}}async function lh(s,t,i){if(!ul(t))throw t;s.Ea.add(1),await Xo(s),s.Va.set("Offline"),i||(i=()=>hE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Ka,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function yE(s,t){return t().catch((i=>lh(s,i,t)))}async function xh(s){const t=St(s),i=sa(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;HR(t);)try{const o=await SR(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,FR(t,o)}catch(o){await lh(t,o)}_E(t)&&vE(t)}function HR(s){return $a(s)&&s.Ta.length<10}function FR(s,t){s.Ta.push(t);const i=sa(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function _E(s){return $a(s)&&!sa(s).x_()&&s.Ta.length>0}function vE(s){sa(s).start()}async function GR(s){sa(s).ra()}async function QR(s){const t=sa(s);for(const i of s.Ta)t.ea(i.mutations)}async function KR(s,t,i){const r=s.Ta.shift(),o=Gm.from(r,t,i);await yE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xh(s)}async function YR(s,t){t&&sa(s).Y_&&await(async function(r,o){if((function(d){return Cx(d)&&d!==$.ABORTED})(o.code)){const c=r.Ta.shift();sa(r).B_(),await yE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(r)}})(s,t),_E(s)&&vE(s)}async function nv(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),at(Ka,"RemoteStore received new credentials");const r=$a(i);i.Ea.add(3),await Xo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function XR(s,t){const i=St(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Xo(i),i.Va.set("Unknown"))}function cl(s){return s.ma||(s.ma=(function(i,r,o){const c=St(i);return c.sa(),new OR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:zR.bind(null,s),Yo:PR.bind(null,s),t_:BR.bind(null,s),J_:qR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),ep(s)?tp(s):s.Va.set("Unknown")):(await s.ma.stop(),gE(s))}))),s.ma}function sa(s){return s.fa||(s.fa=(function(i,r,o){const c=St(i);return c.sa(),new MR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GR.bind(null,s),t_:YR.bind(null,s),ta:QR.bind(null,s),na:KR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Ka,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class np{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const d=Date.now()+r,g=new np(t,i,d,o,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(s,t){if(ss("AsyncQueue",`${t}: ${s}`),ul(s))return new ct($.UNAVAILABLE,`${t}: ${s}`);throw s}class $r{static emptySet(t){return new $r(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=Eo(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $r)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new $r;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class iv{constructor(){this.ga=new ue(pt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class il{constructor(t,i,r,o,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new il(t,i,$r.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class $R{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class JR{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=St(i),c=o.queries;o.queries=sv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new ct($.ABORTED,"Firestore shutting down"))}}function sv(){return new Xa((s=>z1(s)),vh)}async function EE(s,t){const i=St(s);let r=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(r=2):(c=new $R,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=ip(d,`Initialization of query '${qr(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sp(i)}async function TE(s,t){const i=St(s),r=t.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function ZR(s,t){const i=St(s);let r=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&sp(i)}function WR(s,t,i){const r=St(s),o=r.queries.get(t);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(t)}function sp(s){s.Ca.forEach((t=>{t.next()}))}var pm,av;(av=pm||(pm={})).Ma="default",av.Cache="cache";class bE{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new il(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class SE{constructor(t){this.key=t}}class AE{constructor(t){this.key=t}}class tC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=P1(t),this.tu=new $r(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new iv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,w)=>{const x=o.get(S),P=Eh(this.query,w)?w:null,J=!!x&&this.mutatedKeys.has(x.key),tt=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Z=!1;x&&P?x.data.isEqual(P.data)?J!==tt&&(r.track({type:3,doc:P}),Z=!0):this.su(x,P)||(r.track({type:2,doc:P}),Z=!0,(_&&this.eu(P,_)>0||y&&this.eu(P,y)<0)&&(g=!0)):!x&&P?(r.track({type:0,doc:P}),Z=!0):x&&!P&&(r.track({type:1,doc:x}),Z=!0,(_||y)&&(g=!0)),Z&&(P?(d=d.add(P),c=tt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(P,J){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:Z})}};return tt(P)-tt(J)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new il(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new AE(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new SE(r))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ap="SyncEngine";class eC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class nC{constructor(t){this.key=t,this.hu=!1}}class iC{constructor(t,i,r,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xa((g=>z1(g)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(pt.comparator),this.Au=new Map,this.Vu=new Ym,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sC(s,t,i=!0){const r=IE(s);let o;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await wE(r,t,i,!0),o}async function aC(s,t){const i=IE(s);await wE(i,t,!0,!1)}async function wE(s,t,i,r){const o=await AR(s.localStore,Ri(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await rC(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&mE(s.remoteStore,o),g}async function rC(s,t,i,r,o){s.pu=(w,x,P)=>(async function(tt,Z,rt,st){let ot=Z.view.ru(rt);ot.Ss&&(ot=await J0(tt.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,ot))));const xt=st&&st.targetChanges.get(Z.targetId),te=st&&st.targetMismatches.get(Z.targetId)!=null,It=Z.view.applyChanges(ot,tt.isPrimaryClient,xt,te);return lv(tt,Z.targetId,It.au),It.snapshot})(s,w,x,P);const c=await J0(s.localStore,t,!0),d=new tC(t,c.ks),g=d.ru(c.documents),_=Yo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);lv(s,i,y.au);const S=new eC(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function lC(s,t,i){const r=St(s),o=r.Tu.get(t),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!vh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Zm(r.remoteStore,o.targetId),gm(r,o.targetId)})).catch(ol)):(gm(r,o.targetId),await dm(r.localStore,o.targetId,!0))}async function oC(s,t){const i=St(s),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(i.remoteStore,r.targetId))}async function uC(s,t,i){const r=gC(s);try{const o=await(function(d,g){const _=St(d),y=ae.now(),S=g.reduce(((P,J)=>P.add(J.key)),Vt());let w,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=as(),tt=Vt();return _.xs.getEntries(P,S).next((Z=>{J=Z,J.forEach(((rt,st)=>{st.isValidDocument()||(tt=tt.add(rt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(P,J))).next((Z=>{w=Z;const rt=[];for(const st of g){const ot=Sx(st,w.get(st.key).overlayedDocument);ot!=null&&rt.push(new la(st.key,ot,O1(ot.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(P,y,rt,g)})).next((Z=>{x=Z;const rt=Z.applyToLocalDocumentSet(w,tt);return _.documentOverlayCache.saveOverlays(P,Z.batchId,rt)}))})).then((()=>({batchId:x.batchId,changes:q1(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new ue(kt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await $o(r,o.changes),await xh(r.remoteStore)}catch(o){const c=ip(o,"Failed to persist write");i.reject(c)}}async function xE(s,t){const i=St(s);try{const r=await TR(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await $o(i,r,t)}catch(r){await ol(r)}}function rv(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=St(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,w)=>{for(const x of w.ba)x.va(g)&&(y=!0)})),y&&sp(_)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cC(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),c=o&&o.key;if(c){let d=new ue(pt.comparator);d=d.insert(c,Je.newNoDocument(c,Tt.min()));const g=Vt().add(c),_=new Sh(Tt.min(),new Map,new ue(kt),d,g);await xE(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(t),rp(r)}else await dm(r.localStore,t,!1).then((()=>gm(r,t,i))).catch(ol)}async function hC(s,t){const i=St(s),r=t.batch.batchId;try{const o=await ER(i.localStore,t);CE(i,r,null),RE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await $o(i,o)}catch(o){await ol(o)}}async function fC(s,t,i){const r=St(s);try{const o=await(function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Gt(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(r.localStore,t);CE(r,t,i),RE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await $o(r,o)}catch(o){await ol(o)}}function RE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function CE(s,t,i){const r=St(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function gm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||NE(s,r)}))}function NE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Zm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),rp(s))}function lv(s,t,i){for(const r of i)r instanceof SE?(s.Vu.addReference(r.key,t),dC(s,r)):r instanceof AE?(at(ap,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||NE(s,r.key)):_t(19791,{wu:r})}function dC(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(at(ap,"New document in limbo: "+i),s.Eu.add(r),rp(s))}function rp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(se.fromString(t)),r=s.fu.next();s.Au.set(r,new nC(i)),s.Ru=s.Ru.insert(i,r),mE(s.remoteStore,new Ks(Ri(qm(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function $o(s,t,i){const r=St(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){o.push(y);const S=$m.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(_,y){const S=St(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(x=>X.forEach(x.Ts,(P=>S.persistence.referenceDelegate.addReference(w,x.targetId,P))).next((()=>X.forEach(x.Is,(P=>S.persistence.referenceDelegate.removeReference(w,x.targetId,P)))))))))}catch(w){if(!ul(w))throw w;at(Jm,"Failed to update sequence numbers: "+w)}for(const w of y){const x=w.targetId;if(!w.fromCache){const P=S.vs.get(x),J=P.snapshotVersion,tt=P.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(x,tt)}}})(r.localStore,c))}async function mC(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){at(ap,"User change. New user:",t.toKey());const r=await cE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $o(i,r.Ns)}}function pC(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let o=Vt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function IE(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cC.bind(null,t),t.Pu.J_=ZR.bind(null,t.eventManager),t.Pu.yu=WR.bind(null,t.eventManager),t}function gC(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return vR(this.persistence,new gR,t.initialUser,this.serializer)}Cu(t){return new uE(Xm.Vi,this.serializer)}Du(t){return new xR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class yC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new uE((r=>rh.Vi(r,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mC.bind(null,this.syncEngine),await XR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new JR})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),r=DR(t.databaseInfo);return jR(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,c,d,g){return new LR(r,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>rv(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new RR})())}createSyncEngine(t,i){return(function(o,c,d,g,_,y,S){const w=new iC(o,c,d,g,_,y);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);at(Ka,"RemoteStore shutting down."),r.Ea.add(5),await Xo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class DE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const aa="FirestoreClient";class _C{constructor(t,i,r,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ip(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),at(aa,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await cE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function ov(s,t){s.asyncQueue.verifyOperationInProgress();const i=await vC(s);at(aa,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>nv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>nv(t.remoteStore,o))),s._onlineComponents=t}async function vC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(aa,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Zr("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new oh)}}else at(aa,"Using default OfflineComponentProvider"),await Kd(s,new yC(void 0));return s._offlineComponents}async function OE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(aa,"Using user provided OnlineComponentProvider"),await ov(s,s._uninitializedComponentsProvider._online)):(at(aa,"Using default OnlineComponentProvider"),await ov(s,new ym))),s._onlineComponents}function EC(s){return OE(s).then((t=>t.syncEngine))}async function _m(s){const t=await OE(s),i=t.eventManager;return i.onListen=sC.bind(null,t.syncEngine),i.onUnlisten=lC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=aC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oC.bind(null,t.syncEngine),i}function TC(s,t,i,r){const o=new DE(r),c=new bE(t,o,i);return s.asyncQueue.enqueueAndForget((async()=>EE(await _m(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>TE(await _m(s),c)))}}function bC(s,t,i={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const S=new DE({next:x=>{S.Nu(),d.enqueueAndForget((()=>TE(c,w))),x.fromCache&&_.source==="server"?y.reject(new ct($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),w=new bE(g,S,{includeMetadataChanges:!0,Ka:!0});return EE(c,w)})(await _m(s),s.asyncQueue,t,i,r))),r.promise}function SC(s,t){const i=new Zs;return s.asyncQueue.enqueueAndForget((async()=>uC(await EC(s),t,i))),i.promise}function ME(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const AC="ComponentProvider",uv=new Map;function wC(s,t,i,r,o){return new Gw(s,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ME(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const kE="firestore.googleapis.com",cv=!0;class hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kE,this.ssl=cv}else this.host=t.host,this.ssl=t.ssl??cv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Wx)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Aw;switch(r.type){case"firstParty":return new Cw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=uv.get(i);r&&(at(AC,"Removing Datastore"),uv.delete(i),r.terminate())})(this),Promise.resolve()}}function xC(s,t,i,r={}){s=Wn(s,Rh);const o=sl(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;o&&(Nv(`https://${g}`),Iv("Firestore",!0)),c.host!==kE&&c.host!==g&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:r};if(!Ha(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,S;if(typeof r.mockUserToken=="string")y=r.mockUserToken,S=$e.MOCK_USER;else{y=Gb(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(w)}s._authCredentials=new ww(new E1(y,S))}}class Jo{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jo(this.firestore,t,this._query)}}class Ne{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Qo(i,Ne._jsonSchema))return new Ne(t,r||null,new pt(se.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class Ws extends Jo{constructor(t,i,r){super(t,i,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new pt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function lp(s,t,...i){if(s=We(s),T1("collection","path",t),s instanceof Rh){const r=se.fromString(t,...i);return w0(r),new Ws(s,null,r)}{if(!(s instanceof Ne||s instanceof Ws))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(se.fromString(t,...i));return w0(r),new Ws(s.firestore,null,r)}}function Qs(s,t,...i){if(s=We(s),arguments.length===1&&(t=Vm.newId()),T1("doc","path",t),s instanceof Rh){const r=se.fromString(t,...i);return A0(r),new Ne(s,null,new pt(r))}{if(!(s instanceof Ne||s instanceof Ws))throw new ct($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(se.fromString(t,...i));return A0(r),new Ne(s.firestore,s instanceof Ws?s.converter:null,new pt(r))}}const fv="AsyncQueue";class dv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const r=Qd();r&&at(fv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;at(fv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",mv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=np.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function mv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ya extends Rh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new dv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new dv(t),this._firestoreClient=void 0,await t}}}function RC(s,t){const i=typeof s=="object"?s:wm(),r=typeof s=="string"?s:Wc,o=Am(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Hb("firestore");c&&xC(o,...c)}return o}function op(s){if(s._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CC(s),s._firestoreClient}function CC(s){const t=s._freezeSettings(),i=wC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new _C(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qo(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class up{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cp{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Qo(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ce("string",Ni._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ei{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qo(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ei(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ce("string",ei._jsonSchemaVersion),vectorValues:Ce("object")};const NC=/^__.*__$/;class IC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(t,this.data,i,this.fieldTransforms)}}class VE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new la(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function jE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class hp{constructor(t,i,r,o,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new hp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(jE(this.dataSource)&&NC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class DC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ah(t)}createContext(t,i,r,o=!1){return new hp({dataSource:t,methodName:i,targetDoc:r,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UE(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new DC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function OC(s,t,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,o);fp("Data must be an object, but it was:",d,r);const g=LE(r,d);let _,y;if(c.merge)_=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const x=Lo(t,w,i);if(!d.contains(x))throw new ct($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);BE(S,x)||S.push(x)}_=new bn(S),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new IC(new fn(g),_,y)}class Ch extends cp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function MC(s,t,i,r){const o=s.createContext(1,t,i);fp("Data must be an object, but it was:",o,r);const c=[],d=fn.empty();ra(r,((_,y)=>{const S=PE(t,_,i);y=We(y);const w=o.childContextForFieldPath(S);if(y instanceof Ch)c.push(S);else{const x=Nh(y,w);x!=null&&(c.push(S),d.set(S,x))}}));const g=new bn(c);return new VE(d,g,o.fieldTransforms)}function kC(s,t,i,r,o,c){const d=s.createContext(1,t,i),g=[Lo(t,r,i)],_=[o];if(c.length%2!=0)throw new ct($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(Lo(t,c[x])),_.push(c[x+1]);const y=[],S=fn.empty();for(let x=g.length-1;x>=0;--x)if(!BE(y,g[x])){const P=g[x];let J=_[x];J=We(J);const tt=d.childContextForFieldPath(P);if(J instanceof Ch)y.push(P);else{const Z=Nh(J,tt);Z!=null&&(y.push(P),S.set(P,Z))}}const w=new bn(y);return new VE(S,w,d.fieldTransforms)}function Nh(s,t){if(zE(s=We(s)))return fp("Unsupported field value:",t,s),LE(s,t);if(s instanceof cp)return(function(r,o){if(!jE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let _=Nh(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,o){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ae.fromDate(r);return{timestampValue:ah(o.serializer,c)}}if(r instanceof ae){const c=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:tE(o.serializer,r._byteString)};if(r instanceof Ne){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ei)return(function(d,g){const _=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[I1]:{stringValue:D1},[th]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Hm(g.serializer,S)}))}}}}}})(r,o);if(lE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${jm(r)}`)})(s,t)}function LE(s,t){const i={};return A1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ra(s,((r,o)=>{const c=Nh(o,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function zE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof Ni||s instanceof Ln||s instanceof Ne||s instanceof cp||s instanceof ei||lE(s))}function fp(s,t,i){if(!zE(i)||!b1(i)){const r=jm(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function Lo(s,t,i){if((t=We(t))instanceof up)return t._internalPath;if(typeof t=="string")return PE(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const VC=new RegExp("[~\\*/\\[\\]]");function PE(s,t,i){if(t.search(VC)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new up(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new ct($.INVALID_ARGUMENT,g+s+_)}function BE(s,t){return s.some((i=>i.isEqual(t)))}class jC{convertValue(t,i="none"){switch(ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(na(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ra(t,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new ei(i)}convertGeoPoint(t){return new Ni(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Mo(t));default:return null}}convertTimestamp(t){const i=ea(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=se.fromString(t);Gt(rE(r),9688,{name:t});const o=new ko(r.get(1),r.get(3)),c=new pt(r.popFirst(5));return o.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class dp extends jC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}const pv="@firebase/firestore",gv="4.10.0";function yv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class qE{constructor(t,i,r,o,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Lo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends qE{data(){return super.data()}}function HE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function LC(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class bo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ba extends qE{constructor(t,i,r,o,c,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Lo("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:Ce("string",Ba._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qc extends Ba{data(t={}){return super.data(t)}}class qa{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new qc(this._firestore,this._userDataWriter,r.key,r,new bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:zC(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ce("string",qa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function PC(s){s=Wn(s,Jo);const t=Wn(s.firestore,Ya),i=op(t),r=new dp(t);return HE(s._query),bC(i,s._query).then((o=>new qa(t,r,s,o)))}function ch(s,t,i){s=Wn(s,Ne);const r=Wn(s.firestore,Ya),o=LC(s.converter,t),c=UE(r);return mp(r,[OC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ti.none())])}function BC(s,t,i,...r){s=Wn(s,Ne);const o=Wn(s.firestore,Ya),c=UE(o);let d;return d=typeof(t=We(t))=="string"||t instanceof up?kC(c,"updateDoc",s._key,t,i,r):MC(c,"updateDoc",s._key,t),mp(o,[d.toMutation(s._key,ti.exists(!0))])}function qC(s){return mp(Wn(s.firestore,Ya),[new Fm(s._key,ti.none())])}function Hc(s,...t){s=We(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||yv(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ne)d=Wn(s.firestore,Ya),g=qm(s._key.path),c={next:y=>{t[r]&&t[r](HC(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=Wn(s,Jo);d=Wn(y.firestore,Ya),g=y._query;const S=new dp(d);c={next:w=>{t[r]&&t[r](new qa(d,S,y,w))},error:t[r+1],complete:t[r+2]},HE(s._query)}const _=op(d);return TC(_,g,o,c)}function mp(s,t){const i=op(s);return SC(i,t)}function HC(s,t,i){const r=i.docs.get(t._key),o=new dp(s);return new Ba(s,o,t._key,r,new bo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Sw(al),Jr(new Fa("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Ya(new xw(r.getProvider("auth-internal")),new Nw(d,r.getProvider("app-check-internal")),Qw(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(pv,gv,t),$s(pv,gv,"esm2020")})();const FE=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();const FC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const GC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());const _v=s=>{const t=GC(s);return t.charAt(0).toUpperCase()+t.slice(1)};var QC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KC=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const YC=ft.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},_)=>ft.createElement("svg",{ref:_,...QC,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:FE("lucide",o),...!c&&!KC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>ft.createElement(y,S)),...Array.isArray(c)?c:[c]]));const yt=(s,t)=>{const i=ft.forwardRef(({className:r,...o},c)=>ft.createElement(YC,{ref:c,iconNode:t,className:FE(`lucide-${FC(_v(s))}`,`lucide-${s}`,r),...o}));return i.displayName=_v(s),i};const XC=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$C=yt("arrow-down",XC);const JC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ZC=yt("arrow-left-right",JC);const WC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tN=yt("arrow-left",WC);const eN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nN=yt("arrow-right",eN);const iN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sN=yt("arrow-up",iN);const aN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],rN=yt("calculator",aN);const lN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vm=yt("calendar",lN);const oN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],uN=yt("car",oN);const cN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hN=yt("chevron-right",cN);const fN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dN=yt("circle-alert",fN);const mN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pN=yt("clock",mN);const gN=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],yN=yt("cloud-lightning",gN);const _N=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],vN=yt("cloud-rain",_N);const EN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],vv=yt("cloud",EN);const TN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],bN=yt("coins",TN);const SN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],AN=yt("dollar-sign",SN);const wN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],xN=yt("ellipsis",wN);const RN=[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]],CN=yt("equal",RN);const NN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],IN=yt("external-link",NN);const DN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ON=yt("eye-off",DN);const MN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kN=yt("eye",MN);const VN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jN=yt("globe",VN);const UN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],LN=yt("house",UN);const zN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],PN=yt("image",zN);const BN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],qN=yt("key",BN);const HN=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],FN=yt("list-checks",HN);const GN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ih=yt("loader-circle",GN);const QN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],KN=yt("lock",QN);const YN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],XN=yt("log-in",YN);const $N=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GE=yt("log-out",$N);const JN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ZN=yt("map-pin",JN);const WN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QE=yt("pen-line",WN);const tI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Em=yt("plane",tI);const eI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hh=yt("plus",eI);const nI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KE=yt("search",nI);const iI=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],sI=yt("settings-2",iI);const aI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rI=yt("shield-check",aI);const lI=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],oI=yt("shopping-bag",lI);const uI=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],cI=yt("snowflake",uI);const hI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fI=yt("sparkles",hI);const dI=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],mI=yt("sticky-note",dI);const pI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pp=yt("sun",pI);const gI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gp=yt("trash-2",gI);const yI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_I=yt("trending-up",yI);const vI=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EI=yt("user-cog",vI);const TI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bI=yt("user-plus",TI);const SI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ev=yt("user",SI);const AI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],wI=yt("utensils",AI);const xI=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],RI=yt("wallet",xI);const CI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NI=yt("x",CI),II=" V7.2 - 2026/02/16 00:55",Bs={TWD:" - ",USD:" - ",JPY:" - ",KRW:" - ",THB:" - ",VND:" - ",HKD:" - ",EUR:" - ",CNY:" - ",GBP:" - ",SGD:" - ",AUD:" - "},Tv=[{id:"food",name:"",icon:wI,color:"text-orange-500",bg:"bg-orange-50"},{id:"stay",name:"",icon:LN,color:"text-indigo-500",bg:"bg-indigo-50"},{id:"transport",name:"",icon:uN,color:"text-blue-500",bg:"bg-blue-50"},{id:"shopping",name:"",icon:oI,color:"text-pink-500",bg:"bg-pink-50"},{id:"play",name:"",icon:fI,color:"text-yellow-600",bg:"bg-yellow-50"},{id:"other",name:"",icon:xN,color:"text-slate-500",bg:"bg-slate-50"}],DI=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDHfIqjgq0cJ0fCuKlIBQhof6BEJsaYLg0",authDomain:"travel-yeh.firebaseapp.com",projectId:"travel-yeh",storageBucket:"travel-yeh.firebasestorage.app",messagingSenderId:"62005891712",appId:"1:62005891712:web:4653c17db0c38f981d0c65"},YE=o2().length>0?wm():Mv(DI),Fc=Tw(YE),jn=RC(YE),Jn="travel-yeh",bv=(s,t)=>{if(!s)return"";try{const i=new Date(s);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}))}catch{return""}},OI=(s,t)=>{if(!s)return"";try{const i=new Date(s);return isNaN(i.getTime())?"":(i.setDate(i.getDate()+(t-1)),i.toLocaleDateString("zh-TW",{weekday:"long"}))}catch{return""}},MI=s=>{if(!s||typeof s!="string")return null;const t=/(https?:\/\/[^\s]+)/g;return s.split(t).map((r,o)=>r.match(/^https?:\/\//)?E.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline inline-flex items-center gap-1 break-all",onClick:c=>c.stopPropagation(),children:[" ",E.jsx(IN,{size:12})]},o):r)},kI=s=>s===0?{label:"",tips:"",icon:pp,color:"text-orange-500"}:s>=1&&s<=3?{label:"",tips:"",icon:vv,color:"text-blue-400"}:s>=51&&s<=67?{label:"",tips:"",icon:vN,color:"text-blue-600"}:s>=71&&s<=77?{label:"",tips:"",icon:cI,color:"text-cyan-300"}:s>=95?{label:"",tips:"",icon:yN,color:"text-purple-600"}:{label:"",tips:"",icon:vv,color:"text-blue-400"},VI=({authUser:s,onLoginSuccess:t,onAdminSuccess:i})=>{const[r,o]=ft.useState(""),[c,d]=ft.useState(""),[g,_]=ft.useState(""),[y,S]=ft.useState([]),[w,x]=ft.useState("loading"),[P,J]=ft.useState(!1);ft.useEffect(()=>{let Z=!0;(async()=>{if(s)try{const ot=await PC(lp(jn,"artifacts",Jn,"public","data","users_db"));Z&&(S(ot.docs.map(xt=>xt.data())),x("ready"))}catch{console.warn("Account database fetch failed, static fallback active."),Z&&x("ready")}})();const st=setTimeout(()=>{Z&&x("ready")},4e3);return()=>{Z=!1,clearTimeout(st)}},[s]);const tt=Z=>{if(Z.preventDefault(),r==="yljh"&&c==="yljh8320873"){i();return}y.find(st=>st.username===r&&st.password===c)||r==="abc"&&c==="abc"?t():(_(""),d(""))};return E.jsx("div",{className:"min-h-screen w-full bg-slate-50 flex items-center justify-center p-6 font-sans text-slate-700",children:E.jsxs("div",{className:"max-w-md w-full animate-fade-in text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-blue-600 text-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl rotate-12 shadow-blue-200",children:P?E.jsx(rI,{size:40}):E.jsx(Em,{size:40})}),E.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:P?"":""}),E.jsx("p",{className:"text-slate-400 font-bold mt-2 mb-8",children:P?"":""}),E.jsxs("form",{onSubmit:tt,className:"bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 space-y-6 text-left",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(Ev,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),E.jsx("input",{required:!0,type:"text",value:r,onChange:Z=>o(Z.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700",placeholder:""})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(KN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),E.jsx("input",{required:!0,type:"password",value:c,onChange:Z=>d(Z.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 transition-all font-bold text-slate-700",placeholder:""})]})]}),g&&E.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-xs font-bold bg-red-50 p-3 rounded-xl animate-pulse",children:[E.jsx(dN,{size:14})," ",g]}),E.jsx("button",{type:"submit",disabled:w==="loading",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-5 rounded-2xl font-black flex items-center justify-center gap-3 shadow-xl active:scale-95 disabled:opacity-50",children:w==="loading"?E.jsx(Ih,{className:"animate-spin"}):E.jsxs(E.Fragment,{children:[E.jsx(XN,{size:20})," "]})})]}),E.jsxs("button",{onClick:()=>{J(!P),_("")},className:"mt-8 flex items-center gap-2 text-xs font-black text-blue-600 bg-blue-50 px-8 py-3 rounded-full hover:bg-blue-100 transition-all mx-auto shadow-sm",children:[P?E.jsx(Ev,{size:14}):E.jsx(qN,{size:14}),P?"":""]})]})})},jI=({authUser:s,onLogout:t})=>{const[i,r]=ft.useState([]),[o,c]=ft.useState(""),[d,g]=ft.useState(""),[_,y]=ft.useState(null),[S,w]=ft.useState(!0);ft.useEffect(()=>{if(!s||!jn)return;const P=lp(jn,"artifacts",Jn,"public","data","users_db");return Hc(P,J=>{const tt=J.docs.map(rt=>({id:rt.id,...rt.data()}));r(tt),!tt.some(rt=>rt.username==="abc")&&!S&&ch(Qs(jn,"artifacts",Jn,"public","data","users_db","abc"),{username:"abc",password:"abc",createdAt:new Date().toISOString()}),w(!1)},J=>{console.error("Admin Load Error",J),w(!1)})},[s]);const x=async P=>{P.preventDefault();const J=_?_.username:d;!J||!o||(await ch(Qs(jn,"artifacts",Jn,"public","data","users_db",J),{username:J,password:o,createdAt:_?.createdAt||new Date().toISOString()}),y(null),g(""),c(""))};return S?E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-slate-700",children:[E.jsx(Ih,{className:"animate-spin text-blue-600 mb-4",size:48}),E.jsx("p",{className:"font-bold text-slate-400 italic",children:"..."})]}):E.jsxs("div",{className:"w-full min-h-screen bg-slate-50 p-6 md:p-12 animate-fade-in font-sans space-y-12 text-slate-700",children:[E.jsxs("header",{className:"max-w-5xl mx-auto flex justify-between items-center bg-slate-900 text-white p-8 rounded-[3rem] shadow-2xl",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg",children:E.jsx(EI,{size:32})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-black tracking-tight",children:""}),E.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Admin: yljh"})]})]}),E.jsxs("button",{onClick:t,className:"p-4 bg-white/10 hover:bg-red-500 transition-all rounded-2xl flex items-center gap-2 font-black text-sm",children:[E.jsx(GE,{size:20})," "]})]}),E.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-8 md:p-10 rounded-[4rem] shadow-xl border border-slate-100",children:[E.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-6 flex items-center gap-2",children:[E.jsx(bI,{size:20,className:"text-blue-600"})," ",_?`: ${_.username}`:""]}),E.jsxs("form",{onSubmit:x,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[!_&&E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase ml-1",children:""}),E.jsx("input",{required:!0,placeholder:" traveler_01",value:d,onChange:P=>g(P.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase ml-1",children:""}),E.jsx("input",{required:!0,placeholder:"",value:o,onChange:P=>c(P.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"flex gap-2",children:[_&&E.jsx("button",{type:"button",onClick:()=>{y(null),c("")},className:"px-6 py-4 rounded-2xl font-bold text-slate-400",children:""}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700 active:scale-95",children:_?"":""})]})]})]}),E.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-[3rem] shadow-xl border border-slate-100 overflow-hidden",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-400 font-black uppercase tracking-widest",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-8 py-5",children:""}),E.jsx("th",{className:"px-8 py-5",children:""}),E.jsx("th",{className:"px-8 py-5",children:""}),E.jsx("th",{className:"px-8 py-5 text-center",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(P=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[E.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:P.username}),E.jsx("td",{className:"px-8 py-5 font-mono text-blue-600 font-bold",children:P.password}),E.jsx("td",{className:"px-8 py-5 text-slate-400 text-xs font-bold",children:new Date(P.createdAt).toLocaleDateString()}),E.jsx("td",{className:"px-8 py-5 text-center",children:E.jsxs("div",{className:"flex justify-center gap-2",children:[E.jsx("button",{onClick:()=>{y(P),c(P.password)},className:"p-2 text-slate-300 hover:text-blue-600 transition-colors",children:E.jsx(QE,{size:18})}),E.jsx("button",{onClick:async()=>{confirm("")&&await qC(Qs(jn,"artifacts",Jn,"public","data","users_db",P.id))},className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:E.jsx(gp,{size:18})})]})})]},P.id))})]})})]})},UI=({itineraryData:s,updateItinField:t})=>{const i=Array.isArray(s?.expenses)?s.expenses:[],[r,o]=ft.useState(""),[c,d]=ft.useState(""),[g,_]=ft.useState("food"),y=i.reduce((x,P)=>x+(parseFloat(P.amount)||0),0),S=ft.useMemo(()=>{const x={};return i.forEach(P=>{x[P.category]=(x[P.category]||0)+(parseFloat(P.amount)||0)}),x},[i]),w=async x=>{x.preventDefault(),!(!r||!c)&&(await t("expenses",[...i,{id:Date.now().toString(),item:r,amount:c,category:g,date:new Date().toISOString()}]),o(""),d(""))};return E.jsxs("div",{className:"animate-fade-in space-y-8 pb-10 px-4 text-slate-700",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[E.jsxs("div",{className:"md:col-span-2 bg-white p-10 rounded-[3.5rem] shadow-xl border border-slate-100 flex flex-col justify-center",children:[E.jsx("h3",{className:"text-slate-400 font-black text-xs uppercase mb-2 ml-1",children:""}),E.jsxs("div",{className:"flex items-baseline gap-2 justify-center md:justify-start",children:[E.jsxs("span",{className:"text-6xl font-black text-slate-900 tracking-tighter",children:["$",y.toLocaleString()]}),E.jsx("span",{className:"text-slate-300 font-bold uppercase text-xs",children:"twd"})]})]}),E.jsxs("div",{className:"bg-slate-900 p-8 rounded-[3rem] shadow-xl text-white",children:[E.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase mb-4 tracking-widest",children:""}),E.jsx("div",{className:"space-y-3",children:Tv.map(x=>{const P=S[x.id]||0,J=y>0?Math.round(P/y*100):0;return E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(x.icon,{size:14,className:x.color}),E.jsx("span",{className:"text-xs font-bold text-slate-300",children:x.name})]}),E.jsxs("span",{className:"text-xs font-mono font-bold text-slate-100",children:["$",P.toLocaleString()," (",J,"%)"]})]},x.id)})})]})]}),E.jsx("div",{className:"bg-white p-8 rounded-[4rem] shadow-lg border border-slate-100",children:E.jsxs("form",{onSubmit:w,className:"flex flex-wrap md:flex-nowrap gap-4 items-end",children:[E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),E.jsx("input",{required:!0,placeholder:"",value:r,onChange:x=>o(x.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"w-full md:w-48 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),E.jsx("input",{required:!0,type:"number",placeholder:"0",value:c,onChange:x=>d(x.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"w-full md:w-40 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),E.jsx("select",{value:g,onChange:x=>_(x.target.value),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-2xl font-black outline-none",children:Tv.map(x=>E.jsx("option",{value:x.id,children:x.name},x.id))})]}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-4 rounded-2xl shadow-xl hover:bg-blue-700 active:scale-95 flex items-center justify-center shrink-0",children:E.jsx(hh,{size:28})})]})}),E.jsx("div",{className:"bg-white rounded-[3rem] shadow-xl border border-slate-50 overflow-hidden",children:E.jsx("table",{className:"w-full text-left text-sm",children:E.jsx("tbody",{className:"divide-y divide-slate-50",children:i.length>0?[...i].reverse().map(x=>E.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[E.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:x.item}),E.jsx("td",{className:"px-8 py-5",children:E.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 text-[10px] font-black uppercase text-slate-500",children:x.category})}),E.jsxs("td",{className:"px-8 py-5 text-right font-mono font-black text-slate-800",children:["$",parseFloat(x.amount).toLocaleString()]}),E.jsx("td",{className:"px-8 py-5 text-center",children:E.jsx("button",{onClick:async()=>await t("expenses",i.filter(P=>P.id!==x.id)),className:"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:E.jsx(gp,{size:18})})})]},x.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"4",className:"px-8 py-20 text-center text-slate-300 font-bold italic tracking-widest",children:""})})})})})]})},LI=({tripInfo:s})=>{const t=ft.useMemo(()=>{if(!s?.startDate||!s?.duration)return"";try{const w=new Date(s.startDate);return w.setDate(w.getDate()+(parseInt(s.duration)-1)),w.toISOString().split("T")[0]}catch{return""}},[s]),[i,r]=ft.useState({dest:s?.city||"",start:s?.startDate||new Date().toISOString().split("T")[0],end:t}),[o,c]=ft.useState(!1),[d,g]=ft.useState(null),[_,y]=ft.useState(null),S=async w=>{if(w&&w.preventDefault(),!!i.dest){c(!0),y(null);try{const P=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(i.dest)}&count=1&language=zh&format=json`)).json();if(!P.results?.length)throw new Error("");const{latitude:J,longitude:tt,name:Z}=P.results[0],st=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${J}&longitude=${tt}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto&start_date=${i.start}&end_date=${i.end||i.start}`)).json();g({location:Z,daily:(st.daily?.time||[]).map((ot,xt)=>({date:ot,max:st.daily.temperature_2m_max[xt],min:st.daily.temperature_2m_min[xt],code:st.daily.weather_code[xt]}))})}catch(x){y(x.message)}finally{c(!1)}}};return E.jsxs("div",{className:"animate-fade-in space-y-10 w-full max-w-5xl mx-auto pb-10 px-4 text-slate-700",children:[E.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[4rem] shadow-xl border border-slate-100",children:[E.jsxs("h3",{className:"text-2xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[E.jsx(pp,{className:"text-orange-500"})," "]}),E.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,value:i.dest,onChange:w=>r({...i,dest:w.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none font-bold shadow-inner"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,type:"date",value:i.start,onChange:w=>r({...i,start:w.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 ml-1",children:""}),E.jsx("input",{required:!0,type:"date",value:i.end,min:i.start,onChange:w=>r({...i,end:w.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none shadow-inner"})]}),E.jsxs("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white h-[60px] rounded-3xl font-black shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[o?E.jsx(Ih,{className:"animate-spin"}):E.jsx(KE,{size:20})," "]})]}),_&&E.jsx("p",{className:"mt-4 text-red-500 text-xs font-bold animate-pulse",children:_})]}),d&&E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.daily.map(w=>{const x=kI(w.code);return E.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-lg group transition-transform hover:-translate-y-1",children:[E.jsx("p",{className:"text-[10px] font-black text-slate-300 mb-4",children:w.date}),E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsx(x.icon,{size:48,className:x.color}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:"text-3xl font-black text-slate-800",children:[Math.round(w.max),""]}),E.jsxs("p",{className:"text-sm font-bold text-slate-300",children:[Math.round(w.min),""]})]})]}),E.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl",children:[E.jsx("p",{className:`font-black text-sm mb-1 ${x.color}`,children:x.label}),E.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed font-bold",children:x.tips})]})]},w.date)})})]})},zI=({itineraryData:s,updateItinField:t})=>{const[i,r]=ft.useState({}),[o,c]=ft.useState("USD"),[d,g]=ft.useState("TWD"),[_,y]=ft.useState(1),[S,w]=ft.useState(!0),[x,P]=ft.useState(""),[J,tt]=ft.useState(!1),[Z,rt]=ft.useState("0"),st=s?.customRates||{},ot=s?.useCustom||{};ft.useEffect(()=>{Fc&&(async()=>{w(!0);try{const k=await(await fetch(`https://open.er-api.com/v6/latest/${o}`)).json();k.result==="success"&&r(k.rates||{})}catch(R){console.error(R)}finally{w(!1)}})()},[o]);const xt=A=>{if(A==="C")rt("0");else if(A==="=")try{const R=Z.replace(/[^-+*/.0-9]/g,"");if(!R){rt("0");return}const k=new Function(`return ${R}`)();rt(String(parseFloat(Number(k).toFixed(8))))}catch{rt("Error")}else rt(R=>R==="0"||R==="Error"?A:R+A)},te=ot[d]&&st[d]?st[d]:i[d]||0,It=(_*te).toFixed(2),D=Object.keys(Bs).filter(A=>Bs[A].includes(x)||A.includes(x.toUpperCase()));return E.jsxs("div",{className:"animate-fade-in space-y-8 w-full max-w-5xl mx-auto pb-10 px-4 text-slate-700",children:[E.jsxs("div",{className:"bg-white rounded-[3.5rem] shadow-2xl border border-slate-100 overflow-hidden p-8 md:p-14 transition-all",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-8 items-center",children:[E.jsxs("div",{className:"md:col-span-3 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(AN,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:24}),E.jsx("input",{type:"number",value:_,onChange:A=>y(parseFloat(A.target.value)||0),className:"w-full pl-14 pr-4 py-6 bg-slate-50 border-2 border-transparent focus:border-blue-500 rounded-3xl outline-none transition-all text-2xl font-black shadow-inner"}),E.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:E.jsx("select",{value:o,onChange:A=>c(A.target.value),className:"bg-white border shadow-sm rounded-xl px-2 py-1 text-xs font-black outline-none",children:Object.keys(Bs).map(A=>E.jsx("option",{value:A,children:Bs[A]},A))})})]})]}),E.jsx("div",{className:"md:col-span-1 flex justify-center",children:E.jsx("button",{onClick:()=>{const A=o;c(d),g(A)},className:"bg-blue-50 p-4 rounded-full text-blue-600 shadow-inner group hover:bg-blue-600 hover:text-white transition-all active:scale-90 shadow-md",children:E.jsx(ZC,{className:"md:rotate-0 rotate-90",size:28})})}),E.jsxs("div",{className:"md:col-span-3 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:""}),E.jsxs("div",{className:"w-full pl-8 pr-6 py-5 bg-blue-600 rounded-[2rem] text-white flex items-center justify-between shadow-xl shadow-blue-100",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-3xl font-black tracking-tight",children:It}),E.jsx("p",{className:"text-blue-100 text-[10px] mt-1 font-bold",children:Bs[d]})]}),E.jsx("select",{value:d,onChange:A=>g(A.target.value),className:"bg-blue-700 text-white border-none rounded-xl px-3 py-1.5 text-xs font-black outline-none",children:Object.keys(Bs).map(A=>E.jsx("option",{value:A,children:Bs[A]},A))})]})]})]}),E.jsxs("div",{className:"mt-8 flex justify-between items-center px-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[E.jsx(_I,{size:16,className:"text-green-500"})," "]}),E.jsxs("button",{onClick:()=>tt(!J),className:"flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all bg-white border text-slate-600 shadow-sm active:scale-95 shadow-md",children:[E.jsx(sI,{size:16})," "]})]})]}),J&&E.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-2xl overflow-hidden animate-fade-in",children:[E.jsxs("div",{className:"p-8 border-b flex justify-between items-center bg-slate-50/50",children:[E.jsx("h3",{className:"font-black text-xl text-slate-800",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(KE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),E.jsx("input",{type:"text",placeholder:"...",value:x,onChange:A=>P(A.target.value),className:"pl-12 pr-6 py-3 border rounded-2xl text-sm font-bold outline-none w-64 shadow-inner"})]})]}),E.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] font-black sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-8 py-5",children:""}),E.jsx("th",{className:"px-8 py-5 text-right",children:""}),E.jsx("th",{className:"px-8 py-5 text-center",children:""}),E.jsx("th",{className:"px-8 py-5 text-right",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-slate-50",children:D.map(A=>E.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors",children:[E.jsx("td",{className:"px-8 py-5 font-black text-slate-700",children:Bs[A]}),E.jsx("td",{className:"px-8 py-5 text-right font-mono font-bold",children:i[A]?.toFixed(4)}),E.jsx("td",{className:"px-8 py-5 text-center",children:E.jsx("button",{onClick:()=>t(`useCustom.${A}`,!ot[A]),className:`px-4 py-1.5 rounded-full text-[10px] font-black transition-all ${ot[A]?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:ot[A]?"":""})}),E.jsx("td",{className:"px-8 py-5 text-right",children:E.jsx("input",{type:"number",step:"0.0001",disabled:!ot[A],value:st[A]||"",onChange:R=>t(`customRates.${A}`,parseFloat(R.target.value)||0),className:`w-24 p-2 border rounded-xl text-sm text-right font-bold ${ot[A]?"bg-white border-orange-300 ring-4 ring-orange-50":"bg-slate-50 shadow-inner"}`})})]},A))})]})})]}),E.jsxs("div",{className:"bg-slate-900 text-white p-8 md:p-12 rounded-[4rem] shadow-2xl border border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-8 px-2",children:[E.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-blue-500/20 shadow-lg",children:E.jsx(rN,{size:24})}),E.jsx("h4",{className:"font-black text-2xl tracking-tight",children:" (8)"})]}),E.jsx("div",{className:"bg-black/40 p-8 rounded-[2.5rem] mb-10 text-right shadow-inner border border-white/5 overflow-hidden",children:E.jsx("span",{className:"text-5xl md:text-6xl font-black font-mono tracking-tighter text-white block truncate leading-tight",children:Z})}),E.jsxs("div",{className:"grid grid-cols-4 gap-4 md:gap-6",children:[["7","8","9","/","4","5","6","*","1","2","3","-","0",".","C","+"].map(A=>E.jsx("button",{onClick:()=>xt(A),className:`py-6 md:py-8 rounded-[1.5rem] font-black text-3xl transition-all shadow-sm active:scale-95 ${isNaN(A)&&A!=="."?"bg-blue-600 text-white hover:bg-blue-500":"bg-white/5 hover:bg-white/10 border border-white/5"}`,children:A},A)),E.jsx("button",{onClick:()=>xt("="),className:"col-span-2 py-8 bg-green-600 text-white rounded-[1.5rem] font-black text-2xl hover:bg-green-500 transition-all active:scale-95 shadow-lg",children:E.jsx(CN,{size:32})}),E.jsx("button",{onClick:()=>y(parseFloat(Z)||0),className:"col-span-2 py-8 bg-white text-slate-900 rounded-[1.5rem] font-black text-xl hover:bg-slate-100 transition-all active:scale-95 shadow-xl",children:""})]})]})]})},PI=s=>E.jsxs("div",{className:"space-y-12 text-slate-700",children:[E.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 premium-slider flex-nowrap px-2",children:Object.keys(s.itineraryData?.days||{}).map(t=>E.jsxs("button",{onClick:()=>{s.setActiveDay(parseInt(t)),s.setEditingId(null)},className:`shrink-0 w-28 h-28 rounded-3xl font-black transition-all border flex flex-col items-center justify-center gap-1 shadow-sm ${s.activeDay===parseInt(t)?"bg-blue-600 text-white border-blue-600 shadow-xl scale-105":"bg-white text-slate-400 border-slate-100 hover:bg-slate-50"}`,children:[E.jsx("span",{className:"text-xs uppercase opacity-60",children:"Day"}),E.jsx("span",{className:"text-3xl leading-none",children:t}),E.jsx("span",{className:"text-[10px] mt-1 font-bold",children:bv(s.tripInfo.startDate,parseInt(t)).split("/").slice(1).join("/")})]},t))}),E.jsxs("div",{className:"space-y-6 px-4 text-slate-700",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter italic leading-none shrink-0",children:["Day ",s.activeDay]}),E.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200 shadow-inner",children:[E.jsx("button",{onClick:()=>s.moveDay(-1),disabled:s.activeDay===1,className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:E.jsx(tN,{size:20})}),E.jsx("div",{className:"w-px h-6 bg-slate-200 my-auto"}),E.jsx("button",{onClick:()=>s.moveDay(1),disabled:s.activeDay===parseInt(s.tripInfo.duration||"0"),className:"p-2 text-slate-400 hover:text-blue-600 disabled:opacity-20 transition-colors",children:E.jsx(nN,{size:20})})]})]}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("span",{className:"text-lg text-slate-400 font-bold ml-1 mb-1 block tracking-tight",children:["(",bv(s.tripInfo.startDate,s.activeDay)," ",OI(s.tripInfo.startDate,s.activeDay),")"]}),E.jsx("input",{className:"text-3xl md:text-4xl font-black text-blue-600 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-200 placeholder:text-slate-200 w-full transition-all",placeholder:"...",value:s.itineraryData?.days?.[s.activeDay]?.title||"",onChange:t=>s.updateItinField(`days.${s.activeDay}.title`,t.target.value)})]})]}),E.jsx("div",{className:"flex justify-center md:justify-start px-4",children:E.jsxs("button",{onClick:()=>s.setShowAllNotes(!s.showAllNotes),className:`flex items-center gap-2 px-5 py-2 rounded-2xl text-xs font-black transition-all shadow-sm border ${s.showAllNotes?"bg-blue-600 text-white border-blue-600 shadow-blue-100 shadow-md":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:[s.showAllNotes?E.jsx(ON,{size:16}):E.jsx(kN,{size:16})," ",s.showAllNotes?"":""]})})]}),E.jsxs("div",{className:"bg-white p-6 md:p-12 rounded-[4rem] shadow-sm border border-slate-100",children:[E.jsxs("form",{onSubmit:async t=>{t.preventDefault();const i=s.itineraryData?.days?.[s.activeDay]?.spots||[];await s.updateItinField(`days.${s.activeDay}.spots`,[...i,{...s.newSpot,id:Date.now().toString()}]),s.setNewSpot({time:"09:00",spot:"",note:"",imageUrl:""})},className:"mb-12 space-y-4 bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-inner",children:[E.jsxs("div",{className:"flex gap-3 flex-wrap md:flex-nowrap",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border w-full md:w-auto shadow-sm shadow-inner",children:[E.jsx(pN,{size:18,className:"text-blue-500"}),E.jsx("input",{type:"time",value:s.newSpot.time,onChange:t=>s.setNewSpot({...s.newSpot,time:t.target.value}),className:"bg-transparent font-black outline-none w-24 text-slate-700"})]}),E.jsx("input",{placeholder:"",required:!0,value:s.newSpot.spot,onChange:t=>s.setNewSpot({...s.newSpot,spot:t.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-bold outline-none shadow-sm shadow-inner text-slate-700"})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("div",{className:"w-1/3 flex items-center gap-2 bg-white px-4 py-2 rounded-xl border shadow-sm text-xs font-bold text-slate-400",children:[E.jsx(PN,{size:18}),E.jsx("input",{placeholder:"",value:s.newSpot.imageUrl,onChange:t=>s.setNewSpot({...s.newSpot,imageUrl:t.target.value}),className:"bg-transparent outline-none w-full"})]}),E.jsx("textarea",{placeholder:" ()...",value:s.newSpot.note,onChange:t=>s.setNewSpot({...s.newSpot,note:t.target.value}),className:"flex-1 p-3 bg-white border rounded-xl font-medium h-20 resize-none text-sm shadow-sm"}),E.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-8 rounded-xl font-black active:scale-95 shadow-lg flex items-center justify-center shadow-slate-200 shadow-md",children:E.jsx(hh,{size:24})})]})]}),E.jsxs("div",{className:"space-y-8 relative before:content-[''] before:absolute before:left-[35px] before:top-4 before:bottom-4 before:w-1.5 before:bg-slate-50 before:rounded-full px-2",children:[(s.itineraryData?.days?.[s.activeDay]?.spots||[]).map((t,i)=>{const r=s.showAllNotes||!!s.expandedItems[t.id],o=s.editingId===t.id;return E.jsxs("div",{className:"relative pl-20 group",children:[E.jsxs("div",{className:"absolute left-[-15px] top-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:[E.jsx("button",{onClick:c=>{c.stopPropagation();const d=[...s.itineraryData.days[s.activeDay].spots];i>0&&([d[i],d[i-1]]=[d[i-1],d[i]],s.updateItinField(`days.${s.activeDay}.spots`,d))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:E.jsx(sN,{size:20})}),E.jsx("div",{className:"w-16 h-16 bg-white border-8 border-slate-50 rounded-[1.5rem] flex items-center justify-center text-[11px] font-black text-blue-600 shadow-md transition-transform group-hover:scale-110",children:t.time}),E.jsx("button",{onClick:c=>{c.stopPropagation();const d=[...s.itineraryData.days[s.activeDay].spots];i<s.itineraryData.days[s.activeDay].spots?.length-1&&([d[i],d[i+1]]=[d[i+1],d[i]],s.updateItinField(`days.${s.activeDay}.spots`,d))},className:"text-slate-200 hover:text-blue-600 transition-colors",children:E.jsx($C,{size:20})})]}),E.jsx("div",{onClick:()=>!o&&s.setExpandedItems(c=>({...c,[t.id]:!c[t.id]})),className:`p-10 bg-white border rounded-[3rem] transition-all cursor-pointer ${o?"border-blue-600 shadow-2xl ring-8 ring-blue-50":"border-slate-100 hover:shadow-2xl shadow-sm"}`,children:o?E.jsxs("div",{className:"space-y-4 animate-fade-in",onClick:c=>c.stopPropagation(),children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"time",value:s.editData.time,onChange:c=>s.setEditData({...s.editData,time:c.target.value}),className:"p-3 border rounded-xl font-black w-32 bg-slate-50 outline-none shadow-inner"}),E.jsx("input",{value:s.editData.spot,onChange:c=>s.setEditData({...s.editData,spot:c.target.value}),className:"flex-1 p-3 border rounded-xl font-black bg-slate-50 outline-none shadow-inner"})]}),E.jsx("input",{placeholder:"...",value:s.editData.imageUrl||"",onChange:c=>s.setEditData({...s.editData,imageUrl:c.target.value}),className:"w-full p-3 border rounded-xl bg-slate-50 outline-none text-xs font-bold shadow-inner"}),E.jsx("textarea",{value:s.editData.note,onChange:c=>s.setEditData({...s.editData,note:c.target.value}),className:"w-full p-3 border rounded-xl h-24 bg-slate-50 outline-none text-sm shadow-inner"}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{onClick:c=>{c.stopPropagation(),s.setEditingId(null)},className:"text-sm font-bold text-slate-400 px-4",children:""}),E.jsx("button",{onClick:async c=>{c.stopPropagation();const d=s.itineraryData.days[s.activeDay].spots.map(g=>g.id===s.editingId?s.editData:g);await s.updateItinField(`days.${s.activeDay}.spots`,d),s.setEditingId(null)},className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-sm font-black shadow-lg shadow-blue-100",children:""})]})]}):E.jsxs("div",{className:"flex justify-between items-start gap-4",children:[E.jsxs("div",{className:"space-y-4 flex-1",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[E.jsx("h4",{className:"text-3xl font-black text-slate-800 leading-tight tracking-tight",children:t.spot}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.spot)}`,target:"_blank",rel:"noreferrer",onClick:c=>c.stopPropagation(),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-xl transition-all inline-flex items-center gap-1.5 text-xs font-black shadow-sm",children:[E.jsx(ZN,{size:14})," "]}),(t.note||t.imageUrl)&&E.jsxs("div",{className:`px-2 py-1.5 rounded-lg flex items-center gap-1.5 text-[10px] font-black uppercase ${r?"bg-blue-100 text-blue-600":"bg-slate-50 text-slate-400"}`,children:[E.jsx(mI,{size:12})," ",r?"":""]})]})]}),r&&E.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100 space-y-4 animate-fade-in",onClick:c=>c.stopPropagation(),children:[t.imageUrl&&E.jsx("div",{className:"relative group/img overflow-hidden rounded-2xl border border-white shadow-sm max-w-md",children:E.jsx("img",{src:t.imageUrl,alt:t.spot,className:"w-full max-w-md h-auto rounded-2xl shadow-sm border border-white cursor-zoom-in",onError:c=>c.target.style.display="none",onClick:c=>{c.stopPropagation(),window.open(t.imageUrl,"_blank")}})}),E.jsx("p",{className:"text-slate-500 text-sm italic whitespace-pre-wrap leading-relaxed",children:MI(t.note)||""})]})]}),E.jsxs("div",{className:"flex flex-col gap-2 transition-all",children:[E.jsx("button",{onClick:c=>{c.stopPropagation(),s.setEditingId(t.id),s.setEditData({...t})},className:"p-3 text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-2xl transition-all shadow-sm",children:E.jsx(QE,{size:20})}),E.jsx("button",{onClick:async c=>{if(c.stopPropagation(),confirm("")){const d=s.itineraryData.days[s.activeDay].spots.filter(g=>g.id!==t.id);await s.updateItinField(`days.${activeDay}.spots`,d)}},className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm",children:E.jsx(gp,{size:20})})]})]})})]},t.id)}),!s.itineraryData?.days?.[s.activeDay]?.spots?.length&&E.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[3rem]",children:[E.jsx(vm,{className:"text-slate-100 mx-auto mb-6 opacity-20",size:80}),E.jsx("p",{className:"text-slate-300 font-black text-xl italic text-center",children:""})]})]})]})]}),BI=()=>{const[s,t]=ft.useState(!1),[i,r]=ft.useState(!1),[o,c]=ft.useState("home"),[d,g]=ft.useState("itinerary"),[_,y]=ft.useState(null),[S,w]=ft.useState(null),[x,P]=ft.useState([]),[J,tt]=ft.useState(!0),[Z,rt]=ft.useState(1),[st,ot]=ft.useState({country:"",city:"",startDate:"",duration:3}),[xt,te]=ft.useState({days:{},checklist:[],expenses:[],customRates:{},useCustom:{}}),[It,D]=ft.useState({time:"09:00",spot:"",note:"",imageUrl:""}),[A,R]=ft.useState(null),[k,M]=ft.useState({}),[j,N]=ft.useState({type:"",message:""}),[ee,fe]=ft.useState(!1),[G,it]=ft.useState({});ft.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await lA(Fc,__initial_auth_token):await nA(Fc)}catch(W){console.error("Root Auth failed",W)}finally{tt(!1)}})();const F=cA(Fc,y);return()=>F()},[]),ft.useEffect(()=>{if(!_||!s&&!i)return;const C=lp(jn,"artifacts",Jn,"public","data","trips");return Hc(C,F=>{P(F.docs.map(W=>({id:W.id,...W.data()})).sort((W,nt)=>new Date(nt.createdAt)-new Date(W.createdAt)))},F=>{F.code==="permission-denied"&&console.error("Trips Snap Permission Denied")})},[_,s,i]),ft.useEffect(()=>{if(!_||!S||!s)return;const C=Qs(jn,"artifacts",Jn,"public","data","itineraries",S),F=Hc(C,mt=>{if(mt.exists()){const vt=mt.data();te({days:vt.days||{},checklist:vt.checklist||[],expenses:vt.expenses||[],customRates:vt.customRates||{},useCustom:vt.useCustom||{}}),c("editor")}}),W=Qs(jn,"artifacts",Jn,"public","data","trips",S),nt=Hc(W,mt=>{mt.exists()&&ot(mt.data())});return()=>{F(),nt()}},[_,S,s]);const ht=async(C,F)=>{if(!(!_||!S))try{await BC(Qs(jn,"artifacts",Jn,"public","data","itineraries",S),{[C]:F})}catch(W){console.error(W)}},jt=async C=>{if(!_||!S)return;const F={...xt.days},W=Z+C;if(W<1||W>parseInt(st.duration||"0"))return;const nt=F[Z],mt=F[W];F[Z]=mt,F[W]=nt,await ht("days",F),rt(W),N({type:"success",message:""})},qt=async C=>{if(C.preventDefault(),!_)return;tt(!0);const F=crypto.randomUUID(),W={};for(let nt=1;nt<=Math.max(1,parseInt(st.duration));nt++)W[nt]={spots:[]};try{await ch(Qs(jn,"artifacts",Jn,"public","data","trips",F),{...st,creator:_.uid,createdAt:new Date().toISOString()}),await ch(Qs(jn,"artifacts",Jn,"public","data","itineraries",F),{days:W,checklist:[],expenses:[],customRates:{},useCustom:{}}),w(F)}catch(nt){console.error(nt)}finally{tt(!1)}};return ft.useEffect(()=>{if(!document.getElementById("tailwind-cdn")){const F=document.createElement("script");F.id="tailwind-cdn",F.src="https://cdn.tailwindcss.com",document.head.appendChild(F)}const C=document.createElement("style");C.id="premium-ui-engine-v7.2",C.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
      html, body, #root { min-height: 100vh !important; width: 100% !important; background-color: #f8fafc !important; font-family: 'Noto Sans TC', sans-serif !important; }
      #root { display: flex !important; flex-direction: column !important; align-items: center !important; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .premium-slider { scrollbar-width: thin; scrollbar-color: #2563eb #f1f5f9; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
    `,document.head.appendChild(C)},[]),!s&&!i?E.jsx(VI,{authUser:_,onLoginSuccess:()=>t(!0),onAdminSuccess:()=>r(!0)}):i?E.jsx(jI,{authUser:_,onLogout:()=>r(!1)}):J?E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50",children:[E.jsx(Ih,{className:"animate-spin text-blue-600 mb-2",size:48}),E.jsx("p",{className:"text-slate-500 font-bold italic tracking-widest leading-none",children:"..."})]}):E.jsxs("div",{className:"w-full flex flex-col items-center min-h-screen text-slate-700",children:[j.message&&E.jsxs("div",{className:"fixed top-4 z-[200] px-6 py-3 rounded-2xl shadow-2xl animate-fade-in flex items-center gap-3 border bg-white text-green-600 border-green-100 shadow-green-100",children:[" ",E.jsx("span",{className:"font-bold text-sm",children:j.message}),E.jsx("button",{onClick:()=>N({type:"",message:""}),children:E.jsx(NI,{size:14})})," "]}),o==="home"?E.jsxs("div",{className:"w-full max-w-5xl px-6 py-20 flex flex-col items-center animate-fade-in px-4",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl rotate-12 transition-transform hover:rotate-0 shadow-blue-200 shadow-lg",children:E.jsx(Em,{size:48})}),E.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900 uppercase leading-none",children:"Travel Planner"}),E.jsx("p",{className:"text-slate-400 font-bold tracking-widest text-sm italic text-center uppercase",children:" - "})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 w-full items-start px-4",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[E.jsx(hh,{className:"text-blue-600"})," "]}),E.jsxs("form",{onSubmit:qt,className:"bg-white p-10 rounded-[3rem] shadow-xl space-y-8 border border-white shadow-slate-200",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1 text-[10px]",children:""}),E.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:st.country,onChange:C=>ot({...st,country:C.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1 text-[10px]",children:""}),E.jsx("input",{required:!0,placeholder:": ",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm shadow-inner",value:st.city,onChange:C=>ot({...st,city:C.target.value})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1 text-[10px]",children:""}),E.jsx("input",{required:!0,type:"date",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:st.startDate,onChange:C=>ot({...st,startDate:C.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest ml-1 text-[10px]",children:""}),E.jsx("input",{required:!0,type:"number",min:"1",max:"14",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl font-bold outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm shadow-inner",value:st.duration,onChange:C=>ot({...st,duration:C.target.value})})]})]}),E.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-3xl font-black shadow-2xl transition-all active:scale-95 shadow-blue-100 flex items-center justify-center gap-2",children:[E.jsx(hh,{size:24})," "]})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[E.jsx(vm,{className:"text-blue-600"}),"  (",x.length,")"]}),E.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide",children:x.map(C=>E.jsxs("div",{onClick:()=>w(C.id),className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-5",children:[E.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors shadow-sm shadow-inner",children:E.jsx(jN,{size:24})}),E.jsxs("div",{children:[E.jsxs("h4",{className:"text-xl font-black text-slate-800 tracking-tight",children:[C.city," "]}),E.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:[C.country,"  ",C.startDate]})]})]}),E.jsx(hN,{className:"text-slate-200 group-hover:text-blue-600"})]},C.id))})]})]}),E.jsx("div",{className:"mt-12 text-slate-300 text-[10px] font-bold uppercase tracking-widest text-center",children:II})]}):E.jsxs("div",{className:"w-full flex flex-col items-center pb-24 animate-fade-in px-4",children:[E.jsxs("nav",{className:"w-full h-20 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex items-center justify-between px-10 sticky top-0 z-50 shadow-sm max-w-[100vw] overflow-x-hidden",children:[E.jsxs("div",{className:"font-black text-blue-600 text-2xl flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[E.jsx(Em,{size:24,className:"rotate-45"}),E.jsx("span",{className:"tracking-tighter uppercase font-black font-sans hidden sm:inline",children:"Traveler"})]}),E.jsx("div",{className:"hidden md:flex bg-slate-100 p-1.5 rounded-2xl gap-1",children:["itinerary","weather","expenses","checklist","currency"].map(C=>E.jsx("button",{onClick:()=>g(C),className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${d===C?"bg-white text-blue-600 shadow-sm shadow-blue-50":"text-slate-400 hover:text-slate-600"}`,children:C==="itinerary"?"":C==="weather"?"":C==="expenses"?"":C==="checklist"?"":""},C))}),E.jsxs("div",{className:"text-right flex items-center gap-4",children:[E.jsxs("div",{className:"hidden sm:block text-right text-slate-700",children:[E.jsxs("div",{className:"font-black text-slate-800 tracking-tight truncate max-w-[150px] leading-none",children:[st.city," "]}),E.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-1",children:st.startDate})]}),E.jsx("button",{onClick:()=>{t(!1),r(!1)},className:"p-2 text-slate-300 hover:text-red-500 transition-colors shadow-sm bg-white rounded-xl",children:E.jsx(GE,{size:20})})]})]}),E.jsx("main",{className:"w-full max-w-5xl p-4 md:p-12",children:d==="itinerary"?E.jsx(PI,{tripInfo:st,itineraryData:xt,activeDay:Z,setActiveDay:rt,moveDay:jt,updateItinField:ht,showAllNotes:ee,setShowAllNotes:fe,expandedItems:G,setExpandedItems:it,editingId:A,setEditingId:R,editData:k,setEditData:M,newSpot:It,setNewSpot:D}):d==="weather"?E.jsx(LI,{tripInfo:st}):d==="expenses"?E.jsx(UI,{itineraryData:xt,updateItinField:ht}):d==="checklist"?E.jsx(ChecklistMaster,{itineraryData:xt,updateItinField:ht}):E.jsx(zI,{itineraryData:xt,updateItinField:ht})}),E.jsxs("div",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/90 backdrop-blur-xl rounded-[2.5rem] p-3 flex justify-around items-center z-[100] shadow-2xl",children:[E.jsx("button",{onClick:()=>g("itinerary"),className:`p-4 rounded-2xl transition-all ${d==="itinerary"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(vm,{size:20})}),E.jsx("button",{onClick:()=>g("weather"),className:`p-4 rounded-2xl transition-all ${d==="weather"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(pp,{size:20})}),E.jsx("button",{onClick:()=>g("expenses"),className:`p-4 rounded-2xl transition-all ${d==="expenses"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(RI,{size:20})}),E.jsx("button",{onClick:()=>g("checklist"),className:`p-4 rounded-2xl transition-all ${d==="checklist"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(FN,{size:20})}),E.jsx("button",{onClick:()=>g("currency"),className:`p-4 rounded-2xl transition-all ${d==="currency"?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-500/20":"text-slate-500"}`,children:E.jsx(bN,{size:20})})]})]})]})};kb.createRoot(document.getElementById("root")).render(E.jsx(ft.StrictMode,{children:E.jsx(BI,{})}));
